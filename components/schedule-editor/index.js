var mh=Object.defineProperty;var vu=Object.getOwnPropertySymbols;var hh=Object.prototype.hasOwnProperty,_h=Object.prototype.propertyIsEnumerable;var Tu=($t,he,je)=>he in $t?mh($t,he,{enumerable:!0,configurable:!0,writable:!0,value:je}):$t[he]=je,Ai=($t,he)=>{for(var je in he||(he={}))hh.call(he,je)&&Tu($t,je,he[je]);if(vu)for(var je of vu(he))_h.call(he,je)&&Tu($t,je,he[je]);return $t};(function($t,he){typeof exports=="object"&&typeof module!="undefined"?module.exports=he():typeof define=="function"&&define.amd?define(he):($t=typeof globalThis!="undefined"?globalThis:$t||self,$t.app=he())})(this,function(){"use strict";const $t=window.customElements.define.bind(window.customElements);window.customElements.define=(t,...e)=>{if(!customElements.get(t))return $t(t,...e)};function he(){}function je(t,e){for(const n in e)t[n]=e[n];return t}function Zi(t){return t()}function Zr(){return Object.create(null)}function vt(t){t.forEach(Zi)}function wa(t){return typeof t=="function"}function Zt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Si;function Jr(t,e){return Si||(Si=document.createElement("a")),Si.href=e,t===Si.href}function Qr(t,e){return t!=t?e==e:t!==e}function Xr(t){return Object.keys(t).length===0}function $r(t,...e){if(t==null)return he;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Fn(t,e,n){t.$$.on_destroy.push($r(e,n))}function Mt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function eo(t){return t&&wa(t.destroy)?t.destroy:he}let Ci=!1;function ku(){Ci=!0}function Mu(){Ci=!1}function wu(t,e,n,a){for(;t<e;){const r=t+(e-t>>1);n(r)<=a?t=r+1:e=r}return t}function Au(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const c=[];for(let _=0;_<e.length;_++){const y=e[_];y.claim_order!==void 0&&c.push(y)}e=c}const n=new Int32Array(e.length+1),a=new Int32Array(e.length);n[0]=-1;let r=0;for(let c=0;c<e.length;c++){const _=e[c].claim_order,y=(r>0&&e[n[r]].claim_order<=_?r+1:wu(1,r,k=>e[n[k]].claim_order,_))-1;a[c]=n[y]+1;const v=y+1;n[v]=c,r=Math.max(v,r)}const o=[],s=[];let h=e.length-1;for(let c=n[r]+1;c!=0;c=a[c-1]){for(o.push(e[c-1]);h>=c;h--)s.push(e[h]);h--}for(;h>=0;h--)s.push(e[h]);o.reverse(),s.sort((c,_)=>c.claim_order-_.claim_order);for(let c=0,_=0;c<s.length;c++){for(;_<o.length&&s[c].claim_order>=o[_].claim_order;)_++;const y=_<o.length?o[_]:null;t.insertBefore(s[c],y)}}function m(t,e){t.appendChild(e)}function Bn(t,e){if(Ci){for(Au(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function Y(t,e,n){t.insertBefore(e,n||null)}function Rn(t,e,n){Ci&&!n?Bn(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function W(t){t.parentNode.removeChild(t)}function en(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function Lt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ge(t){return document.createTextNode(t)}function O(){return ge(" ")}function Aa(){return ge("")}function te(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Gi(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const a in e)e[a]==null?t.removeAttribute(a):a==="style"?t.style.cssText=e[a]:a==="__value"?t.value=t[a]=e[a]:n[a]&&n[a].set?t[a]=e[a]:p(t,a,e[a])}function Jt(t,e){for(const n in e)p(t,n,e[n])}function Ee(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:p(t,e,n)}function Qa(t,e,n){const a=new Set;for(let r=0;r<t.length;r+=1)t[r].checked&&a.add(t[r].__value);return n||a.delete(e),Array.from(a)}function Cn(t){return t===""?null:+t}function Pt(t){return Array.from(t.childNodes)}function Su(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function to(t,e,n,a,r=!1){Su(t);const o=(()=>{for(let s=t.claim_info.last_index;s<t.length;s++){const h=t[s];if(e(h)){const c=n(h);return c===void 0?t.splice(s,1):t[s]=c,r||(t.claim_info.last_index=s),h}}for(let s=t.claim_info.last_index-1;s>=0;s--){const h=t[s];if(e(h)){const c=n(h);return c===void 0?t.splice(s,1):t[s]=c,r?c===void 0&&t.claim_info.last_index--:t.claim_info.last_index=s,h}}return a()})();return o.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,o}function Cu(t,e,n,a){return to(t,r=>r.nodeName===e,r=>{const o=[];for(let s=0;s<r.attributes.length;s++){const h=r.attributes[s];n[h.name]||o.push(h.name)}o.forEach(s=>r.removeAttribute(s))},()=>a(e))}function Vt(t,e,n){return Cu(t,e,n,Lt)}function Gu(t,e){return to(t,n=>n.nodeType===3,n=>{const a=""+e;if(n.data.startsWith(a)){if(n.data.length!==a.length)return n.splitText(a.length)}else n.data=a},()=>ge(e),!0)}function zu(t){return Gu(t," ")}function He(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Re(t,e){t.value=e==null?"":e}function Ie(t,e,n,a){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,a?"important":"")}function Sa(t,e){for(let n=0;n<t.options.length;n+=1){const a=t.options[n];if(a.__value===e){a.selected=!0;return}}t.selectedIndex=-1}function Ji(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let zi;function Eu(){if(zi===void 0){zi=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(t){zi=!0}}return zi}function Qi(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const a=b("iframe");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),a.setAttribute("aria-hidden","true"),a.tabIndex=-1;const r=Eu();let o;return r?(a.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=te(window,"message",s=>{s.source===a.contentWindow&&e()})):(a.src="about:blank",a.onload=()=>{o=te(a.contentWindow,"resize",e)}),m(t,a),()=>{(r||o&&a.contentWindow)&&o(),W(a)}}function xe(t,e,n){t.classList[n?"add":"remove"](e)}function $n(t){const e={};for(const n of t)e[n.name]=n.value;return e}let Xa;function $a(t){Xa=t}function Ca(){if(!Xa)throw new Error("Function called outside component initialization");return Xa}function Ou(t){Ca().$$.before_update.push(t)}function Xi(t){Ca().$$.on_mount.push(t)}function Du(t){Ca().$$.on_destroy.push(t)}const ei=[],ua=[],Ei=[],no=[],ao=Promise.resolve();let $i=!1;function io(){$i||($i=!0,ao.then(X))}function Oi(){return io(),ao}function xn(t){Ei.push(t)}const er=new Set;let Di=0;function X(){const t=Xa;do{for(;Di<ei.length;){const e=ei[Di];Di++,$a(e),Nu(e.$$)}for($a(null),ei.length=0,Di=0;ua.length;)ua.pop()();for(let e=0;e<Ei.length;e+=1){const n=Ei[e];er.has(n)||(er.add(n),n())}Ei.length=0}while(ei.length);for(;no.length;)no.pop()();$i=!1,er.clear(),$a(t)}function Nu(t){if(t.fragment!==null){t.update(),vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xn)}}const Ni=new Set;let ca;function pn(){ca={r:0,c:[],p:ca}}function vn(){ca.r||vt(ca.c),ca=ca.p}function qe(t,e){t&&t.i&&(Ni.delete(t),t.i(e))}function ut(t,e,n,a){if(t&&t.o){if(Ni.has(t))return;Ni.add(t),ca.c.push(()=>{Ni.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}function ro(t,e){t.d(1),e.delete(t.key)}function Iu(t,e){ut(t,1,1,()=>{e.delete(t.key)})}function tr(t,e,n,a,r,o,s,h,c,_,y,v){let k=t.length,E=o.length,S=k;const N={};for(;S--;)N[t[S].key]=S;const w=[],M=new Map,G=new Map;for(S=E;S--;){const z=v(r,o,S),V=n(z);let L=s.get(V);L?a&&L.p(z,e):(L=_(V,z),L.c()),M.set(V,w[S]=L),V in N&&G.set(V,Math.abs(S-N[V]))}const I=new Set,U=new Set;function B(z){qe(z,1),z.m(h,y),s.set(z.key,z),y=z.first,E--}for(;k&&E;){const z=w[E-1],V=t[k-1],L=z.key,re=V.key;z===V?(y=z.first,k--,E--):M.has(re)?!s.has(L)||I.has(L)?B(z):U.has(re)?k--:G.get(L)>G.get(re)?(U.add(L),B(z)):(I.add(re),k--):(c(V,s),k--)}for(;k--;){const z=t[k];M.has(z.key)||c(z,s)}for(;E;)B(w[E-1]);return w}function jn(t,e){const n={},a={},r={$$scope:1};let o=t.length;for(;o--;){const s=t[o],h=e[o];if(h){for(const c in s)c in h||(a[c]=1);for(const c in h)r[c]||(n[c]=h[c],r[c]=1);t[o]=h}else for(const c in s)r[c]=1}for(const s in a)s in n||(n[s]=void 0);return n}function ea(t){t&&t.c()}function Hn(t,e,n,a){const{fragment:r,on_mount:o,on_destroy:s,after_update:h}=t.$$;r&&r.m(e,n),a||xn(()=>{const c=o.map(Zi).filter(wa);s?s.push(...c):vt(c),t.$$.on_mount=[]}),h.forEach(xn)}function Gn(t,e){const n=t.$$;n.fragment!==null&&(vt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lu(t,e){t.$$.dirty[0]===-1&&(ei.push(t),io(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Kt(t,e,n,a,r,o,s,h=[-1]){const c=Xa;$a(t);const _=t.$$={fragment:null,ctx:null,props:o,update:he,not_equal:r,bound:Zr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Zr(),dirty:h,skip_bound:!1,root:e.target||c.$$.root};s&&s(_.root);let y=!1;if(_.ctx=n?n(t,e.props||{},(v,k,...E)=>{const S=E.length?E[0]:k;return _.ctx&&r(_.ctx[v],_.ctx[v]=S)&&(!_.skip_bound&&_.bound[v]&&_.bound[v](S),y&&Lu(t,v)),k}):[],_.update(),y=!0,vt(_.before_update),_.fragment=a?a(_.ctx):!1,e.target){if(e.hydrate){ku();const v=Pt(e.target);_.fragment&&_.fragment.l(v),v.forEach(W)}else _.fragment&&_.fragment.c();e.intro&&qe(t.$$.fragment),Hn(t,e.target,e.anchor,e.customElement),Mu(),X()}$a(c)}let Vn;typeof HTMLElement=="function"&&(Vn=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(Zi).filter(wa);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){vt(this.$$.on_disconnect)}$destroy(){Gn(this,1),this.$destroy=he}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const a=n.indexOf(e);a!==-1&&n.splice(a,1)}}$set(t){this.$$set&&!Xr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class fa{$destroy(){Gn(this,1),this.$destroy=he}$on(e,n){const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const r=a.indexOf(n);r!==-1&&a.splice(r,1)}}$set(e){this.$$set&&!Xr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const oo=[{title:"Your Name",type:"text",required:!1},{title:"Email Address",type:"text",required:!0,placeholder:"you@example.com"}];var ta;(function(t){t.SHOW_MESSAGE="show_message",t.SEND_MESSAGE="send_message"})(ta||(ta={}));function nr(t){return(e,n)=>{t.dispatchEvent&&t.dispatchEvent(new CustomEvent(e,{detail:n,composed:!0}))}}function Un(t,e,n){return new Proxy(t,{get:(a,r)=>r==="toString"||r==="toJSON"?()=>JSON.stringify(a):Reflect.get(a,r)!==void 0?lo(Reflect.get(a,r),n[r]):e&&r in e?lo(e[r],n[r]):n[r],ownKeys:a=>{const r=new Set([...Reflect.ownKeys(a),...Object.keys(e),...Object.keys(n)]);return Array.from(r)},getOwnPropertyDescriptor:(a,r)=>{var o,s;let h=Reflect.getOwnPropertyDescriptor(a,r);return h||(h=(s=(o=e&&Object.getOwnPropertyDescriptor(e,r))!=null?o:n&&Object.getOwnPropertyDescriptor(n,r))!=null?s:{configurable:!0,enumerable:!0,writable:!0},Reflect.defineProperty(a,r,h)),h}})}function lo(t,e){if(t){if(typeof e=="boolean")return Pu(t);if(typeof e=="number")return Number(t);if(e instanceof Date)return new Date(t)}return t===void 0?e!=null?e:null:t}function Pu(t){return[!0,"true","1"].includes(t)}function Fu(t){return t?t.includes(",")?t.split(",").map(e=>e.trim()):t.includes(" ")?t.split(" ").map(e=>e.trim()):t.includes(`
`)?t.split(`
`).map(e=>e.trim()):[t.trim()]:[]}function so(t,e){return e.every(n=>t.includes(n))}function uo(t){if(!Array.isArray(t)||t.length===0)return"";const e=t[0].timestamp,n=t[t.length-1].timestamp;return n.getMonth()!==e.getMonth()?n.getFullYear()!==e.getFullYear()?`${ti(e,!0)} - ${ti(n,!0)}`:`${ti(e)} - ${ti(n,!0)}`:ti(e,!0)}function Ii(t){const e=t.toLocaleTimeString([],{timeStyle:"short"});return t.getMinutes()===0?t.toLocaleTimeString([],{hour:"numeric",hour12:!0}).replaceAll(/\./g,""):e.replaceAll(/\./g,"")}function na(t){const e=t.toLocaleTimeString([],{timeStyle:"short"});return e==="12:00 p.m."?"Noon":e.replace(/\./g,"")}function ti(t,e=!1){return t.toLocaleDateString("default",{month:"short",year:e?"numeric":void 0}).replaceAll(/\./g,"")}const Bu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var et;(function(t){t.BASIC_DETAILS="basic-details",t.TIME_DATE_DETAILS="time-date-details",t.STYLE_DETAILS="style-details",t.BOOKING_DETAILS="booking-details",t.CUSTOM_FIELDS="custom-fields",t.NOTIFICATION_DETAILS="notification-details"})(et||(et={}));var co=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fo(t,e,n){return n={path:e,exports:{},require:function(a,r){return xu(a,r==null?n.path:r)}},t(n,n.exports),n.exports}function Ru(t){return t&&t.default||t}function xu(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ju=[{label:"Pacific/Midway (GMT-11:00)",tzCode:"Pacific/Midway",name:"(GMT-11:00) Midway",utc:"-11:00"},{label:"Pacific/Niue (GMT-11:00)",tzCode:"Pacific/Niue",name:"(GMT-11:00) Alofi",utc:"-11:00"},{label:"Pacific/Pago_Pago (GMT-11:00)",tzCode:"Pacific/Pago_Pago",name:"(GMT-11:00) Pago Pago, T\u0101funa, Ta`\u016B, Taulaga",utc:"-11:00"},{label:"America/Adak (GMT-10:00)",tzCode:"America/Adak",name:"(GMT-10:00) Adak",utc:"-10:00"},{label:"Pacific/Honolulu (GMT-10:00)",tzCode:"Pacific/Honolulu",name:"(GMT-10:00) Honolulu, East Honolulu, Pearl City, Hilo, Kailua",utc:"-10:00"},{label:"Pacific/Rarotonga (GMT-10:00)",tzCode:"Pacific/Rarotonga",name:"(GMT-10:00) Avarua",utc:"-10:00"},{label:"Pacific/Tahiti (GMT-10:00)",tzCode:"Pacific/Tahiti",name:"(GMT-10:00) Faaa, Papeete, Punaauia, Pirae, Mahina",utc:"-10:00"},{label:"Pacific/Marquesas (GMT-09:30)",tzCode:"Pacific/Marquesas",name:"(GMT-09:30) Taiohae",utc:"-09:30"},{label:"America/Anchorage (GMT-09:00)",tzCode:"America/Anchorage",name:"(GMT-09:00) Anchorage, Fairbanks, Eagle River, Badger, Knik-Fairview",utc:"-09:00"},{label:"America/Juneau (GMT-09:00)",tzCode:"America/Juneau",name:"(GMT-09:00) Juneau",utc:"-09:00"},{label:"America/Metlakatla (GMT-09:00)",tzCode:"America/Metlakatla",name:"(GMT-09:00) Metlakatla",utc:"-09:00"},{label:"America/Nome (GMT-09:00)",tzCode:"America/Nome",name:"(GMT-09:00) Nome",utc:"-09:00"},{label:"America/Sitka (GMT-09:00)",tzCode:"America/Sitka",name:"(GMT-09:00) Sitka, Ketchikan",utc:"-09:00"},{label:"America/Yakutat (GMT-09:00)",tzCode:"America/Yakutat",name:"(GMT-09:00) Yakutat",utc:"-09:00"},{label:"Pacific/Gambier (GMT-09:00)",tzCode:"Pacific/Gambier",name:"(GMT-09:00) Gambier",utc:"-09:00"},{label:"America/Los_Angeles (GMT-08:00)",tzCode:"America/Los_Angeles",name:"(GMT-08:00) Los Angeles, San Diego, San Jose, San Francisco, Seattle",utc:"-08:00"},{label:"America/Tijuana (GMT-08:00)",tzCode:"America/Tijuana",name:"(GMT-08:00) Tijuana, Mexicali, Ensenada, Rosarito, Tecate",utc:"-08:00"},{label:"America/Vancouver (GMT-08:00)",tzCode:"America/Vancouver",name:"(GMT-08:00) Vancouver, Surrey, Okanagan, Victoria, Burnaby",utc:"-08:00"},{label:"Pacific/Pitcairn (GMT-08:00)",tzCode:"Pacific/Pitcairn",name:"(GMT-08:00) Adamstown",utc:"-08:00"},{label:"America/Boise (GMT-07:00)",tzCode:"America/Boise",name:"(GMT-07:00) Boise, Meridian, Nampa, Idaho Falls, Pocatello",utc:"-07:00"},{label:"America/Cambridge_Bay (GMT-07:00)",tzCode:"America/Cambridge_Bay",name:"(GMT-07:00) Cambridge Bay",utc:"-07:00"},{label:"America/Chihuahua (GMT-07:00)",tzCode:"America/Chihuahua",name:"(GMT-07:00) Chihuahua, Ciudad Delicias, Cuauht\xE9moc, Parral, Nuevo Casas Grandes",utc:"-07:00"},{label:"America/Creston (GMT-07:00)",tzCode:"America/Creston",name:"(GMT-07:00) Creston",utc:"-07:00"},{label:"America/Dawson (GMT-07:00)",tzCode:"America/Dawson",name:"(GMT-07:00) Dawson",utc:"-07:00"},{label:"America/Dawson_Creek (GMT-07:00)",tzCode:"America/Dawson_Creek",name:"(GMT-07:00) Fort St. John, Dawson Creek",utc:"-07:00"},{label:"America/Denver (GMT-07:00)",tzCode:"America/Denver",name:"(GMT-07:00) Denver, El Paso, Albuquerque, Colorado Springs, Aurora",utc:"-07:00"},{label:"America/Edmonton (GMT-07:00)",tzCode:"America/Edmonton",name:"(GMT-07:00) Calgary, Edmonton, Fort McMurray, Red Deer, Lethbridge",utc:"-07:00"},{label:"America/Fort_Nelson (GMT-07:00)",tzCode:"America/Fort_Nelson",name:"(GMT-07:00) Fort Nelson",utc:"-07:00"},{label:"America/Hermosillo (GMT-07:00)",tzCode:"America/Hermosillo",name:"(GMT-07:00) Hermosillo, Ciudad Obreg\xF3n, Nogales, San Luis R\xEDo Colorado, Navojoa",utc:"-07:00"},{label:"America/Inuvik (GMT-07:00)",tzCode:"America/Inuvik",name:"(GMT-07:00) Inuvik",utc:"-07:00"},{label:"America/Mazatlan (GMT-07:00)",tzCode:"America/Mazatlan",name:"(GMT-07:00) Culiac\xE1n, Mazatl\xE1n, Tepic, Los Mochis, La Paz",utc:"-07:00"},{label:"America/Ojinaga (GMT-07:00)",tzCode:"America/Ojinaga",name:"(GMT-07:00) Ciudad Ju\xE1rez, Manuel Ojinaga, Ojinaga",utc:"-07:00"},{label:"America/Phoenix (GMT-07:00)",tzCode:"America/Phoenix",name:"(GMT-07:00) Phoenix, Tucson, Mesa, Chandler, Gilbert",utc:"-07:00"},{label:"America/Whitehorse (GMT-07:00)",tzCode:"America/Whitehorse",name:"(GMT-07:00) Whitehorse",utc:"-07:00"},{label:"America/Yellowknife (GMT-07:00)",tzCode:"America/Yellowknife",name:"(GMT-07:00) Yellowknife",utc:"-07:00"},{label:"America/Bahia_Banderas (GMT-06:00)",tzCode:"America/Bahia_Banderas",name:"(GMT-06:00) Mezcales, San Vicente, Bucer\xEDas, Valle de Banderas",utc:"-06:00"},{label:"America/Belize (GMT-06:00)",tzCode:"America/Belize",name:"(GMT-06:00) Belize City, San Ignacio, Orange Walk, Belmopan, Dangriga",utc:"-06:00"},{label:"America/Chicago (GMT-06:00)",tzCode:"America/Chicago",name:"(GMT-06:00) Chicago, Houston, San Antonio, Dallas, Austin",utc:"-06:00"},{label:"America/Costa_Rica (GMT-06:00)",tzCode:"America/Costa_Rica",name:"(GMT-06:00) San Jos\xE9, Lim\xF3n, San Francisco, Alajuela, Liberia",utc:"-06:00"},{label:"America/El_Salvador (GMT-06:00)",tzCode:"America/El_Salvador",name:"(GMT-06:00) San Salvador, Soyapango, Santa Ana, San Miguel, Mejicanos",utc:"-06:00"},{label:"America/Guatemala (GMT-06:00)",tzCode:"America/Guatemala",name:"(GMT-06:00) Guatemala City, Mixco, Villa Nueva, Petapa, San Juan Sacatep\xE9quez",utc:"-06:00"},{label:"America/Indiana/Knox (GMT-06:00)",tzCode:"America/Indiana/Knox",name:"(GMT-06:00) Knox",utc:"-06:00"},{label:"America/Indiana/Tell_City (GMT-06:00)",tzCode:"America/Indiana/Tell_City",name:"(GMT-06:00) Tell City",utc:"-06:00"},{label:"America/Managua (GMT-06:00)",tzCode:"America/Managua",name:"(GMT-06:00) Managua, Le\xF3n, Masaya, Chinandega, Matagalpa",utc:"-06:00"},{label:"America/Matamoros (GMT-06:00)",tzCode:"America/Matamoros",name:"(GMT-06:00) Reynosa, Heroica Matamoros, Nuevo Laredo, Piedras Negras, Ciudad Acu\xF1a",utc:"-06:00"},{label:"America/Menominee (GMT-06:00)",tzCode:"America/Menominee",name:"(GMT-06:00) Menominee, Iron Mountain, Kingsford, Ironwood, Iron River",utc:"-06:00"},{label:"America/Merida (GMT-06:00)",tzCode:"America/Merida",name:"(GMT-06:00) M\xE9rida, Campeche, Ciudad del Carmen, Kanas\xEDn, Valladolid",utc:"-06:00"},{label:"America/Mexico_City (GMT-06:00)",tzCode:"America/Mexico_City",name:"(GMT-06:00) Mexico City, Iztapalapa, Ecatepec de Morelos, Guadalajara, Puebla",utc:"-06:00"},{label:"America/Monterrey (GMT-06:00)",tzCode:"America/Monterrey",name:"(GMT-06:00) Monterrey, Saltillo, Guadalupe, Torre\xF3n, Victoria de Durango",utc:"-06:00"},{label:"America/North_Dakota/Beulah (GMT-06:00)",tzCode:"America/North_Dakota/Beulah",name:"(GMT-06:00) Beulah",utc:"-06:00"},{label:"America/North_Dakota/Center (GMT-06:00)",tzCode:"America/North_Dakota/Center",name:"(GMT-06:00) Center",utc:"-06:00"},{label:"America/North_Dakota/New_Salem (GMT-06:00)",tzCode:"America/North_Dakota/New_Salem",name:"(GMT-06:00) Mandan",utc:"-06:00"},{label:"America/Rainy_River (GMT-06:00)",tzCode:"America/Rainy_River",name:"(GMT-06:00) Rainy River",utc:"-06:00"},{label:"America/Rankin_Inlet (GMT-06:00)",tzCode:"America/Rankin_Inlet",name:"(GMT-06:00) Rankin Inlet",utc:"-06:00"},{label:"America/Regina (GMT-06:00)",tzCode:"America/Regina",name:"(GMT-06:00) Saskatoon, Regina, Prince Albert, Moose Jaw, North Battleford",utc:"-06:00"},{label:"America/Resolute (GMT-06:00)",tzCode:"America/Resolute",name:"(GMT-06:00) Resolute",utc:"-06:00"},{label:"America/Swift_Current (GMT-06:00)",tzCode:"America/Swift_Current",name:"(GMT-06:00) Swift Current",utc:"-06:00"},{label:"America/Tegucigalpa (GMT-06:00)",tzCode:"America/Tegucigalpa",name:"(GMT-06:00) Tegucigalpa, San Pedro Sula, Choloma, La Ceiba, El Progreso",utc:"-06:00"},{label:"America/Winnipeg (GMT-06:00)",tzCode:"America/Winnipeg",name:"(GMT-06:00) Winnipeg, Brandon, Kenora, Portage la Prairie, Thompson",utc:"-06:00"},{label:"Pacific/Easter (GMT-06:00)",tzCode:"Pacific/Easter",name:"(GMT-06:00) Easter",utc:"-06:00"},{label:"Pacific/Galapagos (GMT-06:00)",tzCode:"Pacific/Galapagos",name:"(GMT-06:00) Puerto Ayora, Puerto Baquerizo Moreno",utc:"-06:00"},{label:"America/Atikokan (GMT-05:00)",tzCode:"America/Atikokan",name:"(GMT-05:00) Atikokan",utc:"-05:00"},{label:"America/Bogota (GMT-05:00)",tzCode:"America/Bogota",name:"(GMT-05:00) Bogot\xE1, Cali, Medell\xEDn, Barranquilla, Cartagena",utc:"-05:00"},{label:"America/Cancun (GMT-05:00)",tzCode:"America/Cancun",name:"(GMT-05:00) Canc\xFAn, Chetumal, Playa del Carmen, Cozumel, Felipe Carrillo Puerto",utc:"-05:00"},{label:"America/Cayman (GMT-05:00)",tzCode:"America/Cayman",name:"(GMT-05:00) George Town, West Bay, Bodden Town, East End, North Side",utc:"-05:00"},{label:"America/Detroit (GMT-05:00)",tzCode:"America/Detroit",name:"(GMT-05:00) Detroit, Grand Rapids, Warren, Sterling Heights, Ann Arbor",utc:"-05:00"},{label:"America/Eirunepe (GMT-05:00)",tzCode:"America/Eirunepe",name:"(GMT-05:00) Eirunep\xE9, Benjamin Constant, Envira",utc:"-05:00"},{label:"America/Grand_Turk (GMT-05:00)",tzCode:"America/Grand_Turk",name:"(GMT-05:00) Cockburn Town",utc:"-05:00"},{label:"America/Guayaquil (GMT-05:00)",tzCode:"America/Guayaquil",name:"(GMT-05:00) Guayaquil, Quito, Cuenca, Santo Domingo de los Colorados, Machala",utc:"-05:00"},{label:"America/Havana (GMT-05:00)",tzCode:"America/Havana",name:"(GMT-05:00) Havana, Santiago de Cuba, Camag\xFCey, Holgu\xEDn, Guant\xE1namo",utc:"-05:00"},{label:"America/Indiana/Indianapolis (GMT-05:00)",tzCode:"America/Indiana/Indianapolis",name:"(GMT-05:00) Indianapolis, Fort Wayne, South Bend, Carmel, Bloomington",utc:"-05:00"},{label:"America/Indiana/Marengo (GMT-05:00)",tzCode:"America/Indiana/Marengo",name:"(GMT-05:00) Marengo",utc:"-05:00"},{label:"America/Indiana/Petersburg (GMT-05:00)",tzCode:"America/Indiana/Petersburg",name:"(GMT-05:00) Petersburg",utc:"-05:00"},{label:"America/Indiana/Vevay (GMT-05:00)",tzCode:"America/Indiana/Vevay",name:"(GMT-05:00) Vevay",utc:"-05:00"},{label:"America/Indiana/Vincennes (GMT-05:00)",tzCode:"America/Indiana/Vincennes",name:"(GMT-05:00) Vincennes, Jasper, Washington, Huntingburg",utc:"-05:00"},{label:"America/Indiana/Winamac (GMT-05:00)",tzCode:"America/Indiana/Winamac",name:"(GMT-05:00) Winamac",utc:"-05:00"},{label:"America/Iqaluit (GMT-05:00)",tzCode:"America/Iqaluit",name:"(GMT-05:00) Iqaluit",utc:"-05:00"},{label:"America/Jamaica (GMT-05:00)",tzCode:"America/Jamaica",name:"(GMT-05:00) Kingston, New Kingston, Spanish Town, Portmore, Montego Bay",utc:"-05:00"},{label:"America/Kentucky/Louisville (GMT-05:00)",tzCode:"America/Kentucky/Louisville",name:"(GMT-05:00) Louisville, Jeffersonville, New Albany, Jeffersontown, Pleasure Ridge Park",utc:"-05:00"},{label:"America/Kentucky/Monticello (GMT-05:00)",tzCode:"America/Kentucky/Monticello",name:"(GMT-05:00) Monticello",utc:"-05:00"},{label:"America/Lima (GMT-05:00)",tzCode:"America/Lima",name:"(GMT-05:00) Lima, Arequipa, Callao, Trujillo, Chiclayo",utc:"-05:00"},{label:"America/Nassau (GMT-05:00)",tzCode:"America/Nassau",name:"(GMT-05:00) Nassau, Lucaya, Freeport, West End, Cooper\u2019s Town",utc:"-05:00"},{label:"America/New_York (GMT-05:00)",tzCode:"America/New_York",name:"(GMT-05:00) New York City, Brooklyn, Queens, Philadelphia, Manhattan",utc:"-05:00"},{label:"America/Nipigon (GMT-05:00)",tzCode:"America/Nipigon",name:"(GMT-05:00) Nipigon",utc:"-05:00"},{label:"America/Panama (GMT-05:00)",tzCode:"America/Panama",name:"(GMT-05:00) Panam\xE1, San Miguelito, Juan D\xEDaz, David, Arraij\xE1n",utc:"-05:00"},{label:"America/Pangnirtung (GMT-05:00)",tzCode:"America/Pangnirtung",name:"(GMT-05:00) Pangnirtung",utc:"-05:00"},{label:"America/Port-au-Prince (GMT-05:00)",tzCode:"America/Port-au-Prince",name:"(GMT-05:00) Port-au-Prince, Carrefour, Delmas 73, P\xE9tionville, Port-de-Paix",utc:"-05:00"},{label:"America/Rio_Branco (GMT-05:00)",tzCode:"America/Rio_Branco",name:"(GMT-05:00) Rio Branco, Cruzeiro do Sul, Sena Madureira, Tarauac\xE1, Feij\xF3",utc:"-05:00"},{label:"America/Thunder_Bay (GMT-05:00)",tzCode:"America/Thunder_Bay",name:"(GMT-05:00) Thunder Bay",utc:"-05:00"},{label:"America/Toronto (GMT-05:00)",tzCode:"America/Toronto",name:"(GMT-05:00) Toronto, Montr\xE9al, Ottawa, Mississauga, Qu\xE9bec",utc:"-05:00"},{label:"America/AnguillaSandy Hill (GMT-04:00)",tzCode:"America/AnguillaSandy Hill",name:"(GMT-04:00) The Valley, Blowing Point Village, Sandy Ground Village, The Quarter, Sandy Hill",utc:"-04:00"},{label:"America/Antigua (GMT-04:00)",tzCode:"America/Antigua",name:"(GMT-04:00) Saint John\u2019s, Piggotts, Bolands, Codrington, Parham",utc:"-04:00"},{label:"America/Aruba (GMT-04:00)",tzCode:"America/Aruba",name:"(GMT-04:00) Oranjestad, Tanki Leendert, San Nicolas, Santa Cruz, Paradera",utc:"-04:00"},{label:"America/Asuncion (GMT-04:00)",tzCode:"America/Asuncion",name:"(GMT-04:00) Asunci\xF3n, Ciudad del Este, San Lorenzo, Capiat\xE1, Lambar\xE9",utc:"-04:00"},{label:"America/Barbados (GMT-04:00)",tzCode:"America/Barbados",name:"(GMT-04:00) Bridgetown, Speightstown, Oistins, Bathsheba, Holetown",utc:"-04:00"},{label:"America/Blanc-Sablon (GMT-04:00)",tzCode:"America/Blanc-Sablon",name:"(GMT-04:00) L\xE9vis",utc:"-04:00"},{label:"America/Boa_Vista (GMT-04:00)",tzCode:"America/Boa_Vista",name:"(GMT-04:00) Boa Vista",utc:"-04:00"},{label:"America/Campo_Grande (GMT-04:00)",tzCode:"America/Campo_Grande",name:"(GMT-04:00) Campo Grande, Dourados, Corumb\xE1, Tr\xEAs Lagoas, Ponta Por\xE3",utc:"-04:00"},{label:"America/Caracas (GMT-04:00)",tzCode:"America/Caracas",name:"(GMT-04:00) Caracas, Maracaibo, Maracay, Valencia, Barquisimeto",utc:"-04:00"},{label:"America/Cuiaba (GMT-04:00)",tzCode:"America/Cuiaba",name:"(GMT-04:00) Cuiab\xE1, V\xE1rzea Grande, Rondon\xF3polis, Sinop, Barra do Gar\xE7as",utc:"-04:00"},{label:"America/Curacao (GMT-04:00)",tzCode:"America/Curacao",name:"(GMT-04:00) Willemstad, Sint Michiel Liber",utc:"-04:00"},{label:"America/Dominica (GMT-04:00)",tzCode:"America/Dominica",name:"(GMT-04:00) Roseau, Portsmouth, Berekua, Saint Joseph, Wesley",utc:"-04:00"},{label:"America/Glace_Bay (GMT-04:00)",tzCode:"America/Glace_Bay",name:"(GMT-04:00) Sydney, Glace Bay, Sydney Mines",utc:"-04:00"},{label:"America/Goose_Bay (GMT-04:00)",tzCode:"America/Goose_Bay",name:"(GMT-04:00) Labrador City, Happy Valley-Goose Bay",utc:"-04:00"},{label:"America/Grenada (GMT-04:00)",tzCode:"America/Grenada",name:"(GMT-04:00) Saint George's, Gouyave, Grenville, Victoria, Saint David\u2019s",utc:"-04:00"},{label:"America/Guadeloupe (GMT-04:00)",tzCode:"America/Guadeloupe",name:"(GMT-04:00) Les Abymes, Baie-Mahault, Le Gosier, Petit-Bourg, Sainte-Anne",utc:"-04:00"},{label:"America/Guyana (GMT-04:00)",tzCode:"America/Guyana",name:"(GMT-04:00) Georgetown, Linden, New Amsterdam, Anna Regina, Bartica",utc:"-04:00"},{label:"America/Halifax (GMT-04:00)",tzCode:"America/Halifax",name:"(GMT-04:00) Halifax, Dartmouth, Charlottetown, Lower Sackville, Truro",utc:"-04:00"},{label:"America/Kralendijk (GMT-04:00)",tzCode:"America/Kralendijk",name:"(GMT-04:00) Kralendijk, Oranjestad, The Bottom",utc:"-04:00"},{label:"America/La_Paz (GMT-04:00)",tzCode:"America/La_Paz",name:"(GMT-04:00) Santa Cruz de la Sierra, Cochabamba, La Paz, Sucre, Oruro",utc:"-04:00"},{label:"America/Lower_Princes (GMT-04:00)",tzCode:"America/Lower_Princes",name:"(GMT-04:00) Cul de Sac, Lower Prince\u2019s Quarter, Koolbaai, Philipsburg",utc:"-04:00"},{label:"America/Manaus (GMT-04:00)",tzCode:"America/Manaus",name:"(GMT-04:00) Manaus, Itacoatiara, Parintins, Manacapuru, Coari",utc:"-04:00"},{label:"America/Marigot (GMT-04:00)",tzCode:"America/Marigot",name:"(GMT-04:00) Marigot",utc:"-04:00"},{label:"America/Martinique (GMT-04:00)",tzCode:"America/Martinique",name:"(GMT-04:00) Fort-de-France, Le Lamentin, Le Robert, Sainte-Marie, Le Fran\xE7ois",utc:"-04:00"},{label:"America/Moncton (GMT-04:00)",tzCode:"America/Moncton",name:"(GMT-04:00) Moncton, Saint John, Fredericton, Dieppe, Miramichi",utc:"-04:00"},{label:"America/Montserrat (GMT-04:00)",tzCode:"America/Montserrat",name:"(GMT-04:00) Brades, Saint Peters, Plymouth",utc:"-04:00"},{label:"America/Porto_Velho (GMT-04:00)",tzCode:"America/Porto_Velho",name:"(GMT-04:00) Porto Velho, Ji Paran\xE1, Vilhena, Ariquemes, Cacoal",utc:"-04:00"},{label:"America/Port_of_Spain (GMT-04:00)",tzCode:"America/Port_of_Spain",name:"(GMT-04:00) Chaguanas, Mon Repos, San Fernando, Port of Spain, Rio Claro",utc:"-04:00"},{label:"America/Puerto_Rico (GMT-04:00)",tzCode:"America/Puerto_Rico",name:"(GMT-04:00) San Juan, Bayam\xF3n, Carolina, Ponce, Caguas",utc:"-04:00"},{label:"America/Santiago (GMT-04:00)",tzCode:"America/Santiago",name:"(GMT-04:00) Santiago, Puente Alto, Antofagasta, Vi\xF1a del Mar, Valpara\xEDso",utc:"-04:00"},{label:"America/Santo_Domingo (GMT-04:00)",tzCode:"America/Santo_Domingo",name:"(GMT-04:00) Santo Domingo, Santiago de los Caballeros, Santo Domingo Oeste, Santo Domingo Este, San Pedro de Macor\xEDs",utc:"-04:00"},{label:"America/St_Barthelemy (GMT-04:00)",tzCode:"America/St_Barthelemy",name:"(GMT-04:00) Gustavia",utc:"-04:00"},{label:"America/St_Kitts (GMT-04:00)",tzCode:"America/St_Kitts",name:"(GMT-04:00) Basseterre, Fig Tree, Market Shop, Saint Paul\u2019s, Middle Island",utc:"-04:00"},{label:"America/St_Lucia (GMT-04:00)",tzCode:"America/St_Lucia",name:"(GMT-04:00) Castries, Bisee, Vieux Fort, Micoud, Soufri\xE8re",utc:"-04:00"},{label:"America/St_Thomas (GMT-04:00)",tzCode:"America/St_Thomas",name:"(GMT-04:00) Saint Croix, Charlotte Amalie, Cruz Bay",utc:"-04:00"},{label:"America/St_Vincent (GMT-04:00)",tzCode:"America/St_Vincent",name:"(GMT-04:00) Kingstown, Kingstown Park, Georgetown, Barrouallie, Port Elizabeth",utc:"-04:00"},{label:"America/Thule (GMT-04:00)",tzCode:"America/Thule",name:"(GMT-04:00) Thule",utc:"-04:00"},{label:"America/Tortola (GMT-04:00)",tzCode:"America/Tortola",name:"(GMT-04:00) Road Town",utc:"-04:00"},{label:"Atlantic/Bermuda (GMT-04:00)",tzCode:"Atlantic/Bermuda",name:"(GMT-04:00) Hamilton",utc:"-04:00"},{label:"America/St_Johns (GMT-03:30)",tzCode:"America/St_Johns",name:"(GMT-03:30) St. John's, Mount Pearl, Corner Brook, Conception Bay South, Bay Roberts",utc:"-03:30"},{label:"America/Araguaina (GMT-03:00)",tzCode:"America/Araguaina",name:"(GMT-03:00) Palmas, Aragua\xEDna, Gurupi, Miracema do Tocantins, Porto Franco",utc:"-03:00"},{label:"America/Argentina/Buenos_Aires (GMT-03:00)",tzCode:"America/Argentina/Buenos_Aires",name:"(GMT-03:00) Buenos Aires, La Plata, Mar del Plata, Mor\xF3n, Bah\xEDa Blanca",utc:"-03:00"},{label:"America/Argentina/Catamarca (GMT-03:00)",tzCode:"America/Argentina/Catamarca",name:"(GMT-03:00) San Fernando del Valle de Catamarca, Trelew, Puerto Madryn, Esquel, Rawson",utc:"-03:00"},{label:"America/Argentina/Cordoba (GMT-03:00)",tzCode:"America/Argentina/Cordoba",name:"(GMT-03:00) C\xF3rdoba, Rosario, Santa Fe, Resistencia, Santiago del Estero",utc:"-03:00"},{label:"America/Argentina/Jujuy (GMT-03:00)",tzCode:"America/Argentina/Jujuy",name:"(GMT-03:00) San Salvador de Jujuy, San Pedro de Jujuy, Libertador General San Mart\xEDn, Palpal\xE1, La Quiaca",utc:"-03:00"},{label:"America/Argentina/La_Rioja (GMT-03:00)",tzCode:"America/Argentina/La_Rioja",name:"(GMT-03:00) La Rioja, Chilecito, Arauco, Chamical",utc:"-03:00"},{label:"America/Argentina/Mendoza (GMT-03:00)",tzCode:"America/Argentina/Mendoza",name:"(GMT-03:00) Mendoza, San Rafael, San Mart\xEDn",utc:"-03:00"},{label:"America/Argentina/Rio_Gallegos (GMT-03:00)",tzCode:"America/Argentina/Rio_Gallegos",name:"(GMT-03:00) Comodoro Rivadavia, R\xEDo Gallegos, Caleta Olivia, Pico Truncado, Puerto Deseado",utc:"-03:00"},{label:"America/Argentina/Salta (GMT-03:00)",tzCode:"America/Argentina/Salta",name:"(GMT-03:00) Salta, Neuqu\xE9n, Santa Rosa, San Carlos de Bariloche, Cipolletti",utc:"-03:00"},{label:"America/Argentina/San_Juan (GMT-03:00)",tzCode:"America/Argentina/San_Juan",name:"(GMT-03:00) San Juan, Chimbas, Santa Luc\xEDa, Pocito, Caucete",utc:"-03:00"},{label:"America/Argentina/San_Luis (GMT-03:00)",tzCode:"America/Argentina/San_Luis",name:"(GMT-03:00) San Luis, Villa Mercedes, La Punta, Merlo, Justo Daract",utc:"-03:00"},{label:"America/Argentina/Tucuman (GMT-03:00)",tzCode:"America/Argentina/Tucuman",name:"(GMT-03:00) San Miguel de Tucum\xE1n, Yerba Buena, Taf\xED Viejo, Alderetes, Aguilares",utc:"-03:00"},{label:"America/Argentina/Ushuaia (GMT-03:00)",tzCode:"America/Argentina/Ushuaia",name:"(GMT-03:00) Ushuaia, R\xEDo Grande",utc:"-03:00"},{label:"America/Bahia (GMT-03:00)",tzCode:"America/Bahia",name:"(GMT-03:00) Salvador, Feira de Santana, Vit\xF3ria da Conquista, Itabuna, Cama\xE7ari",utc:"-03:00"},{label:"America/Belem (GMT-03:00)",tzCode:"America/Belem",name:"(GMT-03:00) Bel\xE9m, Ananindeua, Macap\xE1, Parauapebas, Marab\xE1",utc:"-03:00"},{label:"America/Cayenne (GMT-03:00)",tzCode:"America/Cayenne",name:"(GMT-03:00) Cayenne, Matoury, Saint-Laurent-du-Maroni, Kourou, R\xE9mire-Montjoly",utc:"-03:00"},{label:"America/Fortaleza (GMT-03:00)",tzCode:"America/Fortaleza",name:"(GMT-03:00) Fortaleza, S\xE3o Lu\xEDs, Natal, Teresina, Jo\xE3o Pessoa",utc:"-03:00"},{label:"America/Godthab (GMT-03:00)",tzCode:"America/Godthab",name:"(GMT-03:00) Nuuk, Sisimiut, Ilulissat, Qaqortoq, Aasiaat",utc:"-03:00"},{label:"America/Maceio (GMT-03:00)",tzCode:"America/Maceio",name:"(GMT-03:00) Macei\xF3, Aracaju, Arapiraca, Nossa Senhora do Socorro, S\xE3o Crist\xF3v\xE3o",utc:"-03:00"},{label:"America/Miquelon (GMT-03:00)",tzCode:"America/Miquelon",name:"(GMT-03:00) Saint-Pierre, Miquelon",utc:"-03:00"},{label:"America/Montevideo (GMT-03:00)",tzCode:"America/Montevideo",name:"(GMT-03:00) Montevideo, Salto, Paysand\xFA, Las Piedras, Rivera",utc:"-03:00"},{label:"America/Paramaribo (GMT-03:00)",tzCode:"America/Paramaribo",name:"(GMT-03:00) Paramaribo, Lelydorp, Brokopondo, Nieuw Nickerie, Moengo",utc:"-03:00"},{label:"America/Punta_Arenas (GMT-03:00)",tzCode:"America/Punta_Arenas",name:"(GMT-03:00) Punta Arenas, Puerto Natales",utc:"-03:00"},{label:"America/Recife (GMT-03:00)",tzCode:"America/Recife",name:"(GMT-03:00) Recife, Jaboat\xE3o, Jaboat\xE3o dos Guararapes, Olinda, Paulista",utc:"-03:00"},{label:"America/Santarem (GMT-03:00)",tzCode:"America/Santarem",name:"(GMT-03:00) Santar\xE9m, Altamira, Itaituba, Oriximin\xE1, Alenquer",utc:"-03:00"},{label:"America/Sao_Paulo (GMT-03:00)",tzCode:"America/Sao_Paulo",name:"(GMT-03:00) S\xE3o Paulo, Rio de Janeiro, Belo Horizonte, Bras\xEDlia, Curitiba",utc:"-03:00"},{label:"Antarctica/Palmer (GMT-03:00)",tzCode:"Antarctica/Palmer",name:"(GMT-03:00) Palmer",utc:"-03:00"},{label:"Antarctica/Rothera (GMT-03:00)",tzCode:"Antarctica/Rothera",name:"(GMT-03:00) Rothera",utc:"-03:00"},{label:"Atlantic/Stanley (GMT-03:00)",tzCode:"Atlantic/Stanley",name:"(GMT-03:00) Stanley",utc:"-03:00"},{label:"America/Noronha (GMT-02:00)",tzCode:"America/Noronha",name:"(GMT-02:00) Itamarac\xE1",utc:"-02:00"},{label:"Atlantic/South_Georgia (GMT-02:00)",tzCode:"Atlantic/South_Georgia",name:"(GMT-02:00) Grytviken",utc:"-02:00"},{label:"America/Scoresbysund (GMT-01:00)",tzCode:"America/Scoresbysund",name:"(GMT-01:00) Scoresbysund",utc:"-01:00"},{label:"Atlantic/Azores (GMT-01:00)",tzCode:"Atlantic/Azores",name:"(GMT-01:00) Ponta Delgada, Lagoa, Angra do Hero\xEDsmo, Rosto de C\xE3o, Rabo de Peixe",utc:"-01:00"},{label:"Atlantic/Cape_Verde (GMT-01:00)",tzCode:"Atlantic/Cape_Verde",name:"(GMT-01:00) Praia, Mindelo, Santa Maria, Cova Figueira, Santa Cruz",utc:"-01:00"},{label:"Africa/Abidjan (GMT+00:00)",tzCode:"Africa/Abidjan",name:"(GMT+00:00) Abidjan, Abobo, Bouak\xE9, Daloa, San-P\xE9dro",utc:"+00:00"},{label:"Africa/Accra (GMT+00:00)",tzCode:"Africa/Accra",name:"(GMT+00:00) Accra, Kumasi, Tamale, Takoradi, Atsiaman",utc:"+00:00"},{label:"Africa/Bamako (GMT+00:00)",tzCode:"Africa/Bamako",name:"(GMT+00:00) Bamako, Sikasso, Mopti, Koutiala, S\xE9gou",utc:"+00:00"},{label:"Africa/Banjul (GMT+00:00)",tzCode:"Africa/Banjul",name:"(GMT+00:00) Serekunda, Brikama, Bakau, Banjul, Farafenni",utc:"+00:00"},{label:"Africa/Bissau (GMT+00:00)",tzCode:"Africa/Bissau",name:"(GMT+00:00) Bissau, Bafat\xE1, Gab\xFA, Bissor\xE3, Bolama",utc:"+00:00"},{label:"Africa/Casablanca (GMT+00:00)",tzCode:"Africa/Casablanca",name:"(GMT+00:00) Casablanca, Rabat, F\xE8s, Sale, Marrakesh",utc:"+00:00"},{label:"Africa/Conakry (GMT+00:00)",tzCode:"Africa/Conakry",name:"(GMT+00:00) Camayenne, Conakry, Nz\xE9r\xE9kor\xE9, Kindia, Kankan",utc:"+00:00"},{label:"Africa/Dakar (GMT+00:00)",tzCode:"Africa/Dakar",name:"(GMT+00:00) Dakar, Pikine, Touba, Thi\xE8s, Thi\xE8s Nones",utc:"+00:00"},{label:"Africa/El_Aaiun (GMT+00:00)",tzCode:"Africa/El_Aaiun",name:"(GMT+00:00) Laayoune, Dakhla, Laayoune Plage",utc:"+00:00"},{label:"Africa/Freetown (GMT+00:00)",tzCode:"Africa/Freetown",name:"(GMT+00:00) Freetown, Bo, Kenema, Koidu, Makeni",utc:"+00:00"},{label:"Africa/Lome (GMT+00:00)",tzCode:"Africa/Lome",name:"(GMT+00:00) Lom\xE9, Sokod\xE9, Kara, Atakpam\xE9, Kpalim\xE9",utc:"+00:00"},{label:"Africa/Monrovia (GMT+00:00)",tzCode:"Africa/Monrovia",name:"(GMT+00:00) Monrovia, Gbarnga, Kakata, Bensonville, Harper",utc:"+00:00"},{label:"Africa/Nouakchott (GMT+00:00)",tzCode:"Africa/Nouakchott",name:"(GMT+00:00) Nouakchott, Nouadhibou, N\xE9ma, Ka\xE9di, Rosso",utc:"+00:00"},{label:"Africa/Ouagadougou (GMT+00:00)",tzCode:"Africa/Ouagadougou",name:"(GMT+00:00) Ouagadougou, Bobo-Dioulasso, Koudougou, Ouahigouya, Banfora",utc:"+00:00"},{label:"Africa/Sao_Tome (GMT+00:00)",tzCode:"Africa/Sao_Tome",name:"(GMT+00:00) S\xE3o Tom\xE9, Santo Ant\xF3nio",utc:"+00:00"},{label:"America/Danmarkshavn (GMT+00:00)",tzCode:"America/Danmarkshavn",name:"(GMT+00:00) Danmarkshavn",utc:"+00:00"},{label:"Antarctica/Troll (GMT+00:00)",tzCode:"Antarctica/Troll",name:"(GMT+00:00) Troll",utc:"+00:00"},{label:"Atlantic/Canary (GMT+00:00)",tzCode:"Atlantic/Canary",name:"(GMT+00:00) Las Palmas de Gran Canaria, Santa Cruz de Tenerife, La Laguna, Telde, Arona",utc:"+00:00"},{label:"Atlantic/Faroe (GMT+00:00)",tzCode:"Atlantic/Faroe",name:"(GMT+00:00) T\xF3rshavn, Klaksv\xEDk, Fuglafj\xF8r\xF0ur, Tv\xF8royri, Mi\xF0v\xE1gur",utc:"+00:00"},{label:"Atlantic/Madeira (GMT+00:00)",tzCode:"Atlantic/Madeira",name:"(GMT+00:00) Funchal, C\xE2mara de Lobos, S\xE3o Martinho, Cani\xE7o, Machico",utc:"+00:00"},{label:"Atlantic/Reykjavik (GMT+00:00)",tzCode:"Atlantic/Reykjavik",name:"(GMT+00:00) Reykjav\xEDk, K\xF3pavogur, Hafnarfj\xF6r\xF0ur, Akureyri, Gar\xF0ab\xE6r",utc:"+00:00"},{label:"Atlantic/St_Helena (GMT+00:00)",tzCode:"Atlantic/St_Helena",name:"(GMT+00:00) Jamestown, Georgetown, Edinburgh of the Seven Seas",utc:"+00:00"},{label:"Europe/Dublin (GMT+00:00)",tzCode:"Europe/Dublin",name:"(GMT+00:00) Dublin, Cork, Luimneach, Gaillimh, Tallaght",utc:"+00:00"},{label:"Europe/Guernsey (GMT+00:00)",tzCode:"Europe/Guernsey",name:"(GMT+00:00) Saint Peter Port, St Martin, Saint Sampson, St Anne, Saint Saviour",utc:"+00:00"},{label:"Europe/Isle_of_Man (GMT+00:00)",tzCode:"Europe/Isle_of_Man",name:"(GMT+00:00) Douglas, Ramsey, Peel, Port Erin, Castletown",utc:"+00:00"},{label:"Europe/Jersey (GMT+00:00)",tzCode:"Europe/Jersey",name:"(GMT+00:00) Saint Helier, Le Hocq",utc:"+00:00"},{label:"Europe/Lisbon (GMT+00:00)",tzCode:"Europe/Lisbon",name:"(GMT+00:00) Lisbon, Porto, Amadora, Braga, Set\xFAbal",utc:"+00:00"},{label:"Europe/London (GMT+00:00)",tzCode:"Europe/London",name:"(GMT+00:00) London, Birmingham, Liverpool, Sheffield, Bristol",utc:"+00:00"},{label:"Africa/Algiers (GMT+01:00)",tzCode:"Africa/Algiers",name:"(GMT+01:00) Algiers, Boumerdas, Oran, T\xE9bessa, Constantine",utc:"+01:00"},{label:"Africa/Bangui (GMT+01:00)",tzCode:"Africa/Bangui",name:"(GMT+01:00) Bangui, Bimbo, Mba\xEFki, Berb\xE9rati, Kaga Bandoro",utc:"+01:00"},{label:"Africa/Brazzaville (GMT+01:00)",tzCode:"Africa/Brazzaville",name:"(GMT+01:00) Brazzaville, Pointe-Noire, Dolisie, Kayes, Owando",utc:"+01:00"},{label:"Africa/Ceuta (GMT+01:00)",tzCode:"Africa/Ceuta",name:"(GMT+01:00) Ceuta, Melilla",utc:"+01:00"},{label:"Africa/Douala (GMT+01:00)",tzCode:"Africa/Douala",name:"(GMT+01:00) Douala, Yaound\xE9, Garoua, Kouss\xE9ri, Bamenda",utc:"+01:00"},{label:"Africa/Kinshasa (GMT+01:00)",tzCode:"Africa/Kinshasa",name:"(GMT+01:00) Kinshasa, Masina, Kikwit, Mbandaka, Matadi",utc:"+01:00"},{label:"Africa/Lagos (GMT+01:00)",tzCode:"Africa/Lagos",name:"(GMT+01:00) Lagos, Kano, Ibadan, Kaduna, Port Harcourt",utc:"+01:00"},{label:"Africa/Libreville (GMT+01:00)",tzCode:"Africa/Libreville",name:"(GMT+01:00) Libreville, Port-Gentil, Franceville, Oyem, Moanda",utc:"+01:00"},{label:"Africa/Luanda (GMT+01:00)",tzCode:"Africa/Luanda",name:"(GMT+01:00) Luanda, N\u2019dalatando, Huambo, Lobito, Benguela",utc:"+01:00"},{label:"Africa/Malabo (GMT+01:00)",tzCode:"Africa/Malabo",name:"(GMT+01:00) Bata, Malabo, Ebebiyin, Aconibe, A\xF1isoc",utc:"+01:00"},{label:"Africa/Ndjamena (GMT+01:00)",tzCode:"Africa/Ndjamena",name:"(GMT+01:00) N'Djamena, Moundou, Sarh, Ab\xE9ch\xE9, Kelo",utc:"+01:00"},{label:"Africa/Niamey (GMT+01:00)",tzCode:"Africa/Niamey",name:"(GMT+01:00) Niamey, Zinder, Maradi, Agadez, Alaghsas",utc:"+01:00"},{label:"Africa/Porto-Novo (GMT+01:00)",tzCode:"Africa/Porto-Novo",name:"(GMT+01:00) Cotonou, Abomey-Calavi, Djougou, Porto-Novo, Parakou",utc:"+01:00"},{label:"Africa/Tunis (GMT+01:00)",tzCode:"Africa/Tunis",name:"(GMT+01:00) Tunis, Sfax, Sousse, Kairouan, Bizerte",utc:"+01:00"},{label:"Africa/Windhoek (GMT+01:00)",tzCode:"Africa/Windhoek",name:"(GMT+01:00) Windhoek, Rundu, Walvis Bay, Oshakati, Swakopmund",utc:"+01:00"},{label:"Arctic/Longyearbyen (GMT+01:00)",tzCode:"Arctic/Longyearbyen",name:"(GMT+01:00) Longyearbyen, Olonkinbyen",utc:"+01:00"},{label:"Europe/Amsterdam (GMT+01:00)",tzCode:"Europe/Amsterdam",name:"(GMT+01:00) Amsterdam, Rotterdam, The Hague, Utrecht, Eindhoven",utc:"+01:00"},{label:"Europe/Andorra (GMT+01:00)",tzCode:"Europe/Andorra",name:"(GMT+01:00) Andorra la Vella, les Escaldes, Encamp, Sant Juli\xE0 de L\xF2ria, la Massana",utc:"+01:00"},{label:"Europe/Belgrade (GMT+01:00)",tzCode:"Europe/Belgrade",name:"(GMT+01:00) Belgrade, Pristina, Ni\u0161, Novi Sad, Prizren",utc:"+01:00"},{label:"Europe/Berlin (GMT+01:00)",tzCode:"Europe/Berlin",name:"(GMT+01:00) Berlin, Hamburg, Munich, K\xF6ln, Frankfurt am Main",utc:"+01:00"},{label:"Europe/Bratislava (GMT+01:00)",tzCode:"Europe/Bratislava",name:"(GMT+01:00) Bratislava, Ko\u0161ice, Pre\u0161ov, Nitra, \u017Dilina",utc:"+01:00"},{label:"Europe/Brussels (GMT+01:00)",tzCode:"Europe/Brussels",name:"(GMT+01:00) Brussels, Antwerpen, Gent, Charleroi, Li\xE8ge",utc:"+01:00"},{label:"Europe/Budapest (GMT+01:00)",tzCode:"Europe/Budapest",name:"(GMT+01:00) Budapest, Debrecen, Miskolc, Szeged, P\xE9cs",utc:"+01:00"},{label:"Europe/Copenhagen (GMT+01:00)",tzCode:"Europe/Copenhagen",name:"(GMT+01:00) Copenhagen, \xC5rhus, Odense, Aalborg, Frederiksberg",utc:"+01:00"},{label:"Europe/Gibraltar (GMT+01:00)",tzCode:"Europe/Gibraltar",name:"(GMT+01:00) Gibraltar",utc:"+01:00"},{label:"Europe/Ljubljana (GMT+01:00)",tzCode:"Europe/Ljubljana",name:"(GMT+01:00) Ljubljana, Maribor, Celje, Kranj, Velenje",utc:"+01:00"},{label:"Europe/Luxembourg (GMT+01:00)",tzCode:"Europe/Luxembourg",name:"(GMT+01:00) Luxembourg, Esch-sur-Alzette, Dudelange, Schifflange, Bettembourg",utc:"+01:00"},{label:"Europe/Madrid (GMT+01:00)",tzCode:"Europe/Madrid",name:"(GMT+01:00) Madrid, Barcelona, Valencia, Sevilla, Zaragoza",utc:"+01:00"},{label:"Europe/Malta (GMT+01:00)",tzCode:"Europe/Malta",name:"(GMT+01:00) Birkirkara, Qormi, Mosta, \u017Babbar, San Pawl il-Ba\u0127ar",utc:"+01:00"},{label:"Europe/Monaco (GMT+01:00)",tzCode:"Europe/Monaco",name:"(GMT+01:00) Monaco, Monte-Carlo, La Condamine",utc:"+01:00"},{label:"Europe/Oslo (GMT+01:00)",tzCode:"Europe/Oslo",name:"(GMT+01:00) Oslo, Bergen, Trondheim, Stavanger, Drammen",utc:"+01:00"},{label:"Europe/Paris (GMT+01:00)",tzCode:"Europe/Paris",name:"(GMT+01:00) Paris, Marseille, Lyon, Toulouse, Nice",utc:"+01:00"},{label:"Europe/Podgorica (GMT+01:00)",tzCode:"Europe/Podgorica",name:"(GMT+01:00) Podgorica, Nik\u0161i\u0107, Herceg Novi, Pljevlja, Budva",utc:"+01:00"},{label:"Europe/Prague (GMT+01:00)",tzCode:"Europe/Prague",name:"(GMT+01:00) Prague, Brno, Ostrava, Pilsen, Olomouc",utc:"+01:00"},{label:"Europe/Rome (GMT+01:00)",tzCode:"Europe/Rome",name:"(GMT+01:00) Rome, Milan, Naples, Turin, Palermo",utc:"+01:00"},{label:"Europe/San_Marino (GMT+01:00)",tzCode:"Europe/San_Marino",name:"(GMT+01:00) Serravalle, Borgo Maggiore, San Marino, Domagnano, Fiorentino",utc:"+01:00"},{label:"Europe/Sarajevo (GMT+01:00)",tzCode:"Europe/Sarajevo",name:"(GMT+01:00) Sarajevo, Banja Luka, Zenica, Tuzla, Mostar",utc:"+01:00"},{label:"Europe/Skopje (GMT+01:00)",tzCode:"Europe/Skopje",name:"(GMT+01:00) Skopje, Bitola, Kumanovo, Prilep, Tetovo",utc:"+01:00"},{label:"Europe/Stockholm (GMT+01:00)",tzCode:"Europe/Stockholm",name:"(GMT+01:00) Stockholm, G\xF6teborg, Malm\xF6, Uppsala, Sollentuna",utc:"+01:00"},{label:"Europe/Tirane (GMT+01:00)",tzCode:"Europe/Tirane",name:"(GMT+01:00) Tirana, Durr\xEBs, Elbasan, Vlor\xEB, Shkod\xEBr",utc:"+01:00"},{label:"Europe/Vaduz (GMT+01:00)",tzCode:"Europe/Vaduz",name:"(GMT+01:00) Schaan, Vaduz, Triesen, Balzers, Eschen",utc:"+01:00"},{label:"Europe/Vatican (GMT+01:00)",tzCode:"Europe/Vatican",name:"(GMT+01:00) Vatican City",utc:"+01:00"},{label:"Europe/Vienna (GMT+01:00)",tzCode:"Europe/Vienna",name:"(GMT+01:00) Vienna, Graz, Linz, Favoriten, Donaustadt",utc:"+01:00"},{label:"Europe/Warsaw (GMT+01:00)",tzCode:"Europe/Warsaw",name:"(GMT+01:00) Warsaw, \u0141\xF3d\u017A, Krak\xF3w, Wroc\u0142aw, Pozna\u0144",utc:"+01:00"},{label:"Europe/Zagreb (GMT+01:00)",tzCode:"Europe/Zagreb",name:"(GMT+01:00) Zagreb, Split, Rijeka, Osijek, Zadar",utc:"+01:00"},{label:"Europe/Zurich (GMT+01:00)",tzCode:"Europe/Zurich",name:"(GMT+01:00) Z\xFCrich, Gen\xE8ve, Basel, Lausanne, Bern",utc:"+01:00"},{label:"Africa/Blantyre (GMT+02:00)",tzCode:"Africa/Blantyre",name:"(GMT+02:00) Lilongwe, Blantyre, Mzuzu, Zomba, Kasungu",utc:"+02:00"},{label:"Africa/Bujumbura (GMT+02:00)",tzCode:"Africa/Bujumbura",name:"(GMT+02:00) Bujumbura, Muyinga, Gitega, Ruyigi, Ngozi",utc:"+02:00"},{label:"Africa/Cairo (GMT+02:00)",tzCode:"Africa/Cairo",name:"(GMT+02:00) Cairo, Alexandria, Giza, Port Said, Suez",utc:"+02:00"},{label:"Africa/Gaborone (GMT+02:00)",tzCode:"Africa/Gaborone",name:"(GMT+02:00) Gaborone, Francistown, Molepolole, Selebi-Phikwe, Maun",utc:"+02:00"},{label:"Africa/Harare (GMT+02:00)",tzCode:"Africa/Harare",name:"(GMT+02:00) Harare, Bulawayo, Chitungwiza, Mutare, Gweru",utc:"+02:00"},{label:"Africa/Johannesburg (GMT+02:00)",tzCode:"Africa/Johannesburg",name:"(GMT+02:00) Cape Town, Durban, Johannesburg, Soweto, Pretoria",utc:"+02:00"},{label:"Africa/Juba (GMT+02:00)",tzCode:"Africa/Juba",name:"(GMT+02:00) Juba, Winejok, Malakal, Wau, Kuacjok",utc:"+02:00"},{label:"Africa/Khartoum (GMT+02:00)",tzCode:"Africa/Khartoum",name:"(GMT+02:00) Khartoum, Omdurman, Nyala, Port Sudan, Kassala",utc:"+02:00"},{label:"Africa/Kigali (GMT+02:00)",tzCode:"Africa/Kigali",name:"(GMT+02:00) Kigali, Butare, Gitarama, Musanze, Gisenyi",utc:"+02:00"},{label:"Africa/Lubumbashi (GMT+02:00)",tzCode:"Africa/Lubumbashi",name:"(GMT+02:00) Lubumbashi, Mbuji-Mayi, Kisangani, Kananga, Likasi",utc:"+02:00"},{label:"Africa/Lusaka (GMT+02:00)",tzCode:"Africa/Lusaka",name:"(GMT+02:00) Lusaka, Kitwe, Ndola, Kabwe, Chingola",utc:"+02:00"},{label:"Africa/Maputo (GMT+02:00)",tzCode:"Africa/Maputo",name:"(GMT+02:00) Maputo, Matola, Beira, Nampula, Chimoio",utc:"+02:00"},{label:"Africa/Maseru (GMT+02:00)",tzCode:"Africa/Maseru",name:"(GMT+02:00) Maseru, Mafeteng, Leribe, Maputsoe, Mohale\u2019s Hoek",utc:"+02:00"},{label:"Africa/Mbabane (GMT+02:00)",tzCode:"Africa/Mbabane",name:"(GMT+02:00) Manzini, Mbabane, Big Bend, Malkerns, Nhlangano",utc:"+02:00"},{label:"Africa/Tripoli (GMT+02:00)",tzCode:"Africa/Tripoli",name:"(GMT+02:00) Tripoli, Benghazi, Mi\u015Fr\u0101tah, Tarhuna, Al Khums",utc:"+02:00"},{label:"Asia/Amman (GMT+02:00)",tzCode:"Asia/Amman",name:"(GMT+02:00) Amman, Zarqa, Irbid, Russeifa, W\u0101d\u012B as S\u012Br",utc:"+02:00"},{label:"Asia/Beirut (GMT+02:00)",tzCode:"Asia/Beirut",name:"(GMT+02:00) Beirut, Ra\u2019s Bayr\u016Bt, Tripoli, Sidon, Tyre",utc:"+02:00"},{label:"Asia/Damascus (GMT+02:00)",tzCode:"Asia/Damascus",name:"(GMT+02:00) Aleppo, Damascus, Homs, \u1E28am\u0101h, Latakia",utc:"+02:00"},{label:"Asia/Famagusta (GMT+02:00)",tzCode:"Asia/Famagusta",name:"(GMT+02:00) Famagusta, Kyrenia, Protaras, Paral\xEDmni, L\xE1pithos",utc:"+02:00"},{label:"Asia/Gaza (GMT+02:00)",tzCode:"Asia/Gaza",name:"(GMT+02:00) Gaza, Kh\u0101n Y\u016Bnis, Jab\u0101ly\u0101, Rafa\u1E29, Dayr al Bala\u1E29",utc:"+02:00"},{label:"Asia/Hebron (GMT+02:00)",tzCode:"Asia/Hebron",name:"(GMT+02:00) East Jerusalem, Hebron, Nablus, Battir, \u0162\u016Blkarm",utc:"+02:00"},{label:"Asia/Jerusalem (GMT+02:00)",tzCode:"Asia/Jerusalem",name:"(GMT+02:00) Jerusalem, Tel Aviv, West Jerusalem, Haifa, Ashdod",utc:"+02:00"},{label:"Asia/Nicosia (GMT+02:00)",tzCode:"Asia/Nicosia",name:"(GMT+02:00) Nicosia, Limassol, Larnaca, Str\xF3volos, Paphos",utc:"+02:00"},{label:"Europe/Athens (GMT+02:00)",tzCode:"Europe/Athens",name:"(GMT+02:00) Athens, Thessalon\xEDki, P\xE1tra, Piraeus, L\xE1risa",utc:"+02:00"},{label:"Europe/Bucharest (GMT+02:00)",tzCode:"Europe/Bucharest",name:"(GMT+02:00) Bucharest, Sector 3, Sector 6, Sector 2, Ia\u015Fi",utc:"+02:00"},{label:"Europe/Chisinau (GMT+02:00)",tzCode:"Europe/Chisinau",name:"(GMT+02:00) Chisinau, Tiraspol, B\u0103l\u0163i, Bender, R\xEEbni\u0163a",utc:"+02:00"},{label:"Europe/Helsinki (GMT+02:00)",tzCode:"Europe/Helsinki",name:"(GMT+02:00) Helsinki, Espoo, Tampere, Vantaa, Turku",utc:"+02:00"},{label:"Europe/Kaliningrad (GMT+02:00)",tzCode:"Europe/Kaliningrad",name:"(GMT+02:00) Kaliningrad, Chernyakhovsk, Sovetsk, Baltiysk, Gusev",utc:"+02:00"},{label:"Europe/Kiev (GMT+02:00)",tzCode:"Europe/Kiev",name:"(GMT+02:00) Kyiv, Kharkiv, Donetsk, Odessa, Dnipro",utc:"+02:00"},{label:"Europe/Mariehamn (GMT+02:00)",tzCode:"Europe/Mariehamn",name:"(GMT+02:00) Mariehamn",utc:"+02:00"},{label:"Europe/Riga (GMT+02:00)",tzCode:"Europe/Riga",name:"(GMT+02:00) Riga, Daugavpils, Liep\u0101ja, Jelgava, J\u016Brmala",utc:"+02:00"},{label:"Europe/Sofia (GMT+02:00)",tzCode:"Europe/Sofia",name:"(GMT+02:00) Sofia, Plovdiv, Varna, Burgas, Ruse",utc:"+02:00"},{label:"Europe/Tallinn (GMT+02:00)",tzCode:"Europe/Tallinn",name:"(GMT+02:00) Tallinn, Tartu, Narva, Kohtla-J\xE4rve, P\xE4rnu",utc:"+02:00"},{label:"Europe/Uzhgorod (GMT+02:00)",tzCode:"Europe/Uzhgorod",name:"(GMT+02:00) Uzhgorod, Mukachevo, Khust, Berehove, Tyachiv",utc:"+02:00"},{label:"Europe/Vilnius (GMT+02:00)",tzCode:"Europe/Vilnius",name:"(GMT+02:00) Vilnius, Kaunas, Klaip\u0117da, \u0160iauliai, Panev\u0117\u017Eys",utc:"+02:00"},{label:"Europe/Zaporozhye (GMT+02:00)",tzCode:"Europe/Zaporozhye",name:"(GMT+02:00) Luhansk, Sevastopol, Sievierodonetsk, Alchevsk, Lysychansk",utc:"+02:00"},{label:"Africa/Addis_Ababa (GMT+03:00)",tzCode:"Africa/Addis_Ababa",name:"(GMT+03:00) Addis Ababa, Dire Dawa, Mek'ele, Nazr\u0113t, Bahir Dar",utc:"+03:00"},{label:"Africa/Asmara (GMT+03:00)",tzCode:"Africa/Asmara",name:"(GMT+03:00) Asmara, Keren, Massawa, Assab, Mendefera",utc:"+03:00"},{label:"Africa/Dar_es_Salaam (GMT+03:00)",tzCode:"Africa/Dar_es_Salaam",name:"(GMT+03:00) Dar es Salaam, Mwanza, Zanzibar, Arusha, Mbeya",utc:"+03:00"},{label:"Africa/Djibouti (GMT+03:00)",tzCode:"Africa/Djibouti",name:"(GMT+03:00) Djibouti, 'Ali Sabieh, Tadjourah, Obock, Dikhil",utc:"+03:00"},{label:"Africa/Kampala (GMT+03:00)",tzCode:"Africa/Kampala",name:"(GMT+03:00) Kampala, Gulu, Lira, Mbarara, Jinja",utc:"+03:00"},{label:"Africa/Mogadishu (GMT+03:00)",tzCode:"Africa/Mogadishu",name:"(GMT+03:00) Mogadishu, Hargeysa, Berbera, Kismayo, Marka",utc:"+03:00"},{label:"Africa/Nairobi (GMT+03:00)",tzCode:"Africa/Nairobi",name:"(GMT+03:00) Nairobi, Mombasa, Nakuru, Eldoret, Kisumu",utc:"+03:00"},{label:"Antarctica/Syowa (GMT+03:00)",tzCode:"Antarctica/Syowa",name:"(GMT+03:00) Syowa",utc:"+03:00"},{label:"Asia/Aden (GMT+03:00)",tzCode:"Asia/Aden",name:"(GMT+03:00) Sanaa, Al \u1E28udaydah, Taiz, Aden, Mukalla",utc:"+03:00"},{label:"Asia/Baghdad (GMT+03:00)",tzCode:"Asia/Baghdad",name:"(GMT+03:00) Baghdad, Basrah, Al Maw\u015Fil al Jad\u012Bdah, Al Ba\u015Frah al Qad\u012Bmah, Mosul",utc:"+03:00"},{label:"Asia/Bahrain (GMT+03:00)",tzCode:"Asia/Bahrain",name:"(GMT+03:00) Manama, Al Muharraq, Ar Rif\u0101\u2018, D\u0101r Kulayb, Mad\u012Bnat \u1E28amad",utc:"+03:00"},{label:"Asia/Kuwait (GMT+03:00)",tzCode:"Asia/Kuwait",name:"(GMT+03:00) Al A\u1E29mad\u012B, \u1E28awall\u012B, As S\u0101lim\u012Byah, \u015Eab\u0101\u1E29 as S\u0101lim, Al Farw\u0101n\u012Byah",utc:"+03:00"},{label:"Asia/Qatar (GMT+03:00)",tzCode:"Asia/Qatar",name:"(GMT+03:00) Doha, Ar Rayy\u0101n, Umm \u015Eal\u0101l Mu\u1E29ammad, Al Wakrah, Al Khawr",utc:"+03:00"},{label:"Asia/Riyadh (GMT+03:00)",tzCode:"Asia/Riyadh",name:"(GMT+03:00) Riyadh, Jeddah, Mecca, Medina, Sul\u0163\u0101nah",utc:"+03:00"},{label:"Europe/Istanbul (GMT+03:00)",tzCode:"Europe/Istanbul",name:"(GMT+03:00) Istanbul, Ankara, \u0130zmir, Bursa, Adana",utc:"+03:00"},{label:"Europe/Kirov (GMT+03:00)",tzCode:"Europe/Kirov",name:"(GMT+03:00) Kirov, Kirovo-Chepetsk, Vyatskiye Polyany, Slobodskoy, Kotel\u2019nich",utc:"+03:00"},{label:"Europe/Minsk (GMT+03:00)",tzCode:"Europe/Minsk",name:"(GMT+03:00) Minsk, Homyel', Mahilyow, Vitebsk, Hrodna",utc:"+03:00"},{label:"Europe/Moscow (GMT+03:00)",tzCode:"Europe/Moscow",name:"(GMT+03:00) Moscow, Saint Petersburg, Nizhniy Novgorod, Kazan, Rostov-na-Donu",utc:"+03:00"},{label:"Europe/Simferopol (GMT+03:00)",tzCode:"Europe/Simferopol",name:"(GMT+03:00) Simferopol, Kerch, Yevpatoriya, Yalta, Feodosiya",utc:"+03:00"},{label:"Europe/Volgograd (GMT+03:00)",tzCode:"Europe/Volgograd",name:"(GMT+03:00) Volgograd, Volzhskiy, Kamyshin, Mikhaylovka, Uryupinsk",utc:"+03:00"},{label:"Indian/Antananarivo (GMT+03:00)",tzCode:"Indian/Antananarivo",name:"(GMT+03:00) Antananarivo, Toamasina, Antsirabe, Fianarantsoa, Mahajanga",utc:"+03:00"},{label:"Indian/Comoro (GMT+03:00)",tzCode:"Indian/Comoro",name:"(GMT+03:00) Moroni, Moutsamoudou, Fomboni, Domoni, Tsimbeo",utc:"+03:00"},{label:"Indian/Mayotte (GMT+03:00)",tzCode:"Indian/Mayotte",name:"(GMT+03:00) Mamoudzou, Koungou, Dzaoudzi, Dembeni, Sada",utc:"+03:00"},{label:"Asia/Tehran (GMT+03:30)",tzCode:"Asia/Tehran",name:"(GMT+03:30) Tehran, Mashhad, Isfahan, Karaj, Tabriz",utc:"+03:30"},{label:"Asia/Baku (GMT+04:00)",tzCode:"Asia/Baku",name:"(GMT+04:00) Baku, Ganja, Sumqay\u0131t, Lankaran, Yevlakh",utc:"+04:00"},{label:"Asia/Dubai (GMT+04:00)",tzCode:"Asia/Dubai",name:"(GMT+04:00) Dubai, Sharjah, Abu Dhabi, Ajman City, Ras Al Khaimah City",utc:"+04:00"},{label:"Asia/Muscat (GMT+04:00)",tzCode:"Asia/Muscat",name:"(GMT+04:00) Muscat, Seeb, \u015Eal\u0101lah, Bawshar, Sohar",utc:"+04:00"},{label:"Asia/Tbilisi (GMT+04:00)",tzCode:"Asia/Tbilisi",name:"(GMT+04:00) Tbilisi, Kutaisi, Batumi, Sokhumi, Zugdidi",utc:"+04:00"},{label:"Asia/Yerevan (GMT+04:00)",tzCode:"Asia/Yerevan",name:"(GMT+04:00) Yerevan, Gyumri, Vanadzor, Vagharshapat, Hrazdan",utc:"+04:00"},{label:"Europe/Astrakhan (GMT+04:00)",tzCode:"Europe/Astrakhan",name:"(GMT+04:00) Astrakhan, Akhtubinsk, Znamensk, Kharabali, Kamyzyak",utc:"+04:00"},{label:"Europe/Samara (GMT+04:00)",tzCode:"Europe/Samara",name:"(GMT+04:00) Samara, Togliatti-on-the-Volga, Izhevsk, Syzran\u2019, Novokuybyshevsk",utc:"+04:00"},{label:"Europe/Saratov (GMT+04:00)",tzCode:"Europe/Saratov",name:"(GMT+04:00) Saratov, Balakovo, Engel\u2019s, Balashov, Vol\u2019sk",utc:"+04:00"},{label:"Europe/Ulyanovsk (GMT+04:00)",tzCode:"Europe/Ulyanovsk",name:"(GMT+04:00) Ulyanovsk, Dimitrovgrad, Inza, Barysh, Novoul\u2019yanovsk",utc:"+04:00"},{label:"Indian/Mahe (GMT+04:00)",tzCode:"Indian/Mahe",name:"(GMT+04:00) Victoria, Anse Boileau, Bel Ombre, Beau Vallon, Cascade",utc:"+04:00"},{label:"Indian/Mauritius (GMT+04:00)",tzCode:"Indian/Mauritius",name:"(GMT+04:00) Port Louis, Beau Bassin-Rose Hill, Vacoas, Curepipe, Quatre Bornes",utc:"+04:00"},{label:"Indian/Reunion (GMT+04:00)",tzCode:"Indian/Reunion",name:"(GMT+04:00) Saint-Denis, Saint-Paul, Saint-Pierre, Le Tampon, Saint-Andr\xE9",utc:"+04:00"},{label:"Asia/Kabul (GMT+04:30)",tzCode:"Asia/Kabul",name:"(GMT+04:30) Kabul, Kandah\u0101r, Maz\u0101r-e Shar\u012Bf, Her\u0101t, Jal\u0101l\u0101b\u0101d",utc:"+04:30"},{label:"Antarctica/Mawson (GMT+05:00)",tzCode:"Antarctica/Mawson",name:"(GMT+05:00) Mawson",utc:"+05:00"},{label:"Asia/Aqtau (GMT+05:00)",tzCode:"Asia/Aqtau",name:"(GMT+05:00) Shevchenko, Zhanaozen, Beyneu, Shetpe, Yeraliyev",utc:"+05:00"},{label:"Asia/Aqtobe (GMT+05:00)",tzCode:"Asia/Aqtobe",name:"(GMT+05:00) Aktobe, Kandyagash, Shalqar, Khromtau, Embi",utc:"+05:00"},{label:"Asia/Ashgabat (GMT+05:00)",tzCode:"Asia/Ashgabat",name:"(GMT+05:00) Ashgabat, T\xFCrkmenabat, Da\u015Foguz, Mary, Balkanabat",utc:"+05:00"},{label:"Asia/Atyrau (GMT+05:00)",tzCode:"Asia/Atyrau",name:"(GMT+05:00) Atyrau, Qulsary, Shalkar, Balykshi, Maqat",utc:"+05:00"},{label:"Asia/Dushanbe (GMT+05:00)",tzCode:"Asia/Dushanbe",name:"(GMT+05:00) Dushanbe, Khujand, K\u016Dlob, Bokhtar, Istaravshan",utc:"+05:00"},{label:"Asia/Karachi (GMT+05:00)",tzCode:"Asia/Karachi",name:"(GMT+05:00) Karachi, Lahore, Faisalabad, Rawalpindi, Multan",utc:"+05:00"},{label:"Asia/Oral (GMT+05:00)",tzCode:"Asia/Oral",name:"(GMT+05:00) Oral, Aqsay, Zh\xE4nibek, Tasqala, Zhumysker",utc:"+05:00"},{label:"Asia/Qyzylorda (GMT+05:00)",tzCode:"Asia/Qyzylorda",name:"(GMT+05:00) Kyzylorda, Baikonur, Novokazalinsk, Aral, Chiili",utc:"+05:00"},{label:"Asia/Samarkand (GMT+05:00)",tzCode:"Asia/Samarkand",name:"(GMT+05:00) Samarkand, Bukhara, Nukus, Qarshi, Jizzax",utc:"+05:00"},{label:"Asia/Tashkent (GMT+05:00)",tzCode:"Asia/Tashkent",name:"(GMT+05:00) Tashkent, Namangan, Andijon, Qo\u2018qon, Chirchiq",utc:"+05:00"},{label:"Asia/Yekaterinburg (GMT+05:00)",tzCode:"Asia/Yekaterinburg",name:"(GMT+05:00) Yekaterinburg, Chelyabinsk, Ufa, Perm, Orenburg",utc:"+05:00"},{label:"Indian/Kerguelen (GMT+05:00)",tzCode:"Indian/Kerguelen",name:"(GMT+05:00) Port-aux-Fran\xE7ais",utc:"+05:00"},{label:"Indian/Maldives (GMT+05:00)",tzCode:"Indian/Maldives",name:"(GMT+05:00) Male, Fuvahmulah, Hithadhoo, Kulhudhuffushi, Thinadhoo",utc:"+05:00"},{label:"Asia/Colombo (GMT+05:30)",tzCode:"Asia/Colombo",name:"(GMT+05:30) Colombo, Dehiwala-Mount Lavinia, Moratuwa, Jaffna, Negombo",utc:"+05:30"},{label:"Asia/Kolkata (GMT+05:30)",tzCode:"Asia/Kolkata",name:"(GMT+05:30) Mumbai, Delhi, Bengaluru, Kolkata, Chennai",utc:"+05:30"},{label:"Asia/Kathmandu (GMT+05:45)",tzCode:"Asia/Kathmandu",name:"(GMT+05:45) Kathmandu, Pokhara, P\u0101tan, Biratnagar, Birga\xF1j",utc:"+05:45"},{label:"Antarctica/Vostok (GMT+06:00)",tzCode:"Antarctica/Vostok",name:"(GMT+06:00) Vostok",utc:"+06:00"},{label:"Asia/Almaty (GMT+06:00)",tzCode:"Asia/Almaty",name:"(GMT+06:00) Almaty, Karagandy, Shymkent, Taraz, Nur-Sultan",utc:"+06:00"},{label:"Asia/Bishkek (GMT+06:00)",tzCode:"Asia/Bishkek",name:"(GMT+06:00) Bishkek, Osh, Jalal-Abad, Karakol, Tokmok",utc:"+06:00"},{label:"Asia/Dhaka (GMT+06:00)",tzCode:"Asia/Dhaka",name:"(GMT+06:00) Dhaka, Chattogram, Khulna, R\u0101jsh\u0101hi, Comilla",utc:"+06:00"},{label:"Asia/Omsk (GMT+06:00)",tzCode:"Asia/Omsk",name:"(GMT+06:00) Omsk, Tara, Kalachinsk, Znamenskoye, Tavricheskoye",utc:"+06:00"},{label:"Asia/Qostanay (GMT+06:00)",tzCode:"Asia/Qostanay",name:"(GMT+06:00) Kostanay, Rudnyy, Dzhetygara, Arkalyk, Lisakovsk",utc:"+06:00"},{label:"Asia/Thimphu (GMT+06:00)",tzCode:"Asia/Thimphu",name:"(GMT+06:00) himphu, Pun\u0101kha, Tsirang, Phuntsholing, Pemagatshel",utc:"+06:00"},{label:"Asia/Urumqi (GMT+06:00)",tzCode:"Asia/Urumqi",name:"(GMT+06:00) Zhongshan, \xDCr\xFCmqi, Zhanjiang, Shihezi, Huocheng",utc:"+06:00"},{label:"Indian/Chagos (GMT+06:00)",tzCode:"Indian/Chagos",name:"(GMT+06:00) British Indian Ocean Territory",utc:"+06:00"},{label:"Asia/Yangon (GMT+06:30)",tzCode:"Asia/Yangon",name:"(GMT+06:30) Yangon, Mandalay, Nay Pyi Taw, Mawlamyine, Kyain Seikgyi Township",utc:"+06:30"},{label:"Indian/Cocos (GMT+06:30)",tzCode:"Indian/Cocos",name:"(GMT+06:30) West Island",utc:"+06:30"},{label:"Antarctica/Davis (GMT+07:00)",tzCode:"Antarctica/Davis",name:"(GMT+07:00) Davis",utc:"+07:00"},{label:"Asia/Bangkok (GMT+07:00)",tzCode:"Asia/Bangkok",name:"(GMT+07:00) Bangkok, Hanoi, Haiphong, Samut Prakan, Mueang Nonthaburi",utc:"+07:00"},{label:"Asia/Barnaul (GMT+07:00)",tzCode:"Asia/Barnaul",name:"(GMT+07:00) Barnaul, Biysk, Rubtsovsk, Novoaltaysk, Gorno-Altaysk",utc:"+07:00"},{label:"Asia/Hovd (GMT+07:00)",tzCode:"Asia/Hovd",name:"(GMT+07:00) Khovd, \xD6lgii, Ulaangom, Uliastay, Altai",utc:"+07:00"},{label:"Asia/Ho_Chi_Minh (GMT+07:00)",tzCode:"Asia/Ho_Chi_Minh",name:"(GMT+07:00) Ho Chi Minh City, Da Nang, Bi\xEAn H\xF2a, Nha Trang, C\u1EA7n Th\u01A1",utc:"+07:00"},{label:"Asia/Jakarta (GMT+07:00)",tzCode:"Asia/Jakarta",name:"(GMT+07:00) Jakarta, Surabaya, Medan, Bandung, Bekasi",utc:"+07:00"},{label:"Asia/Krasnoyarsk (GMT+07:00)",tzCode:"Asia/Krasnoyarsk",name:"(GMT+07:00) Krasnoyarsk, Abakan, Norilsk, Achinsk, Kyzyl",utc:"+07:00"},{label:"Asia/Novokuznetsk (GMT+07:00)",tzCode:"Asia/Novokuznetsk",name:"(GMT+07:00) Novokuznetsk, Kemerovo, Prokop\u2019yevsk, Leninsk-Kuznetsky, Kisel\xEBvsk",utc:"+07:00"},{label:"Asia/Novosibirsk (GMT+07:00)",tzCode:"Asia/Novosibirsk",name:"(GMT+07:00) Novosibirsk, Berdsk, Iskitim, Akademgorodok, Kuybyshev",utc:"+07:00"},{label:"Asia/Phnom_Penh (GMT+07:00)",tzCode:"Asia/Phnom_Penh",name:"(GMT+07:00) Phnom Penh, Takeo, Sihanoukville, Battambang, Siem Reap",utc:"+07:00"},{label:"Asia/Pontianak (GMT+07:00)",tzCode:"Asia/Pontianak",name:"(GMT+07:00) Pontianak, Tanjung Pinang, Palangkaraya, Singkawang, Sampit",utc:"+07:00"},{label:"Asia/Tomsk (GMT+07:00)",tzCode:"Asia/Tomsk",name:"(GMT+07:00) Tomsk, Seversk, Strezhevoy, Kolpashevo, Asino",utc:"+07:00"},{label:"Asia/Vientiane (GMT+07:00)",tzCode:"Asia/Vientiane",name:"(GMT+07:00) Vientiane, Pakse, Thakh\xE8k, Savannakhet, Luang Prabang",utc:"+07:00"},{label:"Indian/Christmas (GMT+07:00)",tzCode:"Indian/Christmas",name:"(GMT+07:00) Flying Fish Cove",utc:"+07:00"},{label:"Asia/Brunei (GMT+08:00)",tzCode:"Asia/Brunei",name:"(GMT+08:00) Bandar Seri Begawan, Kuala Belait, Seria, Tutong, Bangar",utc:"+08:00"},{label:"Asia/Choibalsan (GMT+08:00)",tzCode:"Asia/Choibalsan",name:"(GMT+08:00) Baruun-Urt, Choibalsan",utc:"+08:00"},{label:"Asia/Hong_Kong (GMT+08:00)",tzCode:"Asia/Hong_Kong",name:"(GMT+08:00) Hong Kong, Kowloon, Tsuen Wan, Yuen Long Kau Hui, Tung Chung",utc:"+08:00"},{label:"Asia/Irkutsk (GMT+08:00)",tzCode:"Asia/Irkutsk",name:"(GMT+08:00) Irkutsk, Ulan-Ude, Bratsk, Angarsk, Ust\u2019-Ilimsk",utc:"+08:00"},{label:"Asia/Kuala_Lumpur (GMT+08:00)",tzCode:"Asia/Kuala_Lumpur",name:"(GMT+08:00) Kota Bharu, Kuala Lumpur, Klang, Kampung Baru Subang, Johor Bahru",utc:"+08:00"},{label:"Asia/Kuching (GMT+08:00)",tzCode:"Asia/Kuching",name:"(GMT+08:00) Kuching, Kota Kinabalu, Sandakan, Tawau, Miri",utc:"+08:00"},{label:"Asia/Macau (GMT+08:00)",tzCode:"Asia/Macau",name:"(GMT+08:00) Macau",utc:"+08:00"},{label:"Asia/Makassar (GMT+08:00)",tzCode:"Asia/Makassar",name:"(GMT+08:00) Makassar, Denpasar, City of Balikpapan, Banjarmasin, Manado",utc:"+08:00"},{label:"Asia/Manila (GMT+08:00)",tzCode:"Asia/Manila",name:"(GMT+08:00) Quezon City, Manila, Caloocan City, Budta, Davao",utc:"+08:00"},{label:"Asia/Shanghai (GMT+08:00)",tzCode:"Asia/Shanghai",name:"(GMT+08:00) Shanghai, Beijing, Tianjin, Guangzhou, Shenzhen",utc:"+08:00"},{label:"Asia/Singapore (GMT+08:00)",tzCode:"Asia/Singapore",name:"(GMT+08:00) Singapore, Woodlands",utc:"+08:00"},{label:"Asia/Taipei (GMT+08:00)",tzCode:"Asia/Taipei",name:"(GMT+08:00) Taipei, Kaohsiung, Taichung, Tainan, Banqiao",utc:"+08:00"},{label:"Asia/Ulaanbaatar (GMT+08:00)",tzCode:"Asia/Ulaanbaatar",name:"(GMT+08:00) Ulan Bator, Erdenet, Darhan, Hovd, M\xF6r\xF6n",utc:"+08:00"},{label:"Australia/Perth (GMT+08:00)",tzCode:"Australia/Perth",name:"(GMT+08:00) Perth, Rockingham, Mandurah, Bunbury, Albany",utc:"+08:00"},{label:"Australia/Eucla (GMT+08:45)",tzCode:"Australia/Eucla",name:"(GMT+08:45) Eucla",utc:"+08:45"},{label:"Asia/Chita (GMT+09:00)",tzCode:"Asia/Chita",name:"(GMT+09:00) Chita, Krasnokamensk, Borzya, Petrovsk-Zabaykal\u2019skiy, Aginskoye",utc:"+09:00"},{label:"Asia/Dili (GMT+09:00)",tzCode:"Asia/Dili",name:"(GMT+09:00) Dili, Maliana, Suai, Likis\xE1, Aileu",utc:"+09:00"},{label:"Asia/Jayapura (GMT+09:00)",tzCode:"Asia/Jayapura",name:"(GMT+09:00) Ambon, Jayapura, Sorong, Ternate, Abepura",utc:"+09:00"},{label:"Asia/Khandyga (GMT+09:00)",tzCode:"Asia/Khandyga",name:"(GMT+09:00) Khandyga",utc:"+09:00"},{label:"Asia/Pyongyang (GMT+09:00)",tzCode:"Asia/Pyongyang",name:"(GMT+09:00) Pyongyang, Hamh\u016Dng, Namp\u2019o, Sunch\u2019\u014Fn, H\u016Dngnam",utc:"+09:00"},{label:"Asia/Seoul (GMT+09:00)",tzCode:"Asia/Seoul",name:"(GMT+09:00) Seoul, Busan, Incheon, Daegu, Daejeon",utc:"+09:00"},{label:"Asia/Tokyo (GMT+09:00)",tzCode:"Asia/Tokyo",name:"(GMT+09:00) Tokyo, Yokohama, Osaka, Nagoya, Sapporo",utc:"+09:00"},{label:"Asia/Yakutsk (GMT+09:00)",tzCode:"Asia/Yakutsk",name:"(GMT+09:00) Yakutsk, Blagoveshchensk, Belogorsk, Neryungri, Svobodnyy",utc:"+09:00"},{label:"Pacific/Palau (GMT+09:00)",tzCode:"Pacific/Palau",name:"(GMT+09:00) Koror, Koror Town, Kloulklubed, Ulimang, Mengellang",utc:"+09:00"},{label:"Australia/Adelaide (GMT+09:30)",tzCode:"Australia/Adelaide",name:"(GMT+09:30) Adelaide, Adelaide Hills, Mount Gambier, Morphett Vale, Gawler",utc:"+09:30"},{label:"Australia/Broken_Hill (GMT+09:30)",tzCode:"Australia/Broken_Hill",name:"(GMT+09:30) Broken Hill",utc:"+09:30"},{label:"Australia/Darwin (GMT+09:30)",tzCode:"Australia/Darwin",name:"(GMT+09:30) Darwin, Alice Springs, Palmerston, Howard Springs",utc:"+09:30"},{label:"Antarctica/DumontDUrville (GMT+10:00)",tzCode:"Antarctica/DumontDUrville",name:"(GMT+10:00) DumontDUrville",utc:"+10:00"},{label:"Antarctica/Macquarie (GMT+10:00)",tzCode:"Antarctica/Macquarie",name:"(GMT+10:00) Macquarie",utc:"+10:00"},{label:"Asia/Ust-Nera (GMT+10:00)",tzCode:"Asia/Ust-Nera",name:"(GMT+10:00) Ust-Nera",utc:"+10:00"},{label:"Asia/Vladivostok (GMT+10:00)",tzCode:"Asia/Vladivostok",name:"(GMT+10:00) Vladivostok, Khabarovsk, Khabarovsk Vtoroy, Komsomolsk-on-Amur, Ussuriysk",utc:"+10:00"},{label:"Australia/Brisbane (GMT+10:00)",tzCode:"Australia/Brisbane",name:"(GMT+10:00) Brisbane, Gold Coast, Logan City, Townsville, Cairns",utc:"+10:00"},{label:"Australia/Currie (GMT+10:00)",tzCode:"Australia/Currie",name:"(GMT+10:00) Currie",utc:"+10:00"},{label:"Australia/Hobart (GMT+10:00)",tzCode:"Australia/Hobart",name:"(GMT+10:00) Hobart, Launceston, Burnie, Devonport, Sandy Bay",utc:"+10:00"},{label:"Australia/Lindeman (GMT+10:00)",tzCode:"Australia/Lindeman",name:"(GMT+10:00) Lindeman",utc:"+10:00"},{label:"Australia/Melbourne (GMT+10:00)",tzCode:"Australia/Melbourne",name:"(GMT+10:00) Melbourne, Geelong, Bendigo, Ballarat, Melbourne City Centre",utc:"+10:00"},{label:"Australia/Sydney (GMT+10:00)",tzCode:"Australia/Sydney",name:"(GMT+10:00) Sydney, Canberra, Newcastle, Wollongong, Maitland",utc:"+10:00"},{label:"Pacific/Chuuk (GMT+10:00)",tzCode:"Pacific/Chuuk",name:"(GMT+10:00) Weno, Colonia",utc:"+10:00"},{label:"Pacific/GuamVillage (GMT+10:00)",tzCode:"Pacific/GuamVillage",name:"(GMT+10:00) Dededo Village, Yigo Village, Tamuning, Tamuning-Tumon-Harmon Village, Mangilao Village",utc:"+10:00"},{label:"Pacific/Port_Moresby (GMT+10:00)",tzCode:"Pacific/Port_Moresby",name:"(GMT+10:00) Port Moresby, Lae, Mount Hagen, Popondetta, Madang",utc:"+10:00"},{label:"Pacific/Saipan (GMT+10:00)",tzCode:"Pacific/Saipan",name:"(GMT+10:00) Saipan, San Jose Village",utc:"+10:00"},{label:"Australia/Lord_Howe (GMT+10:30)",tzCode:"Australia/Lord_Howe",name:"(GMT+10:30) Lord Howe",utc:"+10:30"},{label:"Antarctica/Casey (GMT+11:00)",tzCode:"Antarctica/Casey",name:"(GMT+11:00) Casey",utc:"+11:00"},{label:"Asia/Magadan (GMT+11:00)",tzCode:"Asia/Magadan",name:"(GMT+11:00) Magadan, Ust-Nera, Susuman, Ola",utc:"+11:00"},{label:"Asia/Sakhalin (GMT+11:00)",tzCode:"Asia/Sakhalin",name:"(GMT+11:00) Yuzhno-Sakhalinsk, Korsakov, Kholmsk, Okha, Nevel\u2019sk",utc:"+11:00"},{label:"Asia/Srednekolymsk (GMT+11:00)",tzCode:"Asia/Srednekolymsk",name:"(GMT+11:00) Srednekolymsk",utc:"+11:00"},{label:"Pacific/Bougainville (GMT+11:00)",tzCode:"Pacific/Bougainville",name:"(GMT+11:00) Arawa, Buka",utc:"+11:00"},{label:"Pacific/Efate (GMT+11:00)",tzCode:"Pacific/Efate",name:"(GMT+11:00) Port-Vila, Luganville, Isangel, Sola, Lakatoro",utc:"+11:00"},{label:"Pacific/Guadalcanal (GMT+11:00)",tzCode:"Pacific/Guadalcanal",name:"(GMT+11:00) Honiara, Malango, Auki, Gizo, Buala",utc:"+11:00"},{label:"Pacific/Kosrae (GMT+11:00)",tzCode:"Pacific/Kosrae",name:"(GMT+11:00) Tofol",utc:"+11:00"},{label:"Pacific/Norfolk (GMT+11:00)",tzCode:"Pacific/Norfolk",name:"(GMT+11:00) Kingston",utc:"+11:00"},{label:"Pacific/Noumea (GMT+11:00)",tzCode:"Pacific/Noumea",name:"(GMT+11:00) Noum\xE9a, Mont-Dore, Dumb\xE9a, Pa\xEFta, W\xE9",utc:"+11:00"},{label:"Pacific/Pohnpei (GMT+11:00)",tzCode:"Pacific/Pohnpei",name:"(GMT+11:00) Kolonia, Kolonia Town, Palikir - National Government Center",utc:"+11:00"},{label:"Antarctica/McMurdo (GMT+12:00)",tzCode:"Antarctica/McMurdo",name:"(GMT+12:00) McMurdo",utc:"+12:00"},{label:"Asia/Anadyr (GMT+12:00)",tzCode:"Asia/Anadyr",name:"(GMT+12:00) Anadyr, Bilibino",utc:"+12:00"},{label:"Asia/Kamchatka (GMT+12:00)",tzCode:"Asia/Kamchatka",name:"(GMT+12:00) Petropavlovsk-Kamchatsky, Yelizovo, Vilyuchinsk, Klyuchi, Mil\u2019kovo",utc:"+12:00"},{label:"Pacific/Auckland (GMT+12:00)",tzCode:"Pacific/Auckland",name:"(GMT+12:00) Auckland, Wellington, Christchurch, Manukau City, North Shore",utc:"+12:00"},{label:"Pacific/Fiji (GMT+12:00)",tzCode:"Pacific/Fiji",name:"(GMT+12:00) Suva, Lautoka, Nadi, Labasa, Ba",utc:"+12:00"},{label:"Pacific/Funafuti (GMT+12:00)",tzCode:"Pacific/Funafuti",name:"(GMT+12:00) Funafuti, Savave Village, Tanrake Village, Toga Village, Asau Village",utc:"+12:00"},{label:"Pacific/Kwajalein (GMT+12:00)",tzCode:"Pacific/Kwajalein",name:"(GMT+12:00) Ebaye, Jabat",utc:"+12:00"},{label:"Pacific/Majuro (GMT+12:00)",tzCode:"Pacific/Majuro",name:"(GMT+12:00) Majuro, Arno, Jabor, Wotje, Mili",utc:"+12:00"},{label:"Pacific/Nauru (GMT+12:00)",tzCode:"Pacific/Nauru",name:"(GMT+12:00) Yaren, Baiti, Anabar, Uaboe, Ijuw",utc:"+12:00"},{label:"Pacific/Tarawa (GMT+12:00)",tzCode:"Pacific/Tarawa",name:"(GMT+12:00) Tarawa, Betio Village, Bikenibeu Village",utc:"+12:00"},{label:"Pacific/Wake (GMT+12:00)",tzCode:"Pacific/Wake",name:"(GMT+12:00) Wake",utc:"+12:00"},{label:"Pacific/Wallis (GMT+12:00)",tzCode:"Pacific/Wallis",name:"(GMT+12:00) Mata-Utu, Leava, Alo",utc:"+12:00"},{label:"Pacific/Chatham (GMT+12:45)",tzCode:"Pacific/Chatham",name:"(GMT+12:45) Waitangi",utc:"+12:45"},{label:"Pacific/Apia (GMT+13:00)",tzCode:"Pacific/Apia",name:"(GMT+13:00) Apia, Asau, Mulifanua, Afega, Leulumoega",utc:"+13:00"},{label:"Pacific/Enderbury (GMT+13:00)",tzCode:"Pacific/Enderbury",name:"(GMT+13:00) Enderbury",utc:"+13:00"},{label:"Pacific/Fakaofo (GMT+13:00)",tzCode:"Pacific/Fakaofo",name:"(GMT+13:00) Atafu Village, Nukunonu, Fale old settlement",utc:"+13:00"},{label:"Pacific/Tongatapu (GMT+13:00)",tzCode:"Pacific/Tongatapu",name:"(GMT+13:00) Nuku\u2018alofa, Lapaha, Neiafu, Pangai, \u2018Ohonua",utc:"+13:00"},{label:"Pacific/Kiritimati (GMT+14:00)",tzCode:"Pacific/Kiritimati",name:"(GMT+14:00) Kiritimati",utc:"+14:00"}],Hu=Object.freeze({__proto__:null,default:ju}),Vu=Ru(Hu),mo=fo(function(t,e){var n=co&&co.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0});const a=n(Vu);e.default=a.default});const Ga=[];function Uu(t,e){return{subscribe:da(t,e).subscribe}}function da(t,e=he){let n;const a=new Set;function r(h){if(Zt(t,h)&&(t=h,n)){const c=!Ga.length;for(const _ of a)_[1](),Ga.push(_,t);if(c){for(let _=0;_<Ga.length;_+=2)Ga[_][0](Ga[_+1]);Ga.length=0}}}function o(h){r(h(t))}function s(h,c=he){const _=[h,c];return a.add(_),a.size===1&&(n=e(r)||he),h(t),()=>{a.delete(_),a.size===0&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}function Wu(t,e,n){const a=!Array.isArray(t),r=a?[t]:t,o=e.length<2;return Uu(n,s=>{let h=!1;const c=[];let _=0,y=he;const v=()=>{if(_)return;y();const E=e(a?c[0]:c,s);o?s(E):y=wa(E)?E:he},k=r.map((E,S)=>$r(E,N=>{c[S]=N,_&=~(1<<S),h&&v()},()=>{_|=1<<S}));return h=!0,v(),function(){vt(k),y()}})}function Ku(){return da({})}const ni=Ku();var qu=Object.defineProperty,Yu=Object.defineProperties,Zu=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,Ju=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,_o=(t,e,n)=>e in t?qu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xu=(t,e)=>{for(var n in e||(e={}))Ju.call(e,n)&&_o(t,n,e[n]);if(ho)for(var n of ho(e))Qu.call(e,n)&&_o(t,n,e[n]);return t},$u=(t,e)=>Yu(t,Zu(e));async function ln(t){var e;if(!t.ok){const n=await t.json().then(o=>o),a=((e=n==null?void 0:n.response)==null?void 0:e.error)||(n==null?void 0:n.message),r=new Error(a);return r.name=n.name,Promise.reject({message:r,statusCode:t.status})}return t.json()}function sn(t={component_id:""}){return{method:t.method||"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Component-Id":t.component_id||"","X-Access-Token":t.access_token||""},body:t.body?JSON.stringify(t.body):void 0}}function Tn(t,e){throw console.error(e),ni.update(n=>$u(Xu({},n),{[t]:e})),e}const go={"001":"","002":"ireland-","003":"canada-"};function un(t){let e="";if(t.substring(3,4)==="-"){const a=t.substring(0,3);typeof go[a]!="undefined"&&(e=go[a])}return`https://${e}web-components.nylas.com/middleware`}function za(t){}async function ec(t,e){return fetch(`${un(e.component_id||"")}/agenda/events`,sn({method:"POST",component_id:e.component_id,access_token:e.access_token,body:t})).then(n=>ln(n)).then(n=>n.response)}const tc=async(t,e)=>await fetch(`${un(t.component_id)}/contacts/${e}/picture`,sn({component_id:t.component_id,access_token:t.access_token})).then(n=>ln(n)).then(n=>n.response).catch(n=>Tn(t.component_id,n));var nc=Object.defineProperty,ac=Object.defineProperties,ic=Object.getOwnPropertyDescriptors,bo=Object.getOwnPropertySymbols,rc=Object.prototype.hasOwnProperty,oc=Object.prototype.propertyIsEnumerable,yo=(t,e,n)=>e in t?nc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,po=(t,e)=>{for(var n in e||(e={}))rc.call(e,n)&&yo(t,n,e[n]);if(bo)for(var n of bo(e))oc.call(e,n)&&yo(t,n,e[n]);return t},vo=(t,e)=>ac(t,ic(e));const To=(t,e,n)=>{if(t.thread_ids){const r=t.thread_ids.slice(n,n+e);return Promise.all(r.map(async o=>{const s=`${un(t.component_id)}/threads/${o}?view=expanded`;return await fetch(s,sn(t)).then(h=>ln(h)).then(h=>h.response).then(h=>vo(po({},h),{messages:h.messages.filter(c=>c.from.length!==0||c.to.length!==0)})).catch(h=>Tn(t.component_id,h))}))}let a=`${un(t.component_id)}/threads?view=expanded&not_in=trash&limit=${e}&offset=${n}`;return t.query&&Object.entries(t.query).forEach(r=>a=a.concat(`&${r[0]}=${r[1]}`)),fetch(a,sn(t)).then(r=>ln(r)).then(r=>r.response).then(r=>r.map(o=>vo(po({},o),{messages:o.messages.filter(s=>s.from.length!==0||s.to.length!==0)}))).catch(r=>Tn(t.component_id,r))};function ko(t){let e=`${un(t.component_id)}/threads?view=expanded&not_in=trash&view=count`;return t.query&&Object.entries(t.query).forEach(n=>e=e.concat(`&${n[0]}=${n[1]}`)),t.keywordToSearch&&(e+=`&q=${t.keywordToSearch}`),fetch(e,sn(t)).then(n=>ln(n)).then(n=>n.response.count)}const lc=t=>{const e=`${un(t.component_id)}/threads/search?q=${t.keywordToSearch}&view=expanded&limit=${t.query.limit}&offset=${t.query.offset}`;return fetch(e,sn(t)).then(async n=>ln(n)).then(n=>n.response).catch(n=>Tn(t.component_id,n))},sc=(t,e)=>fetch(`${un(t.component_id)}/threads/${e.id}`,sn({method:"PUT",component_id:t.component_id,access_token:t.access_token,body:{unread:e.unread,starred:e.starred,folder_id:e.folder_id,label_ids:e.label_ids}})).then(n=>ln(n)).then(n=>n.response).catch(n=>Tn(t.component_id,n)),uc=async(t,e)=>await fetch(`${un(t)}/manifest`,sn({access_token:e,component_id:t})).then(ln).then(n=>n.component.theming).catch(n=>Tn(t,n)),cc=async(t,e,n)=>fetch(`${un(t)}/component`,sn({method:"PUT",component_id:t,access_token:n,body:{settings:e}})).then(a=>ln(a)).then(a=>a.response),fc=async(t,e,n)=>await fetch(`${un(t)}/send`,sn({method:"POST",component_id:t,access_token:n,body:e})).then(a=>ln(a)).then(a=>a.response).catch(a=>Tn(t,a));var dc=Object.defineProperty,Mo=Object.getOwnPropertySymbols,mc=Object.prototype.hasOwnProperty,hc=Object.prototype.propertyIsEnumerable,wo=(t,e,n)=>e in t?dc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ao=(t,e)=>{for(var n in e||(e={}))mc.call(e,n)&&wo(t,n,e[n]);if(Mo)for(var n of Mo(e))hc.call(e,n)&&wo(t,n,e[n]);return t};const _c=async t=>fetch(`${un(t.component_id)}/calendars/availability`,sn({method:"POST",component_id:t.component_id,access_token:t.access_token,body:t.body})).then(async e=>{const n=await ln(e);return n.response.time_slots=n.response.time_slots.map(a=>(a.start_time=a.start||0,a.end_time=a.end||0,delete a.start,delete a.end,a)),n.response}).catch(e=>Tn(t.component_id,e)),gc=async t=>fetch(`${un(t.component_id)}/calendars/availability/consecutive`,sn({method:"POST",component_id:t.component_id,access_token:t.access_token,body:t.body})).then(async e=>{var n;const r=((n=(await ln(e)).response)==null?void 0:n.map(h=>(h=h.map(c=>(c.start_time=new Date(c.start_time*1e3),c.end_time=new Date(c.end_time*1e3),c)),h)))||[],o=bc(r,t.body.events);return yc(o)}).catch(e=>Tn(t.component_id,e));function bc(t,e){return t.map(n=>n.map(a=>Ao(Ao({},a),e.find(r=>r.participantEmails.length===a.emails.length&&r.participantEmails.every(o=>a.emails.includes(o))))))}function yc(t){const e=new Set;return t.filter(n=>{const a=`${n[0].start_time}_${n[n.length-1].end_time}`;return e.has(a)?!1:(e.add(a),!0)})}var pc=Object.defineProperty,So=Object.getOwnPropertySymbols,vc=Object.prototype.hasOwnProperty,Tc=Object.prototype.propertyIsEnumerable,Co=(t,e,n)=>e in t?pc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kc=(t,e)=>{for(var n in e||(e={}))vc.call(e,n)&&Co(t,n,e[n]);if(So)for(var n of So(e))Tc.call(e,n)&&Co(t,n,e[n]);return t};function Mc(){const t=(n,a)=>{var r,o;const s=JSON.parse(a),h=kc({},s);if(delete h.forceReload,a=JSON.stringify(h),!(!s.component_id||!((r=s==null?void 0:s.body)==null?void 0:r.start_time)||!((o=s==null?void 0:s.body)==null?void 0:o.end_time))){if(!n[a]||s.forceReload){const c=_c(s);e.update(_=>(_[a]=c,_)),n[a]=c}return n[a]}},e=da(new Proxy({},{get:t}));return e}const wc=Mc();function Ac(){const t=(n,a)=>{var r,o;const s=JSON.parse(a);if(!(!s.component_id||!((r=s==null?void 0:s.body)==null?void 0:r.start_time)||!((o=s==null?void 0:s.body)==null?void 0:o.end_time))){if(!n[a]){const h=gc(s);e.update(c=>(c[a]=h,c)),n[a]=h}return n[a]}},e=da(new Proxy({},{get:t}));return e}const Sc=Ac(),ar={};function Cc(){const{subscribe:t,set:e}=da({});return{subscribe:t,getContactAvatar:async(n,a,r=!1)=>{if(!ar[a]||r){const o=await tc(n,a).then(s=>s).catch(()=>"");o&&(ar[a]=o)}return ar[a]},reset:()=>e({})}}const Gc=Cc();var zc=Object.defineProperty,Go=Object.getOwnPropertySymbols,Ec=Object.prototype.hasOwnProperty,Oc=Object.prototype.propertyIsEnumerable,zo=(t,e,n)=>e in t?zc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ma=(t,e)=>{for(var n in e||(e={}))Ec.call(e,n)&&zo(t,n,e[n]);if(Go)for(var n of Go(e))Oc.call(e,n)&&zo(t,n,e[n]);return t};async function Eo(t){const e=[];for(let n=0;n<t;n++)e.push({isLoaded:!1,threads:[]});return e}function Dc(){const{subscribe:t,set:e,update:n}=da({});let a={},r;return{subscribe:t,set:e,getThreads:async(o,s,h,c=!1)=>{const _=JSON.stringify(o);if(!o.component_id&&!o.access_token)return[];if(r===void 0||c){const y=o.thread_ids?o.thread_ids.length:await ko(o).catch(za);y&&(r=y)}if(!Array.isArray(a[_])||c){const y=Math.ceil(r/h);a[_]=await Eo(y)}if(typeof a[_][s]=="undefined")return[];if(!a[_][s].isLoaded){const y=await To(o,h,s*h).catch(za);y&&(a[_][s].threads=y,a[_][s].isLoaded=!0)}return n(y=>(y[_]=a[_],ma({},y))),a[_][s].threads},getNumberOfItems:async o=>{if(!o.component_id&&!o.access_token)return 0;if(typeof r=="undefined"){const s=await ko(o).catch(za);s&&(r=s)}return r},getThreadsWithSearchKeyword:async(o,s=!1)=>{if(!o.component_id&&!o.access_token)return[];const h=JSON.stringify(o);if((!Array.isArray(a[h])||s)&&(a[h]=await Eo(1)),!a[h][0].isLoaded||s){const c=await lc(o).catch(za);c&&(a[h][0].threads=c,a[h][0].isLoaded=!0)}return n(c=>(c[h]=a[h],ma({},c))),a[h][0].threads},updateThread:async(o,s,h,c,_)=>{const y=await sc(o,h).catch(za);if(!a[s][c].isLoaded){const v=await To(JSON.parse(s),_,c*_).catch(za);v&&(a[s][c].threads=v,a[s][c].isLoaded=!0)}return a[s][c].threads=a[s][c].threads.map(v=>(y&&v.id===y.id&&(v=Object.assign(v,y)),v)),n(v=>(v[s]=a[s],ma({},v))),a[s][c].threads},updateThreadSelection:(o,s,h)=>{const c=a[o][s].threads;if(h){const _=c.find(y=>y.id===h);_&&(_.selected=!_.selected)}else{const _=c.some(y=>y.selected);for(const y of c)y.selected=!_}return n(_=>(_[o]=a[o],ma({},_))),a[o][s].threads},reset:()=>{a={},e({})},hydrateMessageInThread:(o,s,h)=>{var c,_,y;const v=JSON.stringify(s),k=(_=(c=a[v][h])==null?void 0:c.threads)==null?void 0:_.find(E=>E.id===o.thread_id);if(k){const E=(y=k.messages)==null?void 0:y.find(S=>S.id===o.id);E?(E.body=o.body,n(S=>{if(o.thread_id){let N=S[v][h].threads.find(w=>w.id===k.id);N&&(N=JSON.parse(JSON.stringify(k)))}return ma({},S)})):n(S=>{if(o.thread_id){let N=S[v][h].threads.find(w=>w.id===k.id);if(N){const w=k.messages;w.push(o),k.messages=w,k.snippet=o.snippet,k.drafts=k.drafts.filter(M=>M.id!==o.id),N=JSON.parse(JSON.stringify(k))}}return ma({},S)})}return a[v][h].threads},hydrateDraftInThread:(o,s,h)=>{var c,_,y;const v=JSON.stringify(s),k=(_=(c=a[v][h])==null?void 0:c.threads)==null?void 0:_.find(E=>E.id===o.thread_id);if(k){const E=(y=k.drafts)==null?void 0:y.find(S=>S.id===o.id);if(o.thread_id){if(E)Object.assign(E,o);else{const S=k.drafts;S.push(o),k.drafts=S}n(S=>{let N=S[v][h].threads.find(w=>w.id===k.id);return N&&(N=JSON.parse(JSON.stringify(k))),ma({},S)})}}return a[v][h].threads}}}const Nc=Dc();Wu(Nc,t=>{const e={};return Object.entries(t).forEach(([n,a])=>e[n]=a.map(r=>r.threads).flat()),e});function Ic(){const t=(n,a)=>{const r=JSON.parse(a);if(!!r.component_id){if(!n[a]){const o=uc(r.component_id,r.access_token);e.update(s=>(s[a]=o,s)),n[a]=o}return n[a]}},e=da(new Proxy({},{get:t}));return e}const ir=Ic();function Oo(t){let e,n,a,r,o,s;function h(y,v){if(y[2]==="HostDomainNotAllowedError")return Pc;if(y[2]==="IncompatibleProperties")return Lc}let c=h(t),_=c&&c(t);return{c(){var y,v;e=b("div"),_&&_.c(),n=O(),a=b("span"),a.textContent="Debug info:",r=O(),o=b("textarea"),p(a,"class","details"),p(o,"class","details"),o.readOnly=!0,o.value=s=`
      `+t[2]+": "+t[0]+`
      `+((v=(y=t[1].message)==null?void 0:y.message)!=null?v:"")+`
    `,p(e,"class","message-container")},m(y,v){Y(y,e,v),_&&_.m(e,null),m(e,n),m(e,a),m(e,r),m(e,o)},p(y,v){var k,E;c===(c=h(y))&&_?_.p(y,v):(_&&_.d(1),_=c&&c(y),_&&(_.c(),_.m(e,n))),v&7&&s!==(s=`
      `+y[2]+": "+y[0]+`
      `+((E=(k=y[1].message)==null?void 0:k.message)!=null?E:"")+`
    `)&&(o.value=s)},d(y){y&&W(e),_&&_.d()}}}function Lc(t){let e;return{c(){e=b("h3"),e.textContent="Your component properties do not work with each other."},m(n,a){Y(n,e,a)},p:he,d(n){n&&W(e)}}}function Pc(t){let e,n,a,r,o,s;return{c(){e=b("h3"),n=ge(`You are trying to access this component from\xA0
        `),a=b("code"),a.textContent=`${window.location.hostname}`,r=ge(`. The component's settings do not
        allow access from this domain.`),o=O(),s=b("h4"),s.innerHTML=`The list of allowed domains can be modified in your\xA0
        <a href="https://dashboard.nylas.com">Dashboard</a>.`},m(h,c){Y(h,e,c),m(e,n),m(e,a),m(e,r),Y(h,o,c),Y(h,s,c)},p:he,d(h){h&&W(e),h&&W(o),h&&W(s)}}}function Fc(t){let e,n=t[2]&&t[3]&&Oo(t);return{c(){n&&n.c(),e=Aa(),this.c=he},m(a,r){n&&n.m(a,r),Y(a,e,r)},p(a,[r]){a[2]&&a[3]?n?n.p(a,r):(n=Oo(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:he,o:he,d(a){n&&n.d(a),a&&W(e)}}}function Bc(t,e,n){let a;Fn(t,ni,k=>n(8,a=k));var r,o,s,h;let{id:c}=e,_,y;const v=window.location.href.includes("localhost")||window.location.href.includes("127.0.0.1");return t.$$set=k=>{"id"in k&&n(0,c=k.id)},t.$$.update=()=>{t.$$.dirty&499&&(n(1,_=n(4,r=a[c])!==null&&r!==void 0?r:{name:""}),n(2,y=n(7,h=n(5,o=_.name)!==null&&o!==void 0?o:n(6,s=_.message)===null||s===void 0?void 0:s.name)!==null&&h!==void 0?h:""))},[c,_,y,v,r,o,s,h,a]}class Rc extends Vn{constructor(e){super();this.shadowRoot.innerHTML=`<style>.message-container{background:#fff6f6;border-radius:5px;box-shadow:0 0 0 1px #aa92a0 inset, 0 0 0 0 transparent;color:#9f3a38;font-size:1.25rem;padding:10px;margin:0 auto;transition:opacity 500ms ease, color 500ms ease,
      background-color 500ms ease, box-shadow 500ms ease,
      -webkit-box-shadow 500ms ease}.message-container *:focus{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color}.details{color:#494949;font-size:0.75rem;width:100%}</style>`,Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Bc,Fc,Qr,{id:0},null),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["id"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),X()}}customElements.define("nylas-error",Rc);var Ea=fo(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function n(l,d){for(var u=0;u<d.length;u++){var i=d[u];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(l,i.key,i)}}function a(l,d,u){return d&&n(l.prototype,d),u&&n(l,u),l}function r(){return r=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(l[i]=u[i])}return l},r.apply(this,arguments)}function o(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,h(l,d)}function s(l){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},s(l)}function h(l,d){return h=Object.setPrototypeOf||function(i,f){return i.__proto__=f,i},h(l,d)}function c(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}function _(l,d,u){return c()?_=Reflect.construct:_=function(f,g,T){var A=[null];A.push.apply(A,g);var D=Function.bind.apply(f,A),x=new D;return T&&h(x,T.prototype),x},_.apply(null,arguments)}function y(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function v(l){var d=typeof Map=="function"?new Map:void 0;return v=function(i){if(i===null||!y(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof d!="undefined"){if(d.has(i))return d.get(i);d.set(i,f)}function f(){return _(i,arguments,s(this).constructor)}return f.prototype=Object.create(i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h(f,i)},v(l)}function k(l,d){if(l==null)return{};var u={},i=Object.keys(l),f,g;for(g=0;g<i.length;g++)f=i[g],!(d.indexOf(f)>=0)&&(u[f]=l[f]);return u}function E(l,d){if(!!l){if(typeof l=="string")return S(l,d);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return S(l,d)}}function S(l,d){(d==null||d>l.length)&&(d=l.length);for(var u=0,i=new Array(d);u<d;u++)i[u]=l[u];return i}function N(l,d){var u=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(u)return(u=u.call(l)).next.bind(u);if(Array.isArray(l)||(u=E(l))||d&&l&&typeof l.length=="number"){u&&(l=u);var i=0;return function(){return i>=l.length?{done:!0}:{done:!1,value:l[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=function(l){o(d,l);function d(){return l.apply(this,arguments)||this}return d}(v(Error)),M=function(l){o(d,l);function d(u){return l.call(this,"Invalid DateTime: "+u.toMessage())||this}return d}(w),G=function(l){o(d,l);function d(u){return l.call(this,"Invalid Interval: "+u.toMessage())||this}return d}(w),I=function(l){o(d,l);function d(u){return l.call(this,"Invalid Duration: "+u.toMessage())||this}return d}(w),U=function(l){o(d,l);function d(){return l.apply(this,arguments)||this}return d}(w),B=function(l){o(d,l);function d(u){return l.call(this,"Invalid unit "+u)||this}return d}(w),z=function(l){o(d,l);function d(){return l.apply(this,arguments)||this}return d}(w),V=function(l){o(d,l);function d(){return l.call(this,"Zone is an abstract class")||this}return d}(w),L="numeric",re="short",K="long",H={year:L,month:L,day:L},Z={year:L,month:re,day:L},de={year:L,month:re,day:L,weekday:re},ke={year:L,month:K,day:L},oe={year:L,month:K,day:L,weekday:K},j={hour:L,minute:L},q={hour:L,minute:L,second:L},ce={hour:L,minute:L,second:L,timeZoneName:re},Ge={hour:L,minute:L,second:L,timeZoneName:K},Pe={hour:L,minute:L,hourCycle:"h23"},_e={hour:L,minute:L,second:L,hourCycle:"h23"},ze={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:re},Be={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:K},F={year:L,month:L,day:L,hour:L,minute:L},le={year:L,month:L,day:L,hour:L,minute:L,second:L},se={year:L,month:re,day:L,hour:L,minute:L},ye={year:L,month:re,day:L,hour:L,minute:L,second:L},ue={year:L,month:re,day:L,weekday:re,hour:L,minute:L},ie={year:L,month:K,day:L,hour:L,minute:L,timeZoneName:re},be={year:L,month:K,day:L,hour:L,minute:L,second:L,timeZoneName:re},Ce={year:L,month:K,day:L,weekday:K,hour:L,minute:L,timeZoneName:K},Q={year:L,month:K,day:L,weekday:K,hour:L,minute:L,second:L,timeZoneName:K};function P(l){return typeof l=="undefined"}function fe(l){return typeof l=="number"}function pe(l){return typeof l=="number"&&l%1==0}function Me(l){return typeof l=="string"}function Ze(l){return Object.prototype.toString.call(l)==="[object Date]"}function Je(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(l){return!1}}function it(l){return Array.isArray(l)?l:[l]}function Ue(l,d,u){if(l.length!==0)return l.reduce(function(i,f){var g=[d(f),f];return i&&u(i[0],g[0])===i[0]?i:g},null)[1]}function lt(l,d){return d.reduce(function(u,i){return u[i]=l[i],u},{})}function dt(l,d){return Object.prototype.hasOwnProperty.call(l,d)}function Te(l,d,u){return pe(l)&&l>=d&&l<=u}function Ke(l,d){return l-d*Math.floor(l/d)}function Fe(l,d){d===void 0&&(d=2);var u=l<0,i;return u?i="-"+(""+-l).padStart(d,"0"):i=(""+l).padStart(d,"0"),i}function We(l){if(!(P(l)||l===null||l===""))return parseInt(l,10)}function ct(l){if(!(P(l)||l===null||l===""))return parseFloat(l)}function J(l){if(!(P(l)||l===null||l==="")){var d=parseFloat("0."+l)*1e3;return Math.floor(d)}}function Qe(l,d,u){u===void 0&&(u=!1);var i=Math.pow(10,d),f=u?Math.trunc:Math.round;return f(l*i)/i}function Ve(l){return l%4==0&&(l%100!=0||l%400==0)}function Tt(l){return Ve(l)?366:365}function mt(l,d){var u=Ke(d-1,12)+1,i=l+(d-u)/12;return u===2?Ve(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][u-1]}function Ot(l){var d=Date.UTC(l.year,l.month-1,l.day,l.hour,l.minute,l.second,l.millisecond);return l.year<100&&l.year>=0&&(d=new Date(d),d.setUTCFullYear(d.getUTCFullYear()-1900)),+d}function pt(l){var d=(l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400))%7,u=l-1,i=(u+Math.floor(u/4)-Math.floor(u/100)+Math.floor(u/400))%7;return d===4||i===3?53:52}function wt(l){return l>99?l:l>60?1900+l:2e3+l}function Ft(l,d,u,i){i===void 0&&(i=null);var f=new Date(l),g={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(g.timeZone=i);var T=r({timeZoneName:d},g),A=new Intl.DateTimeFormat(u,T).formatToParts(f).find(function(D){return D.type.toLowerCase()==="timezonename"});return A?A.value:null}function gt(l,d){var u=parseInt(l,10);Number.isNaN(u)&&(u=0);var i=parseInt(d,10)||0,f=u<0||Object.is(u,-0)?-i:i;return u*60+f}function Yt(l){var d=Number(l);if(typeof l=="boolean"||l===""||Number.isNaN(d))throw new z("Invalid unit value "+l);return d}function At(l,d){var u={};for(var i in l)if(dt(l,i)){var f=l[i];if(f==null)continue;u[d(i)]=Yt(f)}return u}function Ut(l,d){var u=Math.trunc(Math.abs(l/60)),i=Math.trunc(Math.abs(l%60)),f=l>=0?"+":"-";switch(d){case"short":return""+f+Fe(u,2)+":"+Fe(i,2);case"narrow":return""+f+u+(i>0?":"+i:"");case"techie":return""+f+Fe(u,2)+Fe(i,2);default:throw new RangeError("Value format "+d+" is out of range for property format")}}function Dt(l){return lt(l,["hour","minute","second","millisecond"])}var Nt=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Xe=["January","February","March","April","May","June","July","August","September","October","November","December"],Wt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fn=["J","F","M","A","M","J","J","A","S","O","N","D"];function nn(l){switch(l){case"narrow":return[].concat(fn);case"short":return[].concat(Wt);case"long":return[].concat(Xe);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var dn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],mn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Dn=["M","T","W","T","F","S","S"];function hn(l){switch(l){case"narrow":return[].concat(Dn);case"short":return[].concat(mn);case"long":return[].concat(dn);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Bt=["AM","PM"],Nn=["Before Christ","Anno Domini"],tt=["BC","AD"],_n=["B","A"];function Rt(l){switch(l){case"narrow":return[].concat(_n);case"short":return[].concat(tt);case"long":return[].concat(Nn);default:return null}}function In(l){return Bt[l.hour<12?0:1]}function xt(l,d){return hn(d)[l.weekday-1]}function ht(l,d){return nn(d)[l.month-1]}function an(l,d){return Rt(d)[l.year<0?0:1]}function bt(l,d,u,i){u===void 0&&(u="always"),i===void 0&&(i=!1);var f={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},g=["hours","minutes","seconds"].indexOf(l)===-1;if(u==="auto"&&g){var T=l==="days";switch(d){case 1:return T?"tomorrow":"next "+f[l][0];case-1:return T?"yesterday":"last "+f[l][0];case 0:return T?"today":"this "+f[l][0]}}var A=Object.is(d,-0)||d<0,D=Math.abs(d),x=D===1,ae=f[l],ee=i?x?ae[1]:ae[2]||ae[1]:x?f[l][0]:l;return A?D+" "+ee+" ago":"in "+D+" "+ee}function Ae(l,d){for(var u="",i=N(l),f;!(f=i()).done;){var g=f.value;g.literal?u+=g.val:u+=d(g.val)}return u}var rt={D:H,DD:Z,DDD:ke,DDDD:oe,t:j,tt:q,ttt:ce,tttt:Ge,T:Pe,TT:_e,TTT:ze,TTTT:Be,f:F,ff:se,fff:ie,ffff:Ce,F:le,FF:ye,FFF:be,FFFF:Q},De=function(){l.create=function(i,f){return f===void 0&&(f={}),new l(i,f)},l.parseFormat=function(i){for(var f=null,g="",T=!1,A=[],D=0;D<i.length;D++){var x=i.charAt(D);x==="'"?(g.length>0&&A.push({literal:T,val:g}),f=null,g="",T=!T):T||x===f?g+=x:(g.length>0&&A.push({literal:!1,val:g}),g=x,f=x)}return g.length>0&&A.push({literal:T,val:g}),A},l.macroTokenToFormatOpts=function(i){return rt[i]};function l(u,i){this.opts=i,this.loc=u,this.systemLoc=null}var d=l.prototype;return d.formatWithSystemDefault=function(i,f){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var g=this.systemLoc.dtFormatter(i,r({},this.opts,f));return g.format()},d.formatDateTime=function(i,f){f===void 0&&(f={});var g=this.loc.dtFormatter(i,r({},this.opts,f));return g.format()},d.formatDateTimeParts=function(i,f){f===void 0&&(f={});var g=this.loc.dtFormatter(i,r({},this.opts,f));return g.formatToParts()},d.resolvedOptions=function(i,f){f===void 0&&(f={});var g=this.loc.dtFormatter(i,r({},this.opts,f));return g.resolvedOptions()},d.num=function(i,f){if(f===void 0&&(f=0),this.opts.forceSimple)return Fe(i,f);var g=r({},this.opts);return f>0&&(g.padTo=f),this.loc.numberFormatter(g).format(i)},d.formatDateTimeFromString=function(i,f){var g=this,T=this.loc.listingMode()==="en",A=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",D=function(Oe,Ht){return g.loc.extract(i,Oe,Ht)},x=function(Oe){return i.isOffsetFixed&&i.offset===0&&Oe.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,Oe.format):""},ae=function(){return T?In(i):D({hour:"numeric",hourCycle:"h12"},"dayperiod")},ee=function(Oe,Ht){return T?ht(i,Oe):D(Ht?{month:Oe}:{month:Oe,day:"numeric"},"month")},ne=function(Oe,Ht){return T?xt(i,Oe):D(Ht?{weekday:Oe}:{weekday:Oe,month:"long",day:"numeric"},"weekday")},ve=function(Oe){var Ht=l.macroTokenToFormatOpts(Oe);return Ht?g.formatWithSystemDefault(i,Ht):Oe},Ne=function(Oe){return T?an(i,Oe):D({era:Oe},"era")},at=function(Oe){switch(Oe){case"S":return g.num(i.millisecond);case"u":case"SSS":return g.num(i.millisecond,3);case"s":return g.num(i.second);case"ss":return g.num(i.second,2);case"uu":return g.num(Math.floor(i.millisecond/10),2);case"uuu":return g.num(Math.floor(i.millisecond/100));case"m":return g.num(i.minute);case"mm":return g.num(i.minute,2);case"h":return g.num(i.hour%12==0?12:i.hour%12);case"hh":return g.num(i.hour%12==0?12:i.hour%12,2);case"H":return g.num(i.hour);case"HH":return g.num(i.hour,2);case"Z":return x({format:"narrow",allowZ:g.opts.allowZ});case"ZZ":return x({format:"short",allowZ:g.opts.allowZ});case"ZZZ":return x({format:"techie",allowZ:g.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:g.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:g.loc.locale});case"z":return i.zoneName;case"a":return ae();case"d":return A?D({day:"numeric"},"day"):g.num(i.day);case"dd":return A?D({day:"2-digit"},"day"):g.num(i.day,2);case"c":return g.num(i.weekday);case"ccc":return ne("short",!0);case"cccc":return ne("long",!0);case"ccccc":return ne("narrow",!0);case"E":return g.num(i.weekday);case"EEE":return ne("short",!1);case"EEEE":return ne("long",!1);case"EEEEE":return ne("narrow",!1);case"L":return A?D({month:"numeric",day:"numeric"},"month"):g.num(i.month);case"LL":return A?D({month:"2-digit",day:"numeric"},"month"):g.num(i.month,2);case"LLL":return ee("short",!0);case"LLLL":return ee("long",!0);case"LLLLL":return ee("narrow",!0);case"M":return A?D({month:"numeric"},"month"):g.num(i.month);case"MM":return A?D({month:"2-digit"},"month"):g.num(i.month,2);case"MMM":return ee("short",!1);case"MMMM":return ee("long",!1);case"MMMMM":return ee("narrow",!1);case"y":return A?D({year:"numeric"},"year"):g.num(i.year);case"yy":return A?D({year:"2-digit"},"year"):g.num(i.year.toString().slice(-2),2);case"yyyy":return A?D({year:"numeric"},"year"):g.num(i.year,4);case"yyyyyy":return A?D({year:"numeric"},"year"):g.num(i.year,6);case"G":return Ne("short");case"GG":return Ne("long");case"GGGGG":return Ne("narrow");case"kk":return g.num(i.weekYear.toString().slice(-2),2);case"kkkk":return g.num(i.weekYear,4);case"W":return g.num(i.weekNumber);case"WW":return g.num(i.weekNumber,2);case"o":return g.num(i.ordinal);case"ooo":return g.num(i.ordinal,3);case"q":return g.num(i.quarter);case"qq":return g.num(i.quarter,2);case"X":return g.num(Math.floor(i.ts/1e3));case"x":return g.num(i.ts);default:return ve(Oe)}};return Ae(l.parseFormat(f),at)},d.formatDurationFromString=function(i,f){var g=this,T=function(ne){switch(ne[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},A=function(ne){return function(ve){var Ne=T(ve);return Ne?g.num(ne.get(Ne),ve.length):ve}},D=l.parseFormat(f),x=D.reduce(function(ee,ne){var ve=ne.literal,Ne=ne.val;return ve?ee:ee.concat(Ne)},[]),ae=i.shiftTo.apply(i,x.map(T).filter(function(ee){return ee}));return Ae(D,A(ae))},l}(),kt=function(){function l(u,i){this.reason=u,this.explanation=i}var d=l.prototype;return d.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},l}(),Ln=function(){function l(){}var d=l.prototype;return d.offsetName=function(i,f){throw new V},d.formatOffset=function(i,f){throw new V},d.offset=function(i){throw new V},d.equals=function(i){throw new V},a(l,[{key:"type",get:function(){throw new V}},{key:"name",get:function(){throw new V}},{key:"isUniversal",get:function(){throw new V}},{key:"isValid",get:function(){throw new V}}]),l}(),ya=null,qn=function(l){o(d,l);function d(){return l.apply(this,arguments)||this}var u=d.prototype;return u.offsetName=function(f,g){var T=g.format,A=g.locale;return Ft(f,T,A)},u.formatOffset=function(f,g){return Ut(this.offset(f),g)},u.offset=function(f){return-new Date(f).getTimezoneOffset()},u.equals=function(f){return f.type==="system"},a(d,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return ya===null&&(ya=new d),ya}}]),d}(Ln),Ra=RegExp("^"+Nt.source+"$"),Yn={};function xa(l){return Yn[l]||(Yn[l]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Yn[l]}var mi={year:0,month:1,day:2,hour:3,minute:4,second:5};function kn(l,d){var u=l.format(d).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(u),f=i[1],g=i[2],T=i[3],A=i[4],D=i[5],x=i[6];return[T,f,g,A,D,x]}function Zn(l,d){for(var u=l.formatToParts(d),i=[],f=0;f<u.length;f++){var g=u[f],T=g.type,A=g.value,D=mi[T];P(D)||(i[D]=parseInt(A,10))}return i}var ra={},rn=function(l){o(d,l),d.create=function(f){return ra[f]||(ra[f]=new d(f)),ra[f]},d.resetCache=function(){ra={},Yn={}},d.isValidSpecifier=function(f){return!!(f&&f.match(Ra))},d.isValidZone=function(f){if(!f)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:f}).format(),!0}catch(g){return!1}};function d(i){var f;return f=l.call(this)||this,f.zoneName=i,f.valid=d.isValidZone(i),f}var u=d.prototype;return u.offsetName=function(f,g){var T=g.format,A=g.locale;return Ft(f,T,A,this.name)},u.formatOffset=function(f,g){return Ut(this.offset(f),g)},u.offset=function(f){var g=new Date(f);if(isNaN(g))return NaN;var T=xa(this.name),A=T.formatToParts?Zn(T,g):kn(T,g),D=A[0],x=A[1],ae=A[2],ee=A[3],ne=A[4],ve=A[5],Ne=ee===24?0:ee,at=Ot({year:D,month:x,day:ae,hour:Ne,minute:ne,second:ve,millisecond:0}),$e=+g,Oe=$e%1e3;return $e-=Oe>=0?Oe:1e3+Oe,(at-$e)/(60*1e3)},u.equals=function(f){return f.type==="iana"&&f.name===this.name},a(d,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),d}(Ln),pa=null,It=function(l){o(d,l),d.instance=function(f){return f===0?d.utcInstance:new d(f)},d.parseSpecifier=function(f){if(f){var g=f.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(g)return new d(gt(g[1],g[2]))}return null};function d(i){var f;return f=l.call(this)||this,f.fixed=i,f}var u=d.prototype;return u.offsetName=function(){return this.name},u.formatOffset=function(f,g){return Ut(this.fixed,g)},u.offset=function(){return this.fixed},u.equals=function(f){return f.type==="fixed"&&f.fixed===this.fixed},a(d,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+Ut(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return pa===null&&(pa=new d(0)),pa}}]),d}(Ln),Mn=function(l){o(d,l);function d(i){var f;return f=l.call(this)||this,f.zoneName=i,f}var u=d.prototype;return u.offsetName=function(){return null},u.formatOffset=function(){return""},u.offset=function(){return NaN},u.equals=function(){return!1},a(d,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),d}(Ln);function gn(l,d){if(P(l)||l===null)return d;if(l instanceof Ln)return l;if(Me(l)){var u=l.toLowerCase();return u==="local"||u==="system"?d:u==="utc"||u==="gmt"?It.utcInstance:rn.isValidSpecifier(u)?rn.create(l):It.parseSpecifier(u)||new Mn(l)}else return fe(l)?It.instance(l):typeof l=="object"&&l.offset&&typeof l.offset=="number"?l:new Mn(l)}var ja=function(){return Date.now()},Ha="system",Va=null,Ua=null,Wa=null,Ka,yt=function(){function l(){}return l.resetCaches=function(){St.resetCache(),rn.resetCache()},a(l,null,[{key:"now",get:function(){return ja},set:function(u){ja=u}},{key:"defaultZone",get:function(){return gn(Ha,qn.instance)},set:function(u){Ha=u}},{key:"defaultLocale",get:function(){return Va},set:function(u){Va=u}},{key:"defaultNumberingSystem",get:function(){return Ua},set:function(u){Ua=u}},{key:"defaultOutputCalendar",get:function(){return Wa},set:function(u){Wa=u}},{key:"throwOnInvalid",get:function(){return Ka},set:function(u){Ka=u}}]),l}(),hi=["base"],_i=["padTo","floor"],C={};function $(l,d){d===void 0&&(d={});var u=JSON.stringify([l,d]),i=C[u];return i||(i=new Intl.ListFormat(l,d),C[u]=i),i}var Se={};function me(l,d){d===void 0&&(d={});var u=JSON.stringify([l,d]),i=Se[u];return i||(i=new Intl.DateTimeFormat(l,d),Se[u]=i),i}var Le={};function ft(l,d){d===void 0&&(d={});var u=JSON.stringify([l,d]),i=Le[u];return i||(i=new Intl.NumberFormat(l,d),Le[u]=i),i}var zt={};function Pn(l,d){d===void 0&&(d={});var u=d;u.base;var i=k(u,hi),f=JSON.stringify([l,i]),g=zt[f];return g||(g=new Intl.RelativeTimeFormat(l,d),zt[f]=g),g}var Qt=null;function on(){return Qt||(Qt=new Intl.DateTimeFormat().resolvedOptions().locale,Qt)}function wn(l){var d=l.indexOf("-u-");if(d===-1)return[l];var u,i=l.substring(0,d);try{u=me(l).resolvedOptions()}catch(A){u=me(i).resolvedOptions()}var f=u,g=f.numberingSystem,T=f.calendar;return[i,g,T]}function va(l,d,u){return(u||d)&&(l+="-u",u&&(l+="-ca-"+u),d&&(l+="-nu-"+d)),l}function Or(l){for(var d=[],u=1;u<=12;u++){var i=Ct.utc(2016,u,1);d.push(l(i))}return d}function Dr(l){for(var d=[],u=1;u<=7;u++){var i=Ct.utc(2016,11,13+u);d.push(l(i))}return d}function qa(l,d,u,i,f){var g=l.listingMode(u);return g==="error"?null:g==="en"?i(d):f(d)}function Nr(l){return l.numberingSystem&&l.numberingSystem!=="latn"?!1:l.numberingSystem==="latn"||!l.locale||l.locale.startsWith("en")||new Intl.DateTimeFormat(l.intl).resolvedOptions().numberingSystem==="latn"}var Ir=function(){function l(u,i,f){this.padTo=f.padTo||0,this.floor=f.floor||!1,f.padTo,f.floor;var g=k(f,_i);if(!i||Object.keys(g).length>0){var T=r({useGrouping:!1},f);f.padTo>0&&(T.minimumIntegerDigits=f.padTo),this.inf=ft(u,T)}}var d=l.prototype;return d.format=function(i){if(this.inf){var f=this.floor?Math.floor(i):i;return this.inf.format(f)}else{var g=this.floor?Math.floor(i):Qe(i,3);return Fe(g,this.padTo)}},l}(),Lr=function(){function l(u,i,f){this.opts=f;var g;if(u.zone.isUniversal){var T=-1*(u.offset/60),A=T>=0?"Etc/GMT+"+T:"Etc/GMT"+T;u.offset!==0&&rn.create(A).valid?(g=A,this.dt=u):(g="UTC",f.timeZoneName?this.dt=u:this.dt=u.offset===0?u:Ct.fromMillis(u.ts+u.offset*60*1e3))}else u.zone.type==="system"?this.dt=u:(this.dt=u,g=u.zone.name);var D=r({},this.opts);g&&(D.timeZone=g),this.dtf=me(i,D)}var d=l.prototype;return d.format=function(){return this.dtf.format(this.dt.toJSDate())},d.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},d.resolvedOptions=function(){return this.dtf.resolvedOptions()},l}(),Pr=function(){function l(u,i,f){this.opts=r({style:"long"},f),!i&&Je()&&(this.rtf=Pn(u,f))}var d=l.prototype;return d.format=function(i,f){return this.rtf?this.rtf.format(i,f):bt(f,i,this.opts.numeric,this.opts.style!=="long")},d.formatToParts=function(i,f){return this.rtf?this.rtf.formatToParts(i,f):[]},l}(),St=function(){l.fromOpts=function(i){return l.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)},l.create=function(i,f,g,T){T===void 0&&(T=!1);var A=i||yt.defaultLocale,D=A||(T?"en-US":on()),x=f||yt.defaultNumberingSystem,ae=g||yt.defaultOutputCalendar;return new l(D,x,ae,A)},l.resetCache=function(){Qt=null,Se={},Le={},zt={}},l.fromObject=function(i){var f=i===void 0?{}:i,g=f.locale,T=f.numberingSystem,A=f.outputCalendar;return l.create(g,T,A)};function l(u,i,f,g){var T=wn(u),A=T[0],D=T[1],x=T[2];this.locale=A,this.numberingSystem=i||D||null,this.outputCalendar=f||x||null,this.intl=va(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=g,this.fastNumbersCached=null}var d=l.prototype;return d.listingMode=function(){var i=this.isEnglish(),f=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return i&&f?"en":"intl"},d.clone=function(i){return!i||Object.getOwnPropertyNames(i).length===0?this:l.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1)},d.redefaultToEN=function(i){return i===void 0&&(i={}),this.clone(r({},i,{defaultToEN:!0}))},d.redefaultToSystem=function(i){return i===void 0&&(i={}),this.clone(r({},i,{defaultToEN:!1}))},d.months=function(i,f,g){var T=this;return f===void 0&&(f=!1),g===void 0&&(g=!0),qa(this,i,g,nn,function(){var A=f?{month:i,day:"numeric"}:{month:i},D=f?"format":"standalone";return T.monthsCache[D][i]||(T.monthsCache[D][i]=Or(function(x){return T.extract(x,A,"month")})),T.monthsCache[D][i]})},d.weekdays=function(i,f,g){var T=this;return f===void 0&&(f=!1),g===void 0&&(g=!0),qa(this,i,g,hn,function(){var A=f?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},D=f?"format":"standalone";return T.weekdaysCache[D][i]||(T.weekdaysCache[D][i]=Dr(function(x){return T.extract(x,A,"weekday")})),T.weekdaysCache[D][i]})},d.meridiems=function(i){var f=this;return i===void 0&&(i=!0),qa(this,void 0,i,function(){return Bt},function(){if(!f.meridiemCache){var g={hour:"numeric",hourCycle:"h12"};f.meridiemCache=[Ct.utc(2016,11,13,9),Ct.utc(2016,11,13,19)].map(function(T){return f.extract(T,g,"dayperiod")})}return f.meridiemCache})},d.eras=function(i,f){var g=this;return f===void 0&&(f=!0),qa(this,i,f,Rt,function(){var T={era:i};return g.eraCache[i]||(g.eraCache[i]=[Ct.utc(-40,1,1),Ct.utc(2017,1,1)].map(function(A){return g.extract(A,T,"era")})),g.eraCache[i]})},d.extract=function(i,f,g){var T=this.dtFormatter(i,f),A=T.formatToParts(),D=A.find(function(x){return x.type.toLowerCase()===g});return D?D.value:null},d.numberFormatter=function(i){return i===void 0&&(i={}),new Ir(this.intl,i.forceSimple||this.fastNumbers,i)},d.dtFormatter=function(i,f){return f===void 0&&(f={}),new Lr(i,this.intl,f)},d.relFormatter=function(i){return i===void 0&&(i={}),new Pr(this.intl,this.isEnglish(),i)},d.listFormatter=function(i){return i===void 0&&(i={}),$(this.intl,i)},d.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},d.equals=function(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar},a(l,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Nr(this)),this.fastNumbersCached}}]),l}();function oa(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var i=d.reduce(function(f,g){return f+g.source},"");return RegExp("^"+i+"$")}function Jn(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return function(i){return d.reduce(function(f,g){var T=f[0],A=f[1],D=f[2],x=g(i,D),ae=x[0],ee=x[1],ne=x[2];return[r({},T,ae),A||ee,ne]},[{},null,1]).slice(0,2)}}function la(l){if(l==null)return[null,null];for(var d=arguments.length,u=new Array(d>1?d-1:0),i=1;i<d;i++)u[i-1]=arguments[i];for(var f=0,g=u;f<g.length;f++){var T=g[f],A=T[0],D=T[1],x=A.exec(l);if(x)return D(x)}return[null,null]}function Hi(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return function(i,f){var g={},T;for(T=0;T<d.length;T++)g[d[T]]=We(i[f+T]);return[g,null,f+T]}}var Vi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,R=RegExp(""+gi.source+Vi.source+"?"),we=RegExp("(?:T"+R.source+")?"),nt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_t=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Qn=/(\d{4})-?(\d{3})/,Xn=Hi("weekYear","weekNumber","weekDay"),sa=Hi("year","ordinal"),Fr=/(\d{4})-(\d\d)-(\d\d)/,Ui=RegExp(gi.source+" ?(?:"+Vi.source+"|("+Nt.source+"))?"),bi=RegExp("(?: "+Ui.source+")?");function Xt(l,d,u){var i=l[d];return P(i)?u:We(i)}function Ya(l,d){var u={year:Xt(l,d),month:Xt(l,d+1,1),day:Xt(l,d+2,1)};return[u,null,d+3]}function Ta(l,d){var u={hours:Xt(l,d,0),minutes:Xt(l,d+1,0),seconds:Xt(l,d+2,0),milliseconds:J(l[d+3])};return[u,null,d+4]}function Za(l,d){var u=!l[d]&&!l[d+1],i=gt(l[d+1],l[d+2]),f=u?null:It.instance(i);return[{},f,d+3]}function xs(l,d){var u=l[d]?rn.create(l[d]):null;return[{},u,d+1]}var em=RegExp("^T?"+gi.source+"$"),tm=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function nm(l){var d=l[0],u=l[1],i=l[2],f=l[3],g=l[4],T=l[5],A=l[6],D=l[7],x=l[8],ae=d[0]==="-",ee=D&&D[0]==="-",ne=function(Ne,at){return at===void 0&&(at=!1),Ne!==void 0&&(at||Ne&&ae)?-Ne:Ne};return[{years:ne(ct(u)),months:ne(ct(i)),weeks:ne(ct(f)),days:ne(ct(g)),hours:ne(ct(T)),minutes:ne(ct(A)),seconds:ne(ct(D),D==="-0"),milliseconds:ne(J(x),ee)}]}var am={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Br(l,d,u,i,f,g,T){var A={year:d.length===2?wt(We(d)):We(d),month:Wt.indexOf(u)+1,day:We(i),hour:We(f),minute:We(g)};return T&&(A.second=We(T)),l&&(A.weekday=l.length>3?dn.indexOf(l)+1:mn.indexOf(l)+1),A}var im=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function rm(l){var d=l[1],u=l[2],i=l[3],f=l[4],g=l[5],T=l[6],A=l[7],D=l[8],x=l[9],ae=l[10],ee=l[11],ne=Br(d,f,i,u,g,T,A),ve;return D?ve=am[D]:x?ve=0:ve=gt(ae,ee),[ne,new It(ve)]}function om(l){return l.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var lm=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sm=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,um=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function js(l){var d=l[1],u=l[2],i=l[3],f=l[4],g=l[5],T=l[6],A=l[7],D=Br(d,f,i,u,g,T,A);return[D,It.utcInstance]}function cm(l){var d=l[1],u=l[2],i=l[3],f=l[4],g=l[5],T=l[6],A=l[7],D=Br(d,A,u,i,f,g,T);return[D,It.utcInstance]}var fm=oa(nt,we),dm=oa(_t,we),mm=oa(Qn,we),hm=oa(R),_m=Jn(Ya,Ta,Za),gm=Jn(Xn,Ta,Za),bm=Jn(sa,Ta,Za),ym=Jn(Ta,Za);function pm(l){return la(l,[fm,_m],[dm,gm],[mm,bm],[hm,ym])}function vm(l){return la(om(l),[im,rm])}function Tm(l){return la(l,[lm,js],[sm,js],[um,cm])}function km(l){return la(l,[tm,nm])}var Mm=Jn(Ta);function wm(l){return la(l,[em,Mm])}var Am=oa(Fr,bi),Sm=oa(Ui),Cm=Jn(Ya,Ta,Za,xs),Gm=Jn(Ta,Za,xs);function zm(l){return la(l,[Am,Cm],[Sm,Gm])}var Em="Invalid Duration",Hs={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Om=r({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Hs),bn=146097/400,Ja=146097/4800,Dm=r({years:{quarters:4,months:12,weeks:bn/7,days:bn,hours:bn*24,minutes:bn*24*60,seconds:bn*24*60*60,milliseconds:bn*24*60*60*1e3},quarters:{months:3,weeks:bn/28,days:bn/4,hours:bn*24/4,minutes:bn*24*60/4,seconds:bn*24*60*60/4,milliseconds:bn*24*60*60*1e3/4},months:{weeks:Ja/7,days:Ja,hours:Ja*24,minutes:Ja*24*60,seconds:Ja*24*60*60,milliseconds:Ja*24*60*60*1e3}},Hs),ka=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Nm=ka.slice(0).reverse();function Ma(l,d,u){u===void 0&&(u=!1);var i={values:u?d.values:r({},l.values,d.values||{}),loc:l.loc.clone(d.loc),conversionAccuracy:d.conversionAccuracy||l.conversionAccuracy};return new jt(i)}function Im(l){return l<0?Math.floor(l):Math.ceil(l)}function Vs(l,d,u,i,f){var g=l[f][u],T=d[u]/g,A=Math.sign(T)===Math.sign(i[f]),D=!A&&i[f]!==0&&Math.abs(T)<=1?Im(T):Math.trunc(T);i[f]+=D,d[u]-=D*g}function Lm(l,d){Nm.reduce(function(u,i){return P(d[i])?u:(u&&Vs(l,d,u,d,i),i)},null)}var jt=function(){function l(u){var i=u.conversionAccuracy==="longterm"||!1;this.values=u.values,this.loc=u.loc||St.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=u.invalid||null,this.matrix=i?Dm:Om,this.isLuxonDuration=!0}l.fromMillis=function(i,f){return l.fromObject({milliseconds:i},f)},l.fromObject=function(i,f){if(f===void 0&&(f={}),i==null||typeof i!="object")throw new z("Duration.fromObject: argument expected to be an object, got "+(i===null?"null":typeof i));return new l({values:At(i,l.normalizeUnit),loc:St.fromObject(f),conversionAccuracy:f.conversionAccuracy})},l.fromDurationLike=function(i){if(fe(i))return l.fromMillis(i);if(l.isDuration(i))return i;if(typeof i=="object")return l.fromObject(i);throw new z("Unknown duration argument "+i+" of type "+typeof i)},l.fromISO=function(i,f){var g=km(i),T=g[0];return T?l.fromObject(T,f):l.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},l.fromISOTime=function(i,f){var g=wm(i),T=g[0];return T?l.fromObject(T,f):l.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},l.invalid=function(i,f){if(f===void 0&&(f=null),!i)throw new z("need to specify a reason the Duration is invalid");var g=i instanceof kt?i:new kt(i,f);if(yt.throwOnInvalid)throw new I(g);return new l({invalid:g})},l.normalizeUnit=function(i){var f={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!f)throw new B(i);return f},l.isDuration=function(i){return i&&i.isLuxonDuration||!1};var d=l.prototype;return d.toFormat=function(i,f){f===void 0&&(f={});var g=r({},f,{floor:f.round!==!1&&f.floor!==!1});return this.isValid?De.create(this.loc,g).formatDurationFromString(this,i):Em},d.toHuman=function(i){var f=this;i===void 0&&(i={});var g=ka.map(function(T){var A=f.values[T];return P(A)?null:f.loc.numberFormatter(r({style:"unit",unitDisplay:"long"},i,{unit:T.slice(0,-1)})).format(A)}).filter(function(T){return T});return this.loc.listFormatter(r({type:"conjunction",style:i.listStyle||"narrow"},i)).format(g)},d.toObject=function(){return this.isValid?r({},this.values):{}},d.toISO=function(){if(!this.isValid)return null;var i="P";return this.years!==0&&(i+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(i+=this.months+this.quarters*3+"M"),this.weeks!==0&&(i+=this.weeks+"W"),this.days!==0&&(i+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(i+="T"),this.hours!==0&&(i+=this.hours+"H"),this.minutes!==0&&(i+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(i+=Qe(this.seconds+this.milliseconds/1e3,3)+"S"),i==="P"&&(i+="T0S"),i},d.toISOTime=function(i){if(i===void 0&&(i={}),!this.isValid)return null;var f=this.toMillis();if(f<0||f>=864e5)return null;i=r({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},i);var g=this.shiftTo("hours","minutes","seconds","milliseconds"),T=i.format==="basic"?"hhmm":"hh:mm";(!i.suppressSeconds||g.seconds!==0||g.milliseconds!==0)&&(T+=i.format==="basic"?"ss":":ss",(!i.suppressMilliseconds||g.milliseconds!==0)&&(T+=".SSS"));var A=g.toFormat(T);return i.includePrefix&&(A="T"+A),A},d.toJSON=function(){return this.toISO()},d.toString=function(){return this.toISO()},d.toMillis=function(){return this.as("milliseconds")},d.valueOf=function(){return this.toMillis()},d.plus=function(i){if(!this.isValid)return this;for(var f=l.fromDurationLike(i),g={},T=N(ka),A;!(A=T()).done;){var D=A.value;(dt(f.values,D)||dt(this.values,D))&&(g[D]=f.get(D)+this.get(D))}return Ma(this,{values:g},!0)},d.minus=function(i){if(!this.isValid)return this;var f=l.fromDurationLike(i);return this.plus(f.negate())},d.mapUnits=function(i){if(!this.isValid)return this;for(var f={},g=0,T=Object.keys(this.values);g<T.length;g++){var A=T[g];f[A]=Yt(i(this.values[A],A))}return Ma(this,{values:f},!0)},d.get=function(i){return this[l.normalizeUnit(i)]},d.set=function(i){if(!this.isValid)return this;var f=r({},this.values,At(i,l.normalizeUnit));return Ma(this,{values:f})},d.reconfigure=function(i){var f=i===void 0?{}:i,g=f.locale,T=f.numberingSystem,A=f.conversionAccuracy,D=this.loc.clone({locale:g,numberingSystem:T}),x={loc:D};return A&&(x.conversionAccuracy=A),Ma(this,x)},d.as=function(i){return this.isValid?this.shiftTo(i).get(i):NaN},d.normalize=function(){if(!this.isValid)return this;var i=this.toObject();return Lm(this.matrix,i),Ma(this,{values:i},!0)},d.shiftTo=function(){for(var i=arguments.length,f=new Array(i),g=0;g<i;g++)f[g]=arguments[g];if(!this.isValid)return this;if(f.length===0)return this;f=f.map(function(Ht){return l.normalizeUnit(Ht)});for(var T={},A={},D=this.toObject(),x,ae=N(ka),ee;!(ee=ae()).done;){var ne=ee.value;if(f.indexOf(ne)>=0){x=ne;var ve=0;for(var Ne in A)ve+=this.matrix[Ne][ne]*A[Ne],A[Ne]=0;fe(D[ne])&&(ve+=D[ne]);var at=Math.trunc(ve);T[ne]=at,A[ne]=(ve*1e3-at*1e3)/1e3;for(var $e in D)ka.indexOf($e)>ka.indexOf(ne)&&Vs(this.matrix,D,$e,T,ne)}else fe(D[ne])&&(A[ne]=D[ne])}for(var Oe in A)A[Oe]!==0&&(T[x]+=Oe===x?A[Oe]:A[Oe]/this.matrix[x][Oe]);return Ma(this,{values:T},!0).normalize()},d.negate=function(){if(!this.isValid)return this;for(var i={},f=0,g=Object.keys(this.values);f<g.length;f++){var T=g[f];i[T]=-this.values[T]}return Ma(this,{values:i},!0)},d.equals=function(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function f(D,x){return D===void 0||D===0?x===void 0||x===0:D===x}for(var g=N(ka),T;!(T=g()).done;){var A=T.value;if(!f(this.values[A],i.values[A]))return!1}return!0},a(l,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),l}(),yi="Invalid Interval";function Pm(l,d){return!l||!l.isValid?pi.invalid("missing or invalid start"):!d||!d.isValid?pi.invalid("missing or invalid end"):d<l?pi.invalid("end before start","The end of an interval must be after its start, but you had start="+l.toISO()+" and end="+d.toISO()):null}var pi=function(){function l(u){this.s=u.start,this.e=u.end,this.invalid=u.invalid||null,this.isLuxonInterval=!0}l.invalid=function(i,f){if(f===void 0&&(f=null),!i)throw new z("need to specify a reason the Interval is invalid");var g=i instanceof kt?i:new kt(i,f);if(yt.throwOnInvalid)throw new G(g);return new l({invalid:g})},l.fromDateTimes=function(i,f){var g=Mi(i),T=Mi(f),A=Pm(g,T);return A==null?new l({start:g,end:T}):A},l.after=function(i,f){var g=jt.fromDurationLike(f),T=Mi(i);return l.fromDateTimes(T,T.plus(g))},l.before=function(i,f){var g=jt.fromDurationLike(f),T=Mi(i);return l.fromDateTimes(T.minus(g),T)},l.fromISO=function(i,f){var g=(i||"").split("/",2),T=g[0],A=g[1];if(T&&A){var D,x;try{D=Ct.fromISO(T,f),x=D.isValid}catch(Ne){x=!1}var ae,ee;try{ae=Ct.fromISO(A,f),ee=ae.isValid}catch(Ne){ee=!1}if(x&&ee)return l.fromDateTimes(D,ae);if(x){var ne=jt.fromISO(A,f);if(ne.isValid)return l.after(D,ne)}else if(ee){var ve=jt.fromISO(T,f);if(ve.isValid)return l.before(ae,ve)}}return l.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},l.isInterval=function(i){return i&&i.isLuxonInterval||!1};var d=l.prototype;return d.length=function(i){return i===void 0&&(i="milliseconds"),this.isValid?this.toDuration.apply(this,[i]).get(i):NaN},d.count=function(i){if(i===void 0&&(i="milliseconds"),!this.isValid)return NaN;var f=this.start.startOf(i),g=this.end.startOf(i);return Math.floor(g.diff(f,i).get(i))+1},d.hasSame=function(i){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,i):!1},d.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},d.isAfter=function(i){return this.isValid?this.s>i:!1},d.isBefore=function(i){return this.isValid?this.e<=i:!1},d.contains=function(i){return this.isValid?this.s<=i&&this.e>i:!1},d.set=function(i){var f=i===void 0?{}:i,g=f.start,T=f.end;return this.isValid?l.fromDateTimes(g||this.s,T||this.e):this},d.splitAt=function(){var i=this;if(!this.isValid)return[];for(var f=arguments.length,g=new Array(f),T=0;T<f;T++)g[T]=arguments[T];for(var A=g.map(Mi).filter(function(ve){return i.contains(ve)}).sort(),D=[],x=this.s,ae=0;x<this.e;){var ee=A[ae]||this.e,ne=+ee>+this.e?this.e:ee;D.push(l.fromDateTimes(x,ne)),x=ne,ae+=1}return D},d.splitBy=function(i){var f=jt.fromDurationLike(i);if(!this.isValid||!f.isValid||f.as("milliseconds")===0)return[];for(var g=this.s,T=1,A,D=[];g<this.e;){var x=this.start.plus(f.mapUnits(function(ae){return ae*T}));A=+x>+this.e?this.e:x,D.push(l.fromDateTimes(g,A)),g=A,T+=1}return D},d.divideEqually=function(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]},d.overlaps=function(i){return this.e>i.s&&this.s<i.e},d.abutsStart=function(i){return this.isValid?+this.e==+i.s:!1},d.abutsEnd=function(i){return this.isValid?+i.e==+this.s:!1},d.engulfs=function(i){return this.isValid?this.s<=i.s&&this.e>=i.e:!1},d.equals=function(i){return!this.isValid||!i.isValid?!1:this.s.equals(i.s)&&this.e.equals(i.e)},d.intersection=function(i){if(!this.isValid)return this;var f=this.s>i.s?this.s:i.s,g=this.e<i.e?this.e:i.e;return f>=g?null:l.fromDateTimes(f,g)},d.union=function(i){if(!this.isValid)return this;var f=this.s<i.s?this.s:i.s,g=this.e>i.e?this.e:i.e;return l.fromDateTimes(f,g)},l.merge=function(i){var f=i.sort(function(A,D){return A.s-D.s}).reduce(function(A,D){var x=A[0],ae=A[1];return ae?ae.overlaps(D)||ae.abutsStart(D)?[x,ae.union(D)]:[x.concat([ae]),D]:[x,D]},[[],null]),g=f[0],T=f[1];return T&&g.push(T),g},l.xor=function(i){for(var f,g=null,T=0,A=[],D=i.map(function(Ne){return[{time:Ne.s,type:"s"},{time:Ne.e,type:"e"}]}),x=(f=Array.prototype).concat.apply(f,D),ae=x.sort(function(Ne,at){return Ne.time-at.time}),ee=N(ae),ne;!(ne=ee()).done;){var ve=ne.value;T+=ve.type==="s"?1:-1,T===1?g=ve.time:(g&&+g!=+ve.time&&A.push(l.fromDateTimes(g,ve.time)),g=null)}return l.merge(A)},d.difference=function(){for(var i=this,f=arguments.length,g=new Array(f),T=0;T<f;T++)g[T]=arguments[T];return l.xor([this].concat(g)).map(function(A){return i.intersection(A)}).filter(function(A){return A&&!A.isEmpty()})},d.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":yi},d.toISO=function(i){return this.isValid?this.s.toISO(i)+"/"+this.e.toISO(i):yi},d.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():yi},d.toISOTime=function(i){return this.isValid?this.s.toISOTime(i)+"/"+this.e.toISOTime(i):yi},d.toFormat=function(i,f){var g=f===void 0?{}:f,T=g.separator,A=T===void 0?" \u2013 ":T;return this.isValid?""+this.s.toFormat(i)+A+this.e.toFormat(i):yi},d.toDuration=function(i,f){return this.isValid?this.e.diff(this.s,i,f):jt.invalid(this.invalidReason)},d.mapEndpoints=function(i){return l.fromDateTimes(i(this.s),i(this.e))},a(l,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),l}(),vi=function(){function l(){}return l.hasDST=function(u){u===void 0&&(u=yt.defaultZone);var i=Ct.now().setZone(u).set({month:12});return!u.isUniversal&&i.offset!==i.set({month:6}).offset},l.isValidIANAZone=function(u){return rn.isValidSpecifier(u)&&rn.isValidZone(u)},l.normalizeZone=function(u){return gn(u,yt.defaultZone)},l.months=function(u,i){u===void 0&&(u="long");var f=i===void 0?{}:i,g=f.locale,T=g===void 0?null:g,A=f.numberingSystem,D=A===void 0?null:A,x=f.locObj,ae=x===void 0?null:x,ee=f.outputCalendar,ne=ee===void 0?"gregory":ee;return(ae||St.create(T,D,ne)).months(u)},l.monthsFormat=function(u,i){u===void 0&&(u="long");var f=i===void 0?{}:i,g=f.locale,T=g===void 0?null:g,A=f.numberingSystem,D=A===void 0?null:A,x=f.locObj,ae=x===void 0?null:x,ee=f.outputCalendar,ne=ee===void 0?"gregory":ee;return(ae||St.create(T,D,ne)).months(u,!0)},l.weekdays=function(u,i){u===void 0&&(u="long");var f=i===void 0?{}:i,g=f.locale,T=g===void 0?null:g,A=f.numberingSystem,D=A===void 0?null:A,x=f.locObj,ae=x===void 0?null:x;return(ae||St.create(T,D,null)).weekdays(u)},l.weekdaysFormat=function(u,i){u===void 0&&(u="long");var f=i===void 0?{}:i,g=f.locale,T=g===void 0?null:g,A=f.numberingSystem,D=A===void 0?null:A,x=f.locObj,ae=x===void 0?null:x;return(ae||St.create(T,D,null)).weekdays(u,!0)},l.meridiems=function(u){var i=u===void 0?{}:u,f=i.locale,g=f===void 0?null:f;return St.create(g).meridiems()},l.eras=function(u,i){u===void 0&&(u="short");var f=i===void 0?{}:i,g=f.locale,T=g===void 0?null:g;return St.create(T,null,"gregory").eras(u)},l.features=function(){return{relative:Je()}},l}();function Us(l,d){var u=function(g){return g.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},i=u(d)-u(l);return Math.floor(jt.fromMillis(i).as("days"))}function Fm(l,d,u){for(var i=[["years",function(at,$e){return $e.year-at.year}],["quarters",function(at,$e){return $e.quarter-at.quarter}],["months",function(at,$e){return $e.month-at.month+($e.year-at.year)*12}],["weeks",function(at,$e){var Oe=Us(at,$e);return(Oe-Oe%7)/7}],["days",Us]],f={},g,T,A=0,D=i;A<D.length;A++){var x=D[A],ae=x[0],ee=x[1];if(u.indexOf(ae)>=0){var ne;g=ae;var ve=ee(l,d);if(T=l.plus((ne={},ne[ae]=ve,ne)),T>d){var Ne;l=l.plus((Ne={},Ne[ae]=ve-1,Ne)),ve-=1}else l=T;f[ae]=ve}}return[l,f,T,g]}function Bm(l,d,u,i){var f=Fm(l,d,u),g=f[0],T=f[1],A=f[2],D=f[3],x=d-g,ae=u.filter(function(Ne){return["hours","minutes","seconds","milliseconds"].indexOf(Ne)>=0});if(ae.length===0){if(A<d){var ee;A=g.plus((ee={},ee[D]=1,ee))}A!==g&&(T[D]=(T[D]||0)+x/(A-g))}var ne=jt.fromObject(T,i);if(ae.length>0){var ve;return(ve=jt.fromMillis(x,i)).shiftTo.apply(ve,ae).plus(ne)}else return ne}var Rr={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Ws={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Rm=Rr.hanidec.replace(/[\[|\]]/g,"").split("");function xm(l){var d=parseInt(l,10);if(isNaN(d)){d="";for(var u=0;u<l.length;u++){var i=l.charCodeAt(u);if(l[u].search(Rr.hanidec)!==-1)d+=Rm.indexOf(l[u]);else for(var f in Ws){var g=Ws[f],T=g[0],A=g[1];i>=T&&i<=A&&(d+=i-T)}}return parseInt(d,10)}else return d}function An(l,d){var u=l.numberingSystem;return d===void 0&&(d=""),new RegExp(""+Rr[u||"latn"]+d)}var jm="missing Intl.DateTimeFormat.formatToParts support";function st(l,d){return d===void 0&&(d=function(i){return i}),{regex:l,deser:function(i){var f=i[0];return d(xm(f))}}}var Hm=String.fromCharCode(160),Ks="( |"+Hm+")",qs=new RegExp(Ks,"g");function Vm(l){return l.replace(/\./g,"\\.?").replace(qs,Ks)}function Ys(l){return l.replace(/\./g,"").replace(qs," ").toLowerCase()}function Sn(l,d){return l===null?null:{regex:RegExp(l.map(Vm).join("|")),deser:function(i){var f=i[0];return l.findIndex(function(g){return Ys(f)===Ys(g)})+d}}}function Zs(l,d){return{regex:l,deser:function(i){var f=i[1],g=i[2];return gt(f,g)},groups:d}}function xr(l){return{regex:l,deser:function(u){var i=u[0];return i}}}function Um(l){return l.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Wm(l,d){var u=An(d),i=An(d,"{2}"),f=An(d,"{3}"),g=An(d,"{4}"),T=An(d,"{6}"),A=An(d,"{1,2}"),D=An(d,"{1,3}"),x=An(d,"{1,6}"),ae=An(d,"{1,9}"),ee=An(d,"{2,4}"),ne=An(d,"{4,6}"),ve=function(Oe){return{regex:RegExp(Um(Oe.val)),deser:function(Yi){var qr=Yi[0];return qr},literal:!0}},Ne=function(Oe){if(l.literal)return ve(Oe);switch(Oe.val){case"G":return Sn(d.eras("short",!1),0);case"GG":return Sn(d.eras("long",!1),0);case"y":return st(x);case"yy":return st(ee,wt);case"yyyy":return st(g);case"yyyyy":return st(ne);case"yyyyyy":return st(T);case"M":return st(A);case"MM":return st(i);case"MMM":return Sn(d.months("short",!0,!1),1);case"MMMM":return Sn(d.months("long",!0,!1),1);case"L":return st(A);case"LL":return st(i);case"LLL":return Sn(d.months("short",!1,!1),1);case"LLLL":return Sn(d.months("long",!1,!1),1);case"d":return st(A);case"dd":return st(i);case"o":return st(D);case"ooo":return st(f);case"HH":return st(i);case"H":return st(A);case"hh":return st(i);case"h":return st(A);case"mm":return st(i);case"m":return st(A);case"q":return st(A);case"qq":return st(i);case"s":return st(A);case"ss":return st(i);case"S":return st(D);case"SSS":return st(f);case"u":return xr(ae);case"uu":return xr(A);case"uuu":return st(u);case"a":return Sn(d.meridiems(),0);case"kkkk":return st(g);case"kk":return st(ee,wt);case"W":return st(A);case"WW":return st(i);case"E":case"c":return st(u);case"EEE":return Sn(d.weekdays("short",!1,!1),1);case"EEEE":return Sn(d.weekdays("long",!1,!1),1);case"ccc":return Sn(d.weekdays("short",!0,!1),1);case"cccc":return Sn(d.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Zs(new RegExp("([+-]"+A.source+")(?::("+i.source+"))?"),2);case"ZZZ":return Zs(new RegExp("([+-]"+A.source+")("+i.source+")?"),2);case"z":return xr(/[a-z_+-/]{1,256}?/i);default:return ve(Oe)}},at=Ne(l)||{invalidReason:jm};return at.token=l,at}var Km={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function qm(l,d,u){var i=l.type,f=l.value;if(i==="literal")return{literal:!0,val:f};var g=u[i],T=Km[i];if(typeof T=="object"&&(T=T[g]),T)return{literal:!1,val:T}}function Ym(l){var d=l.map(function(u){return u.regex}).reduce(function(u,i){return u+"("+i.source+")"},"");return["^"+d+"$",l]}function Zm(l,d,u){var i=l.match(d);if(i){var f={},g=1;for(var T in u)if(dt(u,T)){var A=u[T],D=A.groups?A.groups+1:1;!A.literal&&A.token&&(f[A.token.val[0]]=A.deser(i.slice(g,g+D))),g+=D}return[i,f]}else return[i,{}]}function Jm(l){var d=function(T){switch(T){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},u=null,i;P(l.z)||(u=rn.create(l.z)),P(l.Z)||(u||(u=new It(l.Z)),i=l.Z),P(l.q)||(l.M=(l.q-1)*3+1),P(l.h)||(l.h<12&&l.a===1?l.h+=12:l.h===12&&l.a===0&&(l.h=0)),l.G===0&&l.y&&(l.y=-l.y),P(l.u)||(l.S=J(l.u));var f=Object.keys(l).reduce(function(g,T){var A=d(T);return A&&(g[A]=l[T]),g},{});return[f,u,i]}var jr=null;function Qm(){return jr||(jr=Ct.fromMillis(1555555555555)),jr}function Xm(l,d){if(l.literal)return l;var u=De.macroTokenToFormatOpts(l.val);if(!u)return l;var i=De.create(d,u),f=i.formatDateTimeParts(Qm()),g=f.map(function(T){return qm(T,d,u)});return g.includes(void 0)?l:g}function $m(l,d){var u;return(u=Array.prototype).concat.apply(u,l.map(function(i){return Xm(i,d)}))}function Js(l,d,u){var i=$m(De.parseFormat(u),l),f=i.map(function(Oe){return Wm(Oe,l)}),g=f.find(function(Oe){return Oe.invalidReason});if(g)return{input:d,tokens:i,invalidReason:g.invalidReason};var T=Ym(f),A=T[0],D=T[1],x=RegExp(A,"i"),ae=Zm(d,x,D),ee=ae[0],ne=ae[1],ve=ne?Jm(ne):[null,null,void 0],Ne=ve[0],at=ve[1],$e=ve[2];if(dt(ne,"a")&&dt(ne,"H"))throw new U("Can't include meridiem when specifying 24-hour format");return{input:d,tokens:i,regex:x,rawMatches:ee,matches:ne,result:Ne,zone:at,specificOffset:$e}}function eh(l,d,u){var i=Js(l,d,u),f=i.result,g=i.zone,T=i.specificOffset,A=i.invalidReason;return[f,g,T,A]}var Qs=[0,31,59,90,120,151,181,212,243,273,304,334],Xs=[0,31,60,91,121,152,182,213,244,274,305,335];function yn(l,d){return new kt("unit out of range","you specified "+d+" (of type "+typeof d+") as a "+l+", which is invalid")}function $s(l,d,u){var i=new Date(Date.UTC(l,d-1,u)).getUTCDay();return i===0?7:i}function eu(l,d,u){return u+(Ve(l)?Xs:Qs)[d-1]}function tu(l,d){var u=Ve(l)?Xs:Qs,i=u.findIndex(function(g){return g<d}),f=d-u[i];return{month:i+1,day:f}}function Hr(l){var d=l.year,u=l.month,i=l.day,f=eu(d,u,i),g=$s(d,u,i),T=Math.floor((f-g+10)/7),A;return T<1?(A=d-1,T=pt(A)):T>pt(d)?(A=d+1,T=1):A=d,r({weekYear:A,weekNumber:T,weekday:g},Dt(l))}function nu(l){var d=l.weekYear,u=l.weekNumber,i=l.weekday,f=$s(d,1,4),g=Tt(d),T=u*7+i-f-3,A;T<1?(A=d-1,T+=Tt(A)):T>g?(A=d+1,T-=Tt(d)):A=d;var D=tu(A,T),x=D.month,ae=D.day;return r({year:A,month:x,day:ae},Dt(l))}function Vr(l){var d=l.year,u=l.month,i=l.day,f=eu(d,u,i);return r({year:d,ordinal:f},Dt(l))}function au(l){var d=l.year,u=l.ordinal,i=tu(d,u),f=i.month,g=i.day;return r({year:d,month:f,day:g},Dt(l))}function th(l){var d=pe(l.weekYear),u=Te(l.weekNumber,1,pt(l.weekYear)),i=Te(l.weekday,1,7);return d?u?i?!1:yn("weekday",l.weekday):yn("week",l.week):yn("weekYear",l.weekYear)}function nh(l){var d=pe(l.year),u=Te(l.ordinal,1,Tt(l.year));return d?u?!1:yn("ordinal",l.ordinal):yn("year",l.year)}function iu(l){var d=pe(l.year),u=Te(l.month,1,12),i=Te(l.day,1,mt(l.year,l.month));return d?u?i?!1:yn("day",l.day):yn("month",l.month):yn("year",l.year)}function ru(l){var d=l.hour,u=l.minute,i=l.second,f=l.millisecond,g=Te(d,0,23)||d===24&&u===0&&i===0&&f===0,T=Te(u,0,59),A=Te(i,0,59),D=Te(f,0,999);return g?T?A?D?!1:yn("millisecond",f):yn("second",i):yn("minute",u):yn("hour",d)}var Ur="Invalid DateTime",ou=864e13;function Wi(l){return new kt("unsupported zone",'the zone "'+l.name+'" is not supported')}function Wr(l){return l.weekData===null&&(l.weekData=Hr(l.c)),l.weekData}function Ti(l,d){var u={ts:l.ts,zone:l.zone,c:l.c,o:l.o,loc:l.loc,invalid:l.invalid};return new Ct(r({},u,d,{old:u}))}function lu(l,d,u){var i=l-d*60*1e3,f=u.offset(i);if(d===f)return[i,d];i-=(f-d)*60*1e3;var g=u.offset(i);return f===g?[i,f]:[l-Math.min(f,g)*60*1e3,Math.max(f,g)]}function su(l,d){l+=d*60*1e3;var u=new Date(l);return{year:u.getUTCFullYear(),month:u.getUTCMonth()+1,day:u.getUTCDate(),hour:u.getUTCHours(),minute:u.getUTCMinutes(),second:u.getUTCSeconds(),millisecond:u.getUTCMilliseconds()}}function Ki(l,d,u){return lu(Ot(l),d,u)}function uu(l,d){var u=l.o,i=l.c.year+Math.trunc(d.years),f=l.c.month+Math.trunc(d.months)+Math.trunc(d.quarters)*3,g=r({},l.c,{year:i,month:f,day:Math.min(l.c.day,mt(i,f))+Math.trunc(d.days)+Math.trunc(d.weeks)*7}),T=jt.fromObject({years:d.years-Math.trunc(d.years),quarters:d.quarters-Math.trunc(d.quarters),months:d.months-Math.trunc(d.months),weeks:d.weeks-Math.trunc(d.weeks),days:d.days-Math.trunc(d.days),hours:d.hours,minutes:d.minutes,seconds:d.seconds,milliseconds:d.milliseconds}).as("milliseconds"),A=Ot(g),D=lu(A,u,l.zone),x=D[0],ae=D[1];return T!==0&&(x+=T,ae=l.zone.offset(x)),{ts:x,o:ae}}function ki(l,d,u,i,f,g){var T=u.setZone,A=u.zone;if(l&&Object.keys(l).length!==0){var D=d||A,x=Ct.fromObject(l,r({},u,{zone:D,specificOffset:g}));return T?x:x.setZone(A)}else return Ct.invalid(new kt("unparsable",'the input "'+f+`" can't be parsed as `+i))}function qi(l,d,u){return u===void 0&&(u=!0),l.isValid?De.create(St.create("en-US"),{allowZ:u,forceSimple:!0}).formatDateTimeFromString(l,d):null}function Kr(l,d){var u=l.c.year>9999||l.c.year<0,i="";return u&&l.c.year>=0&&(i+="+"),i+=Fe(l.c.year,u?6:4),d?(i+="-",i+=Fe(l.c.month),i+="-",i+=Fe(l.c.day)):(i+=Fe(l.c.month),i+=Fe(l.c.day)),i}function cu(l,d,u,i,f){var g=Fe(l.c.hour);return d?(g+=":",g+=Fe(l.c.minute),(l.c.second!==0||!u)&&(g+=":")):g+=Fe(l.c.minute),(l.c.second!==0||!u)&&(g+=Fe(l.c.second),(l.c.millisecond!==0||!i)&&(g+=".",g+=Fe(l.c.millisecond,3))),f&&(l.isOffsetFixed&&l.offset===0?g+="Z":l.o<0?(g+="-",g+=Fe(Math.trunc(-l.o/60)),g+=":",g+=Fe(Math.trunc(-l.o%60))):(g+="+",g+=Fe(Math.trunc(l.o/60)),g+=":",g+=Fe(Math.trunc(l.o%60)))),g}var fu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ah={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ih={ordinal:1,hour:0,minute:0,second:0,millisecond:0},du=["year","month","day","hour","minute","second","millisecond"],rh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],oh=["year","ordinal","hour","minute","second","millisecond"];function mu(l){var d={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[l.toLowerCase()];if(!d)throw new B(l);return d}function hu(l,d){var u=gn(d.zone,yt.defaultZone),i=St.fromObject(d),f=yt.now(),g,T;if(P(l.year))g=f;else{for(var A=N(du),D;!(D=A()).done;){var x=D.value;P(l[x])&&(l[x]=fu[x])}var ae=iu(l)||ru(l);if(ae)return Ct.invalid(ae);var ee=u.offset(f),ne=Ki(l,ee,u);g=ne[0],T=ne[1]}return new Ct({ts:g,zone:u,loc:i,o:T})}function _u(l,d,u){var i=P(u.round)?!0:u.round,f=function(ee,ne){ee=Qe(ee,i||u.calendary?0:2,!0);var ve=d.loc.clone(u).relFormatter(u);return ve.format(ee,ne)},g=function(ee){return u.calendary?d.hasSame(l,ee)?0:d.startOf(ee).diff(l.startOf(ee),ee).get(ee):d.diff(l,ee).get(ee)};if(u.unit)return f(g(u.unit),u.unit);for(var T=N(u.units),A;!(A=T()).done;){var D=A.value,x=g(D);if(Math.abs(x)>=1)return f(x,D)}return f(l>d?-0:0,u.units[u.units.length-1])}function gu(l){var d={},u;return l.length>0&&typeof l[l.length-1]=="object"?(d=l[l.length-1],u=Array.from(l).slice(0,l.length-1)):u=Array.from(l),[d,u]}var Ct=function(){function l(u){var i=u.zone||yt.defaultZone,f=u.invalid||(Number.isNaN(u.ts)?new kt("invalid input"):null)||(i.isValid?null:Wi(i));this.ts=P(u.ts)?yt.now():u.ts;var g=null,T=null;if(!f){var A=u.old&&u.old.ts===this.ts&&u.old.zone.equals(i);if(A){var D=[u.old.c,u.old.o];g=D[0],T=D[1]}else{var x=i.offset(this.ts);g=su(this.ts,x),f=Number.isNaN(g.year)?new kt("invalid input"):null,g=f?null:g,T=f?null:x}}this._zone=i,this.loc=u.loc||St.create(),this.invalid=f,this.weekData=null,this.c=g,this.o=T,this.isLuxonDateTime=!0}l.now=function(){return new l({})},l.local=function(){var i=gu(arguments),f=i[0],g=i[1],T=g[0],A=g[1],D=g[2],x=g[3],ae=g[4],ee=g[5],ne=g[6];return hu({year:T,month:A,day:D,hour:x,minute:ae,second:ee,millisecond:ne},f)},l.utc=function(){var i=gu(arguments),f=i[0],g=i[1],T=g[0],A=g[1],D=g[2],x=g[3],ae=g[4],ee=g[5],ne=g[6];return f.zone=It.utcInstance,hu({year:T,month:A,day:D,hour:x,minute:ae,second:ee,millisecond:ne},f)},l.fromJSDate=function(i,f){f===void 0&&(f={});var g=Ze(i)?i.valueOf():NaN;if(Number.isNaN(g))return l.invalid("invalid input");var T=gn(f.zone,yt.defaultZone);return T.isValid?new l({ts:g,zone:T,loc:St.fromObject(f)}):l.invalid(Wi(T))},l.fromMillis=function(i,f){if(f===void 0&&(f={}),fe(i))return i<-ou||i>ou?l.invalid("Timestamp out of range"):new l({ts:i,zone:gn(f.zone,yt.defaultZone),loc:St.fromObject(f)});throw new z("fromMillis requires a numerical input, but received a "+typeof i+" with value "+i)},l.fromSeconds=function(i,f){if(f===void 0&&(f={}),fe(i))return new l({ts:i*1e3,zone:gn(f.zone,yt.defaultZone),loc:St.fromObject(f)});throw new z("fromSeconds requires a numerical input")},l.fromObject=function(i,f){f===void 0&&(f={}),i=i||{};var g=gn(f.zone,yt.defaultZone);if(!g.isValid)return l.invalid(Wi(g));var T=yt.now(),A=P(f.specificOffset)?g.offset(T):f.specificOffset,D=At(i,mu),x=!P(D.ordinal),ae=!P(D.year),ee=!P(D.month)||!P(D.day),ne=ae||ee,ve=D.weekYear||D.weekNumber,Ne=St.fromObject(f);if((ne||x)&&ve)throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ee&&x)throw new U("Can't mix ordinal dates with month/day");var at=ve||D.weekday&&!ne,$e,Oe,Ht=su(T,A);at?($e=rh,Oe=ah,Ht=Hr(Ht)):x?($e=oh,Oe=ih,Ht=Vr(Ht)):($e=du,Oe=fu);for(var Yi=!1,qr=N($e),bu;!(bu=qr()).done;){var wi=bu.value,sh=D[wi];P(sh)?Yi?D[wi]=Oe[wi]:D[wi]=Ht[wi]:Yi=!0}var uh=at?th(D):x?nh(D):iu(D),yu=uh||ru(D);if(yu)return l.invalid(yu);var ch=at?nu(D):x?au(D):D,pu=Ki(ch,A,g),fh=pu[0],dh=pu[1],Yr=new l({ts:fh,zone:g,o:dh,loc:Ne});return D.weekday&&ne&&i.weekday!==Yr.weekday?l.invalid("mismatched weekday","you can't specify both a weekday of "+D.weekday+" and a date of "+Yr.toISO()):Yr},l.fromISO=function(i,f){f===void 0&&(f={});var g=pm(i),T=g[0],A=g[1];return ki(T,A,f,"ISO 8601",i)},l.fromRFC2822=function(i,f){f===void 0&&(f={});var g=vm(i),T=g[0],A=g[1];return ki(T,A,f,"RFC 2822",i)},l.fromHTTP=function(i,f){f===void 0&&(f={});var g=Tm(i),T=g[0],A=g[1];return ki(T,A,f,"HTTP",f)},l.fromFormat=function(i,f,g){if(g===void 0&&(g={}),P(i)||P(f))throw new z("fromFormat requires an input string and a format");var T=g,A=T.locale,D=A===void 0?null:A,x=T.numberingSystem,ae=x===void 0?null:x,ee=St.fromOpts({locale:D,numberingSystem:ae,defaultToEN:!0}),ne=eh(ee,i,f),ve=ne[0],Ne=ne[1],at=ne[2],$e=ne[3];return $e?l.invalid($e):ki(ve,Ne,g,"format "+f,i,at)},l.fromString=function(i,f,g){return g===void 0&&(g={}),l.fromFormat(i,f,g)},l.fromSQL=function(i,f){f===void 0&&(f={});var g=zm(i),T=g[0],A=g[1];return ki(T,A,f,"SQL",i)},l.invalid=function(i,f){if(f===void 0&&(f=null),!i)throw new z("need to specify a reason the DateTime is invalid");var g=i instanceof kt?i:new kt(i,f);if(yt.throwOnInvalid)throw new M(g);return new l({invalid:g})},l.isDateTime=function(i){return i&&i.isLuxonDateTime||!1};var d=l.prototype;return d.get=function(i){return this[i]},d.resolvedLocaleOptions=function(i){i===void 0&&(i={});var f=De.create(this.loc.clone(i),i).resolvedOptions(this),g=f.locale,T=f.numberingSystem,A=f.calendar;return{locale:g,numberingSystem:T,outputCalendar:A}},d.toUTC=function(i,f){return i===void 0&&(i=0),f===void 0&&(f={}),this.setZone(It.instance(i),f)},d.toLocal=function(){return this.setZone(yt.defaultZone)},d.setZone=function(i,f){var g=f===void 0?{}:f,T=g.keepLocalTime,A=T===void 0?!1:T,D=g.keepCalendarTime,x=D===void 0?!1:D;if(i=gn(i,yt.defaultZone),i.equals(this.zone))return this;if(i.isValid){var ae=this.ts;if(A||x){var ee=i.offset(this.ts),ne=this.toObject(),ve=Ki(ne,ee,i);ae=ve[0]}return Ti(this,{ts:ae,zone:i})}else return l.invalid(Wi(i))},d.reconfigure=function(i){var f=i===void 0?{}:i,g=f.locale,T=f.numberingSystem,A=f.outputCalendar,D=this.loc.clone({locale:g,numberingSystem:T,outputCalendar:A});return Ti(this,{loc:D})},d.setLocale=function(i){return this.reconfigure({locale:i})},d.set=function(i){if(!this.isValid)return this;var f=At(i,mu),g=!P(f.weekYear)||!P(f.weekNumber)||!P(f.weekday),T=!P(f.ordinal),A=!P(f.year),D=!P(f.month)||!P(f.day),x=A||D,ae=f.weekYear||f.weekNumber;if((x||T)&&ae)throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(D&&T)throw new U("Can't mix ordinal dates with month/day");var ee;g?ee=nu(r({},Hr(this.c),f)):P(f.ordinal)?(ee=r({},this.toObject(),f),P(f.day)&&(ee.day=Math.min(mt(ee.year,ee.month),ee.day))):ee=au(r({},Vr(this.c),f));var ne=Ki(ee,this.o,this.zone),ve=ne[0],Ne=ne[1];return Ti(this,{ts:ve,o:Ne})},d.plus=function(i){if(!this.isValid)return this;var f=jt.fromDurationLike(i);return Ti(this,uu(this,f))},d.minus=function(i){if(!this.isValid)return this;var f=jt.fromDurationLike(i).negate();return Ti(this,uu(this,f))},d.startOf=function(i){if(!this.isValid)return this;var f={},g=jt.normalizeUnit(i);switch(g){case"years":f.month=1;case"quarters":case"months":f.day=1;case"weeks":case"days":f.hour=0;case"hours":f.minute=0;case"minutes":f.second=0;case"seconds":f.millisecond=0;break}if(g==="weeks"&&(f.weekday=1),g==="quarters"){var T=Math.ceil(this.month/3);f.month=(T-1)*3+1}return this.set(f)},d.endOf=function(i){var f;return this.isValid?this.plus((f={},f[i]=1,f)).startOf(i).minus(1):this},d.toFormat=function(i,f){return f===void 0&&(f={}),this.isValid?De.create(this.loc.redefaultToEN(f)).formatDateTimeFromString(this,i):Ur},d.toLocaleString=function(i,f){return i===void 0&&(i=H),f===void 0&&(f={}),this.isValid?De.create(this.loc.clone(f),i).formatDateTime(this):Ur},d.toLocaleParts=function(i){return i===void 0&&(i={}),this.isValid?De.create(this.loc.clone(i),i).formatDateTimeParts(this):[]},d.toISO=function(i){var f=i===void 0?{}:i,g=f.format,T=g===void 0?"extended":g,A=f.suppressSeconds,D=A===void 0?!1:A,x=f.suppressMilliseconds,ae=x===void 0?!1:x,ee=f.includeOffset,ne=ee===void 0?!0:ee;if(!this.isValid)return null;var ve=T==="extended",Ne=Kr(this,ve);return Ne+="T",Ne+=cu(this,ve,D,ae,ne),Ne},d.toISODate=function(i){var f=i===void 0?{}:i,g=f.format,T=g===void 0?"extended":g;return this.isValid?Kr(this,T==="extended"):null},d.toISOWeekDate=function(){return qi(this,"kkkk-'W'WW-c")},d.toISOTime=function(i){var f=i===void 0?{}:i,g=f.suppressMilliseconds,T=g===void 0?!1:g,A=f.suppressSeconds,D=A===void 0?!1:A,x=f.includeOffset,ae=x===void 0?!0:x,ee=f.includePrefix,ne=ee===void 0?!1:ee,ve=f.format,Ne=ve===void 0?"extended":ve;if(!this.isValid)return null;var at=ne?"T":"";return at+cu(this,Ne==="extended",D,T,ae)},d.toRFC2822=function(){return qi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},d.toHTTP=function(){return qi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},d.toSQLDate=function(){return this.isValid?Kr(this,!0):null},d.toSQLTime=function(i){var f=i===void 0?{}:i,g=f.includeOffset,T=g===void 0?!0:g,A=f.includeZone,D=A===void 0?!1:A,x="HH:mm:ss.SSS";return(D||T)&&(x+=" ",D?x+="z":T&&(x+="ZZ")),qi(this,x,!0)},d.toSQL=function(i){return i===void 0&&(i={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(i):null},d.toString=function(){return this.isValid?this.toISO():Ur},d.valueOf=function(){return this.toMillis()},d.toMillis=function(){return this.isValid?this.ts:NaN},d.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},d.toJSON=function(){return this.toISO()},d.toBSON=function(){return this.toJSDate()},d.toObject=function(i){if(i===void 0&&(i={}),!this.isValid)return{};var f=r({},this.c);return i.includeConfig&&(f.outputCalendar=this.outputCalendar,f.numberingSystem=this.loc.numberingSystem,f.locale=this.loc.locale),f},d.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},d.diff=function(i,f,g){if(f===void 0&&(f="milliseconds"),g===void 0&&(g={}),!this.isValid||!i.isValid)return jt.invalid("created by diffing an invalid DateTime");var T=r({locale:this.locale,numberingSystem:this.numberingSystem},g),A=it(f).map(jt.normalizeUnit),D=i.valueOf()>this.valueOf(),x=D?this:i,ae=D?i:this,ee=Bm(x,ae,A,T);return D?ee.negate():ee},d.diffNow=function(i,f){return i===void 0&&(i="milliseconds"),f===void 0&&(f={}),this.diff(l.now(),i,f)},d.until=function(i){return this.isValid?pi.fromDateTimes(this,i):this},d.hasSame=function(i,f){if(!this.isValid)return!1;var g=i.valueOf(),T=this.setZone(i.zone,{keepLocalTime:!0});return T.startOf(f)<=g&&g<=T.endOf(f)},d.equals=function(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)},d.toRelative=function(i){if(i===void 0&&(i={}),!this.isValid)return null;var f=i.base||l.fromObject({},{zone:this.zone}),g=i.padding?this<f?-i.padding:i.padding:0,T=["years","months","days","hours","minutes","seconds"],A=i.unit;return Array.isArray(i.unit)&&(T=i.unit,A=void 0),_u(f,this.plus(g),r({},i,{numeric:"always",units:T,unit:A}))},d.toRelativeCalendar=function(i){return i===void 0&&(i={}),this.isValid?_u(i.base||l.fromObject({},{zone:this.zone}),this,r({},i,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},l.min=function(){for(var i=arguments.length,f=new Array(i),g=0;g<i;g++)f[g]=arguments[g];if(!f.every(l.isDateTime))throw new z("min requires all arguments be DateTimes");return Ue(f,function(T){return T.valueOf()},Math.min)},l.max=function(){for(var i=arguments.length,f=new Array(i),g=0;g<i;g++)f[g]=arguments[g];if(!f.every(l.isDateTime))throw new z("max requires all arguments be DateTimes");return Ue(f,function(T){return T.valueOf()},Math.max)},l.fromFormatExplain=function(i,f,g){g===void 0&&(g={});var T=g,A=T.locale,D=A===void 0?null:A,x=T.numberingSystem,ae=x===void 0?null:x,ee=St.fromOpts({locale:D,numberingSystem:ae,defaultToEN:!0});return Js(ee,i,f)},l.fromStringExplain=function(i,f,g){return g===void 0&&(g={}),l.fromFormatExplain(i,f,g)},a(l,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Wr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Wr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Wr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Vr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?vi.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?vi.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?vi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?vi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return Ve(this.year)}},{key:"daysInMonth",get:function(){return mt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Tt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?pt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return H}},{key:"DATE_MED",get:function(){return Z}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return de}},{key:"DATE_FULL",get:function(){return ke}},{key:"DATE_HUGE",get:function(){return oe}},{key:"TIME_SIMPLE",get:function(){return j}},{key:"TIME_WITH_SECONDS",get:function(){return q}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return ce}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Ge}},{key:"TIME_24_SIMPLE",get:function(){return Pe}},{key:"TIME_24_WITH_SECONDS",get:function(){return _e}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return ze}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Be}},{key:"DATETIME_SHORT",get:function(){return F}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return le}},{key:"DATETIME_MED",get:function(){return se}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return ye}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ue}},{key:"DATETIME_FULL",get:function(){return ie}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return be}},{key:"DATETIME_HUGE",get:function(){return Ce}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Q}}]),l}();function Mi(l){if(Ct.isDateTime(l))return l;if(l&&l.valueOf&&fe(l.valueOf()))return Ct.fromJSDate(l);if(l&&typeof l=="object")return Ct.fromObject(l);throw new z("Unknown datetime argument: "+l+", of type "+typeof l)}var lh="2.3.0";e.DateTime=Ct,e.Duration=jt,e.FixedOffsetZone=It,e.IANAZone=rn,e.Info=vi,e.Interval=pi,e.InvalidZone=Mn,e.Settings=yt,e.SystemZone=qn,e.VERSION=lh,e.Zone=Ln});function Do(t){return Ea.IANAZone.isValidZone(t)}function No(t,e){const n=Ea.DateTime.fromJSDate(t).toLocaleString(Ea.DateTime.TIME_SIMPLE).replace(/\./g,"");try{const a=Ea.DateTime.fromJSDate(t,{zone:e});return!a.isValid&&(a.invalidReason==="unsupported zone"||!e)?n:a.toLocaleString(Ea.DateTime.TIME_SIMPLE).replace(/\./g,"")}catch(a){return n}}function Io(t,e){const n=Ea.DateTime.fromJSDate(t,{zone:e});return e&&!Do(e)||!n.isValid&&(n.invalidReason==="unsupported zone"||!e)?"":n.offsetNameShort}var rr=new Date,or=new Date;function qt(t,e,n,a){function r(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return r.floor=function(o){return t(o=new Date(+o)),o},r.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},r.round=function(o){var s=r(o),h=r.ceil(o);return o-s<h-o?s:h},r.offset=function(o,s){return e(o=new Date(+o),s==null?1:Math.floor(s)),o},r.range=function(o,s,h){var c=[],_;if(o=r.ceil(o),h=h==null?1:Math.floor(h),!(o<s)||!(h>0))return c;do c.push(_=new Date(+o)),e(o,h),t(o);while(_<o&&o<s);return c},r.filter=function(o){return qt(function(s){if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},function(s,h){if(s>=s)if(h<0)for(;++h<=0;)for(;e(s,-1),!o(s););else for(;--h>=0;)for(;e(s,1),!o(s););})},n&&(r.count=function(o,s){return rr.setTime(+o),or.setTime(+s),t(rr),t(or),Math.floor(n(rr,or))},r.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?r.filter(a?function(s){return a(s)%o==0}:function(s){return r.count(0,s)%o==0}):r}),r}var lr=qt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});lr.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):lr};const Wn=1e3,zn=Wn*60,ha=zn*60,_a=ha*24,sr=_a*7,Lo=_a*30,ur=_a*365;var ai=qt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Wn)},function(t,e){return(e-t)/Wn},function(t){return t.getUTCSeconds()}),Kn=qt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wn)},function(t,e){t.setTime(+t+e*zn)},function(t,e){return(e-t)/zn},function(t){return t.getMinutes()}),aa=qt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wn-t.getMinutes()*zn)},function(t,e){t.setTime(+t+e*ha)},function(t,e){return(e-t)/ha},function(t){return t.getHours()}),Gt=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/_a,t=>t.getDate()-1);function ga(t){return qt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zn)/sr})}var Oa=ga(0),cr=ga(1);ga(2),ga(3);var ii=ga(4);ga(5),ga(6);var Po=qt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),ia=qt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ia.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:qt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var Fo=qt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/_a},function(t){return t.getUTCDate()-1});function ba(t){return qt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/sr})}var xc=ba(0),fr=ba(1);ba(2),ba(3);var ri=ba(4);ba(5),ba(6);var Da=qt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Da.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:qt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};function dr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mr(t){let e=t,n=t,a=t;t.length!==2&&(e=(h,c)=>t(h)-c,n=dr,a=(h,c)=>dr(t(h),c));function r(h,c,_=0,y=h.length){if(_<y){if(n(c,c)!==0)return y;do{const v=_+y>>>1;a(h[v],c)<0?_=v+1:y=v}while(_<y)}return _}function o(h,c,_=0,y=h.length){if(_<y){if(n(c,c)!==0)return y;do{const v=_+y>>>1;a(h[v],c)<=0?_=v+1:y=v}while(_<y)}return _}function s(h,c,_=0,y=h.length){const v=r(h,c,_,y-1);return v>_&&e(h[v-1],c)>-e(h[v],c)?v-1:v}return{left:r,center:s,right:o}}function jc(t){return t===null?NaN:+t}const Hc=mr(dr).right;mr(jc).center;var hr=Math.sqrt(50),_r=Math.sqrt(10),gr=Math.sqrt(2);function Vc(t,e,n){var a,r=-1,o,s,h;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((a=e<t)&&(o=t,t=e,e=o),(h=Bo(t,e,n))===0||!isFinite(h))return[];if(h>0){let c=Math.round(t/h),_=Math.round(e/h);for(c*h<t&&++c,_*h>e&&--_,s=new Array(o=_-c+1);++r<o;)s[r]=(c+r)*h}else{h=-h;let c=Math.round(t*h),_=Math.round(e*h);for(c/h<t&&++c,_/h>e&&--_,s=new Array(o=_-c+1);++r<o;)s[r]=(c+r)/h}return a&&s.reverse(),s}function Bo(t,e,n){var a=(e-t)/Math.max(0,n),r=Math.floor(Math.log(a)/Math.LN10),o=a/Math.pow(10,r);return r>=0?(o>=hr?10:o>=_r?5:o>=gr?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=hr?10:o>=_r?5:o>=gr?2:1)}function br(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),o=a/r;return o>=hr?r*=10:o>=_r?r*=5:o>=gr&&(r*=2),e<t?-r:r}function Uc(t,e,n,a,r,o){const s=[[ai,1,Wn],[ai,5,5*Wn],[ai,15,15*Wn],[ai,30,30*Wn],[o,1,zn],[o,5,5*zn],[o,15,15*zn],[o,30,30*zn],[r,1,ha],[r,3,3*ha],[r,6,6*ha],[r,12,12*ha],[a,1,_a],[a,2,2*_a],[n,1,sr],[e,1,Lo],[e,3,3*Lo],[t,1,ur]];function h(_,y,v){const k=y<_;k&&([_,y]=[y,_]);const E=v&&typeof v.range=="function"?v:c(_,y,v),S=E?E.range(_,+y+1):[];return k?S.reverse():S}function c(_,y,v){const k=Math.abs(y-_)/v,E=mr(([,,w])=>w).right(s,k);if(E===s.length)return t.every(br(_/ur,y/ur,v));if(E===0)return lr.every(Math.max(br(_,y,v),1));const[S,N]=s[k/s[E-1][2]<s[E][2]/k?E-1:E];return S.every(N)}return[h,c]}const[Wc,Kc]=Uc(ia,Po,Oa,Gt,aa,Kn);function Ro(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xo(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function oi(){}var li=.7,Li=1/li,Na="\\s*([+-]?\\d+)\\s*",si="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qc=/^#([0-9a-f]{3,8})$/,Yc=new RegExp("^rgb\\("+[Na,Na,Na]+"\\)$"),Zc=new RegExp("^rgb\\("+[En,En,En]+"\\)$"),Jc=new RegExp("^rgba\\("+[Na,Na,Na,si]+"\\)$"),Qc=new RegExp("^rgba\\("+[En,En,En,si]+"\\)$"),Xc=new RegExp("^hsl\\("+[si,En,En]+"\\)$"),$c=new RegExp("^hsla\\("+[si,En,En,si]+"\\)$"),jo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yr(oi,ui,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ho,formatHex:Ho,formatHsl:e0,formatRgb:Vo,toString:Vo});function Ho(){return this.rgb().formatHex()}function e0(){return Yo(this).formatHsl()}function Vo(){return this.rgb().formatRgb()}function ui(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Uo(e):n===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Pi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Pi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yc.exec(t))?new tn(e[1],e[2],e[3],1):(e=Zc.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jc.exec(t))?Pi(e[1],e[2],e[3],e[4]):(e=Qc.exec(t))?Pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xc.exec(t))?qo(e[1],e[2]/100,e[3]/100,1):(e=$c.exec(t))?qo(e[1],e[2]/100,e[3]/100,e[4]):jo.hasOwnProperty(t)?Uo(jo[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function Uo(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function Pi(t,e,n,a){return a<=0&&(t=e=n=NaN),new tn(t,e,n,a)}function t0(t){return t instanceof oi||(t=ui(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function pr(t,e,n,a){return arguments.length===1?t0(t):new tn(t,e,n,a==null?1:a)}function tn(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}yr(tn,pr,xo(oi,{brighter:function(t){return t=t==null?Li:Math.pow(Li,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?li:Math.pow(li,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wo,formatHex:Wo,formatRgb:Ko,toString:Ko}));function Wo(){return"#"+vr(this.r)+vr(this.g)+vr(this.b)}function Ko(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function vr(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function qo(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new On(t,e,n,a)}function Yo(t){if(t instanceof On)return new On(t.h,t.s,t.l,t.opacity);if(t instanceof oi||(t=ui(t)),!t)return new On;if(t instanceof On)return t;t=t.rgb();var e=t.r/255,n=t.g/255,a=t.b/255,r=Math.min(e,n,a),o=Math.max(e,n,a),s=NaN,h=o-r,c=(o+r)/2;return h?(e===o?s=(n-a)/h+(n<a)*6:n===o?s=(a-e)/h+2:s=(e-n)/h+4,h/=c<.5?o+r:2-o-r,s*=60):h=c>0&&c<1?0:s,new On(s,h,c,t.opacity)}function n0(t,e,n,a){return arguments.length===1?Yo(t):new On(t,e,n,a==null?1:a)}function On(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}yr(On,n0,xo(oi,{brighter:function(t){return t=t==null?Li:Math.pow(Li,t),new On(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?li:Math.pow(li,t),new On(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,r=2*n-a;return new tn(Tr(t>=240?t-240:t+120,r,a),Tr(t,r,a),Tr(t<120?t+240:t-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Tr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var kr=t=>()=>t;function a0(t,e){return function(n){return t+n*e}}function i0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(a){return Math.pow(t+a*e,n)}}function r0(t){return(t=+t)==1?Zo:function(e,n){return n-e?i0(e,n,t):kr(isNaN(e)?n:e)}}function Zo(t,e){var n=e-t;return n?a0(t,n):kr(isNaN(t)?e:t)}var Jo=function t(e){var n=r0(e);function a(r,o){var s=n((r=pr(r)).r,(o=pr(o)).r),h=n(r.g,o.g),c=n(r.b,o.b),_=Zo(r.opacity,o.opacity);return function(y){return r.r=s(y),r.g=h(y),r.b=c(y),r.opacity=_(y),r+""}}return a.gamma=t,a}(1);function o0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,a=e.slice(),r;return function(o){for(r=0;r<n;++r)a[r]=t[r]*(1-o)+e[r]*o;return a}}function l0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function s0(t,e){var n=e?e.length:0,a=t?Math.min(n,t.length):0,r=new Array(a),o=new Array(n),s;for(s=0;s<a;++s)r[s]=Ar(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(h){for(s=0;s<a;++s)o[s]=r[s](h);return o}}function u0(t,e){var n=new Date;return t=+t,e=+e,function(a){return n.setTime(t*(1-a)+e*a),n}}function Fi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function c0(t,e){var n={},a={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=Ar(t[r],e[r]):a[r]=e[r];return function(o){for(r in n)a[r]=n[r](o);return a}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(Mr.source,"g");function f0(t){return function(){return t}}function d0(t){return function(e){return t(e)+""}}function m0(t,e){var n=Mr.lastIndex=wr.lastIndex=0,a,r,o,s=-1,h=[],c=[];for(t=t+"",e=e+"";(a=Mr.exec(t))&&(r=wr.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),h[s]?h[s]+=o:h[++s]=o),(a=a[0])===(r=r[0])?h[s]?h[s]+=r:h[++s]=r:(h[++s]=null,c.push({i:s,x:Fi(a,r)})),n=wr.lastIndex;return n<e.length&&(o=e.slice(n),h[s]?h[s]+=o:h[++s]=o),h.length<2?c[0]?d0(c[0].x):f0(e):(e=c.length,function(_){for(var y=0,v;y<e;++y)h[(v=c[y]).i]=v.x(_);return h.join("")})}function Ar(t,e){var n=typeof e,a;return e==null||n==="boolean"?kr(e):(n==="number"?Fi:n==="string"?(a=ui(e))?(e=a,Jo):m0:e instanceof ui?Jo:e instanceof Date?u0:l0(e)?o0:Array.isArray(e)?s0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?c0:Fi)(t,e)}function h0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _0(t){return function(){return t}}function g0(t){return+t}var Qo=[0,1];function Ia(t){return t}function Sr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_0(isNaN(e)?NaN:.5)}function b0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(a){return Math.max(t,Math.min(e,a))}}function y0(t,e,n){var a=t[0],r=t[1],o=e[0],s=e[1];return r<a?(a=Sr(r,a),o=n(s,o)):(a=Sr(a,r),o=n(o,s)),function(h){return o(a(h))}}function p0(t,e,n){var a=Math.min(t.length,e.length)-1,r=new Array(a),o=new Array(a),s=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<a;)r[s]=Sr(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(h){var c=Hc(t,h,1,a)-1;return o[c](r[c](h))}}function Xo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v0(){var t=Qo,e=Qo,n=Ar,a,r,o,s=Ia,h,c,_;function y(){var k=Math.min(t.length,e.length);return s!==Ia&&(s=b0(t[0],t[k-1])),h=k>2?p0:y0,c=_=null,v}function v(k){return k==null||isNaN(k=+k)?o:(c||(c=h(t.map(a),e,n)))(a(s(k)))}return v.invert=function(k){return s(r((_||(_=h(e,t.map(a),Fi)))(k)))},v.domain=function(k){return arguments.length?(t=Array.from(k,g0),y()):t.slice()},v.range=function(k){return arguments.length?(e=Array.from(k),y()):e.slice()},v.rangeRound=function(k){return e=Array.from(k),n=h0,y()},v.clamp=function(k){return arguments.length?(s=k?!0:Ia,y()):s!==Ia},v.interpolate=function(k){return arguments.length?(n=k,y()):n},v.unknown=function(k){return arguments.length?(o=k,v):o},function(k,E){return a=k,r=E,y()}}function $o(){return v0()(Ia,Ia)}function T0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function La(t){return t=Bi(Math.abs(t)),t?t[1]:NaN}function k0(t,e){return function(n,a){for(var r=n.length,o=[],s=0,h=t[0],c=0;r>0&&h>0&&(c+h+1>a&&(h=Math.max(1,a-c)),o.push(n.substring(r-=h,r+h)),!((c+=h+1)>a));)h=t[s=(s+1)%t.length];return o.reverse().join(e)}}function M0(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var w0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ri(t){if(!(e=w0.exec(t)))throw new Error("invalid format: "+t);var e;return new Cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ri.prototype=Cr.prototype;function Cr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A0(t){e:for(var e=t.length,n=1,a=-1,r;n<e;++n)switch(t[n]){case".":a=r=n;break;case"0":a===0&&(a=n),r=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(r+1):t}var el;function S0(t,e){var n=Bi(t,e);if(!n)return t+"";var a=n[0],r=n[1],o=r-(el=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=a.length;return o===s?a:o>s?a+new Array(o-s+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Bi(t,Math.max(0,e+o-1))[0]}function tl(t,e){var n=Bi(t,e);if(!n)return t+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}var nl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:T0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tl(t*100,e),r:tl,s:S0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function al(t){return t}var il=Array.prototype.map,rl=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function C0(t){var e=t.grouping===void 0||t.thousands===void 0?al:k0(il.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?al:M0(il.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function _(v){v=Ri(v);var k=v.fill,E=v.align,S=v.sign,N=v.symbol,w=v.zero,M=v.width,G=v.comma,I=v.precision,U=v.trim,B=v.type;B==="n"?(G=!0,B="g"):nl[B]||(I===void 0&&(I=12),U=!0,B="g"),(w||k==="0"&&E==="=")&&(w=!0,k="0",E="=");var z=N==="$"?n:N==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",V=N==="$"?a:/[%p]/.test(B)?s:"",L=nl[B],re=/[defgprs%]/.test(B);I=I===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function K(H){var Z=z,de=V,ke,oe,j;if(B==="c")de=L(H)+de,H="";else{H=+H;var q=H<0||1/H<0;if(H=isNaN(H)?c:L(Math.abs(H),I),U&&(H=A0(H)),q&&+H==0&&S!=="+"&&(q=!1),Z=(q?S==="("?S:h:S==="-"||S==="("?"":S)+Z,de=(B==="s"?rl[8+el/3]:"")+de+(q&&S==="("?")":""),re){for(ke=-1,oe=H.length;++ke<oe;)if(j=H.charCodeAt(ke),48>j||j>57){de=(j===46?r+H.slice(ke+1):H.slice(ke))+de,H=H.slice(0,ke);break}}}G&&!w&&(H=e(H,1/0));var ce=Z.length+H.length+de.length,Ge=ce<M?new Array(M-ce+1).join(k):"";switch(G&&w&&(H=e(Ge+H,Ge.length?M-de.length:1/0),Ge=""),E){case"<":H=Z+H+de+Ge;break;case"=":H=Z+Ge+H+de;break;case"^":H=Ge.slice(0,ce=Ge.length>>1)+Z+H+de+Ge.slice(ce);break;default:H=Ge+Z+H+de;break}return o(H)}return K.toString=function(){return v+""},K}function y(v,k){var E=_((v=Ri(v),v.type="f",v)),S=Math.max(-8,Math.min(8,Math.floor(La(k)/3)))*3,N=Math.pow(10,-S),w=rl[8+S/3];return function(M){return E(N*M)+w}}return{format:_,formatPrefix:y}}var xi,ol,ll;G0({thousands:",",grouping:[3],currency:["$",""]});function G0(t){return xi=C0(t),ol=xi.format,ll=xi.formatPrefix,xi}function z0(t){return Math.max(0,-La(Math.abs(t)))}function E0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(La(e)/3)))*3-La(Math.abs(t)))}function O0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,La(e)-La(t))+1}function D0(t,e,n,a){var r=br(t,e,n),o;switch(a=Ri(a==null?",f":a),a.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(o=E0(r,s))&&(a.precision=o),ll(a,s)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=O0(r,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=z0(r))&&(a.precision=o-(a.type==="%")*2);break}}return ol(a)}function N0(t){var e=t.domain;return t.ticks=function(n){var a=e();return Vc(a[0],a[a.length-1],n==null?10:n)},t.tickFormat=function(n,a){var r=e();return D0(r[0],r[r.length-1],n==null?10:n,a)},t.nice=function(n){n==null&&(n=10);var a=e(),r=0,o=a.length-1,s=a[r],h=a[o],c,_,y=10;for(h<s&&(_=s,s=h,h=_,_=r,r=o,o=_);y-- >0;){if(_=Bo(s,h,n),_===c)return a[r]=s,a[o]=h,e(a);if(_>0)s=Math.floor(s/_)*_,h=Math.ceil(h/_)*_;else if(_<0)s=Math.ceil(s*_)/_,h=Math.floor(h*_)/_;else break;c=_}return t},t}function sl(){var t=$o();return t.copy=function(){return Xo(t,sl())},Ro.apply(t,arguments),N0(t)}function I0(t,e){t=t.slice();var n=0,a=t.length-1,r=t[n],o=t[a],s;return o<r&&(s=n,n=a,a=s,s=r,r=o,o=s),t[n]=e.floor(r),t[a]=e.ceil(o),t}function Gr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ci(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function L0(t){var e=t.dateTime,n=t.date,a=t.time,r=t.periods,o=t.days,s=t.shortDays,h=t.months,c=t.shortMonths,_=fi(r),y=di(r),v=fi(o),k=di(o),E=fi(s),S=di(s),N=fi(h),w=di(h),M=fi(c),G=di(c),I={a:q,A:ce,b:Ge,B:Pe,c:null,d:hl,e:hl,f:rf,g:_f,G:bf,H:tf,I:nf,j:af,L:_l,m:of,M:lf,p:_e,q:ze,Q:Tl,s:kl,S:sf,u:uf,U:cf,V:ff,w:df,W:mf,x:null,X:null,y:hf,Y:gf,Z:yf,"%":vl},U={a:Be,A:F,b:le,B:se,c:null,d:bl,e:bl,f:kf,g:Df,G:If,H:pf,I:vf,j:Tf,L:yl,m:Mf,M:wf,p:ye,q:ue,Q:Tl,s:kl,S:Af,u:Sf,U:Cf,V:Gf,w:zf,W:Ef,x:null,X:null,y:Of,Y:Nf,Z:Lf,"%":vl},B={a:K,A:H,b:Z,B:de,c:ke,d:dl,e:dl,f:Q0,g:fl,G:cl,H:ml,I:ml,j:q0,L:J0,m:K0,M:Y0,p:re,q:W0,Q:$0,s:ef,S:Z0,u:x0,U:j0,V:H0,w:R0,W:V0,x:oe,X:j,y:fl,Y:cl,Z:U0,"%":X0};I.x=z(n,I),I.X=z(a,I),I.c=z(e,I),U.x=z(n,U),U.X=z(a,U),U.c=z(e,U);function z(ie,be){return function(Ce){var Q=[],P=-1,fe=0,pe=ie.length,Me,Ze,Je;for(Ce instanceof Date||(Ce=new Date(+Ce));++P<pe;)ie.charCodeAt(P)===37&&(Q.push(ie.slice(fe,P)),(Ze=ul[Me=ie.charAt(++P)])!=null?Me=ie.charAt(++P):Ze=Me==="e"?" ":"0",(Je=be[Me])&&(Me=Je(Ce,Ze)),Q.push(Me),fe=P+1);return Q.push(ie.slice(fe,P)),Q.join("")}}function V(ie,be){return function(Ce){var Q=ci(1900,void 0,1),P=L(Q,ie,Ce+="",0),fe,pe;if(P!=Ce.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(be&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(fe=zr(ci(Q.y,0,1)),pe=fe.getUTCDay(),fe=pe>4||pe===0?fr.ceil(fe):fr(fe),fe=Fo.offset(fe,(Q.V-1)*7),Q.y=fe.getUTCFullYear(),Q.m=fe.getUTCMonth(),Q.d=fe.getUTCDate()+(Q.w+6)%7):(fe=Gr(ci(Q.y,0,1)),pe=fe.getDay(),fe=pe>4||pe===0?cr.ceil(fe):cr(fe),fe=Gt.offset(fe,(Q.V-1)*7),Q.y=fe.getFullYear(),Q.m=fe.getMonth(),Q.d=fe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),pe="Z"in Q?zr(ci(Q.y,0,1)).getUTCDay():Gr(ci(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(pe+5)%7:Q.w+Q.U*7-(pe+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,zr(Q)):Gr(Q)}}function L(ie,be,Ce,Q){for(var P=0,fe=be.length,pe=Ce.length,Me,Ze;P<fe;){if(Q>=pe)return-1;if(Me=be.charCodeAt(P++),Me===37){if(Me=be.charAt(P++),Ze=B[Me in ul?be.charAt(P++):Me],!Ze||(Q=Ze(ie,Ce,Q))<0)return-1}else if(Me!=Ce.charCodeAt(Q++))return-1}return Q}function re(ie,be,Ce){var Q=_.exec(be.slice(Ce));return Q?(ie.p=y.get(Q[0].toLowerCase()),Ce+Q[0].length):-1}function K(ie,be,Ce){var Q=E.exec(be.slice(Ce));return Q?(ie.w=S.get(Q[0].toLowerCase()),Ce+Q[0].length):-1}function H(ie,be,Ce){var Q=v.exec(be.slice(Ce));return Q?(ie.w=k.get(Q[0].toLowerCase()),Ce+Q[0].length):-1}function Z(ie,be,Ce){var Q=M.exec(be.slice(Ce));return Q?(ie.m=G.get(Q[0].toLowerCase()),Ce+Q[0].length):-1}function de(ie,be,Ce){var Q=N.exec(be.slice(Ce));return Q?(ie.m=w.get(Q[0].toLowerCase()),Ce+Q[0].length):-1}function ke(ie,be,Ce){return L(ie,e,be,Ce)}function oe(ie,be,Ce){return L(ie,n,be,Ce)}function j(ie,be,Ce){return L(ie,a,be,Ce)}function q(ie){return s[ie.getDay()]}function ce(ie){return o[ie.getDay()]}function Ge(ie){return c[ie.getMonth()]}function Pe(ie){return h[ie.getMonth()]}function _e(ie){return r[+(ie.getHours()>=12)]}function ze(ie){return 1+~~(ie.getMonth()/3)}function Be(ie){return s[ie.getUTCDay()]}function F(ie){return o[ie.getUTCDay()]}function le(ie){return c[ie.getUTCMonth()]}function se(ie){return h[ie.getUTCMonth()]}function ye(ie){return r[+(ie.getUTCHours()>=12)]}function ue(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var be=z(ie+="",I);return be.toString=function(){return ie},be},parse:function(ie){var be=V(ie+="",!1);return be.toString=function(){return ie},be},utcFormat:function(ie){var be=z(ie+="",U);return be.toString=function(){return ie},be},utcParse:function(ie){var be=V(ie+="",!0);return be.toString=function(){return ie},be}}}var ul={"-":"",_:" ","0":"0"},Et=/^\s*\d+/,P0=/^%/,F0=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var a=t<0?"-":"",r=(a?-t:t)+"",o=r.length;return a+(o<n?new Array(n-o+1).join(e)+r:r)}function B0(t){return t.replace(F0,"\\$&")}function fi(t){return new RegExp("^(?:"+t.map(B0).join("|")+")","i")}function di(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function R0(t,e,n){var a=Et.exec(e.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function x0(t,e,n){var a=Et.exec(e.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function j0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function H0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function V0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function cl(t,e,n){var a=Et.exec(e.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function fl(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function U0(t,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function W0(t,e,n){var a=Et.exec(e.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function K0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function dl(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function q0(t,e,n){var a=Et.exec(e.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function ml(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function Y0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function Z0(t,e,n){var a=Et.exec(e.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function J0(t,e,n){var a=Et.exec(e.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function Q0(t,e,n){var a=Et.exec(e.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function X0(t,e,n){var a=P0.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function $0(t,e,n){var a=Et.exec(e.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function ef(t,e,n){var a=Et.exec(e.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function hl(t,e){return ot(t.getDate(),e,2)}function tf(t,e){return ot(t.getHours(),e,2)}function nf(t,e){return ot(t.getHours()%12||12,e,2)}function af(t,e){return ot(1+Gt.count(ia(t),t),e,3)}function _l(t,e){return ot(t.getMilliseconds(),e,3)}function rf(t,e){return _l(t,e)+"000"}function of(t,e){return ot(t.getMonth()+1,e,2)}function lf(t,e){return ot(t.getMinutes(),e,2)}function sf(t,e){return ot(t.getSeconds(),e,2)}function uf(t){var e=t.getDay();return e===0?7:e}function cf(t,e){return ot(Oa.count(ia(t)-1,t),e,2)}function gl(t){var e=t.getDay();return e>=4||e===0?ii(t):ii.ceil(t)}function ff(t,e){return t=gl(t),ot(ii.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function df(t){return t.getDay()}function mf(t,e){return ot(cr.count(ia(t)-1,t),e,2)}function hf(t,e){return ot(t.getFullYear()%100,e,2)}function _f(t,e){return t=gl(t),ot(t.getFullYear()%100,e,2)}function gf(t,e){return ot(t.getFullYear()%1e4,e,4)}function bf(t,e){var n=t.getDay();return t=n>=4||n===0?ii(t):ii.ceil(t),ot(t.getFullYear()%1e4,e,4)}function yf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function bl(t,e){return ot(t.getUTCDate(),e,2)}function pf(t,e){return ot(t.getUTCHours(),e,2)}function vf(t,e){return ot(t.getUTCHours()%12||12,e,2)}function Tf(t,e){return ot(1+Fo.count(Da(t),t),e,3)}function yl(t,e){return ot(t.getUTCMilliseconds(),e,3)}function kf(t,e){return yl(t,e)+"000"}function Mf(t,e){return ot(t.getUTCMonth()+1,e,2)}function wf(t,e){return ot(t.getUTCMinutes(),e,2)}function Af(t,e){return ot(t.getUTCSeconds(),e,2)}function Sf(t){var e=t.getUTCDay();return e===0?7:e}function Cf(t,e){return ot(xc.count(Da(t)-1,t),e,2)}function pl(t){var e=t.getUTCDay();return e>=4||e===0?ri(t):ri.ceil(t)}function Gf(t,e){return t=pl(t),ot(ri.count(Da(t),t)+(Da(t).getUTCDay()===4),e,2)}function zf(t){return t.getUTCDay()}function Ef(t,e){return ot(fr.count(Da(t)-1,t),e,2)}function Of(t,e){return ot(t.getUTCFullYear()%100,e,2)}function Df(t,e){return t=pl(t),ot(t.getUTCFullYear()%100,e,2)}function Nf(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function If(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ri(t):ri.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function Lf(){return"+0000"}function vl(){return"%"}function Tl(t){return+t}function kl(t){return Math.floor(+t/1e3)}var Pa,Ml;Pf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pf(t){return Pa=L0(t),Ml=Pa.format,Pa.parse,Pa.utcFormat,Pa.utcParse,Pa}function Ff(t){return new Date(t)}function Bf(t){return t instanceof Date?+t:+new Date(+t)}function wl(t,e,n,a,r,o,s,h,c,_){var y=$o(),v=y.invert,k=y.domain,E=_(".%L"),S=_(":%S"),N=_("%I:%M"),w=_("%I %p"),M=_("%a %d"),G=_("%b %d"),I=_("%B"),U=_("%Y");function B(z){return(c(z)<z?E:h(z)<z?S:s(z)<z?N:o(z)<z?w:a(z)<z?r(z)<z?M:G:n(z)<z?I:U)(z)}return y.invert=function(z){return new Date(v(z))},y.domain=function(z){return arguments.length?k(Array.from(z,Bf)):k().map(Ff)},y.ticks=function(z){var V=k();return t(V[0],V[V.length-1],z==null?10:z)},y.tickFormat=function(z,V){return V==null?B:_(V)},y.nice=function(z){var V=k();return(!z||typeof z.range!="function")&&(z=e(V[0],V[V.length-1],z==null?10:z)),z?k(I0(V,z)):y},y.copy=function(){return Xo(y,wl(t,e,n,a,r,o,s,h,c,_))},y}function ji(){return Ro.apply(wl(Wc,Kc,ia,Po,Oa,Gt,aa,Kn,ai,Ml).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fa(t,e){if(!t)return"";let n=0,a=0,r=0;t.length==4?(n="0x"+t[1]+t[1],a="0x"+t[2]+t[2],r="0x"+t[3]+t[3]):(n="0x"+t[1]+t[2],a="0x"+t[3]+t[4],r="0x"+t[5]+t[6]),n/=255,a/=255,r/=255;const o=Math.min(n,a,r),s=Math.max(n,a,r),h=s-o;let c=0,_=0,y=0;return h==0?c=0:s==n?c=(a-r)/h%6:s==a?c=(r-n)/h+2:c=(n-a)/h+4,c=Math.round(c*60),c<0&&(c+=360),y=(s+o)/2,_=h==0?0:h/(1-Math.abs(2*y-1)),_=+(_*100).toFixed(1),y=+(y*100).toFixed(1),"hsl("+c+","+_/2+"%,"+e+"%)"}var Ye;(function(t){t.FREE="free",t.BUSY="busy",t.PARTIAL="partial",t.CLOSED="closed"})(Ye||(Ye={}));var cn;(function(t){t.UNSELECTED="unselected",t.SELECTED="selected"})(cn||(cn={}));var Al;(function(t){t.VERIFY="verify",t.CHOOSE="choose"})(Al||(Al={}));function Rf(t){let e,n=(t[0].given_name&&t[0].surname?t[0].given_name.charAt(0)+t[0].surname.charAt(0):t[0].name?t[0].name.charAt(0):t[0].email?t[0].email.charAt(0):"?")+"",a;return{c(){e=b("p"),a=ge(n),Ie(e,"margin","0")},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o&1&&n!==(n=(r[0].given_name&&r[0].surname?r[0].given_name.charAt(0)+r[0].surname.charAt(0):r[0].name?r[0].name.charAt(0):r[0].email?r[0].email.charAt(0):"?")+"")&&He(a,n)},d(r){r&&W(e)}}}function xf(t){let e,n;return{c(){e=b("img"),p(e,"alt",""),Ie(e,"height",t[1]),Ie(e,"width",t[2]),Ie(e,"border-radius","50%"),Jr(e.src,n="data:image/jpg;base64,"+t[3])||p(e,"src",n)},m(a,r){Y(a,e,r)},p(a,r){r&2&&Ie(e,"height",a[1]),r&4&&Ie(e,"width",a[2]),r&8&&!Jr(e.src,n="data:image/jpg;base64,"+a[3])&&p(e,"src",n)},d(a){a&&W(e)}}}function jf(t){let e;function n(o,s){if(o[3])return xf;if(o[0])return Rf}let a=n(t),r=a&&a(t);return{c(){r&&r.c(),e=Aa(),this.c=he},m(o,s){r&&r.m(o,s),Y(o,e,s)},p(o,[s]){a===(a=n(o))&&r?r.p(o,s):(r&&r.d(1),r=a&&a(o),r&&(r.c(),r.m(e.parentNode,e)))},i:he,o:he,d(o){r&&r.d(o),o&&W(e)}}}function Hf(t,e,n){let a,{contact:r}=e,{contact_query:o}=e,{height:s="32px"}=e,{width:h="32px"}=e;return Ou(async()=>{r&&r.picture_url?n(3,a=await Gc.getContactAvatar(o,r.id)):n(3,a=null)}),t.$$set=c=>{"contact"in c&&n(0,r=c.contact),"contact_query"in c&&n(4,o=c.contact_query),"height"in c&&n(1,s=c.height),"width"in c&&n(2,h=c.width)},n(3,a=null),[r,s,h,a,o]}class Vf extends Vn{constructor(e){super();Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Hf,jf,Zt,{contact:0,contact_query:4,height:1,width:2},null),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["contact","contact_query","height","width"]}get contact(){return this.$$.ctx[0]}set contact(e){this.$$set({contact:e}),X()}get contact_query(){return this.$$.ctx[4]}set contact_query(e){this.$$set({contact_query:e}),X()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),X()}get width(){return this.$$.ctx[2]}set width(e){this.$$set({width:e}),X()}}customElements.define("nylas-contact-image",Vf);function Uf(t){let e,n,a,r,o,s,h;return{c(){e=b("div"),n=b("p"),a=ge(t[0]),r=O(),o=b("button"),o.textContent="Refresh your page",this.c=he,p(o,"type","button")},m(c,_){Y(c,e,_),m(e,n),m(n,a),m(e,r),m(e,o),s||(h=te(o,"click",t[1]),s=!0)},p(c,[_]){_&1&&He(a,c[0])},i:he,o:he,d(c){c&&W(e),s=!1,h()}}}function Wf(t,e,n){let{error_message:a="Uh oh! Looks like an error occurred"}=e;const r=()=>location.reload();return t.$$set=o=>{"error_message"in o&&n(0,a=o.error_message)},[a,r]}class Kf extends Vn{constructor(e){super();this.shadowRoot.innerHTML="<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}div{background:var(--red-lighter);bottom:0;color:var(--red);font-size:1rem;line-height:24px;min-height:85px;padding:20px 24px;position:fixed;right:0;min-width:240px;z-index:2}button{background:transparent;color:var(--blue);cursor:pointer;font-style:italic;text-decoration:underline;margin-top:10px}</style>",Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Wf,Uf,Zt,{error_message:0},null),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["error_message"]}get error_message(){return this.$$.ctx[0]}set error_message(e){this.$$set({error_message:e}),X()}}customElements.define("nylas-message-error",Kf);function qf(t){let e,n,a=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M14 16L9.77612 12.0014L14 8"),p(n,"stroke","#6A7285"),p(n,"stroke-width","1.5"),p(n,"stroke-miterlimit","10"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Yf(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class Zf extends fa{constructor(e){super();Kt(this,e,Yf,qf,Zt,{})}}function Jf(t){let e,n,a=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M10 8L14.2239 11.9986L10 16"),p(n,"stroke","#6A7285"),p(n,"stroke-width","1.5"),p(n,"stroke-miterlimit","10"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Qf(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class Xf extends fa{constructor(e){super();Kt(this,e,Qf,Jf,Zt,{})}}function Er(t){return t.availability!==Ye.BUSY&&t.availability!==Ye.CLOSED}function $f(t,e,n){return[{emails:n.flatMap(a=>a.participantEmails),days:[...Array(7).keys()],start:`${t}:00`,end:Sl({hour:e}),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,object_type:"open_hours"}]}function Ba(t){return t?t.toString().padStart(2,"0"):"00"}function Sl({hour:t,minute:e=0}){return t>=24?`${Ba(23)}:${Ba(59)}`:`${Ba(t)}:${Ba(e)}`}function ed(t,e){return t.map(n=>{var a;return{emails:e.flatMap(r=>r.participantEmails),days:[n.startWeekday===0?6:n.startWeekday-1],start:`${Ba(n.startHour)}:${Ba(n.startMinute)}`,end:Sl({hour:n.endHour,minute:n.endMinute}),timezone:(a=n.timeZone)!=null?a:Intl.DateTimeFormat().resolvedOptions().timeZone,object_type:"open_hours"}})}const td=(t,e,n,a,r,o)=>{const s=aa(new Date(new Date(t).setHours(o.start_hour))),h=aa(new Date(new Date(t).setHours(o.end_hour)));return ji().domain([s,h]).ticks(Kn.every(o.slot_size)).slice(0,-1).map(c=>{var _;const y=Kn.offset(c,o.slot_size),v=[];let k=Ye.FREE;if(e.length){const w={start_time:c,end_time:y,available_calendars:[],expirySelection:"",recurrence_cadence:"",recurrence_expiry:"",fallsWithinAllowedTimeRange:!1};for(const M of e){const G=M.availability===Ye.BUSY?M.timeslots.map(U=>({start_time:Kn.offset(U.start_time,-o.event_buffer),end_time:Kn.offset(U.end_time,o.event_buffer)})):M.timeslots.map(U=>({start_time:Kn.offset(U.start_time,U===M.timeslots[0]?0:o.event_buffer),end_time:Kn.offset(U.end_time,U===M.timeslots[M.timeslots.length-1]?0:-o.event_buffer)}));let I=0;M.availability===Ye.BUSY?I=nd(G,w):M.availability===Ye.FREE&&(I=G.some(U=>w.start_time>=U.start_time&&w.end_time<=U.end_time)?1:0),M.availability===Ye.BUSY?o.capacity&&o.capacity>=1&&I<o.capacity?v.push((M==null?void 0:M.emailAddress)||""):I||v.push((M==null?void 0:M.emailAddress)||""):(M.availability===Ye.FREE||!M.availability)&&I&&v.push((M==null?void 0:M.emailAddress)||"")}v.length?v.length===e.length?k=Ye.FREE:k=Ye.PARTIAL:k=Ye.BUSY}if(k===Ye.PARTIAL&&v.length<e.length*o.partial_bookable_ratio&&(k=Ye.BUSY),k===Ye.BUSY&&o.partial_bookable_ratio===0&&(k=Ye.PARTIAL),k===Ye.PARTIAL&&o.required_participants.length&&(so(n,v)||(k=Ye.BUSY)),o.mandate_top_of_hour&&c.getMinutes()!==0&&(k=Ye.BUSY,v.length=0),o.open_hours.length&&k!==Ye.BUSY){let w=[];w=o.open_hours.filter(G=>!Object.prototype.hasOwnProperty.call(G,"startWeekday")||G.startWeekday===c.getDay()||G.endWeekday===c.getDay()),w.some(G=>{const I=Object.prototype.hasOwnProperty.call(G,"startWeekday")?Gt.offset(c,G.startWeekday-c.getDay()):new Date(c);I.setHours(G.startHour),I.setMinutes(G.startMinute);const U=Object.prototype.hasOwnProperty.call(G,"startWeekday")?Gt.offset(c,G.endWeekday-c.getDay()):new Date(c);return U.setHours(G.endHour),U.setMinutes(G.endMinute),c>=I&&y<=U})||(k=Ye.CLOSED,v.length=0)}((_=o.events)==null?void 0:_.length)>1&&a.length&&(a.some(M=>c>=M[0].start_time&&y<=M[M.length-1].end_time)?(k=Ye.FREE,v.length=r.length):(k=Ye.BUSY,v.length=0));const E=new Date(new Date().setHours(0,0,0,0)).getTime(),S=(new Date(t).getTime()-E)/(1e3*60*60*24),N=(new Date(c).getTime()-new Date().getTime())/(1e3*60*60*24);return{selectionStatus:cn.UNSELECTED,availability:k,available_calendars:v,start_time:c,end_time:y,fallsWithinAllowedTimeRange:N>=0&&S>=o.min_book_ahead_days&&S<=o.max_book_ahead_days}})};function nd(t,e){return t.reduce((n,a)=>(e.start_time<a.end_time&&a.start_time<e.end_time&&n++,n),0)}function Cl(t,e,n){const a=t.slice();return a[123]=e[n],a[124]=e,a[125]=n,a}function Gl(t,e,n){const a=t.slice();return a[126]=e[n],a}function zl(t,e,n){const a=t.slice();return a[126]=e[n],a[128]=n,a}function El(t,e,n){const a=t.slice();return a[129]=e[n],a}function Ol(t,e,n){const a=t.slice();return a[134]=e[n],a}function Dl(t,e,n){const a=t.slice();return a[134]=e[n],a}function ad(t){let e,n,a,r=uo(t[8])+"",o,s,h,c,_,y,v,k,E,S,N,w,M,G=[],I=new Map,U,B,z,V,L,re,K=t[2].allow_date_change&&Nl(t),H=t[2].busy_color!==t[2].closed_color&&Il(),Z=t[2].show_ticks&&t[2].view_as==="schedule"&&Ll(t),de=t[8];const ke=j=>j[123].timestamp.toISOString();for(let j=0;j<de.length;j+=1){let q=Cl(t,de,j),ce=ke(q);I.set(ce,G[j]=Kl(ce,q))}let oe=t[19]&&ql();return{c(){e=b("main"),n=b("header"),a=b("h2"),o=ge(r),s=O(),K&&K.c(),h=O(),c=b("div"),_=b("span"),_.textContent="Not available",y=O(),v=b("span"),v.textContent="Partially available",k=O(),E=b("span"),E.textContent="Available",S=O(),H&&H.c(),N=O(),Z&&Z.c(),w=O(),M=b("div");for(let j=0;j<G.length;j+=1)G[j].c();B=O(),oe&&oe.c(),p(a,"class","month"),p(_,"class","not-available"),p(v,"class","partially-available"),p(E,"class","available"),p(c,"class","legend"),xe(n,"dated",t[2].allow_date_change),p(M,"class","days"),xn(()=>t[96].call(M)),xe(M,"schedule",t[2].view_as==="schedule"),xe(M,"list",t[2].view_as==="list"),xe(M,"loading",t[4]),xe(M,"timezone",t[2].timezone),xe(M,"error",t[19]),Ie(e,"--busy-color-lightened",Fa(t[2].busy_color,90)),Ie(e,"--closed-color-lightened",Fa(t[2].closed_color,90)),Ie(e,"--selected-color-lightened",Fa(t[2].selected_color,60)),Ie(e,"--free-color",t[2].free_color),Ie(e,"--busy-color",t[2].busy_color),Ie(e,"--closed-color",t[2].closed_color),Ie(e,"--partial-color",t[2].partial_color),Ie(e,"--selected-color",t[2].selected_color),Ie(e,"--unavailable-color",t[2].unavailable_color),xn(()=>t[98].call(e)),xe(e,"ticked",t[2].show_ticks&&t[2].view_as==="schedule"),xe(e,"timezone",t[2].timezone),xe(e,"allow_booking",t[2].allow_booking),xe(e,"hide-header",!t[2].show_header)},m(j,q){Y(j,e,q),m(e,n),m(n,a),m(a,o),m(n,s),K&&K.m(n,null),m(n,h),m(n,c),m(c,_),m(c,y),m(c,v),m(c,k),m(c,E),m(c,S),H&&H.m(c,null),m(e,N),Z&&Z.m(e,null),m(e,w),m(e,M);for(let ce=0;ce<G.length;ce+=1)G[ce].m(M,null);t[95](M),U=Qi(M,t[96].bind(M)),m(e,B),oe&&oe.m(e,null),t[97](e),z=Qi(e,t[98].bind(e)),V=!0,L||(re=te(e,"mouseleave",t[99]),L=!0)},p(j,q){(!V||q[0]&256)&&r!==(r=uo(j[8])+"")&&He(o,r),j[2].allow_date_change?K?(K.p(j,q),q[0]&4&&qe(K,1)):(K=Nl(j),K.c(),qe(K,1),K.m(n,h)):K&&(pn(),ut(K,1,1,()=>{K=null}),vn()),j[2].busy_color!==j[2].closed_color?H||(H=Il(),H.c(),H.m(c,null)):H&&(H.d(1),H=null),q[0]&4&&xe(n,"dated",j[2].allow_date_change),j[2].show_ticks&&j[2].view_as==="schedule"?Z?Z.p(j,q):(Z=Ll(j),Z.c(),Z.m(e,w)):Z&&(Z.d(1),Z=null),q[0]&60212005&&(de=j[8],G=tr(G,q,ke,1,j,de,I,M,ro,Kl,null,Cl)),q[0]&4&&xe(M,"schedule",j[2].view_as==="schedule"),q[0]&4&&xe(M,"list",j[2].view_as==="list"),q[0]&16&&xe(M,"loading",j[4]),q[0]&4&&xe(M,"timezone",j[2].timezone),q[0]&524288&&xe(M,"error",j[19]),j[19]?oe||(oe=ql(),oe.c(),oe.m(e,null)):oe&&(oe.d(1),oe=null),(!V||q[0]&4)&&Ie(e,"--busy-color-lightened",Fa(j[2].busy_color,90)),(!V||q[0]&4)&&Ie(e,"--closed-color-lightened",Fa(j[2].closed_color,90)),(!V||q[0]&4)&&Ie(e,"--selected-color-lightened",Fa(j[2].selected_color,60)),(!V||q[0]&4)&&Ie(e,"--free-color",j[2].free_color),(!V||q[0]&4)&&Ie(e,"--busy-color",j[2].busy_color),(!V||q[0]&4)&&Ie(e,"--closed-color",j[2].closed_color),(!V||q[0]&4)&&Ie(e,"--partial-color",j[2].partial_color),(!V||q[0]&4)&&Ie(e,"--selected-color",j[2].selected_color),(!V||q[0]&4)&&Ie(e,"--unavailable-color",j[2].unavailable_color),q[0]&4&&xe(e,"ticked",j[2].show_ticks&&j[2].view_as==="schedule"),q[0]&4&&xe(e,"timezone",j[2].timezone),q[0]&4&&xe(e,"allow_booking",j[2].allow_booking),q[0]&4&&xe(e,"hide-header",!j[2].show_header)},i(j){V||(qe(K),V=!0)},o(j){ut(K),V=!1},d(j){j&&W(e),K&&K.d(),H&&H.d(),Z&&Z.d();for(let q=0;q<G.length;q+=1)G[q].d();t[95](null),U(),oe&&oe.d(),t[97](null),z(),L=!1,re()}}}function id(t){let e;return{c(){e=b("nylas-error"),Ee(e,"id",t[1])},m(n,a){Y(n,e,a)},p(n,a){a[0]&2&&Ee(e,"id",n[1])},i:he,o:he,d(n){n&&W(e)}}}function Nl(t){let e,n,a,r,o,s,h,c,_;const y=[od,rd],v=[];function k(w,M){return M[0]&33792&&(n=null),n==null&&(n=!w[10].includes(w[15])),n?0:1}a=k(t,[-1,-1,-1,-1,-1]),r=v[a]=y[a](t);const E=[sd,ld],S=[];function N(w,M){return M[0]&17408&&(s=null),s==null&&(s=!w[10].includes(w[14])),s?0:1}return h=N(t,[-1,-1,-1,-1,-1]),c=S[h]=E[h](t),{c(){e=b("div"),r.c(),o=O(),c.c(),p(e,"class","change-dates")},m(w,M){Y(w,e,M),v[a].m(e,null),m(e,o),S[h].m(e,null),_=!0},p(w,M){let G=a;a=k(w,M),a===G?v[a].p(w,M):(pn(),ut(v[G],1,1,()=>{v[G]=null}),vn(),r=v[a],r?r.p(w,M):(r=v[a]=y[a](w),r.c()),qe(r,1),r.m(e,o));let I=h;h=N(w,M),h===I?S[h].p(w,M):(pn(),ut(S[I],1,1,()=>{S[I]=null}),vn(),c=S[h],c?c.p(w,M):(c=S[h]=E[h](w),c.c()),qe(c,1),c.m(e,null))},i(w){_||(qe(r),qe(c),_=!0)},o(w){ut(r),ut(c),_=!1},d(w){w&&W(e),v[a].d(),S[h].d()}}}function rd(t){let e;return{c(){e=b("span")},m(n,a){Y(n,e,a)},p:he,i:he,o:he,d(n){n&&W(e)}}}function od(t){let e,n,a,r,o;return n=new Zf({props:{style:"height:32px;width:32px;"}}),{c(){e=b("button"),ea(n.$$.fragment),p(e,"aria-label","Previous date")},m(s,h){Y(s,e,h),Hn(n,e,null),a=!0,r||(o=te(e,"click",t[22]),r=!0)},p:he,i(s){a||(qe(n.$$.fragment,s),a=!0)},o(s){ut(n.$$.fragment,s),a=!1},d(s){s&&W(e),Gn(n),r=!1,o()}}}function ld(t){let e;return{c(){e=b("span")},m(n,a){Y(n,e,a)},p:he,i:he,o:he,d(n){n&&W(e)}}}function sd(t){let e,n,a,r,o;return n=new Xf({props:{style:"height:32px;width:32px;"}}),{c(){e=b("button"),ea(n.$$.fragment),p(e,"aria-label","Next date")},m(s,h){Y(s,e,h),Hn(n,e,null),a=!0,r||(o=te(e,"click",t[21]),r=!0)},p:he,i(s){a||(qe(n.$$.fragment,s),a=!0)},o(s){ut(n.$$.fragment,s),a=!1},d(s){s&&W(e),Gn(n),r=!1,o()}}}function Il(t){let e;return{c(){e=b("span"),e.textContent="Closed",p(e,"class","closed")},m(n,a){Y(n,e,a)},d(n){n&&W(e)}}}function Ll(t){let e,n,a=t[2].timezone&&Pl(t),r=t[16],o=[];for(let s=0;s<r.length;s+=1)o[s]=Bl(Ol(t,r,s));return{c(){a&&a.c(),e=O(),n=b("ul");for(let s=0;s<o.length;s+=1)o[s].c();p(n,"class","ticks")},m(s,h){a&&a.m(s,h),Y(s,e,h),Y(s,n,h);for(let c=0;c<o.length;c+=1)o[c].m(n,null);t[90](n)},p(s,h){if(s[2].timezone?a?a.p(s,h):(a=Pl(s),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&65536){r=s[16];let c;for(c=0;c<r.length;c+=1){const _=Ol(s,r,c);o[c]?o[c].p(_,h):(o[c]=Bl(_),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d(s){a&&a.d(s),s&&W(e),s&&W(n),en(o,s),t[90](null)}}}function Pl(t){let e,n,a=Io(t[16][0],t[2].timezone)+"",r,o,s,h=t[16],c=[];for(let _=0;_<h.length;_+=1)c[_]=Fl(Dl(t,h,_));return{c(){e=b("div"),n=b("p"),r=ge(a),o=O(),s=b("ul");for(let _=0;_<c.length;_+=1)c[_].c();p(n,"class","timezone"),p(s,"class","ticks"),p(e,"class","timezone-ticks")},m(_,y){Y(_,e,y),m(e,n),m(n,r),m(e,o),m(e,s);for(let v=0;v<c.length;v+=1)c[v].m(s,null)},p(_,y){if(y[0]&65540&&a!==(a=Io(_[16][0],_[2].timezone)+"")&&He(r,a),y[0]&65540){h=_[16];let v;for(v=0;v<h.length;v+=1){const k=Dl(_,h,v);c[v]?c[v].p(k,y):(c[v]=Fl(k),c[v].c(),c[v].m(s,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=h.length}},d(_){_&&W(e),en(c,_)}}}function Fl(t){let e,n=No(t[134],t[2].timezone)+"",a,r;return{c(){e=b("li"),a=ge(n),r=O(),p(e,"class","tick")},m(o,s){Y(o,e,s),m(e,a),m(e,r)},p(o,s){s[0]&65540&&n!==(n=No(o[134],o[2].timezone)+"")&&He(a,n)},d(o){o&&W(e)}}}function Bl(t){let e,n=na(t[134])+"",a,r;return{c(){e=b("li"),a=ge(n),r=O(),p(e,"class","tick")},m(o,s){Y(o,e,s),m(e,a),m(e,r)},p(o,s){s[0]&65536&&n!==(n=na(o[134])+"")&&He(a,n)},d(o){o&&W(e)}}}function Rl(t){let e,n=new Date(t[123].timestamp).toLocaleString("default",{day:"numeric"})+"",a;return{c(){e=b("span"),a=ge(n),p(e,"class","date")},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o[0]&256&&n!==(n=new Date(r[123].timestamp).toLocaleString("default",{day:"numeric"})+"")&&He(a,n)},d(r){r&&W(e)}}}function xl(t){let e,n=new Date(t[123].timestamp).toLocaleString("default",{weekday:"short"})+"",a;return{c(){e=b("span"),a=ge(n)},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o[0]&256&&n!==(n=new Date(r[123].timestamp).toLocaleString("default",{weekday:"short"})+"")&&He(a,n)},d(r){r&&W(e)}}}function ud(t){let e,n=t[17](t[123]),a=[];for(let r=0;r<n.length;r+=1)a[r]=Hl(Gl(t,n,r));return{c(){e=b("div");for(let r=0;r<a.length;r+=1)a[r].c();p(e,"class","slot-list")},m(r,o){Y(r,e,o);for(let s=0;s<a.length;s+=1)a[s].m(e,null)},p(r,o){if(o[0]&8520448){n=r[17](r[123]);let s;for(s=0;s<n.length;s+=1){const h=Gl(r,n,s);a[s]?a[s].p(h,o):(a[s]=Hl(h),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}},d(r){r&&W(e),en(a,r)}}}function cd(t){let e,n,a,r=[],o=new Map,s=t[123].epochs,h=[];for(let y=0;y<s.length;y+=1)h[y]=Vl(El(t,s,y));let c=t[123].slots;const _=y=>y[126].start_time.toISOString();for(let y=0;y<c.length;y+=1){let v=zl(t,c,y),k=_(v);o.set(k,r[y]=Wl(k,v))}return{c(){e=b("div");for(let y=0;y<h.length;y+=1)h[y].c();n=O(),a=b("div");for(let y=0;y<r.length;y+=1)r[y].c();p(e,"class","epochs"),p(a,"class","slots")},m(y,v){Y(y,e,v);for(let k=0;k<h.length;k+=1)h[k].m(e,null);Y(y,n,v),Y(y,a,v);for(let k=0;k<r.length;k+=1)r[k].m(a,null)},p(y,v){if(v[0]&262400){s=y[123].epochs;let k;for(k=0;k<s.length;k+=1){const E=El(y,s,k);h[k]?h[k].p(E,v):(h[k]=Vl(E),h[k].c(),h[k].m(e,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=s.length}v[0]&51429633&&(c=y[123].slots,r=tr(r,v,_,1,y,c,o,a,ro,Wl,null,zl))},d(y){y&&W(e),en(h,y),y&&W(n),y&&W(a);for(let v=0;v<r.length;v+=1)r[v].d()}}}function jl(t){let e,n,a=t[126].available_calendars.length+"",r,o,s=t[9].length+"",h,c;return{c(){e=b("span"),n=ge("("),r=ge(a),o=ge(" of "),h=ge(s),c=ge(`
                      available)`),p(e,"class","partial")},m(_,y){Y(_,e,y),m(e,n),m(e,r),m(e,o),m(e,h),m(e,c)},p(_,y){y[0]&131328&&a!==(a=_[126].available_calendars.length+"")&&He(r,a),y[0]&512&&s!==(s=_[9].length+"")&&He(h,s)},d(_){_&&W(e)}}}function Hl(t){let e,n=na(new Date(t[126].start_time))+"",a,r,o,s,h,c,_,y,v,k,E=t[126].availability===Ye.PARTIAL&&jl(t);function S(){return t[93](t[126])}return{c(){e=b("button"),a=ge(n),r=O(),E&&E.c(),o=O(),p(e,"data-available-calendars",s=t[126].available_calendars.toString()),p(e,"aria-label",h=""+(na(new Date(t[126].start_time))+" to "+na(new Date(t[126].end_time))+"; Free calendars: "+t[126].available_calendars.toString())),p(e,"class",c="slot "+t[126].selectionStatus+" "+t[126].availability),p(e,"data-start-time",_=new Date(t[126].start_time).toLocaleString()),p(e,"data-end-time",y=new Date(t[126].end_time).toLocaleString()),xe(e,"pending",t[126].selectionPending)},m(N,w){Y(N,e,w),m(e,a),m(e,r),E&&E.m(e,null),m(e,o),v||(k=te(e,"click",S),v=!0)},p(N,w){t=N,w[0]&131328&&n!==(n=na(new Date(t[126].start_time))+"")&&He(a,n),t[126].availability===Ye.PARTIAL?E?E.p(t,w):(E=jl(t),E.c(),E.m(e,o)):E&&(E.d(1),E=null),w[0]&131328&&s!==(s=t[126].available_calendars.toString())&&p(e,"data-available-calendars",s),w[0]&131328&&h!==(h=""+(na(new Date(t[126].start_time))+" to "+na(new Date(t[126].end_time))+"; Free calendars: "+t[126].available_calendars.toString()))&&p(e,"aria-label",h),w[0]&131328&&c!==(c="slot "+t[126].selectionStatus+" "+t[126].availability)&&p(e,"class",c),w[0]&131328&&_!==(_=new Date(t[126].start_time).toLocaleString())&&p(e,"data-start-time",_),w[0]&131328&&y!==(y=new Date(t[126].end_time).toLocaleString())&&p(e,"data-end-time",y),w[0]&131328&&xe(e,"pending",t[126].selectionPending)},d(N){N&&W(e),E&&E.d(),v=!1,k()}}}function Vl(t){let e,n,a,r,o,s,h;return{c(){e=b("div"),n=b("div"),a=O(),p(n,"class","inner"),Ie(n,"background-color",t[18](t[129].available_calendars.length)),p(e,"class",r="epoch "+t[129].status),Ie(e,"height",t[129].height+"%"),Ie(e,"top",t[129].offset+"%"),p(e,"data-available-calendars",o=t[129].available_calendars.toString()),p(e,"data-start-time",s=new Date(t[129].start_time).toLocaleString()),p(e,"data-end-time",h=new Date(t[129].end_time).toLocaleString())},m(c,_){Y(c,e,_),m(e,n),m(e,a)},p(c,_){_[0]&262400&&Ie(n,"background-color",c[18](c[129].available_calendars.length)),_[0]&256&&r!==(r="epoch "+c[129].status)&&p(e,"class",r),_[0]&256&&Ie(e,"height",c[129].height+"%"),_[0]&256&&Ie(e,"top",c[129].offset+"%"),_[0]&256&&o!==(o=c[129].available_calendars.toString())&&p(e,"data-available-calendars",o),_[0]&256&&s!==(s=new Date(c[129].start_time).toLocaleString())&&p(e,"data-start-time",s),_[0]&256&&h!==(h=new Date(c[129].end_time).toLocaleString())&&p(e,"data-end-time",h)},d(c){c&&W(e)}}}function Ul(t){let e,n=t[20](t[126],t[123])+"",a;return{c(){e=b("span"),a=ge(n),p(e,"class","selected-heading")},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o[0]&256&&n!==(n=r[20](r[126],r[123])+"")&&He(a,n)},d(r){r&&W(e)}}}function Wl(t,e){let n,a=e[126].selectionStatus===cn.SELECTED||e[0]&&e[20](e[126],e[123]),r,o,s,h,c,_,y,v,k,E,S=a&&Ul(e);function N(){return e[91](e[126])}function w(){return e[92](e[126])}return{key:t,first:null,c(){n=b("button"),S&&S.c(),r=O(),p(n,"data-available-calendars",o=e[126].available_calendars.toString()),p(n,"aria-label",s=""+(new Date(e[126].start_time).toLocaleString()+" to "+new Date(e[126].end_time).toLocaleString()+"; Free calendars: "+e[126].available_calendars.toString())),p(n,"class",h="slot "+e[126].selectionStatus+" "+e[126].availability),p(n,"data-start-time",c=new Date(e[126].start_time).toLocaleString()),p(n,"data-end-time",_=new Date(e[126].end_time).toLocaleString()),p(n,"title",y=e[126].fallsWithinAllowedTimeRange?null:`You may only select timeslots in the future, between ${e[15]} and ${e[14]}`),xe(n,"pending",e[0]&&e[126].selectionPending),xe(n,"outside-of-time-range",!e[126].fallsWithinAllowedTimeRange),this.first=n},m(M,G){Y(M,n,G),S&&S.m(n,null),m(n,r),k||(E=[eo(v=e[26].call(null,n,{dateKey:e[123].timestamp.toLocaleDateString(),slotIndex:e[128],startTime:new Date(e[126].start_time).toLocaleString()})),te(n,"click",N),te(n,"mouseenter",w)],k=!0)},p(M,G){e=M,G[0]&257&&(a=e[126].selectionStatus===cn.SELECTED||e[0]&&e[20](e[126],e[123])),a?S?S.p(e,G):(S=Ul(e),S.c(),S.m(n,r)):S&&(S.d(1),S=null),G[0]&256&&o!==(o=e[126].available_calendars.toString())&&p(n,"data-available-calendars",o),G[0]&256&&s!==(s=""+(new Date(e[126].start_time).toLocaleString()+" to "+new Date(e[126].end_time).toLocaleString()+"; Free calendars: "+e[126].available_calendars.toString()))&&p(n,"aria-label",s),G[0]&256&&h!==(h="slot "+e[126].selectionStatus+" "+e[126].availability)&&p(n,"class",h),G[0]&256&&c!==(c=new Date(e[126].start_time).toLocaleString())&&p(n,"data-start-time",c),G[0]&256&&_!==(_=new Date(e[126].end_time).toLocaleString())&&p(n,"data-end-time",_),G[0]&49408&&y!==(y=e[126].fallsWithinAllowedTimeRange?null:`You may only select timeslots in the future, between ${e[15]} and ${e[14]}`)&&p(n,"title",y),v&&wa(v.update)&&G[0]&256&&v.update.call(null,{dateKey:e[123].timestamp.toLocaleDateString(),slotIndex:e[128],startTime:new Date(e[126].start_time).toLocaleString()}),G[0]&257&&xe(n,"pending",e[0]&&e[126].selectionPending),G[0]&256&&xe(n,"outside-of-time-range",!e[126].fallsWithinAllowedTimeRange)},d(M){M&&W(n),S&&S.d(),k=!1,vt(E)}}}function Kl(t,e){let n,a,r,o,s,h,c,_=e[125],y=(e[2].date_format==="date"||e[2].date_format==="full")&&Rl(e),v=(e[2].date_format==="weekday"||e[2].date_format==="full")&&xl(e);function k(M,G){if(M[2].view_as==="schedule")return cd;if(M[2].view_as==="list")return ud}let E=k(e),S=E&&E(e);const N=()=>e[94](n,_),w=()=>e[94](null,_);return{key:t,first:null,c(){n=b("div"),a=b("header"),r=b("h2"),y&&y.c(),o=O(),v&&v.c(),s=O(),S&&S.c(),h=O(),p(n,"class","day"),p(n,"data-timestamp",c=e[123].timestamp.toISOString()),this.first=n},m(M,G){Y(M,n,G),m(n,a),m(a,r),y&&y.m(r,null),m(r,o),v&&v.m(r,null),m(n,s),S&&S.m(n,null),m(n,h),N()},p(M,G){e=M,e[2].date_format==="date"||e[2].date_format==="full"?y?y.p(e,G):(y=Rl(e),y.c(),y.m(r,o)):y&&(y.d(1),y=null),e[2].date_format==="weekday"||e[2].date_format==="full"?v?v.p(e,G):(v=xl(e),v.c(),v.m(r,null)):v&&(v.d(1),v=null),E===(E=k(e))&&S?S.p(e,G):(S&&S.d(1),S=E&&E(e),S&&(S.c(),S.m(n,h))),G[0]&256&&c!==(c=e[123].timestamp.toISOString())&&p(n,"data-timestamp",c),_!==e[125]&&(w(),_=e[125],N())},d(M){M&&W(n),y&&y.d(),v&&v.d(),S&&S.d(),w()}}}function ql(t){let e;return{c(){e=b("nylas-message-error")},m(n,a){Y(n,e,a)},d(n){n&&W(e)}}}function fd(t){let e,n,a,r;const o=[id,ad],s=[];function h(c,_){return c[3]&&c[3].error?0:1}return e=h(t),n=s[e]=o[e](t),{c(){n.c(),a=Aa(),this.c=he},m(c,_){s[e].m(c,_),Y(c,a,_),r=!0},p(c,_){let y=e;e=h(c),e===y?s[e].p(c,_):(pn(),ut(s[y],1,1,()=>{s[y]=null}),vn(),n=s[e],n?n.p(c,_):(n=s[e]=o[e](c),n.c()),qe(n,1),n.m(a.parentNode,a))},i(c){r||(qe(n),r=!0)},o(c){ut(n),r=!1},d(c){s[e].d(c),c&&W(a)}}}const dd=100,md=30;function hd(t=[]){return t.reduce((e,n)=>{const a=e[e.length-1];return a&&a.end_time===n.start_time?a.end_time=n.end_time:e.push(Object.assign({},n)),e},[])}function _d(t,e,n){let a,r,o,s,h,c,_,y,v,k,E;Fn(t,Sc,C=>n(103,y=C)),Fn(t,wc,C=>n(104,v=C)),Fn(t,ni,C=>n(89,k=C)),Fn(t,ir,C=>n(105,E=C));var S=this&&this.__awaiter||function(C,$,Se,me){function Le(ft){return ft instanceof Se?ft:new Se(function(zt){zt(ft)})}return new(Se||(Se=Promise))(function(ft,zt){function Pn(wn){try{on(me.next(wn))}catch(va){zt(va)}}function Qt(wn){try{on(me.throw(wn))}catch(va){zt(va)}}function on(wn){wn.done?ft(wn.value):Le(wn.value).then(Pn,Qt)}on((me=me.apply(C,$||[])).next())})},N,w,M,G,I,U,B;let{id:z=""}=e,{access_token:V=""}=e,{event_to_hover:L=null}=e,{event_to_select:re=null}=e,{allow_booking:K}=e,{allow_date_change:H}=e,{attendees_to_show:Z}=e,{availability:de}=e,{booking_options:ke}=e,{booking_user_email:oe}=e,{booking_user_token:j}=e,{busy_color:q}=e,{capacity:ce}=e,{closed_color:Ge}=e,{date_format:Pe}=e,{dates_to_show:_e}=e,{end_hour:ze}=e,{event_buffer:Be}=e,{free_color:F}=e,{mandate_top_of_hour:le}=e,{max_book_ahead_days:se}=e,{min_book_ahead_days:ye}=e,{open_hours:ue}=e,{overbooked_threshold:ie}=e,{partial_bookable_ratio:be}=e,{partial_color:Ce}=e,{required_participants:Q}=e,{selected_color:P}=e,{show_as_week:fe}=e,{show_header:pe}=e,{show_hosts:Me}=e,{show_ticks:Ze}=e,{show_weekends:Je}=e,{slot_size:it}=e,{start_date:Ue}=e,{start_hour:lt}=e,{timezone:dt}=e,{view_as:Te}=e,{unavailable_color:Ke}=e,{events:Fe}=e;const We={allow_booking:!1,allow_date_change:!0,attendees_to_show:5,busy_color:"#EE3248cc",calendars:[],closed_color:"#EE3248cc",date_format:"full",dates_to_show:1,end_hour:24,event_buffer:0,free_color:"#078351cc",mandate_top_of_hour:!1,max_book_ahead_days:30,min_book_ahead_days:0,open_hours:[],overbooked_threshold:100,partial_bookable_ratio:.01,partial_color:"#FECA7Ccc",required_participants:[],selected_color:"#002db4",show_as_week:!1,show_header:!0,show_hosts:"show",show_ticks:!0,show_weekends:!0,slot_size:15,start_date:new Date,start_hour:0,timezone:"",view_as:"schedule",unavailable_color:"#DDD",events:[]};function ct(C=!1,$=!1){return S(this,void 0,void 0,function*(){if(yield rt(!0),$){const Se=[];for(const me of tt)Se.push(...me==null?void 0:me.slots.filter(Le=>Le.selectionStatus===cn.SELECTED).map(Le=>({status:"busy",start_time:new Date(Le.start_time).getTime()/1e3,end_time:new Date(Le.end_time).getTime()/1e3})));for(const me of h)me.timeslots.push(...Se)}if(C&&Array.isArray(tt)){for(const Se of tt)for(const me of Se.slots)me.selectionStatus=cn.UNSELECTED;n(8,tt=[...tt])}})}let J=Un({},{},We),Qe={},Ve,Tt=[],mt={},Ot=[];Xi(()=>S(void 0,void 0,void 0,function*(){yield Oi(),n(4,Ve=!0),n(7,Dt=gt==null?void 0:gt.getBoundingClientRect().height),n(6,Ut=gt==null?void 0:gt.getBoundingClientRect().height);const C=JSON.stringify({component_id:z,access_token:V});n(3,Qe=(yield E[C])||{}),n(2,J=Un(e,Qe,We)),wt(),n(4,Ve=!1)}));let pt=e;function wt(){J.start_date||n(2,J.start_date=We.start_date,J),J.timezone&&(Do(J.timezone)?J.timezone===Intl.DateTimeFormat().resolvedOptions().timeZone&&n(2,J.timezone=void 0,J):(console.warn(`Invalid IANA time zone: ${J.timezone}`),n(2,J.timezone=void 0,J)))}const Ft=nr(Ca());let gt,Yt,At,Ut=0,Dt,Nt,Xe,Wt,fn,nn,dn=[];const mn=[15,30,60,180,360],Dn=(C,$,Se=0)=>{if(C===void 0||$===void 0)return[];const me=mn[Se];let Le=me>60?aa.every(me/60):Kn.every(me);$=ji().domain($).ticks(Le);const ft=C/$.length;return me<J.slot_size||ft<md&&Se<mn.length?Dn(C,$,Se+1):$};function hn(C,$){const Se=ji().domain([C[0].start_time,C[C.length-1].end_time]);return C.reduce((me,Le)=>{const ft=me[me.length-1];return ft&&JSON.stringify(ft[0].available_calendars)===JSON.stringify(Le.available_calendars)&&ft[0].availability===Le.availability?ft.push(Le):me.push([Le]),me},[]).map(me=>{let Le=Ye.FREE;const ft=me[0].available_calendars.length,zt=ft!==h.length&&ft<h.length*$;return ft===0||zt||J.required_participants.length&&!so(Ae,me[0].available_calendars)?me[0].availability===Ye.CLOSED?Le=Ye.CLOSED:Le=Ye.BUSY:ft>0&&ft<h.length&&(Le=Ye.PARTIAL),{start_time:me[0].start_time,offset:Se(me[0].start_time)*100,status:Le,height:(Se(me[me.length-1].end_time)-Se(me[0].start_time))*100,end_time:me[me.length-1].end_time,slots:me.length,available_calendars:me[0].available_calendars}})}function Bt(C,$,Se){let me=ji().domain([C,$]).ticks(Gt).filter(Le=>J.show_weekends?!0:Le.getDay()!==6&&Le.getDay()!==0);return!J.show_as_week&&!J.show_weekends&&me.length<Nt?Se?Bt(Gt.offset(C,-1),$,!0):Bt(C,Gt.offset($,1)):me}function Nn(C){return h.forEach($=>{const Se=C.filter(me=>me.available_calendars.includes($.emailAddress));C.length-Se.length>J.overbooked_threshold*C.length/100&&Se.forEach(me=>{me.available_calendars=me.available_calendars.filter(Le=>Le!==$.emailAddress),me.available_calendars.length?me.availability===Ye.FREE&&me.available_calendars.length!==h.length&&(me.availability=Ye.PARTIAL):me.availability=Ye.BUSY})}),C}let tt,_n=[],Rt=[],In,xt=[],ht=[];function an(C=ht,$=V){return{body:{emails:C,free_busy:[],duration_minutes:15,interval_minutes:15,start_time:aa(new Date(new Date(Xe).setHours(J.start_hour))).getTime()/1e3,end_time:aa(new Date(new Date(Wt).setHours(J.end_hour))).getTime()/1e3,round_robin:"max-availability"},component_id:z,access_token:$}}let bt=[],Ae=[];function rt(C=!1){var $;return S(this,void 0,void 0,function*(){n(4,Ve=!0);const Se=ht.map(me=>({email:me}));if(J.booking_user_email&&J.booking_user_token&&Se.push({email:J.booking_user_email,token:J.booking_user_token}),Array.isArray(Se)&&Se.length>0){const me=yield v[JSON.stringify(Object.assign(Object.assign({},an(Se.map(Le=>Le.email),V)),{forceReload:C}))];return n(4,Ve=!1),Gt(new Date(an().body.start_time*1e3)).getTime()!==Gt(new Date((($=me.time_slots[0])===null||$===void 0?void 0:$.start_time)*1e3)).getTime()?void 0:(J.availability||De(me),bt)}})}function De(C){const $=[],Se={};for(const me of C==null?void 0:C.order)Se[me]=[];for(const me of C.time_slots)me.emails.forEach(Le=>Se[Le].push(me));C==null||C.order.forEach(me=>{$.push({emailAddress:me,availability:Ye.FREE,timeslots:hd(Se[me]).map(Le=>({start_time:new Date(Le.start_time*1e3),end_time:new Date(Le.end_time*1e3)}))})}),n(81,bt=[...$])}function kt(C,$){var Se;const me=Rt.find(zt=>zt.start_time===C.start_time),Le=$.slots[$.slots.indexOf(C)-1],ft=Le?!Er(Le):!1;if(C.selectionPending&&Er(C)&&(!(Le==null?void 0:Le.selectionPending)||ft)){const zt=((Se=$.slots.find(on=>on.start_time>C.start_time&&(!on.selectionPending||!Er(on))))===null||Se===void 0?void 0:Se.start_time)||$.slots[$.slots.length-1].end_time,Pn=Ii(C.start_time).replace(" ",""),Qt=Ii(zt).replace(" ","");return`${Pn} - ${Qt}`}else if(me){let zt=Ii(me.start_time),Pn=Ii(me.end_time);return`${zt.replace(" ","")} - ${Pn.replace(" ","")}`}else return""}function Ln(){J.show_as_week&&!o?n(2,J.start_date=Oa.offset(Wt,1),J):n(2,J.start_date=Gt.offset(Wt,1),J),Ft("eventOptionsReady",{slots:[]})}function ya(){if(J.show_as_week&&!o)n(2,J.start_date=Oa.offset(Xe,-1),J);else{let C=Bt(Gt.offset(Xe,-Nt),Gt.offset(Wt,-Nt),!0);n(2,J.start_date=C[0],J)}Ft("eventOptionsReady",{slots:[]})}let qn=[];function Ra(C){C.selectionStatus===cn.SELECTED?n(27,re=null):n(27,re=Mn(C)),tt.flatMap($=>$.slots).forEach($=>{$.selectionPending=!1,$.selectionStatus=cn.UNSELECTED}),n(8,tt=[...tt]),n(0,L=null)}function Yn(C){C&&(tt.flatMap($=>$.slots).forEach($=>{$.selectionPending=!1,$.selectionStatus=cn.UNSELECTED}),re===Mn(C)?(n(27,re=null),n(8,tt=[...tt])):n(27,re=Mn(C)))}function xa(C){C&&n(0,L=Mn(C))}function mi(C,$){return typeof mt[$.dateKey]=="undefined"&&(n(10,Ot=Ot.concat($.dateKey).sort()),mt[$.dateKey]=[]),mt[$.dateKey][$.slotIndex]=C,{destroy(){const Se=mt[$.dateKey].indexOf(C);Se>=0&&mt[$.dateKey].splice(Se,1),mt[$.dateKey].length===0&&(n(10,Ot=Ot.filter(me=>me!==$.dateKey)),delete mt[$.dateKey])}}}let kn=[],Zn={};function ra(){return S(this,void 0,void 0,function*(){let C=[];J.open_hours.length?C=ed(J.open_hours,J.events):J.start_hour&&J.end_hour&&(C=$f(J.start_hour,J.end_hour,J.events));const $=yield pa(J.events,s,J.end_hour,C);($==null?void 0:$.start_time)<($==null?void 0:$.end_time)?n(84,kn=yield y[JSON.stringify({body:$,component_id:z,access_token:V})]):n(84,kn=[]),Ft("eventOptionsReady",{slots:kn})})}function rn(){var C;Zn={};for(const $ of kn){if(!((C=$[0])===null||C===void 0?void 0:C.start_time))continue;const Se=new Date(new Date($[0].start_time).setHours(0,0,0,0)).getTime();Zn[Se]?Zn[Se].push($):Zn[Se]=[$]}}function pa(C,$,Se,me){if(C.length===0)return;const Le=$[$.length-1],ft=C.reduce((Qt,on)=>(Qt.push(on.participantEmails),Qt),[]);return{duration_minutes:C[0].slot_size,interval_minutes:J.slot_size,start_time:Math.floor(new Date().getTime()/1e3),end_time:aa(new Date(new Date(Le).setHours(Se))).getTime()/1e3,free_busy:[],open_hours:me,emails:ft,events:C,round_robin:"max-fairness"}}let It=[];function Mn(C){var $,Se;if(!C.fallsWithinAllowedTimeRange)return null;const me=new Date(new Date(C.start_time).setHours(0,0,0,0)).getTime(),Le=(Se=($=Zn[me])===null||$===void 0?void 0:$.filter(ft=>C.start_time>=ft[0].start_time&&C.end_time<=ft[ft.length-1].end_time))!==null&&Se!==void 0?Se:[];return Le[Le.length-1]}function gn(C){ua[C?"unshift":"push"](()=>{Yt=C,n(12,Yt)})}const ja=C=>{Yn(C)},Ha=C=>{xa(C)},Va=C=>Ra(C);function Ua(C,$){ua[C?"unshift":"push"](()=>{Tt[$]=C,n(5,Tt),n(2,J),n(122,e),n(73,pt),n(3,Qe)})}function Wa(C){ua[C?"unshift":"push"](()=>{At=C,n(13,At)})}function Ka(){Ut=this.clientWidth,n(6,Ut)}function yt(C){ua[C?"unshift":"push"](()=>{gt=C,n(11,gt)})}function hi(){Dt=this.clientHeight,n(7,Dt)}const _i=()=>n(0,L=null);return t.$$set=C=>{n(122,e=je(je({},e),Mt(C))),"id"in C&&n(1,z=C.id),"access_token"in C&&n(28,V=C.access_token),"event_to_hover"in C&&n(0,L=C.event_to_hover),"event_to_select"in C&&n(27,re=C.event_to_select),"allow_booking"in C&&n(29,K=C.allow_booking),"allow_date_change"in C&&n(30,H=C.allow_date_change),"attendees_to_show"in C&&n(31,Z=C.attendees_to_show),"availability"in C&&n(32,de=C.availability),"booking_options"in C&&n(33,ke=C.booking_options),"booking_user_email"in C&&n(34,oe=C.booking_user_email),"booking_user_token"in C&&n(35,j=C.booking_user_token),"busy_color"in C&&n(36,q=C.busy_color),"capacity"in C&&n(37,ce=C.capacity),"closed_color"in C&&n(38,Ge=C.closed_color),"date_format"in C&&n(39,Pe=C.date_format),"dates_to_show"in C&&n(40,_e=C.dates_to_show),"end_hour"in C&&n(41,ze=C.end_hour),"event_buffer"in C&&n(42,Be=C.event_buffer),"free_color"in C&&n(43,F=C.free_color),"mandate_top_of_hour"in C&&n(44,le=C.mandate_top_of_hour),"max_book_ahead_days"in C&&n(45,se=C.max_book_ahead_days),"min_book_ahead_days"in C&&n(46,ye=C.min_book_ahead_days),"open_hours"in C&&n(47,ue=C.open_hours),"overbooked_threshold"in C&&n(48,ie=C.overbooked_threshold),"partial_bookable_ratio"in C&&n(49,be=C.partial_bookable_ratio),"partial_color"in C&&n(50,Ce=C.partial_color),"required_participants"in C&&n(51,Q=C.required_participants),"selected_color"in C&&n(52,P=C.selected_color),"show_as_week"in C&&n(53,fe=C.show_as_week),"show_header"in C&&n(54,pe=C.show_header),"show_hosts"in C&&n(55,Me=C.show_hosts),"show_ticks"in C&&n(56,Ze=C.show_ticks),"show_weekends"in C&&n(57,Je=C.show_weekends),"slot_size"in C&&n(58,it=C.slot_size),"start_date"in C&&n(59,Ue=C.start_date),"start_hour"in C&&n(60,lt=C.start_hour),"timezone"in C&&n(61,dt=C.timezone),"view_as"in C&&n(62,Te=C.view_as),"unavailable_color"in C&&n(63,Ke=C.unavailable_color),"events"in C&&n(64,Fe=C.events)},t.$$.update=()=>{if(t.$$.dirty[2]&134217728&&n(19,a=!!Object.keys(k).length),(e.event_to_hover===void 0||pt.event_to_hover===e.event_to_hover)&&JSON.stringify(pt)!==JSON.stringify(e)&&(n(2,J=Un(e,Qe,We)),n(73,pt=e),wt()),t.$$.dirty[0]&36&&(J.dates_to_show||J.show_ticks||J.show_as_week||J.show_weekends)&&n(5,Tt=Tt.filter(C=>!!C)),t.$$.dirty[0]&64&&n(88,r=Math.floor(Ut/dd)||1),t.$$.dirty[0]&4|t.$$.dirty[2]&67108864&&n(87,o=J.show_as_week&&r<7),t.$$.dirty[0]&4|t.$$.dirty[2]&33554432&&n(75,Xe=J.show_as_week&&!o?Oa.floor(J.start_date):Gt.floor(J.start_date)),t.$$.dirty[0]&4|t.$$.dirty[2]&67108864&&n(74,Nt=r<J.dates_to_show||J.show_as_week?r:J.dates_to_show),t.$$.dirty[0]&4|t.$$.dirty[2]&33566720&&n(86,s=(()=>(J.show_weekends||!J.show_weekends)&&Bt(Xe,J.show_as_week?Gt.offset(Xe,o?Nt-1:6):Gt.offset(Xe,Nt-1)))()),t.$$.dirty[0]&22|t.$$.dirty[2]&16777216&&(()=>S(void 0,void 0,void 0,function*(){J.booking_options?n(84,kn=J.booking_options):!Ve&&z&&Array.isArray(J.events)&&s.length>0&&(yield ra()),rn()}))(),t.$$.dirty[2]&134217728&&Object.keys(k).length&&Ft("onError",k),t.$$.dirty[2]&16777216&&(Wt=s[s.length-1]),t.$$.dirty[0]&4&&n(14,fn=Gt.offset(new Date,J.max_book_ahead_days).toLocaleDateString()),t.$$.dirty[0]&4&&n(15,nn=Gt.offset(new Date,J.min_book_ahead_days).toLocaleDateString()),t.$$.dirty[0]&4|t.$$.dirty[2]&1984&&((n(68,M=J.events)===null||M===void 0?void 0:M.length)&&(n(69,G=J.events)===null||G===void 0?void 0:G.length)>1?(n(79,xt=n(70,I=J.events)===null||I===void 0?void 0:I.flatMap(C=>C.participantEmails)),n(80,ht=[]),n(81,bt=[])):(n(71,U=J.events)===null||U===void 0?void 0:U.length)===1&&(n(80,ht=n(72,B=J.events)===null||B===void 0?void 0:B.flatMap(C=>C.participantEmails)),n(79,xt=[]),Ft("eventOptionsReady",{slots:[]}))),t.$$.dirty[2]&655360&&n(9,h=[...bt,...xt.map(C=>({emailAddress:C,availability:Ye.FREE,timeslots:[]}))]),t.$$.dirty[0]&4|t.$$.dirty[1]&8&&n(82,Ae=[...new Set([...J.required_participants,oe])]),t.$$.dirty[0]&516|t.$$.dirty[2]&22151168&&n(8,tt=s.map(C=>{const $=Nn(td(C,h,Ae,kn,xt,J));return{epochs:hn($,J.partial_bookable_ratio),slots:$,timestamp:C}})),t.$$.dirty[0]&257&&L&&(tt.flatMap(C=>C.slots).forEach(C=>{C.selectionPending=C.start_time>=L[0].start_time&&C.end_time<=L[L.length-1].end_time}),n(8,tt=[...tt])),t.$$.dirty[0]&134217984&&re&&(n(85,It=re),tt.flatMap(C=>C.slots).filter(C=>re&&C.start_time>=re[0].start_time&&C.end_time<=re[re.length-1].end_time).forEach(C=>{C.selectionPending=!1,C.selectionStatus=cn.SELECTED}),n(8,tt=[...tt])),t.$$.dirty[0]&384|t.$$.dirty[2]&48&&n(16,dn=Dn(Dt,n(67,w=(n(66,N=tt[0])!==null&&N!==void 0?N:{}).slots)===null||w===void 0?void 0:w.map(C=>C.start_time))),t.$$.dirty[0]&256&&n(76,_n=(tt!=null?tt:[]).map(C=>C.slots.filter($=>$.selectionStatus===cn.SELECTED)).flat()),t.$$.dirty[2]&16384&&n(77,Rt=_n.sort((C,$)=>C.start_time.getTime()-$.start_time.getTime()).reduce((C,$)=>{const Se=C[C.length-1];return Se&&$.start_time.getTime()===Se.end_time.getTime()?Se.end_time=$.end_time:C.push(Object.assign({},$)),C},[])),t.$$.dirty[0]&4|t.$$.dirty[2]&8486912&&JSON.stringify(Rt)!==JSON.stringify(In)){let C=Rt;Rt.length===1&&(It.length?C=It.map($=>($.available_calendars=$.emails,Object.assign(Object.assign({},Rt[0]),$))):C=C.map($=>Object.assign(Object.assign({},J.events[0]),$))),Ft("timeSlotChosen",{timeSlots:C.map($=>Object.assign({},$))}),n(78,In=Rt)}if(t.$$.dirty[0]&6|t.$$.dirty[2]&262144&&(()=>S(void 0,void 0,void 0,function*(){var C;J.availability?setTimeout(()=>De(J.availability)):z&&(Array.isArray(ht)&&ht.length>0||J.booking_user_email&&J.booking_user_token)&&((C=J.events)===null||C===void 0?void 0:C.length)===1&&(yield rt())}))(),t.$$.dirty[0]&256|t.$$.dirty[2]&2097152&&JSON.stringify(qn)!==JSON.stringify(tt.map(C=>C.timestamp))&&(n(83,qn=tt.map(C=>C.timestamp)),Ft("dateChange",{dates:qn})),t.$$.dirty[0]&6|t.$$.dirty[2]&131072){if(z&&xt.length&&J.capacity)try{Tn(z,{name:"IncompatibleProperties",message:"Setting `capacity` currently does not work when fetching availability directly from Nylas. Please pass `calendars` data directly to use `capacity`."})}catch(C){console.error(C)}else if(J.capacity&&J.capacity<1)try{Tn(z,{name:"IncompatibleProperties",message:"`capacity` must be an integer of 1 or more"})}catch(C){console.error(C)}}t.$$.dirty[0]&516&&n(18,c=sl().domain([0,h.length/2,h.length]).range([J.busy_color,J.partial_color,J.free_color]))},n(17,_=C=>C.slots.filter($=>Mn($))),e=Mt(e),[L,z,J,Qe,Ve,Tt,Ut,Dt,tt,h,Ot,gt,Yt,At,fn,nn,dn,_,c,a,kt,Ln,ya,Ra,Yn,xa,mi,re,V,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e,ze,Be,F,le,se,ye,ue,ie,be,Ce,Q,P,fe,pe,Me,Ze,Je,it,Ue,lt,dt,Te,Ke,Fe,ct,N,w,M,G,I,U,B,pt,Nt,Xe,_n,Rt,In,xt,ht,bt,Ae,qn,kn,It,s,o,r,k,gn,ja,Ha,Va,Ua,Wa,Ka,yt,hi,_i]}class gd extends Vn{constructor(e){super();this.shadowRoot.innerHTML='<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#314fa9;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}main{height:100%;overflow:hidden;display:grid;font-family:Arial, Helvetica, sans-serif;position:relative;z-index:1;grid-template-rows:auto 1fr;gap:1rem}main.ticked{grid-template-columns:70px 1fr}main.ticked.timezone{grid-template-columns:70px 70px 1fr}main.hide-header{grid-template-rows:auto}main.hide-header>header{display:none}main>header{grid-column:-1/1;display:grid;grid-template-columns:1fr;align-items:baseline}main>header.dated{grid-template-columns:1fr auto}main>header h2{font-size:1.5rem;font-weight:700}main>header .change-dates{display:grid;grid-template-columns:1fr 1fr;gap:1rem}main>header .change-dates button{background-color:#f7f7f8;border:1px solid #e3e8ee;cursor:pointer;display:flex}main>header .change-dates button:hover{background-color:#e3e8ee}main>header .legend{padding:0.5rem 0 0;color:#636671}main>header .legend span{display:inline-block;margin-right:1rem}main>header .legend span::before{content:"";border-radius:8px;height:12px;width:12px;margin-right:0.25rem;display:inline-block;background-color:black}main>header .legend span.available::before{background-color:var(--free-color, #36d2addf)}main>header .legend span.not-available::before{background-color:var(--busy-color, #36d2addf)}main>header .legend span.closed::before{background-color:var(--closed-color, #999)}main>header .legend span.partially-available::before{background-color:var(--partial-color, #ffff7566)}main .timezone-ticks{position:relative}main .timezone-ticks .timezone{font-size:0.8rem;left:25%;position:absolute;top:5px}main .days{position:relative;display:grid;gap:0rem;grid-auto-flow:column;grid-auto-columns:1fr;height:100%;overflow:auto}@keyframes progress{0%{width:0}100%{width:100%}}main .days.loading::after{background-color:var(--blue-lighter);z-index:-1}main .days.loading::before{animation:progress 2s ease-in-out infinite;background-color:var(--blue)}main .days.loading::before,main .days.loading::after{top:36px;left:0;content:"";display:block;height:4px;position:absolute}main .days.loading::before{z-index:3}main .days.timezone.loading::before,main .days.timezone.loading::after{left:180px}main .days.loading.error{animation:none}@keyframes progress{0%{width:0}100%{width:100%}}main .days.loading.error::after{background-color:var(--red);z-index:-1}main .days.loading.error::before{animation:progress 2s ease-in-out infinite;background-color:var(--red)}main .days.loading.error::before,main .days.loading.error::after{top:36px;left:0;content:"";display:block;height:4px;position:absolute}main .days.loading.error::before{z-index:3}main .days.schedule{overflow:hidden}main .days.list .day{display:block}main .days.list .day header{position:sticky;top:0;margin-top:0;background-color:white;height:40px;z-index:2}main .ticks{display:grid;grid-auto-flow:row;grid-auto-rows:auto;height:calc(100% - 40px);list-style-type:none;margin:0;padding:40px 0 0 0;overflow:hidden;font-size:0.8rem;font-family:sans-serif}main .ticks li{display:block;position:relative;height:auto;overflow:hidden;padding:0 0.25rem;display:grid;justify-content:right}main .day{display:grid;grid-template-rows:40px 1fr;position:relative}main .day header{width:100%;overflow:hidden}main .day header h2{margin:0;padding:0;display:grid;grid-template-columns:auto 1fr;gap:0.5rem;height:30px;line-height:1.875;font-size:1rem;font-weight:200}main .day header h2 .date{border-radius:15px;background:var(--blue);color:white;font-weight:bold;display:block;width:30px;height:30px;line-height:1.875;text-align:center}main .day .epochs{position:absolute;top:40px;width:100%;height:calc(100% - 40px)}main .day .epochs .epoch{position:absolute;width:100%}main .day .epochs .epoch .inner{margin:0rem;height:calc(100% - 0.5rem);padding:0.25rem 0;width:8px;margin:0}main .day .epochs .epoch.busy{background-image:linear-gradient(45deg, var(--busy-color-lightened) 12.5%, white 12.5%, white 50%, var(--busy-color-lightened) 50%, var(--busy-color-lightened) 62.5%, white 62.5%, white 100%);background-size:5.66px 5.66px}main .day .epochs .epoch.closed{background-image:linear-gradient(45deg, var(--closed-color-lightened) 12.5%, white 12.5%, white 50%, var(--closed-color-lightened) 50%, var(--closed-color-lightened) 62.5%, white 62.5%, white 100%);background-size:5.66px 5.66px}main .day .epochs .epoch.busy .inner{background-color:var(--busy-color, #ff647566)}main .day .epochs .epoch.closed .inner{background-color:var(--closed-color, #ff647566)}main .day .epochs .epoch.partial .inner{background-color:var(--partial-color, #ffff7566)}main .day .epochs .epoch.free .inner{background-color:var(--free-color, #36d2addf)}main .day .epochs .epoch .available-calendars{display:none;position:absolute;z-index:2;left:10px}main .day .epochs .epoch .available-calendars span{background:rgba(0, 0, 0, 0.5);display:inline-block;margin:0;padding:0.25rem;color:white;border-radius:4px;font-size:0.6rem}main .day:hover .epoch.partial .available-calendars{display:block}main .day .slots{display:grid;grid-auto-flow:row;grid-auto-rows:auto;height:100%;list-style-type:none;margin:0;padding:0}main .day .slots .slot{border:none;border-bottom:1px solid rgba(0, 0, 0, 0.05);background:transparent;position:relative;align-items:center;justify-content:center;align-content:center;font-family:sans-serif;touch-action:none}main .day .slots .slot.selected{background-color:var(--selected-color, var(--blue));box-shadow:none;border-bottom:1px solid transparent;z-index:3;margin-left:9px;margin-right:1px}main .day .slots .slot.pending{background-color:var(--selected-color-lightened);z-index:3;margin-left:9px;margin-right:1px}main .day .slots .slot.selected+.selected,main .day .slots .slot.pending+.pending{z-index:2}main .day .slots .slot.busy:not(.pending),main .day .slots .slot.closed:not(.pending){cursor:not-allowed}main .day .slots .slot.outside-of-time-range{background-color:var(--unavailable-color, #ddd)}main .day .slots .slot.outside-of-time-range:hover{cursor:not-allowed}main .day .slots .slot .selected-heading{position:absolute;top:3px;left:0;color:white;text-shadow:1px 1px 2px #002db4ff;font-weight:300;padding:0 3px;font-size:0.8rem;z-index:3;text-align:left;font-family:system-ui, sans-serif}main .day .slots .slot.pending .selected-heading{width:auto}main .day .slot-list{display:grid;grid-auto-rows:50px;grid-auto-flow:row;overflow:auto;gap:0.25rem;list-style-type:none;margin:0;padding:0}main .day .slot-list .slot{border-radius:4px;background:transparent;position:relative;align-items:center;justify-content:center;align-content:center;font-family:sans-serif;border:1px solid rgba(0, 0, 0, 0.1);box-shadow:none !important}@media(hover: hover) and (pointer: fine){main .day .slot-list .slot:hover{box-shadow:none;background-color:rgba(0, 0, 0, 0.1)}}main .day .slot-list .slot.selected{background:var(--blue);color:white}main .day .slot-list .slot .partial{display:block;font-size:0.6rem}main button.confirm{grid-column:-1/1}main.allow_booking .slot:not(.busy):hover,main.allow_booking .slot:not(.busy):focus,main.allow_booking .slot:not(.closed):hover,main.allow_booking .slot:not(.closed):focus{box-shadow:0 0 1px 0 var(--selected-color);cursor:pointer}main .attendee-overlay{background-color:white;border-radius:4px;box-shadow:0 4px 14px 0 black;display:none;font-size:14px;max-width:12rem;padding:1.2rem 1rem;position:absolute;z-index:3}main .attendee-overlay::before{content:"";width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid white;position:absolute;left:5.5rem;top:-10px}main .attendee-overlay.invert-y::before{display:none}main .attendee-overlay.invert-y::after{content:"";width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid white;position:absolute;left:5.5rem;bottom:-10px}main .attendee-overlay .attendee-list .contact{display:grid;grid-template-columns:40px auto;padding:0.6rem 0}main .attendee-overlay .attendee-list .contact.divider{border-bottom:1px solid #979797}main .attendee-overlay .attendee-list .contact.unavailable{filter:grayscale(80%);opacity:50%}main .attendee-overlay .attendee-list .contact .default-avatar{background:#002db4;border-radius:50%;color:#fff;font-family:sans-serif;font-size:1rem;font-weight:bold;height:32px;line-height:35px;text-align:center;text-transform:uppercase;width:32px}main .attendee-overlay .attendee-list .contact .contact-details{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}main .attendee-overlay .attendee-list .contact .contact-details .name{font-weight:bold;display:block}main .attendee-overlay .attendee-list .icon{position:relative;top:-1.3rem;left:1.2rem;height:0;width:0}main .attendee-overlay .more-attendees{font-weight:bold;display:inline-block;padding-top:1rem}</style>',Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},_d,fd,Zt,{id:1,access_token:28,event_to_hover:0,event_to_select:27,allow_booking:29,allow_date_change:30,attendees_to_show:31,availability:32,booking_options:33,booking_user_email:34,booking_user_token:35,busy_color:36,capacity:37,closed_color:38,date_format:39,dates_to_show:40,end_hour:41,event_buffer:42,free_color:43,mandate_top_of_hour:44,max_book_ahead_days:45,min_book_ahead_days:46,open_hours:47,overbooked_threshold:48,partial_bookable_ratio:49,partial_color:50,required_participants:51,selected_color:52,show_as_week:53,show_header:54,show_hosts:55,show_ticks:56,show_weekends:57,slot_size:58,start_date:59,start_hour:60,timezone:61,view_as:62,unavailable_color:63,events:64,reload:65},null,[-1,-1,-1,-1,-1]),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["id","access_token","event_to_hover","event_to_select","allow_booking","allow_date_change","attendees_to_show","availability","booking_options","booking_user_email","booking_user_token","busy_color","capacity","closed_color","date_format","dates_to_show","end_hour","event_buffer","free_color","mandate_top_of_hour","max_book_ahead_days","min_book_ahead_days","open_hours","overbooked_threshold","partial_bookable_ratio","partial_color","required_participants","selected_color","show_as_week","show_header","show_hosts","show_ticks","show_weekends","slot_size","start_date","start_hour","timezone","view_as","unavailable_color","events","reload"]}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),X()}get access_token(){return this.$$.ctx[28]}set access_token(e){this.$$set({access_token:e}),X()}get event_to_hover(){return this.$$.ctx[0]}set event_to_hover(e){this.$$set({event_to_hover:e}),X()}get event_to_select(){return this.$$.ctx[27]}set event_to_select(e){this.$$set({event_to_select:e}),X()}get allow_booking(){return this.$$.ctx[29]}set allow_booking(e){this.$$set({allow_booking:e}),X()}get allow_date_change(){return this.$$.ctx[30]}set allow_date_change(e){this.$$set({allow_date_change:e}),X()}get attendees_to_show(){return this.$$.ctx[31]}set attendees_to_show(e){this.$$set({attendees_to_show:e}),X()}get availability(){return this.$$.ctx[32]}set availability(e){this.$$set({availability:e}),X()}get booking_options(){return this.$$.ctx[33]}set booking_options(e){this.$$set({booking_options:e}),X()}get booking_user_email(){return this.$$.ctx[34]}set booking_user_email(e){this.$$set({booking_user_email:e}),X()}get booking_user_token(){return this.$$.ctx[35]}set booking_user_token(e){this.$$set({booking_user_token:e}),X()}get busy_color(){return this.$$.ctx[36]}set busy_color(e){this.$$set({busy_color:e}),X()}get capacity(){return this.$$.ctx[37]}set capacity(e){this.$$set({capacity:e}),X()}get closed_color(){return this.$$.ctx[38]}set closed_color(e){this.$$set({closed_color:e}),X()}get date_format(){return this.$$.ctx[39]}set date_format(e){this.$$set({date_format:e}),X()}get dates_to_show(){return this.$$.ctx[40]}set dates_to_show(e){this.$$set({dates_to_show:e}),X()}get end_hour(){return this.$$.ctx[41]}set end_hour(e){this.$$set({end_hour:e}),X()}get event_buffer(){return this.$$.ctx[42]}set event_buffer(e){this.$$set({event_buffer:e}),X()}get free_color(){return this.$$.ctx[43]}set free_color(e){this.$$set({free_color:e}),X()}get mandate_top_of_hour(){return this.$$.ctx[44]}set mandate_top_of_hour(e){this.$$set({mandate_top_of_hour:e}),X()}get max_book_ahead_days(){return this.$$.ctx[45]}set max_book_ahead_days(e){this.$$set({max_book_ahead_days:e}),X()}get min_book_ahead_days(){return this.$$.ctx[46]}set min_book_ahead_days(e){this.$$set({min_book_ahead_days:e}),X()}get open_hours(){return this.$$.ctx[47]}set open_hours(e){this.$$set({open_hours:e}),X()}get overbooked_threshold(){return this.$$.ctx[48]}set overbooked_threshold(e){this.$$set({overbooked_threshold:e}),X()}get partial_bookable_ratio(){return this.$$.ctx[49]}set partial_bookable_ratio(e){this.$$set({partial_bookable_ratio:e}),X()}get partial_color(){return this.$$.ctx[50]}set partial_color(e){this.$$set({partial_color:e}),X()}get required_participants(){return this.$$.ctx[51]}set required_participants(e){this.$$set({required_participants:e}),X()}get selected_color(){return this.$$.ctx[52]}set selected_color(e){this.$$set({selected_color:e}),X()}get show_as_week(){return this.$$.ctx[53]}set show_as_week(e){this.$$set({show_as_week:e}),X()}get show_header(){return this.$$.ctx[54]}set show_header(e){this.$$set({show_header:e}),X()}get show_hosts(){return this.$$.ctx[55]}set show_hosts(e){this.$$set({show_hosts:e}),X()}get show_ticks(){return this.$$.ctx[56]}set show_ticks(e){this.$$set({show_ticks:e}),X()}get show_weekends(){return this.$$.ctx[57]}set show_weekends(e){this.$$set({show_weekends:e}),X()}get slot_size(){return this.$$.ctx[58]}set slot_size(e){this.$$set({slot_size:e}),X()}get start_date(){return this.$$.ctx[59]}set start_date(e){this.$$set({start_date:e}),X()}get start_hour(){return this.$$.ctx[60]}set start_hour(e){this.$$set({start_hour:e}),X()}get timezone(){return this.$$.ctx[61]}set timezone(e){this.$$set({timezone:e}),X()}get view_as(){return this.$$.ctx[62]}set view_as(e){this.$$set({view_as:e}),X()}get unavailable_color(){return this.$$.ctx[63]}set unavailable_color(e){this.$$set({unavailable_color:e}),X()}get events(){return this.$$.ctx[64]}set events(e){this.$$set({events:e}),X()}get reload(){return this.$$.ctx[65]}}customElements.define("nylas-availability",gd);function Yl(t,e,n){const a=t.slice();return a[56]=e[n],a}function Zl(t,e,n){const a=t.slice();return a[59]=e[n],a[61]=n,a}function Jl(t,e,n){const a=t.slice();return a[47]=e[n],a[48]=e,a[49]=n,a}function Ql(t,e,n){const a=t.slice();return a[50]=e[n],a[51]=e,a[52]=n,a}function Xl(t,e,n){const a=t.slice();return a[53]=e[n],a}function bd(t){let e;return{c(){e=b("p"),e.textContent=`Select timeslots to view event information (You'll be able to review
        before you book)`},m(n,a){Y(n,e,a)},p:he,d(n){n&&W(e)}}}function yd(t){let e,n,a,r=t[1].event_options,o=[];for(let s=0;s<r.length;s+=1)o[s]=es(Yl(t,r,s));return{c(){e=b("h2"),e.textContent="Select an option",n=O(),a=b("ul");for(let s=0;s<o.length;s+=1)o[s].c();p(a,"class","timeslots timeslot-options")},m(s,h){Y(s,e,h),Y(s,n,h),Y(s,a,h);for(let c=0;c<o.length;c+=1)o[c].m(a,null)},p(s,h){if(h[0]&898){r=s[1].event_options;let c;for(c=0;c<r.length;c+=1){const _=Yl(s,r,c);o[c]?o[c].p(_,h):(o[c]=es(_),o[c].c(),o[c].m(a,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d(s){s&&W(e),s&&W(n),s&&W(a),en(o,s)}}}function pd(t){let e,n,a,r,o,s,h,c,_=t[1].booking_label+"",y,v,k,E,S,N=t[3],w=[];for(let G=0;G<N.length;G+=1)w[G]=os(Ql(t,N,G));let M=t[1].custom_fields.length&&ls(t);return{c(){e=b("h2"),e.textContent="Your Appointment Bookings",n=O(),a=b("p"),a.textContent="Do you want to book the following?",r=O(),o=b("ul");for(let G=0;G<w.length;G+=1)w[G].c();s=O(),M&&M.c(),h=O(),c=b("button"),y=ge(_),p(o,"class","timeslots"),c.disabled=v=!t[5],p(c,"title",k=t[5]?void 0:"Please complete all required fields"),p(c,"class","book")},m(G,I){Y(G,e,I),Y(G,n,I),Y(G,a,I),Y(G,r,I),Y(G,o,I);for(let U=0;U<w.length;U+=1)w[U].m(o,null);Y(G,s,I),M&&M.m(G,I),Y(G,h,I),Y(G,c,I),m(c,y),E||(S=te(c,"click",t[38]),E=!0)},p(G,I){if(I[0]&10){N=G[3];let U;for(U=0;U<N.length;U+=1){const B=Ql(G,N,U);w[U]?w[U].p(B,I):(w[U]=os(B),w[U].c(),w[U].m(o,null))}for(;U<w.length;U+=1)w[U].d(1);w.length=N.length}G[1].custom_fields.length?M?M.p(G,I):(M=ls(G),M.c(),M.m(h.parentNode,h)):M&&(M.d(1),M=null),I[0]&2&&_!==(_=G[1].booking_label+"")&&He(y,_),I[0]&32&&v!==(v=!G[5])&&(c.disabled=v),I[0]&32&&k!==(k=G[5]?void 0:"Please complete all required fields")&&p(c,"title",k)},d(G){G&&W(e),G&&W(n),G&&W(a),G&&W(r),G&&W(o),en(w,G),G&&W(s),M&&M.d(G),G&&W(h),G&&W(c),E=!1,S()}}}function $l(t){let e,n,a=t[59].event_title+"",r,o,s=t[59].event_description+"",h,c,_=t[59].start_time.toLocaleTimeString([],{timeStyle:"short"})+"",y,v,k=t[59].end_time.toLocaleTimeString([],{timeStyle:"short"})+"",E,S,N=t[59].emails.join(", ")+"",w,M;return{c(){e=b("span"),n=b("h4"),r=ge(a),o=ge(`:
                    `),h=ge(s),c=O(),y=ge(_),v=ge(" - "),E=ge(k),S=ge(`
                  with `),w=ge(N),M=O(),p(e,"class","sub-event")},m(G,I){Y(G,e,I),m(e,n),m(n,r),m(n,o),m(n,h),m(e,c),m(e,y),m(e,v),m(e,E),m(e,S),m(e,w),m(e,M)},p(G,I){I[0]&2&&a!==(a=G[59].event_title+"")&&He(r,a),I[0]&2&&s!==(s=G[59].event_description+"")&&He(h,s),I[0]&2&&_!==(_=G[59].start_time.toLocaleTimeString([],{timeStyle:"short"})+"")&&He(y,_),I[0]&2&&k!==(k=G[59].end_time.toLocaleTimeString([],{timeStyle:"short"})+"")&&He(E,k),I[0]&2&&N!==(N=G[59].emails.join(", ")+"")&&He(w,N)},d(G){G&&W(e)}}}function es(t){let e,n,a=t[56][0].start_time.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})+"",r,o,s=t[56][t[56].length-1].end_time.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})+"",h,c,_,y,v,k,E=t[56],S=[];for(let M=0;M<E.length;M+=1)S[M]=$l(Zl(t,E,M));function N(){return t[39](t[56])}function w(){return t[41](t[56])}return{c(){e=b("li"),n=b("span"),r=ge(a),o=ge(`
              -
              `),h=ge(s),c=O(),_=b("div");for(let M=0;M<S.length;M+=1)S[M].c();y=O(),p(n,"class","time"),p(_,"class","sub-events"),p(e,"aria-role","button")},m(M,G){Y(M,e,G),m(e,n),m(n,r),m(n,o),m(n,h),m(e,c),m(e,_);for(let I=0;I<S.length;I+=1)S[I].m(_,null);m(e,y),v||(k=[te(e,"mouseenter",N),te(e,"mouseleave",t[40]),te(e,"click",w)],v=!0)},p(M,G){if(t=M,G[0]&2&&a!==(a=t[56][0].start_time.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})+"")&&He(r,a),G[0]&2&&s!==(s=t[56][t[56].length-1].end_time.toLocaleString([],{dateStyle:"medium",timeStyle:"short"})+"")&&He(h,s),G[0]&2){E=t[56];let I;for(I=0;I<E.length;I+=1){const U=Zl(t,E,I);S[I]?S[I].p(U,G):(S[I]=$l(U),S[I].c(),S[I].m(_,null))}for(;I<S.length;I+=1)S[I].d(1);S.length=E.length}},d(M){M&&W(e),en(S,M),v=!1,vt(k)}}}function ts(t){let e,n;function a(h,c){if(h[1].recurrence==="optional")return Td;if(h[1].recurrence==="required")return vd}let r=a(t),o=r&&r(t),s=t[50].recurrence_cadence!=="none"&&!t[1].recurrence_expiry&&as(t);return{c(){e=b("footer"),o&&o.c(),n=O(),s&&s.c()},m(h,c){Y(h,e,c),o&&o.m(e,null),m(e,n),s&&s.m(e,null)},p(h,c){r===(r=a(h))&&o?o.p(h,c):(o&&o.d(1),o=r&&r(h),o&&(o.c(),o.m(e,n))),h[50].recurrence_cadence!=="none"&&!h[1].recurrence_expiry?s?s.p(h,c):(s=as(h),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(h){h&&W(e),o&&o.d(),s&&s.d()}}}function vd(t){let e,n,a=t[50].recurrence_cadence+"",r;return{c(){e=b("strong"),n=ge("Repeating "),r=ge(a)},m(o,s){Y(o,e,s),m(e,n),m(e,r)},p(o,s){s[0]&8&&a!==(a=o[50].recurrence_cadence+"")&&He(r,a)},d(o){o&&W(e)}}}function Td(t){let e,n,a,r,o,s,h,c,_,y;t[29][0][t[52]]=[];function v(){t[28].call(o,t[51],t[52])}let k=t[1].recurrence_cadence,E=[];for(let S=0;S<k.length;S+=1)E[S]=ns(Xl(t,k,S));return{c(){e=b("strong"),e.textContent="How often should this event repeat?",n=O(),a=b("div"),r=b("label"),o=b("input"),s=O(),h=b("span"),h.textContent="never",c=O();for(let S=0;S<E.length;S+=1)E[S].c();p(o,"type","radio"),o.__value="none",o.value=o.__value,t[29][0][t[52]].push(o),xe(r,"checked",t[50].recurrence_cadence==="none"),p(a,"class","cadences")},m(S,N){Y(S,e,N),Y(S,n,N),Y(S,a,N),m(a,r),m(r,o),o.checked=o.__value===t[50].recurrence_cadence,m(r,s),m(r,h),m(a,c);for(let w=0;w<E.length;w+=1)E[w].m(a,null);_||(y=te(o,"change",v),_=!0)},p(S,N){if(t=S,N[0]&8&&(o.checked=o.__value===t[50].recurrence_cadence),N[0]&8&&xe(r,"checked",t[50].recurrence_cadence==="none"),N[0]&10){k=t[1].recurrence_cadence;let w;for(w=0;w<k.length;w+=1){const M=Xl(t,k,w);E[w]?E[w].p(M,N):(E[w]=ns(M),E[w].c(),E[w].m(a,null))}for(;w<E.length;w+=1)E[w].d(1);E.length=k.length}},d(S){S&&W(e),S&&W(n),S&&W(a),t[29][0][t[52]].splice(t[29][0][t[52]].indexOf(o),1),en(E,S),_=!1,y()}}}function ns(t){let e,n,a,r,o,s=t[53]+"",h,c,_,y;t[29][0][t[52]]=[];function v(){t[30].call(n,t[51],t[52])}return{c(){e=b("label"),n=b("input"),r=O(),o=b("span"),h=ge(s),c=O(),p(n,"type","radio"),n.__value=a=t[53],n.value=n.__value,t[29][0][t[52]].push(n),xe(e,"checked",t[50].recurrence_cadence===t[53])},m(k,E){Y(k,e,E),m(e,n),n.checked=n.__value===t[50].recurrence_cadence,m(e,r),m(e,o),m(o,h),m(e,c),_||(y=te(n,"change",v),_=!0)},p(k,E){t=k,E[0]&2&&a!==(a=t[53])&&(n.__value=a,n.value=n.__value),E[0]&8&&(n.checked=n.__value===t[50].recurrence_cadence),E[0]&2&&s!==(s=t[53]+"")&&He(h,s),E[0]&10&&xe(e,"checked",t[50].recurrence_cadence===t[53])},d(k){k&&W(e),t[29][0][t[52]].splice(t[29][0][t[52]].indexOf(n),1),_=!1,y()}}}function as(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B;t[29][1][t[52]]=[];function z(){t[31].call(o,t[51],t[52])}function V(){t[32].call(y,t[51],t[52])}let L=t[50].expirySelection==="after"&&is(t);function re(){t[34].call(w,t[51],t[52])}let K=t[50].expirySelection==="on"&&rs(t);return{c(){e=b("strong"),e.textContent="Ends",n=O(),a=b("div"),r=b("label"),o=b("input"),s=O(),h=b("span"),h.textContent="never",c=O(),_=b("label"),y=b("input"),v=O(),k=b("span"),k.textContent="After",E=O(),L&&L.c(),S=O(),N=b("label"),w=b("input"),M=O(),G=b("span"),G.textContent="On",I=O(),K&&K.c(),p(o,"type","radio"),o.__value="none",o.value=o.__value,t[29][1][t[52]].push(o),xe(r,"checked",t[50].expirySelection==="none"),p(y,"type","radio"),y.__value="after",y.value=y.__value,t[29][1][t[52]].push(y),xe(_,"checked",t[50].expirySelection==="after"),p(w,"type","radio"),w.__value="on",w.value=w.__value,t[29][1][t[52]].push(w),xe(N,"checked",t[50].expirySelection==="on"),p(a,"class","expiry")},m(H,Z){Y(H,e,Z),Y(H,n,Z),Y(H,a,Z),m(a,r),m(r,o),o.checked=o.__value===t[50].expirySelection,m(r,s),m(r,h),m(a,c),m(a,_),m(_,y),y.checked=y.__value===t[50].expirySelection,m(_,v),m(_,k),m(_,E),L&&L.m(_,null),m(a,S),m(a,N),m(N,w),w.checked=w.__value===t[50].expirySelection,m(N,M),m(N,G),m(N,I),K&&K.m(N,null),U||(B=[te(o,"change",z),te(y,"change",V),te(w,"change",re)],U=!0)},p(H,Z){t=H,Z[0]&8&&(o.checked=o.__value===t[50].expirySelection),Z[0]&8&&xe(r,"checked",t[50].expirySelection==="none"),Z[0]&8&&(y.checked=y.__value===t[50].expirySelection),t[50].expirySelection==="after"?L?L.p(t,Z):(L=is(t),L.c(),L.m(_,null)):L&&(L.d(1),L=null),Z[0]&8&&xe(_,"checked",t[50].expirySelection==="after"),Z[0]&8&&(w.checked=w.__value===t[50].expirySelection),t[50].expirySelection==="on"?K?K.p(t,Z):(K=rs(t),K.c(),K.m(N,null)):K&&(K.d(1),K=null),Z[0]&8&&xe(N,"checked",t[50].expirySelection==="on")},d(H){H&&W(e),H&&W(n),H&&W(a),t[29][1][t[52]].splice(t[29][1][t[52]].indexOf(o),1),t[29][1][t[52]].splice(t[29][1][t[52]].indexOf(y),1),L&&L.d(),t[29][1][t[52]].splice(t[29][1][t[52]].indexOf(w),1),K&&K.d(),U=!1,vt(B)}}}function is(t){let e,n,a,r,o;function s(){t[33].call(e,t[51],t[52])}return{c(){e=b("input"),n=O(),a=b("span"),a.textContent="occurrences",p(e,"class","after"),p(e,"type","number"),p(e,"min","1")},m(h,c){Y(h,e,c),Re(e,t[50].recurrence_expiry),Y(h,n,c),Y(h,a,c),r||(o=te(e,"input",s),r=!0)},p(h,c){t=h,c[0]&8&&Cn(e.value)!==t[50].recurrence_expiry&&Re(e,t[50].recurrence_expiry)},d(h){h&&W(e),h&&W(n),h&&W(a),r=!1,o()}}}function rs(t){let e,n,a,r;function o(){t[35].call(e,t[51],t[52])}return{c(){e=b("input"),p(e,"type","date"),p(e,"min",n=t[50].start_time.toISOString().substring(0,10))},m(s,h){Y(s,e,h),Re(e,t[50].recurrence_expiry),a||(r=te(e,"input",o),a=!0)},p(s,h){t=s,h[0]&8&&n!==(n=t[50].start_time.toISOString().substring(0,10))&&p(e,"min",n),h[0]&8&&Re(e,t[50].recurrence_expiry)},d(s){s&&W(e),a=!1,r()}}}function os(t){let e,n,a=(t[50].event_title||t[1].event_title)+"",r,o,s=(t[50].event_description||t[1].event_description)+"",h,c,_,y=t[50].start_time.toLocaleTimeString([],{timeStyle:"short"})+"",v,k,E=t[50].end_time.toLocaleTimeString([],{timeStyle:"short"})+"",S,N,w,M=t[50].start_time.toLocaleDateString("default",{dateStyle:"full"})+"",G,I,U,B=t[1].recurrence!=="none"&&ts(t);return{c(){e=b("li"),n=b("h3"),r=ge(a),o=ge(": "),h=ge(s),c=O(),_=b("span"),v=ge(y),k=ge(`
              -
              `),S=ge(E),N=O(),w=b("span"),G=ge(M),I=O(),B&&B.c(),U=O(),p(_,"class","time"),p(w,"class","date")},m(z,V){Y(z,e,V),m(e,n),m(n,r),m(n,o),m(n,h),m(e,c),m(e,_),m(_,v),m(_,k),m(_,S),m(e,N),m(e,w),m(w,G),m(e,I),B&&B.m(e,null),m(e,U)},p(z,V){V[0]&10&&a!==(a=(z[50].event_title||z[1].event_title)+"")&&He(r,a),V[0]&10&&s!==(s=(z[50].event_description||z[1].event_description)+"")&&He(h,s),V[0]&8&&y!==(y=z[50].start_time.toLocaleTimeString([],{timeStyle:"short"})+"")&&He(v,y),V[0]&8&&E!==(E=z[50].end_time.toLocaleTimeString([],{timeStyle:"short"})+"")&&He(S,E),V[0]&8&&M!==(M=z[50].start_time.toLocaleDateString("default",{dateStyle:"full"})+"")&&He(G,M),z[1].recurrence!=="none"?B?B.p(z,V):(B=ts(z),B.c(),B.m(e,U)):B&&(B.d(1),B=null)},d(z){z&&W(e),B&&B.d()}}}function ls(t){let e,n=t[1].custom_fields,a=[];for(let r=0;r<n.length;r+=1)a[r]=ss(Jl(t,n,r));return{c(){e=b("div");for(let r=0;r<a.length;r+=1)a[r].c();p(e,"id","custom-fields")},m(r,o){Y(r,e,o);for(let s=0;s<a.length;s+=1)a[s].m(e,null)},p(r,o){if(o[0]&6){n=r[1].custom_fields;let s;for(s=0;s<n.length;s+=1){const h=Jl(r,n,s);a[s]?a[s].p(h,o):(a[s]=ss(h),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}},d(r){r&&W(e),en(a,r)}}}function kd(t){let e,n,a=t[47].title+"",r,o,s,h,c,_,y;function v(){t[37].call(s,t[47])}return{c(){e=b("label"),n=b("strong"),r=ge(a),o=O(),s=b("input"),h=O(),p(s,"type","text"),p(e,"data-required",c=t[47].required)},m(k,E){Y(k,e,E),m(e,n),m(n,r),m(e,o),m(e,s),Re(s,t[2][t[47].title]),m(e,h),_||(y=te(s,"input",v),_=!0)},p(k,E){t=k,E[0]&2&&a!==(a=t[47].title+"")&&He(r,a),E[0]&6&&s.value!==t[2][t[47].title]&&Re(s,t[2][t[47].title]),E[0]&2&&c!==(c=t[47].required)&&p(e,"data-required",c)},d(k){k&&W(e),_=!1,y()}}}function Md(t){let e,n,a=t[47].title+"",r,o,s,h,c,_,y;function v(){t[36].call(s,t[47])}return{c(){e=b("label"),n=b("strong"),r=ge(a),o=O(),s=b("input"),h=O(),p(s,"type","email"),p(e,"data-required",c=t[47].required)},m(k,E){Y(k,e,E),m(e,n),m(n,r),m(e,o),m(e,s),Re(s,t[2][t[47].title]),m(e,h),_||(y=te(s,"input",v),_=!0)},p(k,E){t=k,E[0]&2&&a!==(a=t[47].title+"")&&He(r,a),E[0]&6&&s.value!==t[2][t[47].title]&&Re(s,t[2][t[47].title]),E[0]&2&&c!==(c=t[47].required)&&p(e,"data-required",c)},d(k){k&&W(e),_=!1,y()}}}function ss(t){let e;function n(o,s){return o[47].type==="email"?Md:kd}let a=n(t),r=a(t);return{c(){r.c(),e=Aa()},m(o,s){r.m(o,s),Y(o,e,s)},p(o,s){a===(a=n(o))&&r?r.p(o,s):(r.d(1),r=a(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){r.d(o),o&&W(e)}}}function us(t){let e,n=t[1].notification_message+"",a;return{c(){e=b("p"),a=ge(n)},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o[0]&2&&n!==(n=r[1].notification_message+"")&&He(a,n)},d(r){r&&W(e)}}}function wd(t){let e,n,a,r,o;function s(y,v){return y[3].length?pd:y[1].event_options.length?yd:bd}let h=s(t),c=h(t),_=t[4]&&us(t);return{c(){e=b("nylas-error"),n=O(),a=b("main"),r=b("section"),c.c(),o=O(),_&&_.c(),this.c=he,Ee(e,"id",t[0]),p(r,"class","booker")},m(y,v){Y(y,e,v),Y(y,n,v),Y(y,a,v),m(a,r),c.m(r,null),m(r,o),_&&_.m(r,null)},p(y,v){v[0]&1&&Ee(e,"id",y[0]),h===(h=s(y))&&c?c.p(y,v):(c.d(1),c=h(y),c&&(c.c(),c.m(r,o))),y[4]?_?_.p(y,v):(_=us(y),_.c(),_.m(r,null)):_&&(_.d(1),_=null)},i:he,o:he,d(y){y&&W(e),y&&W(n),y&&W(a),c.d(),_&&_.d()}}}function Ad(t,e,n){let a,r,o,s;Fn(t,ir,P=>n(42,o=P)),Fn(t,ni,P=>n(27,s=P));var h=this&&this.__awaiter||function(P,fe,pe,Me){function Ze(Je){return Je instanceof pe?Je:new pe(function(it){it(Je)})}return new(pe||(pe=Promise))(function(Je,it){function Ue(Te){try{dt(Me.next(Te))}catch(Ke){it(Ke)}}function lt(Te){try{dt(Me.throw(Te))}catch(Ke){it(Ke)}}function dt(Te){Te.done?Je(Te.value):Ze(Te.value).then(Ue,lt)}dt((Me=Me.apply(P,fe||[])).next())})};let{id:c=""}=e,{access_token:_=""}=e,{booking_label:y}=e,{custom_fields:v}=e,{event_title:k}=e,{event_description:E}=e,{event_location:S}=e,{event_conferencing:N}=e,{slots_to_book:w}=e,{notification_mode:M}=e,{notification_message:G}=e,{notification_subject:I}=e,{recurrence:U}=e,{recurrence_cadence:B}=e,{recurrence_expiry:z}=e,{event_options:V}=e;const L=nr(Ca()),re={booking_label:"Schedule time slots",custom_fields:oo,event_title:"Meeting",event_description:"",event_conferencing:"",event_location:"",slots_to_book:[],notification_mode:ta.SHOW_MESSAGE,notification_message:"Thank you for scheduling!",notification_subject:"Invitation",recurrence:"none",recurrence_cadence:["none"],event_options:[]};let K=Un({},{},re),H={};Xi(()=>h(void 0,void 0,void 0,function*(){yield Oi();const P=JSON.stringify({component_id:c,access_token:_});n(25,H=(yield o[P])||{}),n(1,K=Un(e,H,re))}));let Z=e,de=!1;function ke(P){return h(this,void 0,void 0,function*(){const fe=P.map(Me=>h(this,void 0,void 0,function*(){var Ze,Je;const it={title:Me.event_title,description:Me.event_description,location:Me.event_location,conferencing:Me.event_conferencing?{provider:"Zoom Meeting",details:{url:Me.event_conferencing}}:void 0,participants:Array.from(new Set([...Me.available_calendars,...(Ze=Me.participantEmails)!==null&&Ze!==void 0?Ze:[]])).map(Ue=>({email:Ue})),calendar_id:Me.calendar_id,when:{start_time:Me.start_time.getTime()/1e3,end_time:Me.end_time.getTime()/1e3}};if(oe["Email Address"]&&((Je=it.participants)===null||Je===void 0||Je.push({email:oe["Email Address"],name:oe["Your Name"]})),Object.keys(oe).length&&(it.metadata=oe),Me.recurrence_cadence&&Me.recurrence_cadence!=="none"){let Ue="";Me.recurrence_cadence==="daily"?Ue="RRULE:FREQ=DAILY":Me.recurrence_cadence==="weekdays"?Ue="RRULE:FREQ=DAILY;BYDAY=MO,TU,WE,TH,FR":Me.recurrence_cadence==="weekly"?Ue="RRULE:FREQ=WEEKLY":Me.recurrence_cadence==="biweekly"?Ue="RRULE:FREQ=WEEKLY;INTERVAL=2":Me.recurrence_cadence==="monthly"&&(Ue="RRULE:FREQ=MONTHLY"),typeof Me.recurrence_expiry=="string"&&(Me.recurrence_expiry=new Date(Me.recurrence_expiry));const lt=K.recurrence_expiry||Me.recurrence_expiry,dt=Number.parseInt(lt);isNaN(dt)?lt instanceof Date&&(Ue+=`;UNTIL=${lt.toISOString().substring(0,19).replace(/[^0-9]/g,"")}Z`):Ue+=`;COUNT=${dt}`,it.recurrence={rrule:[Ue],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}return ec(it,{component_id:c,access_token:_})})),pe=yield Promise.all(fe);L("bookedEvents",{}),K.notification_mode===ta.SEND_MESSAGE?pe.map((Me,Ze)=>{var Je;const it=(Je=Me.participants)===null||Je===void 0?void 0:Je.map(Ue=>{const{email:lt,name:dt}=Ue,Te={email:lt};return dt&&(Te.name=dt),Te});it&&fc(c,{to:it,body:`${K.notification_message}`,subject:`${K.notification_subject}`})}):K.notification_mode===ta.SHOW_MESSAGE&&n(4,de=!0)})}let oe={};function j(P){L("hoverOptionChange",{event:P})}function q(){L("hoverOptionChange",{event:null})}function ce(P){L("eventOptionSelected",{event:P})}const Ge=[[],[]];function Pe(P,fe){P[fe].recurrence_cadence=this.__value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function _e(P,fe){P[fe].recurrence_cadence=this.__value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function ze(P,fe){P[fe].expirySelection=this.__value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function Be(P,fe){P[fe].expirySelection=this.__value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function F(P,fe){P[fe].recurrence_expiry=Cn(this.value),n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function le(P,fe){P[fe].expirySelection=this.__value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function se(P,fe){P[fe].recurrence_expiry=this.value,n(3,a),n(1,K),n(26,Z),n(46,e),n(25,H)}function ye(P){oe[P.title]=this.value,n(2,oe),n(1,K),n(26,Z),n(46,e),n(25,H)}function ue(P){oe[P.title]=this.value,n(2,oe),n(1,K),n(26,Z),n(46,e),n(25,H)}const ie=()=>ke(a),be=P=>j(P),Ce=()=>q(),Q=P=>ce(P);return t.$$set=P=>{n(46,e=je(je({},e),Mt(P))),"id"in P&&n(0,c=P.id),"access_token"in P&&n(10,_=P.access_token),"booking_label"in P&&n(11,y=P.booking_label),"custom_fields"in P&&n(12,v=P.custom_fields),"event_title"in P&&n(13,k=P.event_title),"event_description"in P&&n(14,E=P.event_description),"event_location"in P&&n(15,S=P.event_location),"event_conferencing"in P&&n(16,N=P.event_conferencing),"slots_to_book"in P&&n(17,w=P.slots_to_book),"notification_mode"in P&&n(18,M=P.notification_mode),"notification_message"in P&&n(19,G=P.notification_message),"notification_subject"in P&&n(20,I=P.notification_subject),"recurrence"in P&&n(21,U=P.recurrence),"recurrence_cadence"in P&&n(22,B=P.recurrence_cadence),"recurrence_expiry"in P&&n(23,z=P.recurrence_expiry),"event_options"in P&&n(24,V=P.event_options)},t.$$.update=()=>{t.$$.dirty[0]&134217728&&Object.keys(s).length&&L("onError",s),JSON.stringify(Z)!==JSON.stringify(e)&&(n(1,K=Un(e,H,re)),n(26,Z=e)),t.$$.dirty[0]&2&&n(3,a=K.slots_to_book.map(P=>(P.recurrence_cadence||(K.recurrence==="required"?P.recurrence_cadence=K.recurrence_cadence[0]:P.recurrence_cadence="none"),P.expirySelection||(P.expirySelection="none"),P))),t.$$.dirty[0]&8&&a.length&&n(4,de=!1),t.$$.dirty[0]&6&&(K.custom_fields.find(P=>oe.hasOwnProperty(P.title))||n(2,oe=K.custom_fields.reduce((P,fe)=>Object.assign(Object.assign({},P),{[fe.title]:""}),{}))),t.$$.dirty[0]&6&&n(5,r=K.custom_fields.filter(P=>P.required).every(P=>oe[P.title]!==void 0&&oe[P.title]!==""))},e=Mt(e),[c,K,oe,a,de,r,ke,j,q,ce,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,H,Z,s,Pe,Ge,_e,ze,Be,F,le,se,ye,ue,ie,be,Ce,Q]}class Sd extends Vn{constructor(e){super();this.shadowRoot.innerHTML='<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#314fa9;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}main{height:100%;overflow:hidden;display:grid;font-family:Arial, Helvetica, sans-serif;position:relative;z-index:1}main .booker{height:calc(100% - 2rem);overflow:auto;background:rgba(0, 0, 0, 0.03);padding:1rem}main .booker h2{font-size:1.3rem;font-weight:bold;margin-bottom:0.5rem}main .booker>p{opacity:0.8;font-size:0.9rem;line-height:1.3rem;margin-bottom:1rem}main .booker .timeslots{display:grid;grid-auto-flow:row;gap:1rem;margin-bottom:1rem}main .booker .timeslots li{background:rgba(255, 255, 255, 0.8);list-style-type:none;margin:0;padding:1rem;border:1px solid #ebebeb;display:grid;gap:0.5rem;grid-auto-flow:row}main .booker .timeslots li h3{font-size:0.8rem;opacity:0.8}main .booker .timeslots li .time{color:var(--blue)}main .booker .timeslots li .date{font-size:0.8rem}main .booker .timeslots li .sub-events{display:grid;gap:1rem;font-size:0.8rem}main .booker .timeslots li .sub-event{background-color:var(--grey-light);padding:0.5rem}main .booker .timeslots li footer{display:grid;grid-auto-flow:row;gap:0.5rem;padding:1rem;margin:1rem -1rem -1rem;font-size:0.8rem;background:#eeeef5}main .booker .timeslots li footer strong{display:block}main .booker .timeslots li footer .cadences,main .booker .timeslots li footer .expiry{display:flex;flex-wrap:wrap;gap:0.5rem}main .booker .timeslots li footer .cadences label,main .booker .timeslots li footer .expiry label{padding:0.25rem 0.5rem;transition:0.1s;background-color:#fff;align-items:center;display:flex;gap:0.5rem;cursor:pointer}main .booker .timeslots li footer .cadences label.checked,main .booker .timeslots li footer .expiry label.checked{background-color:var(--blue);color:white}main .booker .timeslots li footer .cadences label input,main .booker .timeslots li footer .expiry label input{padding-left:5px}main .booker .timeslots li footer .cadences label input.after,main .booker .timeslots li footer .expiry label input.after{width:15%}main .booker .timeslots li footer .cadences label span,main .booker .timeslots li footer .expiry label span{text-transform:capitalize}main .booker #custom-fields{display:grid;grid-auto-flow:row;gap:1rem;margin-bottom:1rem}main .booker #custom-fields label{display:grid;grid-auto-flow:row;gap:0.5rem}main .booker #custom-fields label strong{font-weight:bold;font-size:0.8rem}main .booker #custom-fields label[data-required=true] strong:after{content:" (required)";font-weight:normal;opacity:0.75;font-style:italic}main .booker #custom-fields label input[type=text],main .booker #custom-fields label input[type=email]{padding:0.5rem;font-size:0.9rem}main .booker button.book{background:var(--blue);color:white;padding:0.5rem 2rem;cursor:pointer}main .booker button.book:disabled{background:var(--grey-dark);opacity:0.5;cursor:not-allowed}</style>',Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Ad,wd,Zt,{id:0,access_token:10,booking_label:11,custom_fields:12,event_title:13,event_description:14,event_location:15,event_conferencing:16,slots_to_book:17,notification_mode:18,notification_message:19,notification_subject:20,recurrence:21,recurrence_cadence:22,recurrence_expiry:23,event_options:24},null,[-1,-1]),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["id","access_token","booking_label","custom_fields","event_title","event_description","event_location","event_conferencing","slots_to_book","notification_mode","notification_message","notification_subject","recurrence","recurrence_cadence","recurrence_expiry","event_options"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),X()}get access_token(){return this.$$.ctx[10]}set access_token(e){this.$$set({access_token:e}),X()}get booking_label(){return this.$$.ctx[11]}set booking_label(e){this.$$set({booking_label:e}),X()}get custom_fields(){return this.$$.ctx[12]}set custom_fields(e){this.$$set({custom_fields:e}),X()}get event_title(){return this.$$.ctx[13]}set event_title(e){this.$$set({event_title:e}),X()}get event_description(){return this.$$.ctx[14]}set event_description(e){this.$$set({event_description:e}),X()}get event_location(){return this.$$.ctx[15]}set event_location(e){this.$$set({event_location:e}),X()}get event_conferencing(){return this.$$.ctx[16]}set event_conferencing(e){this.$$set({event_conferencing:e}),X()}get slots_to_book(){return this.$$.ctx[17]}set slots_to_book(e){this.$$set({slots_to_book:e}),X()}get notification_mode(){return this.$$.ctx[18]}set notification_mode(e){this.$$set({notification_mode:e}),X()}get notification_message(){return this.$$.ctx[19]}set notification_message(e){this.$$set({notification_message:e}),X()}get notification_subject(){return this.$$.ctx[20]}set notification_subject(e){this.$$set({notification_subject:e}),X()}get recurrence(){return this.$$.ctx[21]}set recurrence(e){this.$$set({recurrence:e}),X()}get recurrence_cadence(){return this.$$.ctx[22]}set recurrence_cadence(e){this.$$set({recurrence_cadence:e}),X()}get recurrence_expiry(){return this.$$.ctx[23]}set recurrence_expiry(e){this.$$set({recurrence_expiry:e}),X()}get event_options(){return this.$$.ctx[24]}set event_options(e){this.$$set({event_options:e}),X()}}customElements.define("nylas-booking",Sd);function Cd(t){let e,n,a=[{width:"18"},{height:"13"},{viewBox:"0 0 18 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,fill:!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M2.03033 7.05071C1.73744 6.75782 1.26256 6.75782 0.96967 7.05071C0.676777 7.3436 0.676777 7.81848 0.96967 8.11137L5.46967 12.6114C5.76256 12.9043 6.23744 12.9043 6.53033 12.6114L17.5303 1.61137C17.8232 1.31848 17.8232 0.843603 17.5303 0.550709C17.2374 0.257816 16.7626 0.257816 16.4697 0.550709L6 11.0204L2.03033 7.05071Z"),p(n,"fill","#161717"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"18"},{height:"13"},{viewBox:"0 0 18 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Gd(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class zd extends fa{constructor(e){super();Kt(this,e,Gd,Cd,Zt,{})}}function Ed(t){let e,n,a,r,o,s=[{width:"4"},{height:"14"},{viewBox:"0 0 4 14"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],h={};for(let c=0;c<s.length;c+=1)h=je(h,s[c]);return{c(){e=Lt("svg"),n=Lt("path"),a=O(),r=Lt("svg"),o=Lt("path"),this.h()},l(c){e=Vt(c,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var _=Pt(e);n=Vt(_,"path",{d:!0,fill:!0}),Pt(n).forEach(W),_.forEach(W),a=zu(c),r=Vt(c,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,style:!0});var y=Pt(r);o=Vt(y,"path",{d:!0,fill:!0}),Pt(o).forEach(W),y.forEach(W),this.h()},h(){p(n,"d","M2 3.5C1.0335 3.5 0.25 2.7165 0.25 1.75C0.25 0.783502 1.0335 -1.18742e-07 2 -7.64949e-08C2.9665 -3.42479e-08 3.75 0.783502 3.75 1.75C3.75 2.7165 2.9665 3.5 2 3.5ZM2 14C1.0335 14 0.249999 13.2165 0.249999 12.25C0.25 11.2835 1.0335 10.5 2 10.5C2.9665 10.5 3.75 11.2835 3.75 12.25C3.75 13.2165 2.9665 14 2 14ZM0.25 7C0.25 7.9665 1.0335 8.75 2 8.75C2.9665 8.75 3.75 7.9665 3.75 7C3.75 6.0335 2.9665 5.25 2 5.25C1.0335 5.25 0.25 6.0335 0.25 7Z"),p(n,"fill","#636671"),Jt(e,h),p(o,"d","M2 3.5C1.0335 3.5 0.25 2.7165 0.25 1.75C0.25 0.783502 1.0335 -1.18742e-07 2 -7.64949e-08C2.9665 -3.42479e-08 3.75 0.783502 3.75 1.75C3.75 2.7165 2.9665 3.5 2 3.5ZM2 14C1.0335 14 0.249999 13.2165 0.249999 12.25C0.25 11.2835 1.0335 10.5 2 10.5C2.9665 10.5 3.75 11.2835 3.75 12.25C3.75 13.2165 2.9665 14 2 14ZM0.25 7C0.25 7.9665 1.0335 8.75 2 8.75C2.9665 8.75 3.75 7.9665 3.75 7C3.75 6.0335 2.9665 5.25 2 5.25C1.0335 5.25 0.25 6.0335 0.25 7Z"),p(o,"fill","#636671"),p(r,"width","4"),p(r,"height","14"),p(r,"viewBox","0 0 4 14"),p(r,"fill","none"),p(r,"xmlns","http://www.w3.org/2000/svg"),Ie(r,"margin-left","2px")},m(c,_){Rn(c,e,_),Bn(e,n),Rn(c,a,_),Rn(c,r,_),Bn(r,o)},p(c,[_]){Jt(e,h=jn(s,[{width:"4"},{height:"14"},{viewBox:"0 0 4 14"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},_&1&&c[0]]))},i:he,o:he,d(c){c&&W(e),c&&W(a),c&&W(r)}}}function Od(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class cs extends fa{constructor(e){super();Kt(this,e,Od,Ed,Zt,{})}}function Dd(t){let e,n,a=[{width:"13"},{height:"13"},{viewBox:"0 0 13 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,fill:!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M11.6569 1.4242C12.4379 2.20524 12.4379 3.47157 11.6569 4.25262L4.27039 11.6391C3.95 11.9595 3.54855 12.1868 3.10897 12.2967L0.817966 12.8694C0.451776 12.961 0.12008 12.6293 0.211627 12.2631L0.784377 9.97208C0.894272 9.5325 1.12157 9.13105 1.44197 8.81066L8.82843 1.4242C9.60948 0.643147 10.8758 0.643147 11.6569 1.4242ZM8.12124 3.54541L2.14907 9.51776C1.95683 9.71 1.82046 9.95087 1.75452 10.2146L1.38388 11.6972L2.86643 11.3265C3.13018 11.2606 3.37105 11.1242 3.56329 10.932L9.53524 4.95941L8.12124 3.54541ZM9.53553 2.1313L8.82824 2.83841L10.2422 4.25241L10.9497 3.54552C11.3403 3.15499 11.3403 2.52183 10.9497 2.1313C10.5592 1.74078 9.92606 1.74078 9.53553 2.1313Z"),p(n,"fill","#002DB4"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"13"},{height:"13"},{viewBox:"0 0 13 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Nd(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class Id extends fa{constructor(e){super();Kt(this,e,Nd,Dd,Zt,{})}}function Ld(t){let e,n,a=[{width:"11"},{height:"12"},{viewBox:"0 0 11 12"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,fill:!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M6 1.08105C6 0.804912 5.77614 0.581055 5.5 0.581055C5.22386 0.581055 5 0.804912 5 1.08105V5.58105H0.5C0.223858 5.58105 0 5.80491 0 6.08105C0 6.3572 0.223858 6.58105 0.5 6.58105H5V11.0811C5 11.3572 5.22386 11.5811 5.5 11.5811C5.77614 11.5811 6 11.3572 6 11.0811V6.58105H10.5C10.7761 6.58105 11 6.3572 11 6.08105C11 5.80491 10.7761 5.58105 10.5 5.58105H6V1.08105Z"),p(n,"fill","#002DB4"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"11"},{height:"12"},{viewBox:"0 0 11 12"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Pd(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class Fd extends fa{constructor(e){super();Kt(this,e,Pd,Ld,Zt,{})}}function Bd(t){let e,n,a=[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],r={};for(let o=0;o<a.length;o+=1)r=je(r,a[o]);return{c(){e=Lt("svg"),n=Lt("path"),this.h()},l(o){e=Vt(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=Pt(e);n=Vt(s,"path",{d:!0,fill:!0}),Pt(n).forEach(W),s.forEach(W),this.h()},h(){p(n,"d","M4.5 5.08105L4.5 9.08105C4.5 9.3572 4.72386 9.58105 5 9.58105C5.27614 9.58105 5.5 9.3572 5.5 9.08105L5.5 5.08105C5.5 4.80491 5.27614 4.58105 5 4.58105C4.72386 4.58105 4.5 4.80491 4.5 5.08105ZM7 4.58105C7.27614 4.58105 7.5 4.80491 7.5 5.08105V9.08105C7.5 9.3572 7.27614 9.58105 7 9.58105C6.72386 9.58105 6.5 9.3572 6.5 9.08105V5.08105C6.5 4.80491 6.72386 4.58105 7 4.58105ZM8 2.08105H11C11.2761 2.08105 11.5 2.30491 11.5 2.58105C11.5 2.8572 11.2761 3.08105 11 3.08105H10.4475L9.69462 9.85713C9.55394 11.1232 8.48378 12.0811 7.20991 12.0811H4.79008C3.51621 12.0811 2.44605 11.1232 2.30537 9.85713L1.55247 3.08105H1C0.723858 3.08105 0.5 2.8572 0.5 2.58105C0.5 2.30491 0.723858 2.08105 1 2.08105H4C4 0.976485 4.89543 0.0810547 6 0.0810547C7.10457 0.0810547 8 0.976485 8 2.08105ZM6 1.08105C5.44772 1.08105 5 1.52877 5 2.08105H7C7 1.52877 6.55229 1.08105 6 1.08105ZM2.55863 3.08105L3.29925 9.7467C3.38366 10.5064 4.02575 11.0811 4.79008 11.0811H7.20991C7.97423 11.0811 8.61633 10.5064 8.70073 9.7467L9.44136 3.08105H2.55863Z"),p(n,"fill","#EE3248"),Jt(e,r)},m(o,s){Rn(o,e,s),Bn(e,n)},p(o,[s]){Jt(e,r=jn(a,[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},s&1&&o[0]]))},i:he,o:he,d(o){o&&W(e)}}}function Rd(t,e,n){return t.$$set=a=>{n(0,e=je(je({},e),Mt(a)))},e=Mt(e),[e]}class xd extends fa{constructor(e){super();Kt(this,e,Rd,Bd,Zt,{})}}function jd(t){let e,n,a,r,o,s,h;return r=new cs({}),{c(){e=b("div"),n=b("div"),a=b("button"),ea(r.$$.fragment),o=O(),s=b("slot"),this.c=he,p(a,"class","drag"),p(n,"class","drag-preview-cell"),p(e,"class","drag-preview"),Ie(e,"top",t[1]+"px"),Ie(e,"left",t[0]+"px"),Ie(e,"height",t[2]+"px"),Ie(e,"width",t[3]+"px"),Ie(e,"visibility",t[4]?"visible":"hidden")},m(c,_){Y(c,e,_),m(e,n),m(n,a),Hn(r,a,null),m(e,o),m(e,s),h=!0},p(c,[_]){(!h||_&2)&&Ie(e,"top",c[1]+"px"),(!h||_&1)&&Ie(e,"left",c[0]+"px"),(!h||_&4)&&Ie(e,"height",c[2]+"px"),(!h||_&8)&&Ie(e,"width",c[3]+"px"),(!h||_&16)&&Ie(e,"visibility",c[4]?"visible":"hidden")},i(c){h||(qe(r.$$.fragment,c),h=!0)},o(c){ut(r.$$.fragment,c),h=!1},d(c){c&&W(e),Gn(r)}}}function Hd(t,e,n){let{left:a=0}=e,{top:r=0}=e,{height:o=0}=e,{width:s=0}=e,{visible:h}=e;return t.$$set=c=>{"left"in c&&n(0,a=c.left),"top"in c&&n(1,r=c.top),"height"in c&&n(2,o=c.height),"width"in c&&n(3,s=c.width),"visible"in c&&n(4,h=c.visible)},[a,r,o,s,h]}class Vd extends Vn{constructor(e){super();this.shadowRoot.innerHTML="<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.drag-preview{display:flex;align-items:center;position:absolute;justify-content:space-between;z-index:5;border-radius:4px;background-color:white;box-shadow:0 2px 8px #00000040;pointer-events:none}.drag-preview .drag-preview-cell{display:flex;justify-content:flex-start;align-items:center;padding:0.25rem;box-sizing:border-box}button.drag{display:inline-flex;align-items:left;padding:0.5rem;background-color:transparent}button.drag:hover{cursor:pointer}</style>",Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Hd,jd,Qr,{left:0,top:1,height:2,width:3,visible:4},null),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["left","top","height","width","visible"]}get left(){return this.$$.ctx[0]}set left(e){this.$$set({left:e}),X()}get top(){return this.$$.ctx[1]}set top(e){this.$$set({top:e}),X()}get height(){return this.$$.ctx[2]}set height(e){this.$$set({height:e}),X()}get width(){return this.$$.ctx[3]}set width(e){this.$$set({width:e}),X()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),X()}}customElements.define("nylas-schedule-editor-drag-item-placeholder",Vd);function Ud(t){let e,n,a,r,o,s,h,c,_;return{c(){e=b("section"),n=b("details"),a=b("summary"),a.innerHTML=`<slot name="title"></slot> 
      <img src="./assets/expand.svg" class="expand-icon" alt="expand"/> 
      <slot name="intro"></slot>`,r=O(),o=b("slot"),s=O(),h=b("slot"),c=O(),_=b("p"),_.innerHTML='<slot name="intro"></slot>',this.c=he,p(o,"name","contents"),p(h,"name","footer"),n.open=t[1],p(_,"class","intro"),p(e,"class",t[0])},m(y,v){Y(y,e,v),m(e,n),m(n,a),m(n,r),m(n,o),m(n,s),m(n,h),m(e,c),m(e,_)},p(y,[v]){v&2&&(n.open=y[1]),v&1&&p(e,"class",y[0])},i:he,o:he,d(y){y&&W(e)}}}function Wd(t,e,n){let{propname:a="bar"}=e,{section_title:r}=e,{expanded:o=!1}=e;return t.$$set=s=>{"propname"in s&&n(2,a=s.propname),"section_title"in s&&n(0,r=s.section_title),"expanded"in s&&n(1,o=s.expanded)},[r,o,a]}class Kd extends Vn{constructor(e){super();this.shadowRoot.innerHTML="<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}details{display:grid;background-color:white;box-shadow:0px 2px 8px rgba(0, 0, 0, 0.15);padding:1rem;max-width:640px;width:calc(100% - 2rem)}details summary{display:grid;grid-template-columns:auto 16px;gap:0.5rem;cursor:pointer}details summary .expand-icon{width:16px;height:16px;transform:scaleY(-1)}details[open] summary{margin-bottom:1rem;cursor:default}details[open] summary .expand-icon{transform:none}</style>",Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},Wd,Ud,Zt,{propname:2,section_title:0,expanded:1},null),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["propname","section_title","expanded"]}get propname(){return this.$$.ctx[2]}set propname(e){this.$$set({propname:e}),X()}get section_title(){return this.$$.ctx[0]}set section_title(e){this.$$set({section_title:e}),X()}get expanded(){return this.$$.ctx[1]}set expanded(e){this.$$set({expanded:e}),X()}}customElements.define("nylas-schedule-editor-section",Kd);function fs(t){return Object.values(t).reduce((e,n)=>{const a=n.getBoundingClientRect();return e.concat([a])},[])}function ds(t,e){const n=t.getBoundingClientRect(),a=[...t.querySelectorAll(e)].map(r=>r.getBoundingClientRect());return{parentRect:n,childRects:a}}function ms(t,e,n){const a=t.slice();return a[149]=e[n],a[151]=n,a}function hs(t,e,n){const a=t.slice();return a[152]=e[n],a[153]=e,a[151]=n,a}function _s(t,e,n){const a=t.slice();return a[154]=e[n],a}function gs(t,e,n){const a=t.slice();return a[1]=e[n],a}function bs(t,e,n){const a=t.slice();return a[159]=e[n],a[160]=e,a[161]=n,a}function qd(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S=t[9].sections[et.BASIC_DETAILS].editable&&ys(t),N=t[9].sections[et.TIME_DATE_DETAILS].editable&&ks(t),w=t[9].sections[et.STYLE_DETAILS].editable&&As(t),M=t[9].sections[et.BOOKING_DETAILS].editable&&Ss(t),G=t[9].sections[et.CUSTOM_FIELDS].editable&&zs(t),I=t[9].sections[et.NOTIFICATION_DETAILS].editable&&Ls(t),U=t[8]&&Ps(t),B=t[7]&&t[20].length&&Fs(t);return{c(){e=b("main"),n=b("div"),S&&S.c(),a=O(),N&&N.c(),r=O(),w&&w.c(),o=O(),M&&M.c(),s=O(),G&&G.c(),h=O(),I&&I.c(),c=O(),U&&U.c(),_=O(),B&&B.c(),p(n,"class","settings"),Ie(e,"grid-template-columns",t[11]+" 5px auto"),xn(()=>t[129].call(e))},m(z,V){Y(z,e,V),m(e,n),S&&S.m(n,null),m(n,a),N&&N.m(n,null),m(n,r),w&&w.m(n,null),m(n,o),M&&M.m(n,null),m(n,s),G&&G.m(n,null),m(n,h),I&&I.m(n,null),m(e,c),U&&U.m(e,null),m(e,_),B&&B.m(e,null),y=Qi(e,t[129].bind(e)),t[130](e),v=!0,k||(E=[te(e,"mousemove",t[25]),te(e,"mouseup",t[128])],k=!0)},p(z,V){z[9].sections[et.BASIC_DETAILS].editable?S?S.p(z,V):(S=ys(z),S.c(),S.m(n,a)):S&&(S.d(1),S=null),z[9].sections[et.TIME_DATE_DETAILS].editable?N?N.p(z,V):(N=ks(z),N.c(),N.m(n,r)):N&&(N.d(1),N=null),z[9].sections[et.STYLE_DETAILS].editable?w?w.p(z,V):(w=As(z),w.c(),w.m(n,o)):w&&(w.d(1),w=null),z[9].sections[et.BOOKING_DETAILS].editable?M?M.p(z,V):(M=Ss(z),M.c(),M.m(n,s)):M&&(M.d(1),M=null),z[9].sections[et.CUSTOM_FIELDS].editable?G?(G.p(z,V),V[0]&512&&qe(G,1)):(G=zs(z),G.c(),qe(G,1),G.m(n,h)):G&&(pn(),ut(G,1,1,()=>{G=null}),vn()),z[9].sections[et.NOTIFICATION_DETAILS].editable?I?I.p(z,V):(I=Ls(z),I.c(),I.m(n,null)):I&&(I.d(1),I=null),z[8]?U?U.p(z,V):(U=Ps(z),U.c(),U.m(e,_)):U&&(U.d(1),U=null),z[7]&&z[20].length?B?B.p(z,V):(B=Fs(z),B.c(),B.m(e,null)):B&&(B.d(1),B=null),(!v||V[0]&2048)&&Ie(e,"grid-template-columns",z[11]+" 5px auto")},i(z){v||(qe(G),v=!0)},o(z){ut(G),v=!1},d(z){z&&W(e),S&&S.d(),N&&N.d(),w&&w.d(),M&&M.d(),G&&G.d(),I&&I.d(),U&&U.d(),B&&B.d(),y(),t[130](null),k=!1,vt(E)}}}function Yd(t){let e;return{c(){e=b("nylas-domain-error"),Ee(e,"id",t[0])},m(n,a){Y(n,e,a)},p(n,a){a[0]&1&&Ee(e,"id",n[0])},i:he,o:he,d(n){n&&W(e)}}}function ys(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N=t[9].events,w=[];for(let M=0;M<N.length;M+=1)w[M]=Ts(bs(t,N,M));return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Event Details",a=O(),r=b("p"),r.textContent=`Edit the details for your meeting. You can add consecutive meetings
            to allow users to book back-to-back events.`,o=O(),s=b("div");for(let M=0;M<w.length;M+=1)w[M].c();h=O(),c=b("footer"),_=b("button"),_.textContent="Add a follow-up event",y=O(),v=b("button"),v.textContent="Save Editor Options",p(n,"slot","title"),p(r,"slot","intro"),p(r,"class","intro"),p(s,"slot","contents"),p(s,"class","contents basic-details"),p(_,"class","add-event"),p(c,"slot","footer"),Ee(e,"section_title",et.BASIC_DETAILS),Ee(e,"expanded",k=t[9].sections[et.BASIC_DETAILS].expanded)},m(M,G){Y(M,e,G),m(e,n),m(e,a),m(e,r),m(e,o),m(e,s);for(let I=0;I<w.length;I+=1)w[I].m(s,null);m(e,h),m(e,c),m(c,_),m(c,y),m(c,v),E||(S=[te(_,"click",t[35]),te(v,"click",t[22])],E=!0)},p(M,G){if(G[0]&67109376|G[1]&32){N=M[9].events;let I;for(I=0;I<N.length;I+=1){const U=bs(M,N,I);w[I]?w[I].p(U,G):(w[I]=Ts(U),w[I].c(),w[I].m(s,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=N.length}G[0]&512&&k!==(k=M[9].sections[et.BASIC_DETAILS].expanded)&&Ee(e,"expanded",k)},d(M){M&&W(e),en(w,M),E=!1,vt(S)}}}function ps(t){let e,n,a;function r(){return t[67](t[159])}return{c(){e=b("button"),e.textContent="Remove this event",p(e,"class","remove-event")},m(o,s){Y(o,e,s),n||(a=te(e,"click",r),n=!0)},p(o,s){t=o},d(o){o&&W(e),n=!1,a()}}}function vs(t){let e,n,a=t[9].events[0].slot_size+"",r,o;return{c(){e=b("p"),n=ge(`Note: different meeting lengths in a conecutive chain are
                      not currently supported; all meetings in this chain will
                      fall back to `),r=ge(a),o=ge(" minutes."),p(e,"class","warning")},m(s,h){Y(s,e,h),m(e,n),m(e,r),m(e,o)},p(s,h){h[0]&512&&a!==(a=s[9].events[0].slot_size+"")&&He(r,a)},d(s){s&&W(e)}}}function Ts(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e,ze,Be,F,le,se,ye,ue,ie,be,Ce,Q,P,fe,pe=t[9].events.length>1&&ps(t);function Me(){t[68].call(s,t[160],t[161])}function Ze(){t[69].call(v,t[160],t[161])}function Je(){t[70].call(w,t[160],t[161])}function it(){t[71].call(B,t[160],t[161])}t[73][1][t[161]]=[];function Ue(){t[72].call(H,t[160],t[161])}function lt(){t[74].call(j,t[160],t[161])}function dt(){t[75].call(_e,t[160],t[161])}let Te=t[161]!==0&&t[159].slot_size!==t[9].events[0].slot_size&&vs(t);function Ke(...Fe){return t[76](t[159],...Fe)}return{c(){e=b("fieldset"),pe&&pe.c(),n=O(),a=b("label"),r=b("strong"),r.textContent="Event Title!",o=O(),s=b("input"),h=O(),c=b("label"),_=b("strong"),_.textContent="Event Description",y=O(),v=b("input"),k=O(),E=b("label"),S=b("strong"),S.textContent="Event Location",N=O(),w=b("input"),M=O(),G=b("label"),I=b("strong"),I.textContent="Conferencing Link (Zoom, Teams, or Meet URL)",U=O(),B=b("input"),z=O(),V=b("div"),L=b("strong"),L.textContent="Meeting Length",re=O(),K=b("label"),H=b("input"),Z=O(),de=b("span"),de.textContent="15 minutes",ke=O(),oe=b("label"),j=b("input"),q=O(),ce=b("span"),ce.textContent="30 minutes",Ge=O(),Pe=b("label"),_e=b("input"),ze=O(),Be=b("span"),Be.textContent="60 minutes",F=O(),Te&&Te.c(),le=O(),se=b("div"),ye=b("strong"),ye.textContent="Email Ids to include for scheduling",ue=O(),ie=b("label"),be=b("textarea"),Q=O(),p(s,"type","text"),p(v,"type","text"),p(w,"type","text"),p(B,"type","url"),p(L,"id","slot_size"),p(H,"type","radio"),H.__value=15,H.value=H.__value,t[73][1][t[161]].push(H),p(j,"type","radio"),j.__value=30,j.value=j.__value,t[73][1][t[161]].push(j),p(_e,"type","radio"),_e.__value=60,_e.value=_e.__value,t[73][1][t[161]].push(_e),p(V,"role","radiogroup"),p(V,"aria-labelledby","slot_size"),p(ye,"id","participants"),p(be,"name","participants"),be.value=Ce=t[159].participantEmails},m(Fe,We){Y(Fe,e,We),pe&&pe.m(e,null),m(e,n),m(e,a),m(a,r),m(a,o),m(a,s),Re(s,t[159].event_title),m(e,h),m(e,c),m(c,_),m(c,y),m(c,v),Re(v,t[159].event_description),m(e,k),m(e,E),m(E,S),m(E,N),m(E,w),Re(w,t[159].event_location),m(e,M),m(e,G),m(G,I),m(G,U),m(G,B),Re(B,t[159].event_conferencing),m(e,z),m(e,V),m(V,L),m(V,re),m(V,K),m(K,H),H.checked=H.__value===t[159].slot_size,m(K,Z),m(K,de),m(V,ke),m(V,oe),m(oe,j),j.checked=j.__value===t[159].slot_size,m(oe,q),m(oe,ce),m(V,Ge),m(V,Pe),m(Pe,_e),_e.checked=_e.__value===t[159].slot_size,m(Pe,ze),m(Pe,Be),m(V,F),Te&&Te.m(V,null),m(e,le),m(e,se),m(se,ye),m(se,ue),m(se,ie),m(ie,be),m(e,Q),P||(fe=[te(s,"input",Me),te(v,"input",Ze),te(w,"input",Je),te(B,"input",it),te(H,"change",Ue),te(j,"change",lt),te(_e,"change",dt),te(be,"input",Ke)],P=!0)},p(Fe,We){t=Fe,t[9].events.length>1?pe?pe.p(t,We):(pe=ps(t),pe.c(),pe.m(e,n)):pe&&(pe.d(1),pe=null),We[0]&512&&s.value!==t[159].event_title&&Re(s,t[159].event_title),We[0]&512&&v.value!==t[159].event_description&&Re(v,t[159].event_description),We[0]&512&&w.value!==t[159].event_location&&Re(w,t[159].event_location),We[0]&512&&Re(B,t[159].event_conferencing),We[0]&512&&(H.checked=H.__value===t[159].slot_size),We[0]&512&&(j.checked=j.__value===t[159].slot_size),We[0]&512&&(_e.checked=_e.__value===t[159].slot_size),t[161]!==0&&t[159].slot_size!==t[9].events[0].slot_size?Te?Te.p(t,We):(Te=vs(t),Te.c(),Te.m(V,null)):Te&&(Te.d(1),Te=null),We[0]&512&&Ce!==(Ce=t[159].participantEmails)&&(be.value=Ce)},d(Fe){Fe&&W(e),pe&&pe.d(),t[73][1][t[161]].splice(t[73][1][t[161]].indexOf(H),1),t[73][1][t[161]].splice(t[73][1][t[161]].indexOf(j),1),t[73][1][t[161]].splice(t[73][1][t[161]].indexOf(_e),1),Te&&Te.d(),P=!1,vt(fe)}}}function ks(t){let e,n,a,r,o,s,h,c,_,y,v=t[9].start_hour+"",k,E,S,N,w,M,G,I,U,B=t[9].end_hour+"",z,V,L,re,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e,ze,Be,F,le,se,ye,ue,ie,be=t[9].dates_to_show+"",Ce,Q,P,fe,pe,Me,Ze,Je,it,Ue,lt,dt,Te,Ke,Fe,We,ct,J,Qe,Ve,Tt,mt,Ot,pt,wt,Ft,gt,Yt,At,Ut,Dt,Nt,Xe,Wt,fn,nn,dn,mn,Dn,hn,Bt,Nn,tt,_n,Rt,In,xt=mo.default,ht=[];for(let Ae=0;Ae<xt.length;Ae+=1)ht[Ae]=Ms(gs(t,xt,Ae));let an=t[9].open_hours||[],bt=[];for(let Ae=0;Ae<an.length;Ae+=1)bt[Ae]=ws(_s(t,an,Ae));return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Date/Time Details",a=O(),r=b("div"),o=b("div"),s=b("label"),h=b("strong"),h.textContent="Start Hour",c=O(),_=b("input"),y=O(),k=ge(v),E=ge(":00"),S=O(),N=b("div"),w=b("label"),M=b("strong"),M.textContent="End Hour",G=O(),I=b("input"),U=O(),z=ge(B),V=ge(":00"),L=O(),re=b("label"),K=b("strong"),K.textContent="Start Date",H=O(),Z=b("strong"),de=b("input"),ke=ge(`
                Show a specific date`),oe=O(),j=b("input"),ce=O(),Ge=b("label"),Pe=b("strong"),Pe.textContent="Time Zone",_e=O(),ze=b("select");for(let Ae=0;Ae<ht.length;Ae+=1)ht[Ae].c();Be=O(),F=b("div"),le=b("label"),se=b("strong"),se.textContent="Days to show",ye=O(),ue=b("input"),ie=O(),Ce=ge(be),Q=O(),P=b("div"),fe=b("strong"),fe.textContent="Show as week",pe=O(),Me=b("label"),Ze=b("input"),Je=ge(`
                Show whole week`),it=O(),Ue=b("div"),lt=b("strong"),lt.textContent="Show weekends",dt=O(),Te=b("label"),Ke=b("input"),Fe=ge(`
                Keep weekends on`),We=O(),ct=b("div"),J=b("strong"),J.textContent="Available Hours",Qe=O(),Ve=b("p"),Ve.textContent=`Drag over the hours want to be availble for booking. All other
                hours will always show up as "busy" to your users.`,Tt=O(),mt=b("div"),Ot=b("label"),pt=b("input"),wt=ge(`
                  Customize each weekday`),Ft=O(),gt=b("div"),Yt=b("label"),At=b("input"),Ut=ge(`
                  Allow booking on weekends`),Dt=O(),Nt=b("div"),Xe=b("nylas-availability"),Dn=O(),hn=b("ul");for(let Ae=0;Ae<bt.length;Ae+=1)bt[Ae].c();Bt=O(),Nn=b("footer"),tt=b("button"),tt.textContent="Save Editor Options",p(n,"slot","title"),p(_,"type","range"),p(_,"min",0),p(_,"max",24),p(_,"step",1),p(I,"type","range"),p(I,"min",0),p(I,"max",24),p(I,"step",1),p(de,"type","checkbox"),p(de,"name","custom_start_date"),p(j,"type","date"),j.disabled=q=!t[10],t[9].timezone===void 0&&xn(()=>t[82].call(ze)),p(ue,"type","range"),p(ue,"min",1),p(ue,"max",7),p(ue,"step",1),p(fe,"id","show_as_week"),p(Ze,"type","checkbox"),p(Ze,"name","show_as_week"),p(P,"role","checkbox"),p(P,"aria-labelledby","show_as_week"),p(lt,"id","show_weekends"),p(Ke,"type","checkbox"),p(Ke,"name","show_weekends"),p(Ue,"role","checkbox"),p(Ue,"aria-labelledby","show_weekends"),p(pt,"type","checkbox"),p(pt,"name","_this.show_as_week"),p(mt,"role","checkbox"),p(mt,"aria-labelledby","show_as_week"),p(At,"type","checkbox"),p(At,"name"," _this.show_weekends"),p(gt,"role","checkbox"),p(gt,"aria-labelledby","show_as_week"),Ee(Xe,"allow_booking",!0),Ee(Xe,"show_as_week",Wt=t[9].show_as_week||t[9].show_weekends),Ee(Xe,"show_weekends",fn=t[9].show_weekends),Ee(Xe,"start_hour",nn=t[9].start_hour),Ee(Xe,"end_hour",dn=t[9].end_hour),Ee(Xe,"allow_date_change",!1),Ee(Xe,"partial_bookable_ratio","0"),Ee(Xe,"show_header",!1),Ee(Xe,"date_format",mn=t[9].show_as_week||t[9].show_weekends?"weekday":"none"),Ee(Xe,"busy_color","#000"),Ee(Xe,"closed_color","#999"),Ee(Xe,"selected_color","#095"),Ee(Xe,"slot_size","15"),p(Nt,"class","availability-container"),p(hn,"class","availability"),p(ct,"class","available-hours"),p(r,"slot","contents"),p(r,"class","contents"),p(Nn,"slot","footer"),Ee(e,"section_title",et.TIME_DATE_DETAILS),Ee(e,"expanded",_n=t[9].sections[et.TIME_DATE_DETAILS].expanded)},m(Ae,rt){Y(Ae,e,rt),m(e,n),m(e,a),m(e,r),m(r,o),m(o,s),m(s,h),m(s,c),m(s,_),Re(_,t[9].start_hour),m(o,y),m(o,k),m(o,E),m(r,S),m(r,N),m(N,w),m(w,M),m(w,G),m(w,I),Re(I,t[9].end_hour),m(N,U),m(N,z),m(N,V),m(r,L),m(r,re),m(re,K),m(re,H),m(re,Z),m(Z,de),de.checked=t[10],m(Z,ke),m(re,oe),m(re,j),Re(j,t[5]),m(r,ce),m(r,Ge),m(Ge,Pe),m(Ge,_e),m(Ge,ze);for(let De=0;De<ht.length;De+=1)ht[De].m(ze,null);Sa(ze,t[9].timezone),m(r,Be),m(r,F),m(F,le),m(le,se),m(le,ye),m(le,ue),Re(ue,t[9].dates_to_show),m(F,ie),m(F,Ce),m(r,Q),m(r,P),m(P,fe),m(P,pe),m(P,Me),m(Me,Ze),Ze.checked=t[9].show_as_week,m(Me,Je),m(r,it),m(r,Ue),m(Ue,lt),m(Ue,dt),m(Ue,Te),m(Te,Ke),Ke.checked=t[9].show_weekends,m(Te,Fe),m(r,We),m(r,ct),m(ct,J),m(ct,Qe),m(ct,Ve),m(ct,Tt),m(ct,mt),m(mt,Ot),m(Ot,pt),pt.checked=t[9].show_as_week,m(Ot,wt),m(ct,Ft),m(ct,gt),m(gt,Yt),m(Yt,At),At.checked=t[9].show_weekends,m(Yt,Ut),m(ct,Dt),m(ct,Nt),m(Nt,Xe),m(ct,Dn),m(ct,hn);for(let De=0;De<bt.length;De+=1)bt[De].m(hn,null);m(e,Bt),m(e,Nn),m(Nn,tt),Rt||(In=[te(_,"change",t[77]),te(_,"input",t[77]),te(I,"change",t[78]),te(I,"input",t[78]),te(de,"change",t[79]),te(de,"change",t[80]),te(j,"input",t[81]),te(ze,"change",t[82]),te(ue,"change",t[83]),te(ue,"input",t[83]),te(Ze,"change",t[84]),te(Ke,"change",t[85]),te(pt,"change",t[86]),te(At,"change",t[87]),te(Xe,"timeSlotChosen",t[23]),te(tt,"click",t[22])],Rt=!0)},p(Ae,rt){if(rt[0]&512&&Re(_,Ae[9].start_hour),rt[0]&512&&v!==(v=Ae[9].start_hour+"")&&He(k,v),rt[0]&512&&Re(I,Ae[9].end_hour),rt[0]&512&&B!==(B=Ae[9].end_hour+"")&&He(z,B),rt[0]&1024&&(de.checked=Ae[10]),rt[0]&1024&&q!==(q=!Ae[10])&&(j.disabled=q),rt[0]&32&&Re(j,Ae[5]),rt&0){xt=mo.default;let De;for(De=0;De<xt.length;De+=1){const kt=gs(Ae,xt,De);ht[De]?ht[De].p(kt,rt):(ht[De]=Ms(kt),ht[De].c(),ht[De].m(ze,null))}for(;De<ht.length;De+=1)ht[De].d(1);ht.length=xt.length}if(rt[0]&512&&Sa(ze,Ae[9].timezone),rt[0]&512&&Re(ue,Ae[9].dates_to_show),rt[0]&512&&be!==(be=Ae[9].dates_to_show+"")&&He(Ce,be),rt[0]&512&&(Ze.checked=Ae[9].show_as_week),rt[0]&512&&(Ke.checked=Ae[9].show_weekends),rt[0]&512&&(pt.checked=Ae[9].show_as_week),rt[0]&512&&(At.checked=Ae[9].show_weekends),rt[0]&512&&Wt!==(Wt=Ae[9].show_as_week||Ae[9].show_weekends)&&Ee(Xe,"show_as_week",Wt),rt[0]&512&&fn!==(fn=Ae[9].show_weekends)&&Ee(Xe,"show_weekends",fn),rt[0]&512&&nn!==(nn=Ae[9].start_hour)&&Ee(Xe,"start_hour",nn),rt[0]&512&&dn!==(dn=Ae[9].end_hour)&&Ee(Xe,"end_hour",dn),rt[0]&512&&mn!==(mn=Ae[9].show_as_week||Ae[9].show_weekends?"weekday":"none")&&Ee(Xe,"date_format",mn),rt[0]&16777728){an=Ae[9].open_hours||[];let De;for(De=0;De<an.length;De+=1){const kt=_s(Ae,an,De);bt[De]?bt[De].p(kt,rt):(bt[De]=ws(kt),bt[De].c(),bt[De].m(hn,null))}for(;De<bt.length;De+=1)bt[De].d(1);bt.length=an.length}rt[0]&512&&_n!==(_n=Ae[9].sections[et.TIME_DATE_DETAILS].expanded)&&Ee(e,"expanded",_n)},d(Ae){Ae&&W(e),en(ht,Ae),en(bt,Ae),Rt=!1,vt(In)}}}function Ms(t){let e,n=t[1].name+"",a;return{c(){e=b("option"),a=ge(n),e.__value=t[1].tzCode,e.value=e.__value},m(r,o){Y(r,e,o),m(e,a)},p:he,d(r){r&&W(e)}}}function ws(t){let e,n,a=t[24](t[154])+"",r,o;return{c(){e=b("li"),n=b("span"),r=ge(a),o=O(),p(n,"class","date")},m(s,h){Y(s,e,h),m(e,n),m(n,r),m(e,o)},p(s,h){h[0]&512&&a!==(a=s[24](s[154])+"")&&He(r,a)},d(s){s&&W(e)}}}function As(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j,q,ce;return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Style Details",a=O(),r=b("div"),o=b("div"),s=b("strong"),s.textContent="Show ticks",h=O(),c=b("label"),_=b("input"),y=ge(`
                Show tick marks on left side`),v=O(),k=b("div"),E=b("strong"),E.textContent="View as a Schedule, or as a List?",S=O(),N=b("label"),w=b("input"),M=O(),G=b("span"),G.textContent="Schedule",I=O(),U=b("label"),B=b("input"),z=O(),V=b("span"),V.textContent="List",L=O(),re=b("label"),K=b("strong"),K.textContent="Attendees to show",H=O(),Z=b("input"),de=O(),ke=b("footer"),oe=b("button"),oe.textContent="Save Editor Options",p(n,"slot","title"),p(s,"id","show_ticks"),p(_,"type","checkbox"),p(_,"name","show_ticks"),p(o,"role","checkbox"),p(o,"aria-labelledby","show_ticks"),p(E,"id","view_as"),p(w,"type","radio"),p(w,"name","view_as"),w.__value="schedule",w.value=w.__value,t[73][2].push(w),p(B,"type","radio"),p(B,"name","view_as"),B.__value="list",B.value=B.__value,t[73][2].push(B),p(k,"role","radiogroup"),p(k,"aria-labelledby","view_as"),p(Z,"type","number"),p(Z,"min",1),p(Z,"max",20),p(r,"slot","contents"),p(r,"class","contents"),p(ke,"slot","footer"),Ee(e,"section_title",et.STYLE_DETAILS),Ee(e,"expanded",j=t[9].sections[et.STYLE_DETAILS].expanded)},m(Ge,Pe){Y(Ge,e,Pe),m(e,n),m(e,a),m(e,r),m(r,o),m(o,s),m(o,h),m(o,c),m(c,_),_.checked=t[9].show_ticks,m(c,y),m(r,v),m(r,k),m(k,E),m(k,S),m(k,N),m(N,w),w.checked=w.__value===t[9].view_as,m(N,M),m(N,G),m(k,I),m(k,U),m(U,B),B.checked=B.__value===t[9].view_as,m(U,z),m(U,V),m(r,L),m(r,re),m(re,K),m(re,H),m(re,Z),Re(Z,t[9].attendees_to_show),m(e,de),m(e,ke),m(ke,oe),q||(ce=[te(_,"change",t[88]),te(w,"change",t[89]),te(B,"change",t[90]),te(Z,"input",t[91]),te(oe,"click",t[22])],q=!0)},p(Ge,Pe){Pe[0]&512&&(_.checked=Ge[9].show_ticks),Pe[0]&512&&(w.checked=w.__value===Ge[9].view_as),Pe[0]&512&&(B.checked=B.__value===Ge[9].view_as),Pe[0]&512&&Cn(Z.value)!==Ge[9].attendees_to_show&&Re(Z,Ge[9].attendees_to_show),Pe[0]&512&&j!==(j=Ge[9].sections[et.STYLE_DETAILS].expanded)&&Ee(e,"expanded",j)},d(Ge){Ge&&W(e),t[73][2].splice(t[73][2].indexOf(w),1),t[73][2].splice(t[73][2].indexOf(B),1),q=!1,vt(ce)}}}function Ss(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L=Math.floor(t[9].partial_bookable_ratio*100)+"",re,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e,ze,Be,F,le,se,ye,ue,ie,be,Ce,Q,P,fe,pe,Me,Ze,Je,it,Ue,lt,dt,Te,Ke,Fe,We,ct,J=(t[9].recurrence==="required"||t[9].recurrence==="optional")&&Cs(t);return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Booking Details",a=O(),r=b("div"),o=b("div"),s=b("strong"),s.textContent="Allow booking",h=O(),c=b("label"),_=b("input"),y=ge(`
                Allow bookings to be made`),v=O(),k=b("div"),E=b("strong"),E.textContent="Scheduling on this calendar requires manual confirmation",S=O(),N=b("label"),w=b("input"),M=ge(`
                Let the meeting host screen bookings before they're made official`),G=O(),I=b("label"),U=b("strong"),U.textContent="Participant Threshold / Partial bookable ratio",B=O(),z=b("input"),V=O(),re=ge(L),K=ge("%"),H=O(),Z=b("div"),de=b("strong"),de.textContent="Allow, Disallow, or Mandate events to repeat?",ke=O(),oe=b("label"),j=b("input"),q=O(),ce=b("span"),ce.textContent="Don't Repeat Events",Ge=O(),Pe=b("label"),_e=b("input"),ze=O(),Be=b("span"),Be.textContent="Users May Repeat Events",F=O(),le=b("label"),se=b("input"),ye=O(),ue=b("span"),ue.textContent="Events Always Repeat",ie=O(),be=b("label"),Ce=b("strong"),Ce.textContent="Capacity",Q=O(),P=b("input"),fe=O(),pe=b("div"),Me=b("strong"),Me.textContent="Top of the Hour Events",Ze=O(),Je=b("label"),it=b("input"),Ue=ge(`
                Only allow events to be booked at the Top of the Hour`),lt=O(),J&&J.c(),dt=O(),Te=b("footer"),Ke=b("button"),Ke.textContent="Save Editor Options",p(n,"slot","title"),p(s,"id","allow_booking"),p(_,"type","checkbox"),p(_,"name","allow_booking"),p(o,"role","checkbox"),p(o,"aria-labelledby","allow_booking"),p(E,"id","screen_bookings"),p(w,"type","checkbox"),p(w,"name","screen_bookings"),p(k,"role","checkbox"),p(k,"aria-labelledby","screen_bookings"),p(z,"type","range"),p(z,"min",0),p(z,"max",1),p(z,"step",.01),p(de,"id","recurrence"),p(j,"type","radio"),p(j,"name","recurrence"),j.__value="none",j.value=j.__value,t[73][3].push(j),p(_e,"type","radio"),p(_e,"name","recurrence"),_e.__value="optional",_e.value=_e.__value,t[73][3].push(_e),p(se,"type","radio"),p(se,"name","recurrence"),se.__value="required",se.value=se.__value,t[73][3].push(se),p(Z,"role","radiogroup"),p(Z,"aria-labelledby","recurrence"),p(P,"type","number"),p(P,"min",1),p(it,"type","checkbox"),p(it,"name","mandate_top_of_hour"),p(pe,"role","checkbox"),p(pe,"aria-labelledby","allow_booking"),p(r,"slot","contents"),p(r,"class","contents"),p(Te,"slot","footer"),Ee(e,"section_title",et.BOOKING_DETAILS),Ee(e,"expanded",Fe=t[9].sections[et.BOOKING_DETAILS].expanded)},m(Qe,Ve){Y(Qe,e,Ve),m(e,n),m(e,a),m(e,r),m(r,o),m(o,s),m(o,h),m(o,c),m(c,_),_.checked=t[9].allow_booking,m(c,y),m(r,v),m(r,k),m(k,E),m(k,S),m(k,N),m(N,w),w.checked=t[9].screen_bookings,m(N,M),m(r,G),m(r,I),m(I,U),m(I,B),m(I,z),Re(z,t[9].partial_bookable_ratio),m(I,V),m(I,re),m(I,K),m(r,H),m(r,Z),m(Z,de),m(Z,ke),m(Z,oe),m(oe,j),j.checked=j.__value===t[9].recurrence,m(oe,q),m(oe,ce),m(Z,Ge),m(Z,Pe),m(Pe,_e),_e.checked=_e.__value===t[9].recurrence,m(Pe,ze),m(Pe,Be),m(Z,F),m(Z,le),m(le,se),se.checked=se.__value===t[9].recurrence,m(le,ye),m(le,ue),m(r,ie),m(r,be),m(be,Ce),m(be,Q),m(be,P),Re(P,t[9].capacity),m(r,fe),m(r,pe),m(pe,Me),m(pe,Ze),m(pe,Je),m(Je,it),it.checked=t[9].mandate_top_of_hour,m(Je,Ue),m(r,lt),J&&J.m(r,null),m(e,dt),m(e,Te),m(Te,Ke),We||(ct=[te(_,"change",t[92]),te(w,"change",t[93]),te(z,"change",t[94]),te(z,"input",t[94]),te(j,"change",t[95]),te(_e,"change",t[96]),te(se,"change",t[97]),te(P,"input",t[98]),te(it,"change",t[99]),te(Ke,"click",t[22])],We=!0)},p(Qe,Ve){Ve[0]&512&&(_.checked=Qe[9].allow_booking),Ve[0]&512&&(w.checked=Qe[9].screen_bookings),Ve[0]&512&&Re(z,Qe[9].partial_bookable_ratio),Ve[0]&512&&L!==(L=Math.floor(Qe[9].partial_bookable_ratio*100)+"")&&He(re,L),Ve[0]&512&&(j.checked=j.__value===Qe[9].recurrence),Ve[0]&512&&(_e.checked=_e.__value===Qe[9].recurrence),Ve[0]&512&&(se.checked=se.__value===Qe[9].recurrence),Ve[0]&512&&Cn(P.value)!==Qe[9].capacity&&Re(P,Qe[9].capacity),Ve[0]&512&&(it.checked=Qe[9].mandate_top_of_hour),Qe[9].recurrence==="required"||Qe[9].recurrence==="optional"?J?J.p(Qe,Ve):(J=Cs(Qe),J.c(),J.m(r,null)):J&&(J.d(1),J=null),Ve[0]&512&&Fe!==(Fe=Qe[9].sections[et.BOOKING_DETAILS].expanded)&&Ee(e,"expanded",Fe)},d(Qe){Qe&&W(e),t[73][3].splice(t[73][3].indexOf(j),1),t[73][3].splice(t[73][3].indexOf(_e),1),t[73][3].splice(t[73][3].indexOf(se),1),J&&J.d(),We=!1,vt(ct)}}}function Cs(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j=t[9].recurrence==="optional"&&Gs();return{c(){e=b("div"),n=b("strong"),a=ge("How often should events repeat"),j&&j.c(),r=ge("?"),o=O(),s=b("label"),h=b("input"),c=O(),_=b("span"),_.textContent="Daily",y=O(),v=b("label"),k=b("input"),E=O(),S=b("span"),S.textContent="Daily, only on weekdays",N=O(),w=b("label"),M=b("input"),G=O(),I=b("span"),I.textContent="Weekly",U=O(),B=b("label"),z=b("input"),V=O(),L=b("span"),L.textContent="Biweekly",re=O(),K=b("label"),H=b("input"),Z=O(),de=b("span"),de.textContent="Monthly",p(n,"id","recurrence_cadence"),p(h,"type","checkbox"),p(h,"name","recurrence_cadence"),h.__value="daily",h.value=h.__value,t[73][0].push(h),p(k,"type","checkbox"),p(k,"name","recurrence_cadence"),k.__value="weekdays",k.value=k.__value,t[73][0].push(k),p(M,"type","checkbox"),p(M,"name","recurrence_cadence"),M.__value="weekly",M.value=M.__value,t[73][0].push(M),p(z,"type","checkbox"),p(z,"name","recurrence_cadence"),z.__value="biweekly",z.value=z.__value,t[73][0].push(z),p(H,"type","checkbox"),p(H,"name","recurrence_cadence"),H.__value="monthly",H.value=H.__value,t[73][0].push(H),p(e,"role","radiogroup"),p(e,"aria-labelledby","recurrence_cadence")},m(q,ce){Y(q,e,ce),m(e,n),m(n,a),j&&j.m(n,null),m(n,r),m(e,o),m(e,s),m(s,h),h.checked=~t[9].recurrence_cadence.indexOf(h.__value),m(s,c),m(s,_),m(e,y),m(e,v),m(v,k),k.checked=~t[9].recurrence_cadence.indexOf(k.__value),m(v,E),m(v,S),m(e,N),m(e,w),m(w,M),M.checked=~t[9].recurrence_cadence.indexOf(M.__value),m(w,G),m(w,I),m(e,U),m(e,B),m(B,z),z.checked=~t[9].recurrence_cadence.indexOf(z.__value),m(B,V),m(B,L),m(e,re),m(e,K),m(K,H),H.checked=~t[9].recurrence_cadence.indexOf(H.__value),m(K,Z),m(K,de),ke||(oe=[te(h,"change",t[100]),te(k,"change",t[101]),te(M,"change",t[102]),te(z,"change",t[103]),te(H,"change",t[104])],ke=!0)},p(q,ce){q[9].recurrence==="optional"?j||(j=Gs(),j.c(),j.m(n,r)):j&&(j.d(1),j=null),ce[0]&512&&(h.checked=~q[9].recurrence_cadence.indexOf(h.__value)),ce[0]&512&&(k.checked=~q[9].recurrence_cadence.indexOf(k.__value)),ce[0]&512&&(M.checked=~q[9].recurrence_cadence.indexOf(M.__value)),ce[0]&512&&(z.checked=~q[9].recurrence_cadence.indexOf(z.__value)),ce[0]&512&&(H.checked=~q[9].recurrence_cadence.indexOf(H.__value))},d(q){q&&W(e),j&&j.d(),t[73][0].splice(t[73][0].indexOf(h),1),t[73][0].splice(t[73][0].indexOf(k),1),t[73][0].splice(t[73][0].indexOf(M),1),t[73][0].splice(t[73][0].indexOf(z),1),t[73][0].splice(t[73][0].indexOf(H),1),ke=!1,vt(oe)}}}function Gs(t){let e;return{c(){e=ge(`,
                    if a user chooses to do so`)},m(n,a){Y(n,e,a)},d(n){n&&W(e)}}}function zs(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S=t[9].custom_fields&&Es(t);return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Custom Fields",a=O(),r=b("p"),r.textContent=`Users will fill out these fields when booking an event with your
            team. By default, they'll be asked for their name and email address.`,o=O(),s=b("div"),S&&S.c(),h=O(),c=b("footer"),_=b("button"),_.textContent="Save Editor Options",p(n,"slot","title"),p(r,"slot","intro"),p(r,"class","intro"),p(s,"slot","contents"),p(s,"class","contents"),p(c,"slot","footer"),Ee(e,"section_title",et.CUSTOM_FIELDS),Ee(e,"expanded",y=t[9].sections[et.CUSTOM_FIELDS].expanded)},m(N,w){Y(N,e,w),m(e,n),m(e,a),m(e,r),m(e,o),m(e,s),S&&S.m(s,null),m(e,h),m(e,c),m(c,_),v=!0,k||(E=te(_,"click",t[22]),k=!0)},p(N,w){N[9].custom_fields?S?(S.p(N,w),w[0]&512&&qe(S,1)):(S=Es(N),S.c(),qe(S,1),S.m(s,null)):S&&(pn(),ut(S,1,1,()=>{S=null}),vn()),(!v||w[0]&512&&y!==(y=N[9].sections[et.CUSTOM_FIELDS].expanded))&&Ee(e,"expanded",y)},i(N){v||(qe(S),v=!0)},o(N){ut(S),v=!1},d(N){N&&W(e),S&&S.d(),k=!1,E()}}}function Es(t){let e,n,a,r,o=[],s=new Map,h,c,_,y,v,k=t[9].custom_fields;const E=M=>M[152].id;for(let M=0;M<k.length;M+=1){let G=hs(t,k,M),I=E(G);s.set(I,o[M]=Is(I,G))}const S=[Jd,Zd],N=[];function w(M,G){return M[17]?1:0}return _=w(t),y=N[_]=S[_](t),{c(){e=b("table"),n=b("thead"),n.innerHTML=`<th></th> 
                  <th>Title and description</th> 
                  <th>Type</th> 
                  <th>Required</th> 
                  <th></th>`,a=O(),r=b("tbody");for(let M=0;M<o.length;M+=1)o[M].c();h=O(),c=b("div"),y.c(),p(e,"cellspacing","0"),p(e,"cellpadding","0"),p(c,"class","add-custom-field")},m(M,G){Y(M,e,G),m(e,n),m(e,a),m(e,r);for(let I=0;I<o.length;I+=1)o[I].m(r,null);Y(M,h,G),Y(M,c,G),N[_].m(c,null),v=!0},p(M,G){G[0]&672104960|G[1]&7&&(k=M[9].custom_fields,pn(),o=tr(o,G,E,1,M,k,s,r,Iu,Is,null,hs),vn());let I=_;_=w(M),_===I?N[_].p(M,G):(pn(),ut(N[I],1,1,()=>{N[I]=null}),vn(),y=N[_],y?y.p(M,G):(y=N[_]=S[_](M),y.c()),qe(y,1),y.m(c,null))},i(M){if(!v){for(let G=0;G<k.length;G+=1)qe(o[G]);qe(y),v=!0}},o(M){for(let G=0;G<o.length;G+=1)ut(o[G]);ut(y),v=!1},d(M){M&&W(e);for(let G=0;G<o.length;G+=1)o[G].d();M&&W(h),M&&W(c),N[_].d()}}}function Os(t){let e,n=t[152].description+"",a;return{c(){e=b("span"),a=ge(n),p(e,"class","description")},m(r,o){Y(r,e,o),m(e,a)},p(r,o){o[0]&512&&n!==(n=r[152].description+"")&&He(a,n)},d(r){r&&W(e)}}}function Ds(t){let e,n;return e=new zd({}),{c(){ea(e.$$.fragment)},m(a,r){Hn(e,a,r),n=!0},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){ut(e.$$.fragment,a),n=!1},d(a){Gn(e,a)}}}function Ns(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e,ze,Be,F,le,se,ye,ue,ie,be;h=new xd({});function Ce(){return t[108](t[152])}function Q(){return t[114](t[152],t[153],t[151])}return{c(){var P;e=b("tr"),n=b("td"),a=b("div"),r=b("h3"),r.textContent="Edit field",o=O(),s=b("button"),ea(h.$$.fragment),c=O(),_=b("span"),_.textContent="Delete",y=O(),v=b("div"),k=b("label"),E=b("div"),E.textContent="Title *",S=O(),N=b("input"),w=O(),M=b("div"),G=b("label"),I=b("div"),I.textContent="Description",U=O(),B=b("input"),z=O(),V=b("div"),L=b("label"),re=b("div"),re.textContent="Type *",K=O(),H=b("select"),Z=b("option"),Z.textContent="Text",de=b("option"),de.textContent="Checkbox",ke=O(),oe=b("div"),j=b("label"),q=b("input"),ce=O(),Ge=b("span"),Ge.textContent="Required",Pe=O(),_e=b("div"),ze=b("button"),ze.innerHTML="<span>Cancel</span>",Be=O(),F=b("button"),le=b("span"),le.textContent="Save changes",ye=O(),p(s,"class","delete"),p(s,"aria-label","Delete"),p(a,"class","header"),p(N,"type","text"),p(N,"aria-label","Title"),p(v,"class","input-field"),p(B,"type","text"),p(B,"aria-label","Description"),p(M,"class","input-field"),Z.__value="text",Z.value=Z.__value,de.__value="checkbox",de.value=de.__value,p(H,"aria-label","Input Type"),t[15].type===void 0&&xn(()=>t[111].call(H)),p(L,"class","select"),p(V,"class","input-field"),p(q,"type","checkbox"),p(q,"aria-label","Required field?"),p(j,"class","checkbox"),p(oe,"class","input-field"),p(ze,"class","cancel"),p(F,"class","save"),F.disabled=se=((P=t[15].title)==null?void 0:P.length)===0||!t[15].type,p(_e,"class","footer"),p(n,"colspan","5"),p(e,"class","edit-custom-field")},m(P,fe){Y(P,e,fe),m(e,n),m(n,a),m(a,r),m(a,o),m(a,s),Hn(h,s,null),m(s,c),m(s,_),m(n,y),m(n,v),m(v,k),m(k,E),m(k,S),m(k,N),Re(N,t[15].title),m(n,w),m(n,M),m(M,G),m(G,I),m(G,U),m(G,B),Re(B,t[15].description),m(n,z),m(n,V),m(V,L),m(L,re),m(L,K),m(L,H),m(H,Z),m(H,de),Sa(H,t[15].type),m(n,ke),m(n,oe),m(oe,j),m(j,q),q.checked=t[15].required,m(j,ce),m(j,Ge),m(n,Pe),m(n,_e),m(_e,ze),m(_e,Be),m(_e,F),m(F,le),m(e,ye),ue=!0,ie||(be=[te(s,"click",Ce),te(N,"input",t[109]),te(B,"input",t[110]),te(H,"change",t[111]),te(q,"change",t[112]),te(ze,"click",t[113]),te(F,"click",Q)],ie=!0)},p(P,fe){var pe;t=P,fe[0]&32768&&N.value!==t[15].title&&Re(N,t[15].title),fe[0]&32768&&B.value!==t[15].description&&Re(B,t[15].description),fe[0]&32768&&Sa(H,t[15].type),fe[0]&32768&&(q.checked=t[15].required),(!ue||fe[0]&32768&&se!==(se=((pe=t[15].title)==null?void 0:pe.length)===0||!t[15].type))&&(F.disabled=se)},i(P){ue||(qe(h.$$.fragment,P),ue=!0)},o(P){ut(h.$$.fragment,P),ue=!1},d(P){P&&W(e),Gn(h),ie=!1,vt(be)}}}function Is(t,e){var ze,Be;let n,a,r,o,s,h,c,_,y,v=((ze=e[152].title)!=null?ze:"\u2014")+"",k,E,S,N,w=((Be=e[152].type)!=null?Be:"\u2014")+"",M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe;h=new cs({});function j(...F){return e[105](e[152],e[151],...F)}let q=e[152].description&&Os(e),ce=e[152].required&&Ds();V=new Id({});function Ge(){return e[106](e[152])}function Pe(){return e[107](e[151])}let _e=e[16]===e[152].id&&Ns(e);return{key:t,first:null,c(){var F;n=b("tr"),a=b("td"),r=b("button"),o=b("span"),o.textContent="Reorder custom field",s=O(),ea(h.$$.fragment),c=O(),_=b("td"),y=b("span"),k=ge(v),E=O(),q&&q.c(),S=O(),N=b("td"),M=ge(w),G=O(),I=b("td"),ce&&ce.c(),U=O(),B=b("td"),z=b("button"),ea(V.$$.fragment),L=O(),re=b("span"),re.textContent="Edit",H=O(),_e&&_e.c(),Z=Aa(),p(o,"class","sr-only"),p(r,"class","drag"),p(a,"class","cta"),p(_,"class","title-and-description"),xe(_,"multi-line",e[152].description),p(N,"class","type"),p(I,"class","required"),p(z,"class","edit"),p(z,"aria-label","Edit"),xe(n,"disabled",e[16]||e[17]),xe(n,"drag-active",e[152].id===((F=e[18])==null?void 0:F.id)),this.first=n},m(F,le){Y(F,n,le),m(n,a),m(a,r),m(r,o),m(r,s),Hn(h,r,null),m(n,c),m(n,_),m(_,y),m(y,k),m(_,E),q&&q.m(_,null),m(n,S),m(n,N),m(N,M),m(n,G),m(n,I),ce&&ce.m(I,null),m(n,U),m(n,B),m(B,z),Hn(V,z,null),m(z,L),m(z,re),Y(F,H,le),_e&&_e.m(F,le),Y(F,Z,le),de=!0,ke||(oe=[te(r,"mousedown",j),te(z,"click",Ge),te(n,"mouseenter",Pe),eo(K=e[34].call(null,n,{id:e[152].id}))],ke=!0)},p(F,le){var se,ye,ue;e=F,(!de||le[0]&512)&&v!==(v=((se=e[152].title)!=null?se:"\u2014")+"")&&He(k,v),e[152].description?q?q.p(e,le):(q=Os(e),q.c(),q.m(_,null)):q&&(q.d(1),q=null),le[0]&512&&xe(_,"multi-line",e[152].description),(!de||le[0]&512)&&w!==(w=((ye=e[152].type)!=null?ye:"\u2014")+"")&&He(M,w),e[152].required?ce?le[0]&512&&qe(ce,1):(ce=Ds(),ce.c(),qe(ce,1),ce.m(I,null)):ce&&(pn(),ut(ce,1,1,()=>{ce=null}),vn()),K&&wa(K.update)&&le[0]&512&&K.update.call(null,{id:e[152].id}),le[0]&196608&&xe(n,"disabled",e[16]||e[17]),le[0]&262656&&xe(n,"drag-active",e[152].id===((ue=e[18])==null?void 0:ue.id)),e[16]===e[152].id?_e?(_e.p(e,le),le[0]&66048&&qe(_e,1)):(_e=Ns(e),_e.c(),qe(_e,1),_e.m(Z.parentNode,Z)):_e&&(pn(),ut(_e,1,1,()=>{_e=null}),vn())},i(F){de||(qe(h.$$.fragment,F),qe(ce),qe(V.$$.fragment,F),qe(_e),de=!0)},o(F){ut(h.$$.fragment,F),ut(ce),ut(V.$$.fragment,F),ut(_e),de=!1},d(F){F&&W(n),Gn(h),q&&q.d(),ce&&ce.d(),Gn(V),F&&W(H),_e&&_e.d(F),F&&W(Z),ke=!1,vt(oe)}}}function Zd(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j,q,ce,Ge,Pe,_e;return{c(){var ze;e=b("div"),n=b("div"),n.innerHTML="<h3>Add a custom field</h3>",a=O(),r=b("div"),o=b("label"),s=b("div"),s.textContent="Title",h=O(),c=b("input"),_=O(),y=b("div"),v=b("label"),k=b("div"),k.textContent="Description",E=O(),S=b("input"),N=O(),w=b("div"),M=b("label"),G=b("div"),G.textContent="Type",I=O(),U=b("select"),B=b("option"),B.textContent="Text",z=b("option"),z.textContent="Checkbox",V=O(),L=b("div"),re=b("label"),K=b("input"),H=O(),Z=b("span"),Z.textContent="Required",de=O(),ke=b("div"),oe=b("button"),oe.innerHTML="<span>Cancel</span>",j=O(),q=b("button"),ce=b("span"),ce.textContent="Add field",p(n,"class","header"),p(c,"type","text"),p(c,"aria-label","Title"),p(r,"class","input-field"),p(S,"type","text"),p(S,"aria-label","Description"),p(y,"class","input-field"),B.__value="text",B.value=B.__value,z.__value="checkbox",z.value=z.__value,p(U,"aria-label","Input Type"),t[14].type===void 0&&xn(()=>t[118].call(U)),p(M,"class","select"),p(w,"class","input-field"),p(K,"type","checkbox"),p(K,"aria-label","Required Field?"),p(re,"class","checkbox"),p(L,"class","input-field"),p(oe,"class","cancel"),p(q,"class","save"),q.disabled=Ge=((ze=t[14].title)==null?void 0:ze.length)===0||!t[14].type,p(ke,"class","footer"),p(e,"class","edit-custom-field")},m(ze,Be){Y(ze,e,Be),m(e,n),m(e,a),m(e,r),m(r,o),m(o,s),m(o,h),m(o,c),Re(c,t[14].title),m(e,_),m(e,y),m(y,v),m(v,k),m(v,E),m(v,S),Re(S,t[14].description),m(e,N),m(e,w),m(w,M),m(M,G),m(M,I),m(M,U),m(U,B),m(U,z),Sa(U,t[14].type),m(e,V),m(e,L),m(L,re),m(re,K),K.checked=t[14].required,m(re,H),m(re,Z),m(e,de),m(e,ke),m(ke,oe),m(ke,j),m(ke,q),m(q,ce),Pe||(_e=[te(c,"input",t[116]),te(S,"input",t[117]),te(U,"change",t[118]),te(K,"change",t[119]),te(oe,"click",t[120]),te(q,"click",t[121])],Pe=!0)},p(ze,Be){var F;Be[0]&16384&&c.value!==ze[14].title&&Re(c,ze[14].title),Be[0]&16384&&S.value!==ze[14].description&&Re(S,ze[14].description),Be[0]&16384&&Sa(U,ze[14].type),Be[0]&16384&&(K.checked=ze[14].required),Be[0]&16384&&Ge!==(Ge=((F=ze[14].title)==null?void 0:F.length)===0||!ze[14].type)&&(q.disabled=Ge)},i:he,o:he,d(ze){ze&&W(e),Pe=!1,vt(_e)}}}function Jd(t){let e,n,a,r,o,s,h;return n=new Fd({}),{c(){e=b("button"),ea(n.$$.fragment),a=O(),r=b("span"),r.textContent="Add a custom field",p(e,"aria-label","Add a custom field")},m(c,_){Y(c,e,_),Hn(n,e,null),m(e,a),m(e,r),o=!0,s||(h=te(e,"click",t[115]),s=!0)},p:he,i(c){o||(qe(n.$$.fragment,c),o=!0)},o(c){ut(n.$$.fragment,c),o=!1},d(c){c&&W(e),Gn(n),s=!1,h()}}}function Ls(t){let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j;return{c(){e=b("nylas-schedule-editor-section"),n=b("h1"),n.textContent="Notification Details",a=O(),r=b("div"),o=b("div"),s=b("strong"),s.textContent="How would you like to notify the customer on event creation?",h=O(),c=b("label"),_=b("input"),y=O(),v=b("span"),v.textContent="Show Message on UI",k=O(),E=b("label"),S=b("input"),N=O(),w=b("span"),w.textContent="Send message via email",M=O(),G=b("label"),I=b("strong"),I.textContent="Notification message",U=O(),B=b("input"),z=O(),V=b("label"),L=b("strong"),L.textContent="Notification Subject",re=O(),K=b("input"),H=O(),Z=b("footer"),de=b("button"),de.textContent="Save Editor Options",p(n,"slot","title"),p(s,"id","notification_mode"),p(_,"type","radio"),p(_,"name","notification_mode"),_.__value=ta.SHOW_MESSAGE,_.value=_.__value,t[73][4].push(_),p(S,"type","radio"),p(S,"name","notification_mode"),S.__value=ta.SEND_MESSAGE,S.value=S.__value,t[73][4].push(S),p(o,"role","radiogroup"),p(o,"aria-labelledby","notification_mode"),p(B,"type","text"),p(K,"type","text"),p(r,"slot","contents"),p(r,"class","contents"),p(Z,"slot","footer"),Ee(e,"section_title",et.NOTIFICATION_DETAILS),Ee(e,"expanded",ke=t[9].sections[et.NOTIFICATION_DETAILS].expanded)},m(q,ce){Y(q,e,ce),m(e,n),m(e,a),m(e,r),m(r,o),m(o,s),m(o,h),m(o,c),m(c,_),_.checked=_.__value===t[9].notification_mode,m(c,y),m(c,v),m(o,k),m(o,E),m(E,S),S.checked=S.__value===t[9].notification_mode,m(E,N),m(E,w),m(r,M),m(r,G),m(G,I),m(G,U),m(G,B),Re(B,t[9].notification_message),m(r,z),m(r,V),m(V,L),m(V,re),m(V,K),Re(K,t[9].notification_subject),m(e,H),m(e,Z),m(Z,de),oe||(j=[te(_,"change",t[122]),te(S,"change",t[123]),te(B,"input",t[124]),te(K,"input",t[125]),te(de,"click",t[22])],oe=!0)},p(q,ce){ce[0]&512&&(_.checked=_.__value===q[9].notification_mode),ce[0]&512&&(S.checked=S.__value===q[9].notification_mode),ce[0]&512&&B.value!==q[9].notification_message&&Re(B,q[9].notification_message),ce[0]&512&&K.value!==q[9].notification_subject&&Re(K,q[9].notification_subject),ce[0]&512&&ke!==(ke=q[9].sections[et.NOTIFICATION_DETAILS].expanded)&&Ee(e,"expanded",ke)},d(q){q&&W(e),t[73][4].splice(t[73][4].indexOf(_),1),t[73][4].splice(t[73][4].indexOf(S),1),oe=!1,vt(j)}}}function Ps(t){var I,U;let e,n,a,r,o,s,h,c,_,y,v,k,E,S,N=[t[9],t[9].events[0],{capacity:h=null},{calendars:c=((I=t[9].events[0])==null?void 0:I.participantEmails)?[]:[{availability:"busy",timeslots:[]}]},{id:t[0]}],w={};for(let B=0;B<N.length;B+=1)w=je(w,N[B]);let M=[{slots_to_book:t[13]},t[9],{capacity:v=null},{calendars:k=((U=t[9].events[0])==null?void 0:U.participantEmails)?[]:[{availability:"busy",timeslots:[]}]},{id:t[0]}],G={};for(let B=0;B<M.length;B+=1)G=je(G,M[B]);return{c(){e=b("span"),n=O(),a=b("aside"),r=b("h1"),r.textContent="Preview",o=O(),s=b("nylas-availability"),_=O(),y=b("nylas-booking"),p(e,"class","gutter"),Gi(s,w),Gi(y,G),p(a,"id","preview")},m(B,z){Y(B,e,z),Y(B,n,z),Y(B,a,z),m(a,r),m(a,o),m(a,s),m(a,_),m(a,y),E||(S=[te(e,"mousedown",t[126]),te(s,"timeSlotChosen",t[127])],E=!0)},p(B,z){var V,L;Gi(s,w=jn(N,[z[0]&512&&B[9],z[0]&512&&B[9].events[0],{capacity:h},z[0]&512&&c!==(c=((V=B[9].events[0])==null?void 0:V.participantEmails)?[]:[{availability:"busy",timeslots:[]}])&&{calendars:c},z[0]&1&&{id:B[0]}])),Gi(y,G=jn(M,[z[0]&8192&&{slots_to_book:B[13]},z[0]&512&&B[9],{capacity:v},z[0]&512&&k!==(k=((L=B[9].events[0])==null?void 0:L.participantEmails)?[]:[{availability:"busy",timeslots:[]}])&&{calendars:k},z[0]&1&&{id:B[0]}]))},d(B){B&&W(e),B&&W(n),B&&W(a),E=!1,vt(S)}}}function Fs(t){let e,n,a,r,o,s,h=t[28],c=[];for(let _=0;_<h.length;_+=1)c[_]=Bs(ms(t,h,_));return{c(){e=b("nylas-schedule-editor-drag-item-placeholder");for(let _=0;_<c.length;_+=1)c[_].c();Ee(e,"left",n=t[21].left),Ee(e,"top",a=t[21].top),Ee(e,"height",r=t[7].height),Ee(e,"width",o=t[7].width),Ee(e,"visible",s=!!t[18])},m(_,y){Y(_,e,y);for(let v=0;v<c.length;v+=1)c[v].m(e,null)},p(_,y){if(y[0]&269746176){h=_[28];let v;for(v=0;v<h.length;v+=1){const k=ms(_,h,v);c[v]?c[v].p(k,y):(c[v]=Bs(k),c[v].c(),c[v].m(e,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=h.length}y[0]&2097152&&n!==(n=_[21].left)&&Ee(e,"left",n),y[0]&2097152&&a!==(a=_[21].top)&&Ee(e,"top",a),y[0]&128&&r!==(r=_[7].height)&&Ee(e,"height",r),y[0]&128&&o!==(o=_[7].width)&&Ee(e,"width",o),y[0]&262144&&s!==(s=!!_[18])&&Ee(e,"visible",s)},d(_){_&&W(e),en(c,_)}}}function Bs(t){let e,n=(t[18]&&t[18][t[149]]||"\u2014")+"",a,r;return{c(){e=b("div"),a=ge(n),r=O(),p(e,"class","drag-preview-cell"),Ie(e,"width",t[20][t[151]].width+"px"),Ie(e,"height",t[20][t[151]].height+"px")},m(o,s){Y(o,e,s),m(e,a),m(e,r)},p(o,s){s[0]&262144&&n!==(n=(o[18]&&o[18][o[149]]||"\u2014")+"")&&He(a,n),s[0]&1048576&&Ie(e,"width",o[20][o[151]].width+"px"),s[0]&1048576&&Ie(e,"height",o[20][o[151]].height+"px")},d(o){o&&W(e)}}}function Qd(t){let e,n,a,r;const o=[Yd,qd],s=[];function h(c,_){return c[4]&&c[4].error?0:c[3]?1:-1}return~(e=h(t))&&(n=s[e]=o[e](t)),{c(){n&&n.c(),a=Aa(),this.c=he},m(c,_){~e&&s[e].m(c,_),Y(c,a,_),r=!0},p(c,_){let y=e;e=h(c),e===y?~e&&s[e].p(c,_):(n&&(pn(),ut(s[y],1,1,()=>{s[y]=null}),vn()),~e?(n=s[e],n?n.p(c,_):(n=s[e]=o[e](c),n.c()),qe(n,1),n.m(a.parentNode,a)):n=null)},i(c){r||(qe(n),r=!0)},o(c){ut(n),r=!1},d(c){~e&&s[e].d(c),c&&W(a)}}}let Xd=35;function $d(t,e,n){let a,r,o;Fn(t,ir,R=>n(138,r=R)),Fn(t,ni,R=>n(66,o=R));var s=this&&this.__awaiter||function(R,we,nt,_t){function Qn(Xn){return Xn instanceof nt?Xn:new nt(function(sa){sa(Xn)})}return new(nt||(nt=Promise))(function(Xn,sa){function Fr(Xt){try{bi(_t.next(Xt))}catch(Ya){sa(Ya)}}function Ui(Xt){try{bi(_t.throw(Xt))}catch(Ya){sa(Ya)}}function bi(Xt){Xt.done?Xn(Xt.value):Qn(Xt.value).then(Fr,Ui)}bi((_t=_t.apply(R,we||[])).next())})};let{id:h=""}=e,{access_token:c=""}=e,{allow_booking:_}=e,{attendees_to_show:y}=e,{capacity:v}=e,{custom_fields:k}=e,{dates_to_show:E}=e,{end_hour:S}=e,{mandate_top_of_hour:N}=e,{max_book_ahead_days:w}=e,{min_book_ahead_days:M}=e,{notification_message:G}=e,{notification_mode:I}=e,{notification_subject:U}=e,{open_hours:B}=e,{partial_bookable_ratio:z}=e,{recurrence:V}=e,{recurrence_cadence:L}=e,{show_as_week:re}=e,{show_preview:K}=e,{show_ticks:H}=e,{show_weekends:Z}=e,{start_date:de}=e,{start_hour:ke}=e,{view_as:oe}=e,{screen_bookings:j}=e,{timezone:q}=e,{events:ce}=e,{sections:Ge}=e;const Pe=nr(Ca()),_e={event_title:"",event_description:"",slot_size:15,event_location:"",event_conferencing:"",participantEmails:[],host_rules:{method:"all"}},ze={allow_booking:!1,attendees_to_show:5,capacity:null,custom_fields:oo,dates_to_show:1,end_hour:17,mandate_top_of_hour:!1,max_book_ahead_days:30,min_book_ahead_days:0,notification_message:"Thank you for scheduling!",notification_mode:ta.SHOW_MESSAGE,notification_subject:"Invitation",open_hours:[],partial_bookable_ratio:.01,recurrence_cadence:["none"],recurrence:"none",show_as_week:!1,show_ticks:!0,show_weekends:!0,start_date:new Date,start_hour:9,view_as:"schedule",screen_bookings:!1,timezone:"",events:[Object.assign({},_e)],sections:{}};let Be,F=Un({},{},ze),le=!1,se={};Xi(()=>s(void 0,void 0,void 0,function*(){yield Oi();const R=JSON.stringify({component_id:h,access_token:c});n(4,se=(yield r[R])||{}),n(9,F=Un(e,se,ze)),be(),hn(),n(3,le=!0),n(9,F.custom_fields=F.custom_fields.map((we,nt)=>(Ft=Ft.concat(String(nt)),Object.assign(Object.assign({},we),{id:String(nt)}))),F)})),Du(()=>{Be.removeEventListener("mousemove",nn),Be.removeEventListener("mouseup",Xe),Dt&&Dt.disconnect()});let ye=e,ue=new Date().toLocaleDateString("en-CA"),ie=!1;function be(){var R;n(5,ue=(R=F.start_date)===null||R===void 0?void 0:R.toLocaleDateString("en-CA")),n(10,ie=!!F.start_date)}function Ce(){const R=Object.assign(Object.assign({},F),{custom_fields:F.custom_fields.map(we=>(delete we.id,we))});cc(h,R,c)}function Q(R){n(9,F.open_hours=R.detail.timeSlots.map(we=>{const{start_time:nt,end_time:_t}=we,Qn={startHour:nt.getHours(),startMinute:nt.getMinutes(),endHour:_t.getHours(),endMinute:_t.getMinutes(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};return(F.show_as_week||F.show_weekends)&&(Qn.startWeekday=nt.getDay(),Qn.endWeekday=_t.getDay()),Qn}),F)}function P(R){const we=new Date(0,0,0,R.startHour,R.startMinute).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}),nt=new Date(0,0,0,R.endHour,R.endMinute).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return(F.show_as_week||F.show_weekends)&&R.startWeekday?`${Bu[R.startWeekday]}: ${we} - ${nt}`:`${we} - ${nt}`}let fe="640px",pe=!1;function Me(R){pe&&n(11,fe=`${R.clientX-Xd}px`)}let Ze;function Je(R,we){var nt;const _t=(nt=R.target)===null||nt===void 0?void 0:nt.value;clearTimeout(Ze),Ze=setTimeout(()=>{we.participantEmails=Fu(_t),n(9,F.events=[...F.events],F)},1e3)}let it,Ue;const lt={title:"",description:"",type:"text",required:!1,id:""},dt=["title","type","required"];let Te=Object.assign({},lt),Ke=Object.assign({},lt),Fe=null,We=!1;function ct(R){n(9,F.custom_fields=F.custom_fields.filter(we=>we!==R),F),n(16,Fe=null)}function J(){const R=Object.assign(Object.assign({},Te),{id:String(F.custom_fields.length)});n(9,F.custom_fields=[...F.custom_fields,R],F),n(14,Te=Object.assign({},lt)),n(65,wt=fs(pt)),n(17,We=!1)}function Qe(R){n(15,Ke=Object.assign(Object.assign({},lt),R)),n(16,Fe=R.id)}let Ve=null,Tt,mt,Ot=[],pt={},wt=[],Ft=[],gt,Yt,At=!1,Ut={left:0,top:0},Dt;function Nt(R,we,nt){At||(n(65,wt=fs(pt)),At=!0),n(19,Tt=nt),n(18,Ve=we),fn(R)}function Xe(){n(18,Ve=null)}function Wt(R){let we=[...F.custom_fields],nt=we[R];we[R]=we[Tt],we[Tt]=nt,n(9,F.custom_fields=we,F),Ft=we.map(_t=>_t.id),n(19,Tt=we.findIndex(_t=>_t.id===(Ve==null?void 0:Ve.id)))}const fn=R=>{const we=mt.height/2,nt=R.pageY;let _t=null;nt<=gt?_t=gt-we:nt>=Yt&&(_t=Yt-we),n(21,Ut={left:mt.x,top:_t!=null?_t:nt-we})};function nn(R){Ve&&fn(R)}function dn(R,we){if(pt[we.id]=R,!mt){const{parentRect:nt,childRects:_t}=ds(R,"td");n(7,mt=nt),n(20,Ot=_t),Dt=new ResizeObserver(([Qn])=>{const{parentRect:Xn,childRects:sa}=ds(Qn.target,"td");n(7,mt=Xn),n(20,Ot=sa),At=!1}),Dt.observe(R)}return{destroy(){delete pt[we.id]}}}function mn(){n(9,F.events=[...F.events,Object.assign({},_e)],F)}function Dn(R){n(9,F.events=F.events.filter(we=>we!==R),F)}function hn(){Object.entries(F.sections).length?Object.values(et).forEach(R=>{F.sections[R]?Object.keys(F.sections[R]).includes("editable")||n(9,F.sections[R].editable=!0,F):n(9,F.sections[R]={expanded:!1,editable:!1},F)}):Object.values(et).forEach((R,we)=>{n(9,F.sections[R]={expanded:we===0,editable:!0},F)})}const Bt=[[],[],[],[],[]],Nn=R=>Dn(R);function tt(R,we){R[we].event_title=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function _n(R,we){R[we].event_description=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Rt(R,we){R[we].event_location=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function In(R,we){R[we].event_conferencing=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function xt(R,we){R[we].slot_size=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function ht(R,we){R[we].slot_size=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function an(R,we){R[we].slot_size=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}const bt=(R,we)=>Je(we,R);function Ae(){F.start_hour=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function rt(){F.end_hour=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function De(){ie=this.checked,n(10,ie)}const kt=async()=>{ie||(n(5,ue=new Date().toLocaleDateString("en-CA")),await Oi(),n(5,ue=null))};function Ln(){ue=this.value,n(5,ue)}function ya(){F.timezone=Ji(this),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function qn(){F.dates_to_show=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Ra(){F.show_as_week=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Yn(){F.show_weekends=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function xa(){F.show_as_week=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function mi(){F.show_weekends=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function kn(){F.show_ticks=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Zn(){F.view_as=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function ra(){F.view_as=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function rn(){F.attendees_to_show=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function pa(){F.allow_booking=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function It(){F.screen_bookings=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Mn(){F.partial_bookable_ratio=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function gn(){F.recurrence=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function ja(){F.recurrence=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Ha(){F.recurrence=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Va(){F.capacity=Cn(this.value),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Ua(){F.mandate_top_of_hour=this.checked,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Wa(){F.recurrence_cadence=Qa(Bt[0],this.__value,this.checked),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Ka(){F.recurrence_cadence=Qa(Bt[0],this.__value,this.checked),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function yt(){F.recurrence_cadence=Qa(Bt[0],this.__value,this.checked),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function hi(){F.recurrence_cadence=Qa(Bt[0],this.__value,this.checked),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function _i(){F.recurrence_cadence=Qa(Bt[0],this.__value,this.checked),n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}const C=(R,we,nt)=>{Nt(nt,R,we)},$=R=>Qe(R),Se=R=>{Ve&&R!==Tt&&Wt(R)},me=R=>ct(R);function Le(){Ke.title=this.value,n(15,Ke)}function ft(){Ke.description=this.value,n(15,Ke)}function zt(){Ke.type=Ji(this),n(15,Ke)}function Pn(){Ke.required=this.checked,n(15,Ke)}const Qt=()=>{n(16,Fe=null),n(15,Ke=Ai({},lt))},on=(R,we,nt)=>{n(16,Fe=null),n(9,we[nt]=Ai({},Ke),F),n(15,Ke=Ai({},lt))},wn=()=>n(17,We=!0);function va(){Te.title=this.value,n(14,Te)}function Or(){Te.description=this.value,n(14,Te)}function Dr(){Te.type=Ji(this),n(14,Te)}function qa(){Te.required=this.checked,n(14,Te)}const Nr=()=>{n(14,Te=Ai({},lt)),n(17,We=!1)},Ir=()=>J();function Lr(){F.notification_mode=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function Pr(){F.notification_mode=this.__value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function St(){F.notification_message=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}function oa(){F.notification_subject=this.value,n(9,F),n(64,ye),n(148,e),n(4,se),n(3,le),n(5,ue)}const Jn=()=>n(12,pe=!0),la=R=>{n(13,it=R.detail.timeSlots)},Hi=()=>n(12,pe=!1);function Vi(){Ue=this.clientWidth,n(6,Ue)}function gi(R){ua[R?"unshift":"push"](()=>{Be=R,n(2,Be)})}return t.$$set=R=>{n(148,e=je(je({},e),Mt(R))),"id"in R&&n(0,h=R.id),"access_token"in R&&n(37,c=R.access_token),"allow_booking"in R&&n(38,_=R.allow_booking),"attendees_to_show"in R&&n(39,y=R.attendees_to_show),"capacity"in R&&n(40,v=R.capacity),"custom_fields"in R&&n(41,k=R.custom_fields),"dates_to_show"in R&&n(42,E=R.dates_to_show),"end_hour"in R&&n(43,S=R.end_hour),"mandate_top_of_hour"in R&&n(44,N=R.mandate_top_of_hour),"max_book_ahead_days"in R&&n(45,w=R.max_book_ahead_days),"min_book_ahead_days"in R&&n(46,M=R.min_book_ahead_days),"notification_message"in R&&n(47,G=R.notification_message),"notification_mode"in R&&n(48,I=R.notification_mode),"notification_subject"in R&&n(49,U=R.notification_subject),"open_hours"in R&&n(50,B=R.open_hours),"partial_bookable_ratio"in R&&n(51,z=R.partial_bookable_ratio),"recurrence"in R&&n(52,V=R.recurrence),"recurrence_cadence"in R&&n(53,L=R.recurrence_cadence),"show_as_week"in R&&n(54,re=R.show_as_week),"show_preview"in R&&n(55,K=R.show_preview),"show_ticks"in R&&n(56,H=R.show_ticks),"show_weekends"in R&&n(57,Z=R.show_weekends),"start_date"in R&&n(58,de=R.start_date),"start_hour"in R&&n(59,ke=R.start_hour),"view_as"in R&&n(60,oe=R.view_as),"screen_bookings"in R&&n(61,j=R.screen_bookings),"timezone"in R&&n(1,q=R.timezone),"events"in R&&n(62,ce=R.events),"sections"in R&&n(63,Ge=R.sections)},t.$$.update=()=>{t.$$.dirty[0]&16&&Pe("manifestLoaded",se),t.$$.dirty[2]&16&&Object.keys(o).length&&Pe("onError",o),t.$$.dirty[0]&4&&Be&&(Be.addEventListener("mouseup",Xe),Be.addEventListener("mousemove",nn)),JSON.stringify(ye)!==JSON.stringify(e)&&(n(9,F=Un(e,se,ze)),be(),n(64,ye=e)),t.$$.dirty[0]&40&&le&&(ue?n(9,F.start_date=new Date(new Date(ue).getTime()-new Date(ue).getTimezoneOffset()*-6e4),F):n(9,F.start_date=null,F)),t.$$.dirty[0]&64&&n(8,a=Ue>600),t.$$.dirty[0]&256&&n(11,fe=a?"640px":"100%"),t.$$.dirty[0]&128|t.$$.dirty[2]&8&&wt&&(wt[0]&&(gt=document.documentElement.scrollTop+wt[0].top+mt.height/2),wt[wt.length-1]&&(Yt=document.documentElement.scrollTop+wt[wt.length-1].top+mt.height/2))},e=Mt(e),[h,q,Be,le,se,ue,Ue,mt,a,F,ie,fe,pe,it,Te,Ke,Fe,We,Ve,Tt,Ot,Ut,Ce,Q,P,Me,Je,lt,dt,ct,J,Qe,Nt,Wt,dn,mn,Dn,c,_,y,v,k,E,S,N,w,M,G,I,U,B,z,V,L,re,K,H,Z,de,ke,oe,j,ce,Ge,ye,wt,o,Nn,tt,_n,Rt,In,xt,Bt,ht,an,bt,Ae,rt,De,kt,Ln,ya,qn,Ra,Yn,xa,mi,kn,Zn,ra,rn,pa,It,Mn,gn,ja,Ha,Va,Ua,Wa,Ka,yt,hi,_i,C,$,Se,me,Le,ft,zt,Pn,Qt,on,wn,va,Or,Dr,qa,Nr,Ir,Lr,Pr,St,oa,Jn,la,Hi,Vi,gi]}class Rs extends Vn{constructor(e){super();this.shadowRoot.innerHTML="<style>main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#314fa9;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}.loader{width:calc(100% - 16px);height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:none;position:absolute}main{font-family:system-ui, sans-serif;display:grid;gap:1rem;background:var(--grey-background)}main button{cursor:pointer}main .settings{resize:both;overflow:auto;display:grid;grid-auto-rows:min-content;gap:1rem;padding:1rem}main .settings nylas-schedule-editor-section{width:100%;overflow:auto}main .settings nylas-schedule-editor-section h1{font-weight:bold;font-size:1.5rem}main .settings nylas-schedule-editor-section .contents{display:grid;gap:24px;margin-bottom:24px;overflow:auto;width:100%}main .settings nylas-schedule-editor-section .contents input[type=text],main .settings nylas-schedule-editor-section .contents select{width:calc(100% - 24px)}main .settings nylas-schedule-editor-section .contents table{border-bottom:1px solid rgba(0, 0, 0, 0.25);grid-column:span 2}main .settings nylas-schedule-editor-section .contents table tr.disabled{opacity:0.6;pointer-events:none;cursor:not-allowed}main .settings nylas-schedule-editor-section .contents table th,main .settings nylas-schedule-editor-section .contents table td{border-bottom:1px solid rgba(0, 0, 0, 0.25);min-height:2rem;padding:0.25rem;text-align:left;vertical-align:middle}main .settings nylas-schedule-editor-section .contents table td.title-and-description.multi-line{max-width:0}main .settings nylas-schedule-editor-section .contents table th.title-and-description span,main .settings nylas-schedule-editor-section .contents table td.title-and-description span{display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}main .settings nylas-schedule-editor-section .contents table th.title-and-description span.description,main .settings nylas-schedule-editor-section .contents table td.title-and-description span.description{color:#6a7285;font-size:14px;line-height:20px}main .settings nylas-schedule-editor-section .contents table td.type{text-transform:capitalize}main .settings nylas-schedule-editor-section .contents table th.required *,main .settings nylas-schedule-editor-section .contents table td.required *{margin-left:1rem}main .settings nylas-schedule-editor-section .contents table th input[type=text],main .settings nylas-schedule-editor-section .contents table th select,main .settings nylas-schedule-editor-section .contents table td input[type=text],main .settings nylas-schedule-editor-section .contents table td select{padding:0.25rem}main .settings nylas-schedule-editor-section .contents table th label,main .settings nylas-schedule-editor-section .contents table td label{display:block;white-space:nowrap}main .settings nylas-schedule-editor-section .contents table th button.drag,main .settings nylas-schedule-editor-section .contents table td button.drag{display:inline-flex;justify-content:space-between;align-items:center;padding:0.5rem;background-color:transparent}main .settings nylas-schedule-editor-section .contents table th button.drag:hover,main .settings nylas-schedule-editor-section .contents table td button.drag:hover{cursor:pointer}main .settings nylas-schedule-editor-section .contents table th button.edit,main .settings nylas-schedule-editor-section .contents table td button.edit{background-color:white;color:var(--blue);font-size:16px;font-weight:normal}main .settings nylas-schedule-editor-section .contents table th button.edit span,main .settings nylas-schedule-editor-section .contents table td button.edit span{margin-left:0.5rem}main .settings nylas-schedule-editor-section .contents table th{border-bottom:2px solid black}main .settings nylas-schedule-editor-section .contents .edit-custom-field{margin:0 1rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div{margin:0.5rem 2em;text-align:left}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.header{display:flex;justify-content:space-between}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.header h3{margin-top:8px}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.header .delete{background-color:white;color:var(--red);flex:0.25;font-size:16px;font-weight:normal;margin-bottom:0.8rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.header .delete span{margin-left:0.5rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer{display:flex;justify-content:space-between;border-top:1px solid #dfe1e8;padding-top:0.8rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer button{border-radius:4px;font-size:16px;font-weight:normal;padding:0.8rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer button.cancel{border:1px solid;background-color:white;color:var(--blue);padding:0.8rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer button.save{background-color:var(--blue);color:white}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer button:disabled{background-color:var(--grey-warm);cursor:not-allowed}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.footer button span{margin:0}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label{display:flex}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label div{color:#636671;font-size:14px;margin:0}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label input,main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label select{border-radius:4px;border:1px solid black;flex:1;font-size:16px;margin-bottom:0.5rem;padding:0.8rem}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label select{-moz-appearance:none;-webkit-appearance:none;background-image:linear-gradient(45deg, transparent 50%, black 50%), linear-gradient(135deg, black 50%, transparent 50%);background-position:calc(100% - 20px) calc(1em + 4px), calc(100% - 15px) calc(1em + 4px), calc(100% - 2.5em) 0.5em;background-size:5px 5px, 5px 5px, 1px 1.5em;background-repeat:no-repeat}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label select::-ms-expand{display:none}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label.select,main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label.checkbox{width:25%}main .settings nylas-schedule-editor-section .contents .edit-custom-field div.input-field label.checkbox{display:block;margin:1rem 0}main .settings nylas-schedule-editor-section .contents .add-custom-field{grid-column:span 2;text-align:center}main .settings nylas-schedule-editor-section .contents .add-custom-field button{background-color:white;color:var(--blue);font-size:16px;font-weight:normal}main .settings nylas-schedule-editor-section .contents .add-custom-field button span{margin-left:0.5rem}main .settings nylas-schedule-editor-section .contents .add-custom-field button:disabled{background-color:var(--grey-warm);cursor:not-allowed}main .settings nylas-schedule-editor-section .contents label{display:flex;flex-direction:column;gap:12px}main .settings nylas-schedule-editor-section .contents label input{padding:12px}main .settings nylas-schedule-editor-section .contents [role=radiogroup],main .settings nylas-schedule-editor-section .contents [role=checkbox]{display:flex;flex-direction:column;gap:12px}main .settings nylas-schedule-editor-section .contents [role=radiogroup] label,main .settings nylas-schedule-editor-section .contents [role=checkbox] label{flex-direction:row}main .settings nylas-schedule-editor-section .contents>.available-hours{grid-column:-1/1}main .settings nylas-schedule-editor-section .contents.basic-details{grid-template-columns:1fr}main .settings nylas-schedule-editor-section .contents.basic-details>fieldset{border:none;padding:0;display:grid;padding:1rem;gap:1rem;background-color:var(--grey-background)}main .settings nylas-schedule-editor-section .contents.basic-details>fieldset .remove-event{grid-column:-1/1;justify-self:end}main .settings nylas-schedule-editor-section footer{display:grid;grid-auto-flow:column;gap:1rem}main .settings nylas-schedule-editor-section footer button{align-self:flex-end;padding:8px 16px;border-radius:4px;background-color:var(--blue);color:white;border:none;font-weight:600}main aside#preview{height:calc(100vh - 1rem);padding-bottom:1rem;position:sticky;top:0;display:grid;grid-template-rows:auto 1fr 250px;gap:1rem}main aside#preview h1{font-size:1.5rem;font-weight:bold;padding:1rem 0}main .gutter{background:#999;cursor:col-resize}.warning{background-color:var(--red-lighter);border:1px solid var(--red);color:var(--black);padding:0.5rem;font-size:0.9rem}.availability-container{overflow:auto;height:300px}.drag-preview-cell{display:flex;justify-content:flex-start;align-items:center;padding:0.25rem;box-sizing:border-box}</style>",Kt(this,{target:this.shadowRoot,props:$n(this.attributes),customElement:!0},$d,Qd,Zt,{id:0,access_token:37,allow_booking:38,attendees_to_show:39,capacity:40,custom_fields:41,dates_to_show:42,end_hour:43,mandate_top_of_hour:44,max_book_ahead_days:45,min_book_ahead_days:46,notification_message:47,notification_mode:48,notification_subject:49,open_hours:50,partial_bookable_ratio:51,recurrence:52,recurrence_cadence:53,show_as_week:54,show_preview:55,show_ticks:56,show_weekends:57,start_date:58,start_hour:59,view_as:60,screen_bookings:61,timezone:1,events:62,sections:63},null,[-1,-1,-1,-1,-1,-1]),e&&(e.target&&Y(e.target,this,e.anchor),e.props&&(this.$set(e.props),X()))}static get observedAttributes(){return["id","access_token","allow_booking","attendees_to_show","capacity","custom_fields","dates_to_show","end_hour","mandate_top_of_hour","max_book_ahead_days","min_book_ahead_days","notification_message","notification_mode","notification_subject","open_hours","partial_bookable_ratio","recurrence","recurrence_cadence","show_as_week","show_preview","show_ticks","show_weekends","start_date","start_hour","view_as","screen_bookings","timezone","events","sections"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),X()}get access_token(){return this.$$.ctx[37]}set access_token(e){this.$$set({access_token:e}),X()}get allow_booking(){return this.$$.ctx[38]}set allow_booking(e){this.$$set({allow_booking:e}),X()}get attendees_to_show(){return this.$$.ctx[39]}set attendees_to_show(e){this.$$set({attendees_to_show:e}),X()}get capacity(){return this.$$.ctx[40]}set capacity(e){this.$$set({capacity:e}),X()}get custom_fields(){return this.$$.ctx[41]}set custom_fields(e){this.$$set({custom_fields:e}),X()}get dates_to_show(){return this.$$.ctx[42]}set dates_to_show(e){this.$$set({dates_to_show:e}),X()}get end_hour(){return this.$$.ctx[43]}set end_hour(e){this.$$set({end_hour:e}),X()}get mandate_top_of_hour(){return this.$$.ctx[44]}set mandate_top_of_hour(e){this.$$set({mandate_top_of_hour:e}),X()}get max_book_ahead_days(){return this.$$.ctx[45]}set max_book_ahead_days(e){this.$$set({max_book_ahead_days:e}),X()}get min_book_ahead_days(){return this.$$.ctx[46]}set min_book_ahead_days(e){this.$$set({min_book_ahead_days:e}),X()}get notification_message(){return this.$$.ctx[47]}set notification_message(e){this.$$set({notification_message:e}),X()}get notification_mode(){return this.$$.ctx[48]}set notification_mode(e){this.$$set({notification_mode:e}),X()}get notification_subject(){return this.$$.ctx[49]}set notification_subject(e){this.$$set({notification_subject:e}),X()}get open_hours(){return this.$$.ctx[50]}set open_hours(e){this.$$set({open_hours:e}),X()}get partial_bookable_ratio(){return this.$$.ctx[51]}set partial_bookable_ratio(e){this.$$set({partial_bookable_ratio:e}),X()}get recurrence(){return this.$$.ctx[52]}set recurrence(e){this.$$set({recurrence:e}),X()}get recurrence_cadence(){return this.$$.ctx[53]}set recurrence_cadence(e){this.$$set({recurrence_cadence:e}),X()}get show_as_week(){return this.$$.ctx[54]}set show_as_week(e){this.$$set({show_as_week:e}),X()}get show_preview(){return this.$$.ctx[55]}set show_preview(e){this.$$set({show_preview:e}),X()}get show_ticks(){return this.$$.ctx[56]}set show_ticks(e){this.$$set({show_ticks:e}),X()}get show_weekends(){return this.$$.ctx[57]}set show_weekends(e){this.$$set({show_weekends:e}),X()}get start_date(){return this.$$.ctx[58]}set start_date(e){this.$$set({start_date:e}),X()}get start_hour(){return this.$$.ctx[59]}set start_hour(e){this.$$set({start_hour:e}),X()}get view_as(){return this.$$.ctx[60]}set view_as(e){this.$$set({view_as:e}),X()}get screen_bookings(){return this.$$.ctx[61]}set screen_bookings(e){this.$$set({screen_bookings:e}),X()}get timezone(){return this.$$.ctx[1]}set timezone(e){this.$$set({timezone:e}),X()}get events(){return this.$$.ctx[62]}set events(e){this.$$set({events:e}),X()}get sections(){return this.$$.ctx[63]}set sections(e){this.$$set({sections:e}),X()}}return customElements.define("nylas-schedule-editor",Rs),Rs});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2NvbW1vbnMvc3JjL2RlZmluZS1jb21wb25lbnQtcGF0Y2gudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL2luZGV4Lm1qcyIsIi4uLy4uL2NvbW1vbnMvc3JjL2NvbnN0YW50cy9jdXN0b20tZmllbGRzLnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvZW51bXMvQm9va2luZy50cyIsIi4uLy4uL2NvbW1vbnMvc3JjL21ldGhvZHMvY29tcG9uZW50LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvbWV0aG9kcy9kYXRldGltZS50cyIsIi4uLy4uL2NvbW1vbnMvc3JjL3R5cGVzL1NjaGVkdWxlRWRpdG9yLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RpbWV6b25lcy1saXN0L2Rpc3QvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3N0b3JlL2luZGV4Lm1qcyIsIi4uLy4uL2NvbW1vbnMvc3JjL3N0b3JlL2Vycm9yLnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvbWV0aG9kcy9hcGkudHMiLCIuLi8uLi9jb21tb25zL3NyYy9jb25uZWN0aW9ucy9ldmVudHMudHMiLCIuLi8uLi9jb21tb25zL3NyYy9jb25uZWN0aW9ucy9jb250YWN0cy50cyIsIi4uLy4uL2NvbW1vbnMvc3JjL2Nvbm5lY3Rpb25zL3RocmVhZHMudHMiLCIuLi8uLi9jb21tb25zL3NyYy9jb25uZWN0aW9ucy9tYW5pZmVzdC50cyIsIi4uLy4uL2NvbW1vbnMvc3JjL2Nvbm5lY3Rpb25zL21lc3NhZ2VzLnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvY29ubmVjdGlvbnMvYXZhaWxhYmlsaXR5LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvc3RvcmUvYXZhaWxhYmlsaXR5LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvc3RvcmUvY29uc2VjdXRpdmUtYXZhaWxhYmlsaXR5LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvc3RvcmUvY29udGFjdC1hdmF0YXIudHMiLCIuLi8uLi9jb21tb25zL3NyYy9zdG9yZS9tYWlsYm94LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvc3RvcmUvbWFuaWZlc3QudHMiLCIuLi8uLi9jb21tb25zL3NyYy9jb21wb25lbnRzL05FcnJvci5zdmVsdGUiLCIuLi8uLi9ub2RlX21vZHVsZXMvbHV4b24vYnVpbGQvY2pzLWJyb3dzZXIvbHV4b24uanMiLCIuLi8uLi9jb21tb25zL3NyYy9tZXRob2RzL2NvbnZlcnREYXRlVGltZVpvbmUudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvaW50ZXJ2YWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvbWlsbGlzZWNvbmQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvZHVyYXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvc2Vjb25kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL21pbnV0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9ob3VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL2RheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy93ZWVrLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL21vbnRoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3llYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjRGF5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y1dlZWsuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjWWVhci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvYXNjZW5kaW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9iaXNlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9iaXNlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3RpY2tzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3RpY2tzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9pbml0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyQXJyYXkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL2FycmF5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9kYXRlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9udW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL29iamVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvc3RyaW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy92YWx1ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvcm91bmQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9udW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL2NvbnRpbnVvdXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXREZWNpbWFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZXhwb25lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXRHcm91cC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdE51bWVyYWxzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZm9ybWF0U3BlY2lmaWVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZm9ybWF0VHJpbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFByZWZpeEF1dG8uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXRSb3VuZGVkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZm9ybWF0VHlwZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9pZGVudGl0eS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2xvY2FsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2RlZmF1bHRMb2NhbGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9wcmVjaXNpb25GaXhlZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL3ByZWNpc2lvblByZWZpeC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL3ByZWNpc2lvblJvdW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy90aWNrRm9ybWF0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9saW5lYXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL25pY2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdGltZS1mb3JtYXQvc3JjL2xvY2FsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lLWZvcm1hdC9zcmMvZGVmYXVsdExvY2FsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvdGltZS5qcyIsIi4uLy4uL2NvbW1vbnMvc3JjL21ldGhvZHMvY29sb3VyLnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvZW51bXMvQXZhaWxhYmlsaXR5LnRzIiwiLi4vLi4vY29tbW9ucy9zcmMvY29tcG9uZW50cy9Db250YWN0SW1hZ2UvQ29udGFjdEltYWdlLnN2ZWx0ZSIsIi4uLy4uL2NvbW1vbnMvc3JjL2NvbXBvbmVudHMvRXJyb3JNZXNzYWdlLnN2ZWx0ZSIsIi4uL2F2YWlsYWJpbGl0eS9zcmMvYXNzZXRzL2xlZnQtYXJyb3cuc3ZnIiwiLi4vYXZhaWxhYmlsaXR5L3NyYy9hc3NldHMvcmlnaHQtYXJyb3cuc3ZnIiwiLi4vYXZhaWxhYmlsaXR5L3NyYy9tZXRob2Qvc2xvdC50cyIsIi4uL2F2YWlsYWJpbGl0eS9zcmMvbWV0aG9kL29wZW5ob3Vycy50cyIsIi4uL2F2YWlsYWJpbGl0eS9zcmMvbWV0aG9kL2F2YWlsYWJpbGl0eVV0aWxzLnRzIiwiLi4vYXZhaWxhYmlsaXR5L3NyYy9BdmFpbGFiaWxpdHkuc3ZlbHRlIiwiLi4vYm9va2luZy9zcmMvQm9va2luZy5zdmVsdGUiLCJzcmMvYXNzZXRzL2NoZWNrbWFyay1pY29uLnN2ZyIsInNyYy9hc3NldHMvZHJhZy1pY29uLnN2ZyIsInNyYy9hc3NldHMvcGVuY2lsLWljb24uc3ZnIiwic3JjL2Fzc2V0cy9wbHVzLWljb24uc3ZnIiwic3JjL2Fzc2V0cy90cmFzaC1pY29uLnN2ZyIsInNyYy9jb21wb25lbnRzL0RyYWdJdGVtUGxhY2Vob2xkZXIuc3ZlbHRlIiwic3JjL2NvbXBvbmVudHMvRWRpdG9yU2VjdGlvbi5zdmVsdGUiLCJzcmMvbWV0aG9kcy9kb20udHMiLCJzcmMvU2NoZWR1bGVFZGl0b3Iuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBvcmlnaW5hbERlZmluZSA9IHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUuYmluZChcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLFxuKTtcbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUgPSAobmFtZTogc3RyaW5nLCAuLi5hcmdzKSA9PiB7XG4gIGlmIChjdXN0b21FbGVtZW50cy5nZXQobmFtZSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIG9yaWdpbmFsRGVmaW5lKG5hbWUsIC4uLmFyZ3MpO1xufTtcbiIsImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuICAgIGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcbiAgICAgICAgc3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgaWYgKHNsb3RfY2hhbmdlcykge1xuICAgICAgICBjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbiAgICAgICAgc2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5mdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuICAgIGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IFtdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5sZXQgcmFmID0gaXNfY2xpZW50ID8gY2IgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKSA6IG5vb3A7XG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIHNldF9ub3coZm4pIHtcbiAgICBub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICByYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKi9cbmZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuICAgIHRhc2tzLmNsZWFyKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5mdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG4gICAgLy8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbn1cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuICAgIC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cbiAgICBsZXQgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGROb2RlcztcbiAgICAvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuICAgICAgICBjb25zdCBteUNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBteUNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSBteUNoaWxkcmVuO1xuICAgIH1cbiAgICAvKlxuICAgICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cbiAgICAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2ZcbiAgICAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG4gICAgKiBzdWJzZXF1ZW5jZSBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuICAgICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cbiAgICAqXG4gICAgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcbiAgICAqIHBvc3NpYmxlLlxuICAgICpcbiAgICAqIFByb29mOlxuICAgICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG4gICAgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcbiAgICAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG4gICAgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuICAgICovXG4gICAgLy8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICAvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG4gICAgY29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG4gICAgY29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbVswXSA9IC0xO1xuICAgIGxldCBsb25nZXN0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgLy8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcbiAgICAgICAgLy8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2VcbiAgICAgICAgY29uc3Qgc2VxTGVuID0gKChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50KSA/IGxvbmdlc3QgKyAxIDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgaWR4ID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG4gICAgICAgIHBbaV0gPSBtW3NlcUxlbl0gKyAxO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuICAgICAgICAvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG4gICAgICAgIG1bbmV3TGVuXSA9IGk7XG4gICAgICAgIGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuICAgIH1cbiAgICAvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG4gICAgY29uc3QgbGlzID0gW107XG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcbiAgICBjb25zdCB0b01vdmUgPSBbXTtcbiAgICBsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG4gICAgICAgIGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcbiAgICAgICAgZm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcbiAgICAgICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0LS07XG4gICAgfVxuICAgIGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgfVxuICAgIGxpcy5yZXZlcnNlKCk7XG4gICAgLy8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG4gICAgdG9Nb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcbiAgICAvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9Nb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0b01vdmVbaV0sIGFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG4gICAgY29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuICAgIGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgICAgICAgYXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJvb3QgJiYgcm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuICAgIGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgIGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG4gICAgcmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuICAgIGFwcGVuZChub2RlLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nKSB7XG4gICAgICAgIGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQpIHx8ICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnRFbGVtZW50ICE9PSB0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuICAgICAgICB3aGlsZSAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuICAgICAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LmlzVHJ1c3RlZClcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuICAgIGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc05vZGUsIGNyZWF0ZU5vZGUsIGRvbnRVcGRhdGVMYXN0SW5kZXggPSBmYWxzZSkge1xuICAgIC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCByZXN1bHROb2RlID0gKCgpID0+IHtcbiAgICAgICAgLy8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuICAgICAgICAvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzTm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGUoKTtcbiAgICB9KSgpO1xuICAgIHJlc3VsdE5vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgcmV0dXJuIHJlc3VsdE5vZGU7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlLmZvckVhY2godiA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSkpO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhU3RyID0gJycgKyBkYXRhO1xuICAgICAgICBpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YVN0cikpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhU3RyLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSBkYXRhU3RyO1xuICAgICAgICB9XG4gICAgfSwgKCkgPT4gdGV4dChkYXRhKSwgdHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcbiAgICApO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIGZpbmRfY29tbWVudChub2RlcywgdGV4dCwgc3RhcnQpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzKSB7XG4gICAgLy8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG4gICAgY29uc3Qgc3RhcnRfaW5kZXggPSBmaW5kX2NvbW1lbnQobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuICAgIGNvbnN0IGVuZF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX0VORCcsIHN0YXJ0X2luZGV4KTtcbiAgICBpZiAoc3RhcnRfaW5kZXggPT09IGVuZF9pbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oKTtcbiAgICB9XG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcbiAgICBkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuICAgIGRldGFjaChodG1sX3RhZ19ub2Rlc1todG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuICAgIGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG4gICAgICAgIG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgICAgIG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oY2xhaW1lZF9ub2Rlcyk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgIT09IGRhdGEpXG4gICAgICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcbiAgICBjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKSB8fCBzZWxlY3Qub3B0aW9uc1swXTtcbiAgICByZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuICAgIHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgb3B0aW9uID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxubGV0IGNyb3Nzb3JpZ2luO1xuZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3Jvc3NvcmlnaW4gPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY3Jvc3NvcmlnaW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcm9zc29yaWdpbjtcbn1cbmZ1bmN0aW9uIGFkZF9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcbiAgICBjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG4gICAgY29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcbiAgICAgICAgJ292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOycpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBpZnJhbWUudGFiSW5kZXggPSAtMTtcbiAgICBjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG4gICAgbGV0IHVuc3Vic2NyaWJlO1xuICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICBpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4od2luZG93LCAnbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpXG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhcHBlbmQobm9kZSwgaWZyYW1lKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWNoKGlmcmFtZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdFt0b2dnbGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcbn1cbmZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIGJ1YmJsZXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBmYWxzZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5jbGFzcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICB9XG4gICAgYyhodG1sKSB7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICB9XG4gICAgbShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmUpIHtcbiAgICAgICAgICAgIHRoaXMuZSA9IGVsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIHRoaXMudCA9IHRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuYyhodG1sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmkoYW5jaG9yKTtcbiAgICB9XG4gICAgaChodG1sKSB7XG4gICAgICAgIHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB0aGlzLm4gPSBBcnJheS5mcm9tKHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgdGhpcy5pKHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGNsYWltZWRfbm9kZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICAgICAgdGhpcy5sID0gY2xhaW1lZF9ub2RlcztcbiAgICB9XG4gICAgYyhodG1sKSB7XG4gICAgICAgIGlmICh0aGlzLmwpIHtcbiAgICAgICAgICAgIHRoaXMubiA9IHRoaXMubDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhdHRyaWJ1dGVfdG9fb2JqZWN0KGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICByZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGZvciBtdWx0aXBsZSBkb2N1bWVudHMgYmVjYXVzZSBhIFN2ZWx0ZSBhcHBsaWNhdGlvbiBjb3VsZCBhbHNvIGNvbnRhaW4gaWZyYW1lc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMzYyNFxuY29uc3QgbWFuYWdlZF9zdHlsZXMgPSBuZXcgTWFwKCk7XG5sZXQgYWN0aXZlID0gMDtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKSB7XG4gICAgY29uc3QgaW5mbyA9IHsgc3R5bGVzaGVldDogYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSksIHJ1bGVzOiB7fSB9O1xuICAgIG1hbmFnZWRfc3R5bGVzLnNldChkb2MsIGluZm8pO1xuICAgIHJldHVybiBpbmZvO1xufVxuZnVuY3Rpb24gY3JlYXRlX3J1bGUobm9kZSwgYSwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNlLCBmbiwgdWlkID0gMCkge1xuICAgIGNvbnN0IHN0ZXAgPSAxNi42NjYgLyBkdXJhdGlvbjtcbiAgICBsZXQga2V5ZnJhbWVzID0gJ3tcXG4nO1xuICAgIGZvciAobGV0IHAgPSAwOyBwIDw9IDE7IHAgKz0gc3RlcCkge1xuICAgICAgICBjb25zdCB0ID0gYSArIChiIC0gYSkgKiBlYXNlKHApO1xuICAgICAgICBrZXlmcmFtZXMgKz0gcCAqIDEwMCArIGAleyR7Zm4odCwgMSAtIHQpfX1cXG5gO1xuICAgIH1cbiAgICBjb25zdCBydWxlID0ga2V5ZnJhbWVzICsgYDEwMCUgeyR7Zm4oYiwgMSAtIGIpfX1cXG59YDtcbiAgICBjb25zdCBuYW1lID0gYF9fc3ZlbHRlXyR7aGFzaChydWxlKX1fJHt1aWR9YDtcbiAgICBjb25zdCBkb2MgPSBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSk7XG4gICAgY29uc3QgeyBzdHlsZXNoZWV0LCBydWxlcyB9ID0gbWFuYWdlZF9zdHlsZXMuZ2V0KGRvYykgfHwgY3JlYXRlX3N0eWxlX2luZm9ybWF0aW9uKGRvYywgbm9kZSk7XG4gICAgaWYgKCFydWxlc1tuYW1lXSkge1xuICAgICAgICBydWxlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnO1xuICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnfSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuICAgIGFjdGl2ZSArPSAxO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZGVsZXRlX3J1bGUobm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKG5hbWVcbiAgICAgICAgPyBhbmltID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuICAgICAgICA6IGFuaW0gPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG4gICAgKTtcbiAgICBjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG4gICAgICAgIGFjdGl2ZSAtPSBkZWxldGVkO1xuICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgIGNsZWFyX3J1bGVzKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG4gICAgcmFmKCgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuZm9yRWFjaChpbmZvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3R5bGVzaGVldCB9ID0gaW5mbztcbiAgICAgICAgICAgIGxldCBpID0gc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShpKTtcbiAgICAgICAgICAgIGluZm8ucnVsZXMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hbmFnZWRfc3R5bGVzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOlxuICAgIGVuZCA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbiwgdGljayA9IG5vb3AsIGNzcyB9ID0gZm4obm9kZSwgeyBmcm9tLCB0byB9LCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBuYW1lO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICBuYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpO1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgaWYgKCFzdGFydGVkICYmIG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCAmJiBub3cgPj0gZW5kKSB7XG4gICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbm93IC0gc3RhcnRfdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAwICsgMSAqIGVhc2luZyhwIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgc3RhcnQoKTtcbiAgICB0aWNrKDAsIDEpO1xuICAgIHJldHVybiBzdG9wO1xufVxuZnVuY3Rpb24gZml4X3Bvc2l0aW9uKG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc3R5bGU7XG4gICAgICAgIGNvbnN0IGEgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgYWRkX3RyYW5zZm9ybShub2RlLCBhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpIHtcbiAgICBjb25zdCBiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYS5sZWZ0ICE9PSBiLmxlZnQgfHwgYS50b3AgIT09IGIudG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke2EubGVmdCAtIGIubGVmdH1weCwgJHthLnRvcCAtIGIudG9wfXB4KWA7XG4gICAgfVxufVxuXG5sZXQgY3VycmVudF9jb21wb25lbnQ7XG5mdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgY3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG4gICAgaWYgKCFjdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5mdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gb25Nb3VudChmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgIHJldHVybiAodHlwZSwgZGV0YWlsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcbiAgICAgICAgICAgIC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCk7XG4gICAgICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IHtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cbmZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuICAgIH1cbn1cblxuY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcbiAgICBpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcbiAgICAgICAgdXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGljaygpIHtcbiAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcbiAgICByZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG4gICAgZmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgd2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuICAgICAgICAgICAgZmx1c2hpZHgrKztcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKCk7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oZ28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSAocHJvZ3JhbS5iIC0gdCk7XG4gICAgICAgIGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYTogdCxcbiAgICAgICAgICAgIGI6IHByb2dyYW0uYixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG4gICAgICAgICAgICBncm91cDogcHJvZ3JhbS5ncm91cFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbyhiKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB7XG4gICAgICAgICAgICBzdGFydDogbm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIGlmICghaW5mby5oYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8ucGVuZGluZykge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8ucGVuZGluZywgMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby50aGVuKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSBwcm9taXNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2goaW5mbywgY3R4LCBkaXJ0eSkge1xuICAgIGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuICAgIGNvbnN0IHsgcmVzb2x2ZWQgfSA9IGluZm87XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby50aGVuKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLnZhbHVlXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLmVycm9yXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpbmZvLmJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG5jb25zdCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IC9bXFxzJ1wiPi89XFx1e0ZERDB9LVxcdXtGREVGfVxcdXtGRkZFfVxcdXtGRkZGfVxcdXsxRkZGRX1cXHV7MUZGRkZ9XFx1ezJGRkZFfVxcdXsyRkZGRn1cXHV7M0ZGRkV9XFx1ezNGRkZGfVxcdXs0RkZGRX1cXHV7NEZGRkZ9XFx1ezVGRkZFfVxcdXs1RkZGRn1cXHV7NkZGRkV9XFx1ezZGRkZGfVxcdXs3RkZGRX1cXHV7N0ZGRkZ9XFx1ezhGRkZFfVxcdXs4RkZGRn1cXHV7OUZGRkV9XFx1ezlGRkZGfVxcdXtBRkZGRX1cXHV7QUZGRkZ9XFx1e0JGRkZFfVxcdXtCRkZGRn1cXHV7Q0ZGRkV9XFx1e0NGRkZGfVxcdXtERkZGRX1cXHV7REZGRkZ9XFx1e0VGRkZFfVxcdXtFRkZGRn1cXHV7RkZGRkV9XFx1e0ZGRkZGfVxcdXsxMEZGRkV9XFx1ezEwRkZGRn1dL3U7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNub25jaGFyYWN0ZXJcbmZ1bmN0aW9uIHNwcmVhZChhcmdzLCBhdHRyc190b19hZGQpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgLi4uYXJncyk7XG4gICAgaWYgKGF0dHJzX3RvX2FkZCkge1xuICAgICAgICBjb25zdCBjbGFzc2VzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5jbGFzc2VzO1xuICAgICAgICBjb25zdCBzdHlsZXNfdG9fYWRkID0gYXR0cnNfdG9fYWRkLnN0eWxlcztcbiAgICAgICAgaWYgKGNsYXNzZXNfdG9fYWRkKSB7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5jbGFzcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyArPSAnICcgKyBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuc3R5bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKHN0eWxlc190b19hZGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5zdHlsZSA9IHN0eWxlX29iamVjdF90b19zdHJpbmcobWVyZ2Vfc3NyX3N0eWxlcyhhdHRyaWJ1dGVzLnN0eWxlLCBzdHlsZXNfdG9fYWRkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3Rlci50ZXN0KG5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICBlbHNlIGlmIChib29sZWFuX2F0dHJpYnV0ZXMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgKz0gYCAke25hbWV9PVwiJHt2YWx1ZX1cImA7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuZnVuY3Rpb24gbWVyZ2Vfc3NyX3N0eWxlcyhzdHlsZV9hdHRyaWJ1dGUsIHN0eWxlX2RpcmVjdGl2ZSkge1xuICAgIGNvbnN0IHN0eWxlX29iamVjdCA9IHt9O1xuICAgIGZvciAoY29uc3QgaW5kaXZpZHVhbF9zdHlsZSBvZiBzdHlsZV9hdHRyaWJ1dGUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBjb2xvbl9pbmRleCA9IGluZGl2aWR1YWxfc3R5bGUuaW5kZXhPZignOicpO1xuICAgICAgICBjb25zdCBuYW1lID0gaW5kaXZpZHVhbF9zdHlsZS5zbGljZSgwLCBjb2xvbl9pbmRleCkudHJpbSgpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoY29sb25faW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBzdHlsZV9vYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHN0eWxlX2RpcmVjdGl2ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlX2RpcmVjdGl2ZVtuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBzdHlsZV9vYmplY3RbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdHlsZV9vYmplY3RbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlX29iamVjdDtcbn1cbmNvbnN0IGVzY2FwZWQgPSB7XG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OycsXG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnXG59O1xuZnVuY3Rpb24gZXNjYXBlKGh0bWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKGh0bWwpLnJlcGxhY2UoL1tcIicmPD5dL2csIG1hdGNoID0+IGVzY2FwZWRbbWF0Y2hdKTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IGVzY2FwZSh2YWx1ZSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGVzY2FwZV9vYmplY3Qob2JqKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gZXNjYXBlX2F0dHJpYnV0ZV92YWx1ZShvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBlYWNoKGl0ZW1zLCBmbikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHN0ciArPSBmbihpdGVtc1tpXSwgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5jb25zdCBtaXNzaW5nX2NvbXBvbmVudCA9IHtcbiAgICAkJHJlbmRlcjogKCkgPT4gJydcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZV9jb21wb25lbnQoY29tcG9uZW50LCBuYW1lKSB7XG4gICAgaWYgKCFjb21wb25lbnQgfHwgIWNvbXBvbmVudC4kJHJlbmRlcikge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3N2ZWx0ZTpjb21wb25lbnQnKVxuICAgICAgICAgICAgbmFtZSArPSAnIHRoaXM9ey4uLn0nO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYDwke25hbWV9PiBpcyBub3QgYSB2YWxpZCBTU1IgY29tcG9uZW50LiBZb3UgbWF5IG5lZWQgdG8gcmV2aWV3IHlvdXIgYnVpbGQgY29uZmlnIHRvIGVuc3VyZSB0aGF0IGRlcGVuZGVuY2llcyBhcmUgY29tcGlsZWQsIHJhdGhlciB0aGFuIGltcG9ydGVkIGFzIHByZS1jb21waWxlZCBtb2R1bGVzYCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBkZWJ1ZyhmaWxlLCBsaW5lLCBjb2x1bW4sIHZhbHVlcykge1xuICAgIGNvbnNvbGUubG9nKGB7QGRlYnVnfSAke2ZpbGUgPyBmaWxlICsgJyAnIDogJyd9KCR7bGluZX06JHtjb2x1bW59KWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyh2YWx1ZXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICByZXR1cm4gJyc7XG59XG5sZXQgb25fZGVzdHJveTtcbmZ1bmN0aW9uIGNyZWF0ZV9zc3JfY29tcG9uZW50KGZuKSB7XG4gICAgZnVuY3Rpb24gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICAgICAgY29uc3QgJCQgPSB7XG4gICAgICAgICAgICBvbl9kZXN0cm95LFxuICAgICAgICAgICAgY29udGV4dDogbmV3IE1hcChjb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcbiAgICAgICAgICAgIC8vIHRoZXNlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZGlzY2FyZGVkXG4gICAgICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpXG4gICAgICAgIH07XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudCh7ICQkIH0pO1xuICAgICAgICBjb25zdCBodG1sID0gZm4ocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzKTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyOiAocHJvcHMgPSB7fSwgeyAkJHNsb3RzID0ge30sIGNvbnRleHQgPSBuZXcgTWFwKCkgfSA9IHt9KSA9PiB7XG4gICAgICAgICAgICBvbl9kZXN0cm95ID0gW107XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHRpdGxlOiAnJywgaGVhZDogJycsIGNzczogbmV3IFNldCgpIH07XG4gICAgICAgICAgICBjb25zdCBodG1sID0gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywge30sICQkc2xvdHMsIGNvbnRleHQpO1xuICAgICAgICAgICAgcnVuX2FsbChvbl9kZXN0cm95KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaHRtbCxcbiAgICAgICAgICAgICAgICBjc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogQXJyYXkuZnJvbShyZXN1bHQuY3NzKS5tYXAoY3NzID0+IGNzcy5jb2RlKS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBudWxsIC8vIFRPRE9cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhlYWQ6IHJlc3VsdC50aXRsZSArIHJlc3VsdC5oZWFkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAkJHJlbmRlclxuICAgIH07XG59XG5mdW5jdGlvbiBhZGRfYXR0cmlidXRlKG5hbWUsIHZhbHVlLCBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgKGJvb2xlYW4gJiYgIXZhbHVlKSlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHJldHVybiBgICR7bmFtZX0ke3ZhbHVlID09PSB0cnVlICYmIGJvb2xlYW5fYXR0cmlidXRlcy5oYXMobmFtZSkgPyAnJyA6IGA9JHt0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoZXNjYXBlKHZhbHVlKSkgOiBgXCIke3ZhbHVlfVwiYH1gfWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuZnVuY3Rpb24gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVfb2JqZWN0KVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBzdHlsZV9vYmplY3Rba2V5XSlcbiAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fTogJHtzdHlsZV9vYmplY3Rba2V5XX07YClcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGFkZF9zdHlsZXMoc3R5bGVfb2JqZWN0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpO1xuICAgIHJldHVybiBzdHlsZXMgPyBgIHN0eWxlPVwiJHtzdHlsZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgaWYgKG9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBvbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGFwcGVuZF9zdHlsZXMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogbnVsbCxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBvbl9kaXNjb25uZWN0OiBbXSxcbiAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgIGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBza2lwX2JvdW5kOiBmYWxzZSxcbiAgICAgICAgcm9vdDogb3B0aW9ucy50YXJnZXQgfHwgcGFyZW50X2NvbXBvbmVudC4kJC5yb290XG4gICAgfTtcbiAgICBhcHBlbmRfc3R5bGVzICYmIGFwcGVuZF9zdHlsZXMoJCQucm9vdCk7XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuICAgICAgICAgICAgaWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAkJC5jdHhbaV0gPSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pXG4gICAgICAgICAgICAgICAgICAgICQkLmJvdW5kW2ldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pXG4gICAgICAgIDogW107XG4gICAgJCQudXBkYXRlKCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgLy8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG4gICAgJCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICBpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgICAgICBzdGFydF9oeWRyYXRpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yLCBvcHRpb25zLmN1c3RvbUVsZW1lbnQpO1xuICAgICAgICBlbmRfaHlkcmF0aW5nKCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgfVxuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cbmxldCBTdmVsdGVFbGVtZW50O1xuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uX21vdW50IH0gPSB0aGlzLiQkO1xuICAgICAgICAgICAgdGhpcy4kJC5vbl9kaXNjb25uZWN0ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBydW5fYWxsKHRoaXMuJCQub25fZGlzY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjQ2LjQnIH0sIGRldGFpbCksIHRydWUpKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmQodGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb25fZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbl9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBkZXRhY2hfZGV2KG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZScsIHsgbm9kZSB9KTtcbiAgICBkZXRhY2gobm9kZSk7XG59XG5mdW5jdGlvbiBkZXRhY2hfYmV0d2Vlbl9kZXYoYmVmb3JlLCBhZnRlcikge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcgJiYgYmVmb3JlLm5leHRTaWJsaW5nICE9PSBhZnRlcikge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2JlZm9yZV9kZXYoYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYWZ0ZXJfZGV2KGJlZm9yZSkge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpc3Rlbl9kZXYobm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMsIGhhc19wcmV2ZW50X2RlZmF1bHQsIGhhc19zdG9wX3Byb3BhZ2F0aW9uKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gb3B0aW9ucyA9PT0gdHJ1ZSA/IFsnY2FwdHVyZSddIDogb3B0aW9ucyA/IEFycmF5LmZyb20oT2JqZWN0LmtleXMob3B0aW9ucykpIDogW107XG4gICAgaWYgKGhhc19wcmV2ZW50X2RlZmF1bHQpXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdwcmV2ZW50RGVmYXVsdCcpO1xuICAgIGlmIChoYXNfc3RvcF9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BQcm9wYWdhdGlvbicpO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NQWRkRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICBjb25zdCBkaXNwb3NlID0gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cl9kZXYobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlQXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUgfSk7XG4gICAgZWxzZVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldEF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlLCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHByb3BfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRQcm9wZXJ0eScsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gZGF0YXNldF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZS5kYXRhc2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YXNldCcsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9hcmd1bWVudChhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycgJiYgIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gYXJnKSkge1xuICAgICAgICBsZXQgbXNnID0gJ3sjZWFjaH0gb25seSBpdGVyYXRlcyBvdmVyIGFycmF5LWxpa2Ugb2JqZWN0cy4nO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhcmcgJiYgU3ltYm9sLml0ZXJhdG9yIGluIGFyZykge1xuICAgICAgICAgICAgbXNnICs9ICcgWW91IGNhbiB1c2UgYSBzcHJlYWQgdG8gY29udmVydCB0aGlzIGl0ZXJhYmxlIGludG8gYW4gYXJyYXkuJztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zbG90cyhuYW1lLCBzbG90LCBrZXlzKSB7XG4gICAgZm9yIChjb25zdCBzbG90X2tleSBvZiBPYmplY3Qua2V5cyhzbG90KSkge1xuICAgICAgICBpZiAoIX5rZXlzLmluZGV4T2Yoc2xvdF9rZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYDwke25hbWV9PiByZWNlaXZlZCBhbiB1bmV4cGVjdGVkIHNsb3QgXCIke3Nsb3Rfa2V5fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cyB3aXRoIHNvbWUgbWlub3IgZGV2LWVuaGFuY2VtZW50cy4gVXNlZCB3aGVuIGRldj10cnVlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnREZXYgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICghb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuJCRpbmxpbmUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29tcG9uZW50IHdhcyBhbHJlYWR5IGRlc3Ryb3llZCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJGNhcHR1cmVfc3RhdGUoKSB7IH1cbiAgICAkaW5qZWN0X3N0YXRlKCkgeyB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgdG8gY3JlYXRlIHN0cm9uZ2x5IHR5cGVkIFN2ZWx0ZSBjb21wb25lbnRzLlxuICogVGhpcyBvbmx5IGV4aXN0cyBmb3IgdHlwaW5nIHB1cnBvc2VzIGFuZCBzaG91bGQgYmUgdXNlZCBpbiBgLmQudHNgIGZpbGVzLlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIFlvdSBoYXZlIGNvbXBvbmVudCBsaWJyYXJ5IG9uIG5wbSBjYWxsZWQgYGNvbXBvbmVudC1saWJyYXJ5YCwgZnJvbSB3aGljaFxuICogeW91IGV4cG9ydCBhIGNvbXBvbmVudCBjYWxsZWQgYE15Q29tcG9uZW50YC4gRm9yIFN2ZWx0ZStUeXBlU2NyaXB0IHVzZXJzLFxuICogeW91IHdhbnQgdG8gcHJvdmlkZSB0eXBpbmdzLiBUaGVyZWZvcmUgeW91IGNyZWF0ZSBhIGBpbmRleC5kLnRzYDpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTdmVsdGVDb21wb25lbnRUeXBlZCB9IGZyb20gXCJzdmVsdGVcIjtcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkPHtmb286IHN0cmluZ30+IHt9XG4gKiBgYGBcbiAqIFR5cGluZyB0aGlzIG1ha2VzIGl0IHBvc3NpYmxlIGZvciBJREVzIGxpa2UgVlMgQ29kZSB3aXRoIHRoZSBTdmVsdGUgZXh0ZW5zaW9uXG4gKiB0byBwcm92aWRlIGludGVsbGlzZW5zZSBhbmQgdG8gdXNlIHRoZSBjb21wb25lbnQgbGlrZSB0aGlzIGluIGEgU3ZlbHRlIGZpbGVcbiAqIHdpdGggVHlwZVNjcmlwdDpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAqIFx0aW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tIFwiY29tcG9uZW50LWxpYnJhcnlcIjtcbiAqIDwvc2NyaXB0PlxuICogPE15Q29tcG9uZW50IGZvbz17J2Jhcid9IC8+XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFdoeSBub3QgbWFrZSB0aGlzIHBhcnQgb2YgYFN2ZWx0ZUNvbXBvbmVudChEZXYpYD9cbiAqIEJlY2F1c2VcbiAqIGBgYHRzXG4gKiBjbGFzcyBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogY29uc3QgY29tcG9uZW50OiB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50ID0gQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQ7XG4gKiBgYGBcbiAqIHdpbGwgdGhyb3cgYSB0eXBlIGVycm9yLCBzbyB3ZSBuZWVkIHRvIHNlcGFyYXRlIHRoZSBtb3JlIHN0cmljdGx5IHR5cGVkIGNsYXNzLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnRUeXBlZCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsb29wX2d1YXJkKHRpbWVvdXQpIHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgSHRtbFRhZywgSHRtbFRhZ0h5ZHJhdGlvbiwgU3ZlbHRlQ29tcG9uZW50LCBTdmVsdGVDb21wb25lbnREZXYsIFN2ZWx0ZUNvbXBvbmVudFR5cGVkLCBTdmVsdGVFbGVtZW50LCBhY3Rpb25fZGVzdHJveWVyLCBhZGRfYXR0cmlidXRlLCBhZGRfY2xhc3NlcywgYWRkX2ZsdXNoX2NhbGxiYWNrLCBhZGRfbG9jYXRpb24sIGFkZF9yZW5kZXJfY2FsbGJhY2ssIGFkZF9yZXNpemVfbGlzdGVuZXIsIGFkZF9zdHlsZXMsIGFkZF90cmFuc2Zvcm0sIGFmdGVyVXBkYXRlLCBhcHBlbmQsIGFwcGVuZF9kZXYsIGFwcGVuZF9lbXB0eV9zdHlsZXNoZWV0LCBhcHBlbmRfaHlkcmF0aW9uLCBhcHBlbmRfaHlkcmF0aW9uX2RldiwgYXBwZW5kX3N0eWxlcywgYXNzaWduLCBhdHRyLCBhdHRyX2RldiwgYXR0cmlidXRlX3RvX29iamVjdCwgYmVmb3JlVXBkYXRlLCBiaW5kLCBiaW5kaW5nX2NhbGxiYWNrcywgYmxhbmtfb2JqZWN0LCBidWJibGUsIGNoZWNrX291dHJvcywgY2hpbGRyZW4sIGNsYWltX2NvbXBvbmVudCwgY2xhaW1fZWxlbWVudCwgY2xhaW1faHRtbF90YWcsIGNsYWltX3NwYWNlLCBjbGFpbV9zdmdfZWxlbWVudCwgY2xhaW1fdGV4dCwgY2xlYXJfbG9vcHMsIGNvbXBvbmVudF9zdWJzY3JpYmUsIGNvbXB1dGVfcmVzdF9wcm9wcywgY29tcHV0ZV9zbG90cywgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBjcmVhdGVfYW5pbWF0aW9uLCBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uLCBjcmVhdGVfY29tcG9uZW50LCBjcmVhdGVfaW5fdHJhbnNpdGlvbiwgY3JlYXRlX291dF90cmFuc2l0aW9uLCBjcmVhdGVfc2xvdCwgY3JlYXRlX3Nzcl9jb21wb25lbnQsIGN1cnJlbnRfY29tcG9uZW50LCBjdXN0b21fZXZlbnQsIGRhdGFzZXRfZGV2LCBkZWJ1ZywgZGVzdHJveV9ibG9jaywgZGVzdHJveV9jb21wb25lbnQsIGRlc3Ryb3lfZWFjaCwgZGV0YWNoLCBkZXRhY2hfYWZ0ZXJfZGV2LCBkZXRhY2hfYmVmb3JlX2RldiwgZGV0YWNoX2JldHdlZW5fZGV2LCBkZXRhY2hfZGV2LCBkaXJ0eV9jb21wb25lbnRzLCBkaXNwYXRjaF9kZXYsIGVhY2gsIGVsZW1lbnQsIGVsZW1lbnRfaXMsIGVtcHR5LCBlbmRfaHlkcmF0aW5nLCBlc2NhcGUsIGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUsIGVzY2FwZV9vYmplY3QsIGVzY2FwZWQsIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMsIGZpeF9hbmRfZGVzdHJveV9ibG9jaywgZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jaywgZml4X3Bvc2l0aW9uLCBmbHVzaCwgZ2V0QWxsQ29udGV4dHMsIGdldENvbnRleHQsIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSwgZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUsIGdldF9jdXJyZW50X2NvbXBvbmVudCwgZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cywgZ2V0X3Jvb3RfZm9yX3N0eWxlLCBnZXRfc2xvdF9jaGFuZ2VzLCBnZXRfc3ByZWFkX29iamVjdCwgZ2V0X3NwcmVhZF91cGRhdGUsIGdldF9zdG9yZV92YWx1ZSwgZ2xvYmFscywgZ3JvdXBfb3V0cm9zLCBoYW5kbGVfcHJvbWlzZSwgaGFzQ29udGV4dCwgaGFzX3Byb3AsIGlkZW50aXR5LCBpbml0LCBpbnNlcnQsIGluc2VydF9kZXYsIGluc2VydF9oeWRyYXRpb24sIGluc2VydF9oeWRyYXRpb25fZGV2LCBpbnRyb3MsIGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLCBpc19jbGllbnQsIGlzX2Nyb3Nzb3JpZ2luLCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIGlzX3Byb21pc2UsIGxpc3RlbiwgbGlzdGVuX2RldiwgbG9vcCwgbG9vcF9ndWFyZCwgbWVyZ2Vfc3NyX3N0eWxlcywgbWlzc2luZ19jb21wb25lbnQsIG1vdW50X2NvbXBvbmVudCwgbm9vcCwgbm90X2VxdWFsLCBub3csIG51bGxfdG9fZW1wdHksIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMsIG9uRGVzdHJveSwgb25Nb3VudCwgb25jZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIHByZXZlbnRfZGVmYXVsdCwgcHJvcF9kZXYsIHF1ZXJ5X3NlbGVjdG9yX2FsbCwgcmFmLCBydW4sIHJ1bl9hbGwsIHNhZmVfbm90X2VxdWFsLCBzY2hlZHVsZV91cGRhdGUsIHNlbGVjdF9tdWx0aXBsZV92YWx1ZSwgc2VsZWN0X29wdGlvbiwgc2VsZWN0X29wdGlvbnMsIHNlbGVjdF92YWx1ZSwgc2VsZiwgc2V0Q29udGV4dCwgc2V0X2F0dHJpYnV0ZXMsIHNldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEsIHNldF9kYXRhLCBzZXRfZGF0YV9kZXYsIHNldF9pbnB1dF90eXBlLCBzZXRfaW5wdXRfdmFsdWUsIHNldF9ub3csIHNldF9yYWYsIHNldF9zdG9yZV92YWx1ZSwgc2V0X3N0eWxlLCBzZXRfc3ZnX2F0dHJpYnV0ZXMsIHNwYWNlLCBzcHJlYWQsIHNyY191cmxfZXF1YWwsIHN0YXJ0X2h5ZHJhdGluZywgc3RvcF9wcm9wYWdhdGlvbiwgc3Vic2NyaWJlLCBzdmdfZWxlbWVudCwgdGV4dCwgdGljaywgdGltZV9yYW5nZXNfdG9fYXJyYXksIHRvX251bWJlciwgdG9nZ2xlX2NsYXNzLCB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCwgdHJ1c3RlZCwgdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaCwgdXBkYXRlX2tleWVkX2VhY2gsIHVwZGF0ZV9zbG90LCB1cGRhdGVfc2xvdF9iYXNlLCB2YWxpZGF0ZV9jb21wb25lbnQsIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQsIHZhbGlkYXRlX2VhY2hfa2V5cywgdmFsaWRhdGVfc2xvdHMsIHZhbGlkYXRlX3N0b3JlLCB4bGlua19hdHRyIH07XG4iLCJpbXBvcnQgdHlwZSB7IEN1c3RvbUZpZWxkIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0Jvb2tpbmdcIjtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRDdXN0b21GaWVsZHM6IEN1c3RvbUZpZWxkW10gPSBbXG4gIHtcbiAgICB0aXRsZTogXCJZb3VyIE5hbWVcIixcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogXCJFbWFpbCBBZGRyZXNzXCIsXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgcGxhY2Vob2xkZXI6IFwieW91QGV4YW1wbGUuY29tXCIsXG4gIH0sXG5dO1xuIiwiZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uTW9kZSB7XG4gIFNIT1dfTUVTU0FHRSA9IFwic2hvd19tZXNzYWdlXCIsXG4gIFNFTkRfTUVTU0FHRSA9IFwic2VuZF9tZXNzYWdlXCIsXG59XG4iLCJpbXBvcnQgdHlwZSB7IEZpbGUsIE1hbmlmZXN0IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudERpc3BhdGNoZXIoY29tcG9uZW50OiB7XG4gIGRpc3BhdGNoRXZlbnQ/OiAoZTogRXZlbnQpID0+IGJvb2xlYW47XG59KSB7XG4gIHJldHVybiAobmFtZTogc3RyaW5nLCBkZXRhaWw6IHVua25vd24pOiB2b2lkID0+IHtcbiAgICBpZiAoY29tcG9uZW50LmRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbXBvbmVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgICBjb21wb3NlZDogdHJ1ZSwgLy8gcHJvcGFnYXRlIGFjcm9zcyB0aGUgc2hhZG93IERPTVxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoXG4gIGZuOiAoYXJnczogdW5rbm93bikgPT4gdW5rbm93bixcbiAgdGltZTogbnVtYmVyLFxuKTogKCkgPT4gdm9pZCB7XG4gIGxldCB0aW1lb3V0SWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuICByZXR1cm4gKCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cblxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZm4sIHRpbWUpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRJbnRlcm5hbFByb3BzPFQgZXh0ZW5kcyBQYXJ0aWFsPE1hbmlmZXN0Pj4oXG4gIHByb3BlcnRpZXM6IFQsXG4gIG1hbmlmZXN0OiBULFxuICBkZWZhdWx0VmFsdWVNYXA6IFQsXG4pOiBUIHtcbiAgcmV0dXJuIG5ldyBQcm94eShwcm9wZXJ0aWVzLCB7XG4gICAgZ2V0OiAodGFyZ2V0LCBuYW1lOiBrZXlvZiBNYW5pZmVzdCB8IFwidG9KU09OXCIgfCBcInRvU3RyaW5nXCIpID0+IHtcbiAgICAgIGlmIChuYW1lID09PSBcInRvU3RyaW5nXCIgfHwgbmFtZSA9PT0gXCJ0b0pTT05cIikge1xuICAgICAgICByZXR1cm4gKCkgPT4gSlNPTi5zdHJpbmdpZnkodGFyZ2V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFJlZmxlY3QuZ2V0KHRhcmdldCwgbmFtZSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZ2V0UHJvcGVydHlWYWx1ZShcbiAgICAgICAgICBSZWZsZWN0LmdldCh0YXJnZXQsIG5hbWUpLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZU1hcFtuYW1lXSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hbmlmZXN0ICYmIG5hbWUgaW4gbWFuaWZlc3QpIHtcbiAgICAgICAgcmV0dXJuIGdldFByb3BlcnR5VmFsdWUobWFuaWZlc3RbbmFtZV0sIGRlZmF1bHRWYWx1ZU1hcFtuYW1lXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlTWFwW25hbWVdO1xuICAgIH0sXG5cbiAgICBvd25LZXlzOiAodGFyZ2V0KSA9PiB7XG4gICAgICBjb25zdCBrZXlzID0gbmV3IFNldChbXG4gICAgICAgIC4uLlJlZmxlY3Qub3duS2V5cyh0YXJnZXQpLFxuICAgICAgICAuLi5PYmplY3Qua2V5cyhtYW5pZmVzdCksXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZU1hcCksXG4gICAgICBdKTtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGtleXMpO1xuICAgIH0sXG5cbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICh0YXJnZXQsIHByb3ApID0+IHtcbiAgICAgIGxldCBwcm9wRGVzY3JpcHRvciA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG4gICAgICBpZiAoIXByb3BEZXNjcmlwdG9yKSB7XG4gICAgICAgIHByb3BEZXNjcmlwdG9yID0gKG1hbmlmZXN0ICYmXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtYW5pZmVzdCwgcHJvcCkpID8/XG4gICAgICAgICAgKGRlZmF1bHRWYWx1ZU1hcCAmJlxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0VmFsdWVNYXAsIHByb3ApKSA/PyB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHByb3BEZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wRGVzY3JpcHRvcjtcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWU8VD4ocHJvcFZhbHVlOiBhbnksIGRlZmF1bHRUbzogVCk6IFQge1xuICBpZiAocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VG8gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gcGFyc2VCb29sZWFuKHByb3BWYWx1ZSkgYXMgYW55O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRlZmF1bHRUbyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIE51bWJlcihwcm9wVmFsdWUpIGFzIGFueTtcbiAgICB9XG4gICAgaWYgKGRlZmF1bHRUbyBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShwcm9wVmFsdWUpIGFzIGFueTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvcFZhbHVlID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VG8gPz8gbnVsbCA6IHByb3BWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihcbiAgdmFsOiBzdHJpbmcgfCBib29sZWFuIHwgdW5kZWZpbmVkIHwgbnVsbCxcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gKDxhbnk+W3RydWUsIFwidHJ1ZVwiLCBcIjFcIl0pLmluY2x1ZGVzKHZhbCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlU3RyaW5nVG9BcnJheShwYXJzZVN0cjogc3RyaW5nKTogc3RyaW5nW10ge1xuICBpZiAoIXBhcnNlU3RyKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgaWYgKHBhcnNlU3RyLmluY2x1ZGVzKFwiLFwiKSkge1xuICAgIHJldHVybiBwYXJzZVN0ci5zcGxpdChcIixcIikubWFwKChzOiBzdHJpbmcpID0+IHMudHJpbSgpKTtcbiAgfVxuICBpZiAocGFyc2VTdHIuaW5jbHVkZXMoXCIgXCIpKSB7XG4gICAgcmV0dXJuIHBhcnNlU3RyLnNwbGl0KFwiIFwiKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpO1xuICB9XG4gIGlmIChwYXJzZVN0ci5pbmNsdWRlcyhcIlxcblwiKSkge1xuICAgIHJldHVybiBwYXJzZVN0ci5zcGxpdChcIlxcblwiKS5tYXAoKHM6IHN0cmluZykgPT4gcy50cmltKCkpO1xuICB9XG5cbiAgcmV0dXJuIFtwYXJzZVN0ci50cmltKCldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRBdHRhY2hlZEZpbGUoZmlsZURhdGE6IHN0cmluZywgZmlsZTogRmlsZSk6IHZvaWQge1xuICBjb25zdCBidWZmZXIgPSBVaW50OEFycmF5LmZyb20oYXRvYihmaWxlRGF0YSksIChjKSA9PiBjLmNoYXJDb2RlQXQoMCkpO1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2J1ZmZlcl0sIHsgdHlwZTogZmlsZS5jb250ZW50X3R5cGUgfSk7XG4gIGNvbnN0IGJsb2JGaWxlID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBhLmhyZWYgPSBibG9iRmlsZTtcbiAgYS5kb3dubG9hZCA9IGZpbGUuZmlsZW5hbWUgPz8gZmlsZS5pZDtcbiAgYS50YXJnZXQgPSBcIl9ibGFua1wiO1xuICBhLmNsaWNrKCk7XG4gIGEucmVtb3ZlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5zQXJyYXkoc3VwZXJzZXQ6IGFueVtdLCBzdWJzZXQ6IGFueVtdKTogYm9vbGVhbiB7XG4gIHJldHVybiBzdWJzZXQuZXZlcnkoKHRhcmdldCkgPT4gc3VwZXJzZXQuaW5jbHVkZXModGFyZ2V0KSk7XG59XG4iLCJpbXBvcnQgdHlwZSB7IERheSB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9BdmFpbGFiaWxpdHlcIjtcblxuLyoqXG4gKiBFdmVudHVhbGx5LCBwZXJoYXBzIGEgZGVzaWduLXN5c3RlbS1sZXZlbCBndWlkZWxpbmUgZm9yIGRhdGUgYW5kIHRpbWUgc3RyaW5ncy5cbiAqXG4gKiBDdXJyZW50bHksIERhdGUgbG9naWM6IGh0dHBzOi8vd3d3LmZpZ21hLmNvbS9maWxlL29pQ0tOc0hEZkFvOUtuSDFTYnM4WGovRW1haWwtJTI2LU1haWxib3gtQ29tcG9uZW50P25vZGUtaWQ9MTI4JTNBNTFcbiAqIE5vIHRpbWUgbG9naWMgc3RhbmRhcmQgeWV0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dEYXRlUmFuZ2UoZGF5czogRGF5W10pOiBzdHJpbmcge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF5cykgfHwgZGF5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGNvbnN0IGZpcnN0RGF5ID0gZGF5c1swXS50aW1lc3RhbXA7XG4gIGNvbnN0IGxhc3REYXkgPSBkYXlzW2RheXMubGVuZ3RoIC0gMV0udGltZXN0YW1wO1xuXG4gIGlmIChsYXN0RGF5LmdldE1vbnRoKCkgIT09IGZpcnN0RGF5LmdldE1vbnRoKCkpIHtcbiAgICBpZiAobGFzdERheS5nZXRGdWxsWWVhcigpICE9PSBmaXJzdERheS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAvLyBDYXNlIDE6IG1vbnRocyBhbmQgeWVhcnMgZGlmZmVyOiBEZWMgMjAyMSAtIEphbiAyMDIyXG4gICAgICByZXR1cm4gYCR7Z2V0TW9udGhTdHJpbmcoZmlyc3REYXksIHRydWUpfSAtICR7Z2V0TW9udGhTdHJpbmcoXG4gICAgICAgIGxhc3REYXksXG4gICAgICAgIHRydWUsXG4gICAgICApfWA7XG4gICAgfVxuICAgIC8vIENhc2UgMjogbW9udGhzIGRpZmZlciwgeWVhcnMgdGhlIHNhbWU6IE9jdCAtIE5vdiAyMDIxXG4gICAgcmV0dXJuIGAke2dldE1vbnRoU3RyaW5nKGZpcnN0RGF5KX0gLSAke2dldE1vbnRoU3RyaW5nKGxhc3REYXksIHRydWUpfWA7XG4gIH1cbiAgLy8gQ2FzZSAzOiBtb250aHMsIGFuZCB0aGVyZWZvcmUgeWVhcnMsIGFyZSB0aGUgc2FtZTogT2N0IDIwMjFcbiAgcmV0dXJuIGdldE1vbnRoU3RyaW5nKGZpcnN0RGF5LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbmRlbnNlZFRpbWVTdHJpbmcoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIC8vIDEgYW0gfCAxOjE1IGFtXG4gIGNvbnN0IHRpbWVTdHJpbmcgPSBkYXRlLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyB0aW1lU3R5bGU6IFwic2hvcnRcIiB9KTtcbiAgaWYgKGRhdGUuZ2V0TWludXRlcygpID09PSAwKSB7XG4gICAgcmV0dXJuIGRhdGVcbiAgICAgIC50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtcbiAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgIGhvdXIxMjogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICAucmVwbGFjZUFsbCgvXFwuL2csIFwiXCIpO1xuICB9XG4gIHJldHVybiB0aW1lU3RyaW5nLnJlcGxhY2VBbGwoL1xcLi9nLCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVTdHJpbmcoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIC8vIDExOjExIGFtLCBOb29uXG4gIGNvbnN0IHRpbWVTdHJpbmcgPSBkYXRlLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyB0aW1lU3R5bGU6IFwic2hvcnRcIiB9KTtcbiAgaWYgKHRpbWVTdHJpbmcgPT09IFwiMTI6MDAgcC5tLlwiKSB7XG4gICAgcmV0dXJuIFwiTm9vblwiO1xuICB9XG4gIHJldHVybiB0aW1lU3RyaW5nLnJlcGxhY2UoL1xcLi9nLCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vbnRoU3RyaW5nKGRhdGU6IERhdGUsIHdpdGhZZWFyID0gZmFsc2UpOiBzdHJpbmcge1xuICByZXR1cm4gZGF0ZVxuICAgIC50b0xvY2FsZURhdGVTdHJpbmcoXCJkZWZhdWx0XCIsIHtcbiAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICB5ZWFyOiB3aXRoWWVhciA/IFwibnVtZXJpY1wiIDogdW5kZWZpbmVkLFxuICAgIH0pXG4gICAgLnJlcGxhY2VBbGwoL1xcLi9nLCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFllYXJTdHJpbmcoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIC8vIEp1bCA1dGggMjAyMFxuICBjb25zdCBzdWZmaXhNYXBwZXIgPSAobnVtOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGlmIChbMzEsIDIxLCAxXS5pbmNsdWRlcyhudW0pKSByZXR1cm4gXCJzdCBcIjtcbiAgICBpZiAoWzIyLCAyXS5pbmNsdWRlcyhudW0pKSByZXR1cm4gXCJuZCBcIjtcbiAgICBpZiAoWzIzLCAzXS5pbmNsdWRlcyhudW0pKSByZXR1cm4gXCJyZCBcIjtcbiAgICByZXR1cm4gXCJ0aCBcIjtcbiAgfTtcbiAgcmV0dXJuIGRhdGVcbiAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwge1xuICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICB9KVxuICAgIC5yZXBsYWNlQWxsKC8sIC9nLCBzdWZmaXhNYXBwZXIoZGF0ZS5nZXREYXRlKCkpKVxuICAgIC5yZXBsYWNlQWxsKC9bLl0vZywgXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRlU3RyaW5nKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAvLyBTZXAgMjJcbiAgcmV0dXJuIGRhdGVcbiAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwgeyBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiIH0pXG4gICAgLnJlcGxhY2VBbGwoL1suXS9nLCBcIlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgaWYgKHRvZGF5LnRvRGF0ZVN0cmluZygpID09PSBkYXRlLnRvRGF0ZVN0cmluZygpKSB7XG4gICAgcmV0dXJuIGdldFRpbWVTdHJpbmcoZGF0ZSk7XG4gIH1cblxuICBjb25zdCBkaWZmX3llYXJzID0gdG9kYXkuZ2V0RnVsbFllYXIoKSAtIGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgaWYgKGRpZmZfeWVhcnMgIT09IDApIHtcbiAgICByZXR1cm4gZ2V0WWVhclN0cmluZyhkYXRlKTtcbiAgfVxuXG4gIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKHRvZGF5LmdldERhdGUoKSAtIDEpO1xuICBpZiAoeWVzdGVyZGF5LnRvRGF0ZVN0cmluZygpID09PSBkYXRlLnRvRGF0ZVN0cmluZygpKSB7XG4gICAgcmV0dXJuIFwiWWVzdGVyZGF5XCI7XG4gIH1cblxuICByZXR1cm4gZ2V0RGF0ZVN0cmluZyhkYXRlKTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlZWtkYXlzID0gW1xuICBcIlN1bmRheVwiLFxuICBcIk1vbmRheVwiLFxuICBcIlR1ZXNkYXlcIixcbiAgXCJXZWRuZXNkYXlcIixcbiAgXCJUaHVyc2RheVwiLFxuICBcIkZyaWRheVwiLFxuICBcIlNhdHVyZGF5XCIsXG5dO1xuIiwiaW1wb3J0IHR5cGUgeyBNYW5pZmVzdCBhcyBOeWxhc01hbmlmZXN0IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5pbXBvcnQgdHlwZSB7IE5vdGlmaWNhdGlvbk1vZGUgfSBmcm9tIFwiQGNvbW1vbnMvZW51bXMvQm9va2luZ1wiO1xuaW1wb3J0IHR5cGUgeyBBdmFpbGFiaWxpdHlSdWxlIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0F2YWlsYWJpbGl0eVwiO1xuaW1wb3J0IHR5cGUgeyBDdXN0b21GaWVsZCB9IGZyb20gXCIuL0Jvb2tpbmdcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNYW5pZmVzdCBleHRlbmRzIE55bGFzTWFuaWZlc3Qge1xuICBzaG93X2hvc3RzOiBcInNob3dcIiB8IFwiaGlkZVwiO1xuICBzdGFydF9ob3VyOiBudW1iZXI7XG4gIGVuZF9ob3VyOiBudW1iZXI7XG4gIHN0YXJ0X2RhdGU6IERhdGUgfCBudWxsO1xuICBkYXRlc190b19zaG93OiBudW1iZXI7XG4gIHNob3dfdGlja3M6IGJvb2xlYW47XG4gIGFsbG93X2Jvb2tpbmc6IGJvb2xlYW47XG4gIHBhcnRpYWxfYm9va2FibGVfcmF0aW86IG51bWJlcjtcbiAgc2hvd19hc193ZWVrOiBib29sZWFuO1xuICBzaG93X3dlZWtlbmRzOiBib29sZWFuO1xuICBhdHRlbmRlZXNfdG9fc2hvdzogbnVtYmVyO1xuICBub3RpZmljYXRpb25fbW9kZTogTm90aWZpY2F0aW9uTW9kZTtcbiAgbm90aWZpY2F0aW9uX21lc3NhZ2U6IHN0cmluZztcbiAgbm90aWZpY2F0aW9uX3N1YmplY3Q6IHN0cmluZztcbiAgdmlld19hczogXCJzY2hlZHVsZVwiIHwgXCJsaXN0XCI7XG4gIGV2ZW50X2J1ZmZlcjogbnVtYmVyO1xuICBjYXBhY2l0eTogbnVtYmVyIHwgbnVsbDtcbiAgZGF0ZV9mb3JtYXQ6IFwiZnVsbFwiIHwgXCJ3ZWVrZGF5XCIgfCBcImRhdGVcIiB8IFwibm9uZVwiO1xuICBvcGVuX2hvdXJzOiBBdmFpbGFiaWxpdHlSdWxlW107XG4gIHJlY3VycmVuY2U6IFwibm9uZVwiIHwgXCJyZXF1aXJlZFwiIHwgXCJvcHRpb25hbFwiO1xuICByZWN1cnJlbmNlX2NhZGVuY2U6IChcbiAgICB8IFwibm9uZVwiXG4gICAgfCBcImRhaWx5XCJcbiAgICB8IFwid2Vla2RheXNcIlxuICAgIHwgXCJ3ZWVrbHlcIlxuICAgIHwgXCJiaXdlZWtseVwiXG4gICAgfCBcIm1vbnRobHlcIlxuICApW107XG4gIG92ZXJib29rZWRfdGhyZXNob2xkOiBudW1iZXI7XG4gIG1hbmRhdGVfdG9wX29mX2hvdXI6IGJvb2xlYW47XG4gIHNob3dfcHJldmlldzogYm9vbGVhbjtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgc2NyZWVuX2Jvb2tpbmdzOiBib29sZWFuO1xuICBtYXhfYm9va19haGVhZF9kYXlzOiBudW1iZXI7XG4gIG1pbl9ib29rX2FoZWFkX2RheXM6IG51bWJlcjtcbiAgY3VzdG9tX2ZpZWxkczogQ3VzdG9tRmllbGRbXTtcbiAgZXZlbnRzOiBFdmVudERlZmluaXRpb25bXTtcbiAgc2VjdGlvbnM6IFNlY3Rpb25zO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50RGVmaW5pdGlvbiB7XG4gIGV2ZW50X3RpdGxlOiBzdHJpbmc7XG4gIGV2ZW50X2Rlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGV2ZW50X2xvY2F0aW9uOiBzdHJpbmc7XG4gIGV2ZW50X2NvbmZlcmVuY2luZzogc3RyaW5nO1xuICBzbG90X3NpemU6IDE1IHwgMzAgfCA2MDtcbiAgcGFydGljaXBhbnRFbWFpbHM6IHN0cmluZ1tdO1xuICBob3N0X3J1bGVzOiBIb3N0UnVsZXM7XG59XG5cbmludGVyZmFjZSBIb3N0UnVsZXMge1xuICBtZXRob2Q6IFwiYWxsXCIgfCBcInVzZXJfZGV0ZXJtaW5lZFwiIHwgXCJyYW5kb21cIjtcbiAgaG9zdF9jb3VudD86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNlY3Rpb25PcHRpb25zIHtcbiAgZXhwYW5kZWQ6IGJvb2xlYW47XG4gIGVkaXRhYmxlOiBib29sZWFuO1xuICBoaWRkZW5fZmllbGRzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBlbnVtIFNlY3Rpb25OYW1lcyB7XG4gIEJBU0lDX0RFVEFJTFMgPSBcImJhc2ljLWRldGFpbHNcIixcbiAgVElNRV9EQVRFX0RFVEFJTFMgPSBcInRpbWUtZGF0ZS1kZXRhaWxzXCIsXG4gIFNUWUxFX0RFVEFJTFMgPSBcInN0eWxlLWRldGFpbHNcIixcbiAgQk9PS0lOR19ERVRBSUxTID0gXCJib29raW5nLWRldGFpbHNcIixcbiAgQ1VTVE9NX0ZJRUxEUyA9IFwiY3VzdG9tLWZpZWxkc1wiLFxuICBOT1RJRklDQVRJT05fREVUQUlMUyA9IFwibm90aWZpY2F0aW9uLWRldGFpbHNcIixcbn1cblxuZXhwb3J0IHR5cGUgU2VjdGlvbnMgPSB7XG4gIFtrZXkgaW4gU2VjdGlvbk5hbWVzXT86IFNlY3Rpb25PcHRpb25zO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHRpbWV6b25lc19qc29uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdGltZXpvbmVzLmpzb25cIikpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSB0aW1lem9uZXNfanNvbl8xLmRlZmF1bHQ7XHJcbiIsImltcG9ydCB7IG5vb3AsIHNhZmVfbm90X2VxdWFsLCBzdWJzY3JpYmUsIHJ1bl9hbGwsIGlzX2Z1bmN0aW9uIH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5tanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXJ9c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7Kj19dmFsdWUgaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcj19c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG4gICAgbGV0IHN0b3A7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuICAgICAgICBpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3X3ZhbHVlO1xuICAgICAgICAgICAgaWYgKHN0b3ApIHsgLy8gc3RvcmUgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICBjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJbMV0oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bl9xdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG4gICAgICAgIHNldChmbih2YWx1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG4gICAgICAgIHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3AgPSBzdGFydChzZXQpIHx8IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcnVuKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0b3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG5mdW5jdGlvbiBkZXJpdmVkKHN0b3JlcywgZm4sIGluaXRpYWxfdmFsdWUpIHtcbiAgICBjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuICAgIGNvbnN0IHN0b3Jlc19hcnJheSA9IHNpbmdsZVxuICAgICAgICA/IFtzdG9yZXNdXG4gICAgICAgIDogc3RvcmVzO1xuICAgIGNvbnN0IGF1dG8gPSBmbi5sZW5ndGggPCAyO1xuICAgIHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0KSA9PiB7XG4gICAgICAgIGxldCBpbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGxldCBwZW5kaW5nID0gMDtcbiAgICAgICAgbGV0IGNsZWFudXAgPSBub29wO1xuICAgICAgICBjb25zdCBzeW5jID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbihzaW5nbGUgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsIHNldCk7XG4gICAgICAgICAgICBpZiAoYXV0bykge1xuICAgICAgICAgICAgICAgIHNldChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCA9IGlzX2Z1bmN0aW9uKHJlc3VsdCkgPyByZXN1bHQgOiBub29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+IHN1YnNjcmliZShzdG9yZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuICAgICAgICAgICAgaWYgKGluaXRlZCkge1xuICAgICAgICAgICAgICAgIHN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcGVuZGluZyB8PSAoMSA8PCBpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpbml0ZWQgPSB0cnVlO1xuICAgICAgICBzeW5jKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgZGVyaXZlZCwgcmVhZGFibGUsIHdyaXRhYmxlIH07XG4iLCJpbXBvcnQgeyBXcml0YWJsZSwgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG5pbXBvcnQgdHlwZSB7IE1hbmlmZXN0IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbnR5cGUgRXJyb3JTdG9yZSA9IFJlY29yZDxzdHJpbmcsIE1hbmlmZXN0W1wiZXJyb3JcIl0+O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKCk6IFdyaXRhYmxlPEVycm9yU3RvcmU+IHtcbiAgcmV0dXJuIHdyaXRhYmxlKHt9KTtcbn1cblxuZXhwb3J0IGNvbnN0IEVycm9yU3RvcmUgPSBpbml0aWFsaXplKCk7XG4iLCJpbXBvcnQgeyBFcnJvclN0b3JlIH0gZnJvbSBcIi4uL3N0b3JlL2Vycm9yXCI7XG5pbXBvcnQgdHlwZSB7IE1hbmlmZXN0IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZTxUID0gdW5rbm93bj4oXG4gIHJlc3BvbnNlOiBSZXNwb25zZSxcbik6IFByb21pc2U8VD4ge1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgcGFzc2VkRXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCkudGhlbihcbiAgICAgIChqc29uOiB7XG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICByZXNwb25zZT86IHtcbiAgICAgICAgICBlcnJvcj86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgIH0pID0+IGpzb24sXG4gICAgKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXNzZWRFcnJvcj8ucmVzcG9uc2U/LmVycm9yIHx8IHBhc3NlZEVycm9yPy5tZXNzYWdlO1xuXG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgZXJyb3IubmFtZSA9IHBhc3NlZEVycm9yLm5hbWU7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHsgbWVzc2FnZTogZXJyb3IsIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyB9KTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG50eXBlIEhUVFBNZXRob2QgPSBcIlBPU1RcIiB8IFwiR0VUXCIgfCBcIlBVVFwiIHwgXCJQQVRDSFwiIHwgXCJPUFRJT05TXCIgfCB1bmRlZmluZWQ7XG5cbnR5cGUgRmV0Y2hPcHRpb25zID0ge1xuICBib2R5PzogdW5rbm93bjtcbiAgbWV0aG9kPzogSFRUUE1ldGhvZDtcbiAgY29tcG9uZW50X2lkPzogc3RyaW5nO1xuICBhY2Nlc3NfdG9rZW4/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmV0Y2hDb25maWcoXG4gIG9wdHM6IEZldGNoT3B0aW9ucyA9IHsgY29tcG9uZW50X2lkOiBcIlwiIH0sXG4pOiBSZXF1ZXN0SW5pdCB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiBvcHRzLm1ldGhvZCB8fCBcIkdFVFwiLCAvLyBHRVQgaXMgZGVmYXVsdCBtZXRob2RcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIlgtQ29tcG9uZW50LUlkXCI6IG9wdHMuY29tcG9uZW50X2lkIHx8IFwiXCIsIC8vIENvbXBvbmVudCBJRCBpcyBwYXNzZWQgYXMgaGVhZGVyXG4gICAgICBcIlgtQWNjZXNzLVRva2VuXCI6IG9wdHMuYWNjZXNzX3Rva2VuIHx8IFwiXCIsIC8vIEFjY2VzcyBUb2tlbiBpcyBwYXNzZWQgYXMgaGVhZGVyXG4gICAgfSxcbiAgICBib2R5OiBvcHRzLmJvZHkgPyBKU09OLnN0cmluZ2lmeShvcHRzLmJvZHkpIDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRXJyb3IoaWQ6IHN0cmluZywgZXJyb3I6IE1hbmlmZXN0W1wiZXJyb3JcIl0pOiBuZXZlciB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICBFcnJvclN0b3JlLnVwZGF0ZSgoZXJyb3JNYXApID0+ICh7IC4uLmVycm9yTWFwLCBbaWRdOiBlcnJvciB9KSk7XG4gIHRocm93IGVycm9yO1xufVxuXG5jb25zdCBSRUdJT05fTUFQUElORzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgXCIwMDFcIjogXCJcIiwgLy8gVVNcbiAgXCIwMDJcIjogXCJpcmVsYW5kLVwiLCAvLyBFVVxuICBcIjAwM1wiOiBcImNhbmFkYS1cIiwgLy8gQ2FuYWRhXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkZGxld2FyZUFwaVVybChpZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHJlZ2lvbiA9IFwiXCI7XG4gIGlmIChpZC5zdWJzdHJpbmcoMywgNCkgPT09IFwiLVwiKSB7XG4gICAgY29uc3QgY29kZSA9IGlkLnN1YnN0cmluZygwLCAzKTtcbiAgICBpZiAodHlwZW9mIFJFR0lPTl9NQVBQSU5HW2NvZGVdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZWdpb24gPSBSRUdJT05fTUFQUElOR1tjb2RlXTtcbiAgICB9XG4gIH1cbiAgY29uc3QgQVBJX0dBVEVXQVkgPSBgaHR0cHM6Ly8ke3JlZ2lvbn0ke3Byb2Nlc3MuZW52LkFQSV9HQVRFV0FZfWA7XG4gIHJldHVybiBBUElfR0FURVdBWTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbGVuY2UoZXJyb3I6IEVycm9yKSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRRdWVyeVBhcmFtcyhwYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKVxuICAgIC5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBpZiAocGFyYW1zW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhY2MuYXBwZW5kKGtleSwgcGFyYW1zW2tleV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBuZXcgVVJMU2VhcmNoUGFyYW1zKCkpXG4gICAgLnRvU3RyaW5nKCk7XG59XG4iLCJpbXBvcnQge1xuICBnZXRGZXRjaENvbmZpZyxcbiAgaGFuZGxlRXJyb3IsXG4gIGhhbmRsZVJlc3BvbnNlLFxuICBnZXRNaWRkbGV3YXJlQXBpVXJsLFxufSBmcm9tIFwiLi4vbWV0aG9kcy9hcGlcIjtcbmltcG9ydCB0eXBlIHsgTWlkZGxld2FyZVJlc3BvbnNlIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEV2ZW50UXVlcnksXG4gIEV2ZW50LFxuICBDYWxlbmRhclF1ZXJ5LFxuICBDYWxlbmRhcixcbn0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0V2ZW50c1wiO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hFdmVudHMgPSBhc3luYyAocXVlcnk6IEV2ZW50UXVlcnkpOiBQcm9taXNlPEV2ZW50W10+ID0+IHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgIHF1ZXJ5LmNhbGVuZGFySURzLm1hcCgoY2FsZW5kYXIpID0+IHtcbiAgICAgIHJldHVybiBmZXRjaChcbiAgICAgICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChcbiAgICAgICAgICBxdWVyeS5jb21wb25lbnRfaWQgfHwgXCJcIixcbiAgICAgICAgKX0vYWdlbmRhL2V2ZW50cz9jYWxlbmRhcl9pZD0ke2NhbGVuZGFyfSZzdGFydHNfYWZ0ZXI9JHtxdWVyeS5zdGFydHNfYWZ0ZXIgLSAxXG4gICAgICAgIH0mZW5kc19iZWZvcmU9JHtxdWVyeS5lbmRzX2JlZm9yZX0mZXhwYW5kX3JlY3VycmluZz10cnVlYCxcbiAgICAgICAgZ2V0RmV0Y2hDb25maWcoe1xuICAgICAgICAgIGNvbXBvbmVudF9pZDogcXVlcnkuY29tcG9uZW50X2lkLFxuICAgICAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgICAgIGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxFdmVudFtdPj4ocmVzcG9uc2UpLFxuICAgICAgICApXG4gICAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlcykgPT4ge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlcy5mbGF0KCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQgfHwgXCJ1bmtub3duXCIsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hDYWxlbmRhcnMgPSBhc3luYyAoXG4gIHF1ZXJ5OiBDYWxlbmRhclF1ZXJ5LFxuKTogUHJvbWlzZTxDYWxlbmRhcltdPiA9PiB7XG4gIGlmIChxdWVyeS5jYWxlbmRhcklEcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKFxuICAgICAgcXVlcnkuY2FsZW5kYXJJRHMubWFwKChjYWxlbmRhcjogdW5rbm93bikgPT4ge1xuICAgICAgICByZXR1cm4gZmV0Y2goXG4gICAgICAgICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChcbiAgICAgICAgICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCB8fCBcIlwiLFxuICAgICAgICAgICl9L2NhbGVuZGFycy8ke2NhbGVuZGFyfWAsXG4gICAgICAgICAgZ2V0RmV0Y2hDb25maWcoe1xuICAgICAgICAgICAgY29tcG9uZW50X2lkOiBxdWVyeS5jb21wb25lbnRfaWQsXG4gICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHF1ZXJ5LmFjY2Vzc190b2tlbixcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT5cbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxDYWxlbmRhcltdPj4oXG4gICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlcykgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFJlc3BvbnNlcyA9IHJlc3BvbnNlc1xuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAocmVzcG9uc2UpOiByZXNwb25zZSBpcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PENhbGVuZGFyW10+ID0+XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIixcbiAgICAgICAgICApXG4gICAgICAgICAgLm1hcCgoY2FsKSA9PiBjYWwudmFsdWUpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZXNwb25zZXMuZmxhdCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKHF1ZXJ5LmNvbXBvbmVudF9pZCB8fCBcInVua25vd25cIiwgZXJyb3IpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKHF1ZXJ5LmNvbXBvbmVudF9pZCB8fCBcIlwiKX0vY2FsZW5kYXJzYCxcbiAgICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgICAgY29tcG9uZW50X2lkOiBxdWVyeS5jb21wb25lbnRfaWQsXG4gICAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgICAgfSksXG4gICAgKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8Q2FsZW5kYXJbXT4+KHJlc3BvbnNlKSxcbiAgICAgIClcbiAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVFdmVudChcbiAgZXZlbnQ6IEV2ZW50LFxuICBxdWVyeTogRXZlbnRRdWVyeSxcbik6IFByb21pc2U8RXZlbnQ+IHtcbiAgcmV0dXJuIGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwocXVlcnkuY29tcG9uZW50X2lkIHx8IFwiXCIpfS9hZ2VuZGEvZXZlbnRzYCxcbiAgICBnZXRGZXRjaENvbmZpZyh7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgY29tcG9uZW50X2lkOiBxdWVyeS5jb21wb25lbnRfaWQsXG4gICAgICBhY2Nlc3NfdG9rZW46IHF1ZXJ5LmFjY2Vzc190b2tlbixcbiAgICAgIGJvZHk6IGV2ZW50LFxuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8RXZlbnQ+PihyZXNwb25zZSkpXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHtcbiAgZ2V0RmV0Y2hDb25maWcsXG4gIGhhbmRsZUVycm9yLFxuICBoYW5kbGVSZXNwb25zZSxcbiAgZ2V0TWlkZGxld2FyZUFwaVVybCxcbiAgYnVpbGRRdWVyeVBhcmFtcyxcbn0gZnJvbSBcIi4uL21ldGhvZHMvYXBpXCI7XG5pbXBvcnQgdHlwZSB7XG4gIENvbnRhY3RzUXVlcnksXG4gIENvbnRhY3QsXG4gIENvbnRhY3RTZWFyY2hRdWVyeSxcbiAgQ29udGFjdHNRdWVyeVBhcmFtcyxcbn0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0NvbnRhY3RzXCI7XG5pbXBvcnQgdHlwZSB7IE1pZGRsZXdhcmVSZXNwb25zZSwgVGhyZWFkIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbmV4cG9ydCBjb25zdCBmZXRjaENvbnRhY3RzID0gYXN5bmMgKFxuICBxdWVyeTogQ29udGFjdHNRdWVyeSxcbiAgcGFyYW1zOiBDb250YWN0c1F1ZXJ5UGFyYW1zLFxuKTogUHJvbWlzZTxDb250YWN0W10+ID0+IHtcbiAgY29uc3QgdXJsID0gYCR7Z2V0TWlkZGxld2FyZUFwaVVybChcbiAgICBxdWVyeS5jb21wb25lbnRfaWQsXG4gICl9L2NvbnRhY3QtbGlzdC9jb250YWN0cz8ke2J1aWxkUXVlcnlQYXJhbXMocGFyYW1zKX1gO1xuXG4gIGNvbnN0IGNvbnRhY3RzID0gYXdhaXQgZmV0Y2goXG4gICAgdXJsLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIGNvbXBvbmVudF9pZDogcXVlcnkuY29tcG9uZW50X2lkLFxuICAgICAgYWNjZXNzX3Rva2VuOiBxdWVyeS5hY2Nlc3NfdG9rZW4sXG4gICAgfSksXG4gIClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxDb250YWN0W10+PihyZXNwb25zZSkpXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IocXVlcnkuY29tcG9uZW50X2lkLCBlcnJvcikpO1xuICByZXR1cm4gY29udGFjdHMgPz8gW107XG59O1xuXG4vLyBxdWVyeS5xdWVyeSBzaG91bGQgYmUgYSBxdWVyeVN0cmluZyBhcyBkZWZpbmVkIGF0IGh0dHBzOi8vZG9jcy5ueWxhcy5jb20vcmVmZXJlbmNlI2NvbnRhY3RzLTFcbmV4cG9ydCBjb25zdCBmZXRjaENvbnRhY3RzQnlRdWVyeSA9IGFzeW5jIChcbiAgcXVlcnk6IENvbnRhY3RTZWFyY2hRdWVyeSxcbik6IFByb21pc2U8Q29udGFjdFtdPiA9PiB7XG4gIGNvbnN0IGNvbnRhY3RzID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChxdWVyeS5jb21wb25lbnRfaWQpfS9jb250YWN0cyR7cXVlcnkucXVlcnl9YCxcbiAgICBnZXRGZXRjaENvbmZpZyh7XG4gICAgICBjb21wb25lbnRfaWQ6IHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8Q29udGFjdFtdPj4ocmVzcG9uc2UpKVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5yZXNwb25zZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKHF1ZXJ5LmNvbXBvbmVudF9pZCwgZXJyb3IpKTtcblxuICByZXR1cm4gY29udGFjdHMgPz8gW107XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hDb250YWN0SW1hZ2UgPSBhc3luYyAoXG4gIHF1ZXJ5OiBDb250YWN0c1F1ZXJ5LFxuICBpZDogc3RyaW5nLFxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgcmV0dXJuIGF3YWl0IGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwocXVlcnkuY29tcG9uZW50X2lkKX0vY29udGFjdHMvJHtpZH0vcGljdHVyZWAsXG4gICAgZ2V0RmV0Y2hDb25maWcoe1xuICAgICAgY29tcG9uZW50X2lkOiBxdWVyeS5jb21wb25lbnRfaWQsXG4gICAgICBhY2Nlc3NfdG9rZW46IHF1ZXJ5LmFjY2Vzc190b2tlbixcbiAgICB9KSxcbiAgKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPHN0cmluZz4+KHJlc3BvbnNlKSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hDb250YWN0VGhyZWFkcyA9IGFzeW5jIChcbiAgcXVlcnk6IENvbnRhY3RzUXVlcnksXG4gIG9mZnNldDogbnVtYmVyLFxuICBsaW1pdDogbnVtYmVyLFxuKTogUHJvbWlzZTxUaHJlYWRbXT4gPT4ge1xuICByZXR1cm4gYXdhaXQgZmV0Y2goXG4gICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChcbiAgICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICApfS90aHJlYWRzP29mZnNldD0ke29mZnNldH0mbGltaXQ9JHtsaW1pdH1gLFxuICAgIGdldEZldGNoQ29uZmlnKHF1ZXJ5KSxcbiAgKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPFRocmVhZFtdPj4ocmVzcG9uc2UpKVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5yZXNwb25zZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKHF1ZXJ5LmNvbXBvbmVudF9pZCwgZXJyb3IpKTtcbn07XG4iLCJpbXBvcnQge1xuICBnZXRGZXRjaENvbmZpZyxcbiAgaGFuZGxlRXJyb3IsXG4gIGhhbmRsZVJlc3BvbnNlLFxuICBnZXRNaWRkbGV3YXJlQXBpVXJsLFxufSBmcm9tIFwiLi4vbWV0aG9kcy9hcGlcIjtcbmltcG9ydCB0eXBlIHtcbiAgTWFpbGJveFF1ZXJ5LFxuICBUaHJlYWQsXG4gIENvbnZlcnNhdGlvblF1ZXJ5LFxuICBDb252ZXJzYXRpb24sXG4gIE1pZGRsZXdhcmVSZXNwb25zZSxcbn0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRocmVhZHMgPSAoXG4gIHF1ZXJ5OiBNYWlsYm94UXVlcnksXG4gIGxpbWl0OiBudW1iZXIsXG4gIG9mZnNldDogbnVtYmVyLFxuKTogUHJvbWlzZTxUaHJlYWRbXT4gPT4ge1xuICBpZiAocXVlcnkudGhyZWFkX2lkcykge1xuICAgIC8vICZsaW1pdD0ke2xpbWl0fSZvZmZzZXQ9JHtvZmZzZXR9XG4gICAgY29uc3QgcGFnZV9vZl9pZHMgPSBxdWVyeS50aHJlYWRfaWRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHBhZ2Vfb2ZfaWRzLm1hcChhc3luYyAodGhyZWFkX2lkKSA9PiB7XG4gICAgICAgIC8vIE55bGFzIEFQSSBkb2VzIG5vdCBzdXBwb3J0IGZldGNoaW5nIHRocmVhZHMgaW4gYnVsaywgc28gbXVzdCBmZXRjaCB0aGVtIG9uZVxuICAgICAgICAvLyBhdCBhIHRpbWUgOihcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgICAgICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICAgICAgKX0vdGhyZWFkcy8ke3RocmVhZF9pZH0/dmlldz1leHBhbmRlZGA7XG4gICAgICAgIC8vIFRPRE86IGlkZWFsbHkgdGhpcyB3b3VsZG4ndCByZXBsaWNhdGUgbXVjaCBvZiB0aGUgY29kZSBmcm9tIGJlbG93XG4gICAgICAgIHJldHVybiBhd2FpdCBmZXRjaChxdWVyeVN0cmluZywgZ2V0RmV0Y2hDb25maWcocXVlcnkpKVxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT5cbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxUaHJlYWQ+PihyZXNwb25zZSksXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChqc29uKSA9PiBqc29uLnJlc3BvbnNlKVxuICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHVnbHkgaGFjayB3aGVuIHdlIGZpeCB0aGUgQVBJIGZyb20gcmV0dXJuaW5nIGdob3N0IG1lc3NhZ2VzIChlLmcuIHcvbyBhIGZyb20vdG8gZmllbGQpXG4gICAgICAgICAgLnRoZW4oKHRocmVhZCkgPT4gKHtcbiAgICAgICAgICAgIC4uLnRocmVhZCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiB0aHJlYWQubWVzc2FnZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAobWVzc2FnZSkgPT4gbWVzc2FnZS5mcm9tLmxlbmd0aCAhPT0gMCB8fCBtZXNzYWdlLnRvLmxlbmd0aCAhPT0gMCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSkpXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IocXVlcnkuY29tcG9uZW50X2lkLCBlcnJvcikpO1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxuICBsZXQgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgKX0vdGhyZWFkcz92aWV3PWV4cGFuZGVkJm5vdF9pbj10cmFzaCZsaW1pdD0ke2xpbWl0fSZvZmZzZXQ9JHtvZmZzZXR9YDtcbiAgaWYgKHF1ZXJ5LnF1ZXJ5KSB7XG4gICAgT2JqZWN0LmVudHJpZXMocXVlcnkucXVlcnkpLmZvckVhY2goXG4gICAgICAocGFyYW0pID0+IChxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nLmNvbmNhdChgJiR7cGFyYW1bMF19PSR7cGFyYW1bMV19YCkpLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBmZXRjaChxdWVyeVN0cmluZywgZ2V0RmV0Y2hDb25maWcocXVlcnkpKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8VGhyZWFkW10+PihyZXNwb25zZSksXG4gICAgICApXG4gICAgICAudGhlbigoanNvbikgPT4ganNvbi5yZXNwb25zZSlcbiAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHVnbHkgaGFjayB3aGVuIHdlIGZpeCB0aGUgQVBJIGZyb20gcmV0dXJuaW5nIGdob3N0IG1lc3NhZ2VzIChlLmcuIHcvbyBhIGZyb20vdG8gZmllbGQpXG4gICAgICAudGhlbigodGhyZWFkcykgPT5cbiAgICAgICAgdGhyZWFkcy5tYXAoKHRocmVhZCkgPT4gKHtcbiAgICAgICAgICAuLi50aHJlYWQsXG4gICAgICAgICAgbWVzc2FnZXM6IHRocmVhZC5tZXNzYWdlcy5maWx0ZXIoXG4gICAgICAgICAgICAobWVzc2FnZSkgPT4gbWVzc2FnZS5mcm9tLmxlbmd0aCAhPT0gMCB8fCBtZXNzYWdlLnRvLmxlbmd0aCAhPT0gMCxcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICApXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSlcbiAgKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFRocmVhZENvdW50KHF1ZXJ5OiBNYWlsYm94UXVlcnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICBsZXQgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgKX0vdGhyZWFkcz92aWV3PWV4cGFuZGVkJm5vdF9pbj10cmFzaCZ2aWV3PWNvdW50YDtcbiAgaWYgKHF1ZXJ5LnF1ZXJ5KSB7XG4gICAgT2JqZWN0LmVudHJpZXMocXVlcnkucXVlcnkpLmZvckVhY2goXG4gICAgICAocGFyYW0pID0+IChxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nLmNvbmNhdChgJiR7cGFyYW1bMF19PSR7cGFyYW1bMV19YCkpLFxuICAgICk7XG4gIH1cblxuICBpZiAocXVlcnkua2V5d29yZFRvU2VhcmNoKSB7XG4gICAgcXVlcnlTdHJpbmcgKz0gYCZxPSR7cXVlcnkua2V5d29yZFRvU2VhcmNofWA7XG4gIH1cblxuICByZXR1cm4gZmV0Y2gocXVlcnlTdHJpbmcsIGdldEZldGNoQ29uZmlnKHF1ZXJ5KSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxhbnk+PihyZXNwb25zZSkpXG4gICAgLnRoZW4oKGpzb24pID0+IGpzb24ucmVzcG9uc2UuY291bnQpO1xufVxuXG5leHBvcnQgY29uc3QgZmV0Y2hTZWFyY2hSZXN1bHRUaHJlYWRzID0gKFxuICBxdWVyeTogTWFpbGJveFF1ZXJ5LFxuKTogUHJvbWlzZTxUaHJlYWRbXT4gPT4ge1xuICBjb25zdCBxdWVyeVN0cmluZyA9IGAke2dldE1pZGRsZXdhcmVBcGlVcmwoXG4gICAgcXVlcnkuY29tcG9uZW50X2lkLFxuICApfS90aHJlYWRzL3NlYXJjaD9xPSR7cXVlcnkua2V5d29yZFRvU2VhcmNofSZ2aWV3PWV4cGFuZGVkJmxpbWl0PSR7XG4gICAgcXVlcnkucXVlcnkubGltaXRcbiAgfSZvZmZzZXQ9JHtxdWVyeS5xdWVyeS5vZmZzZXR9YDtcblxuICByZXR1cm4gZmV0Y2gocXVlcnlTdHJpbmcsIGdldEZldGNoQ29uZmlnKHF1ZXJ5KSlcbiAgICAudGhlbihhc3luYyAocmVzcG9uc2UpID0+XG4gICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8VGhyZWFkW10+PihyZXNwb25zZSksXG4gICAgKVxuICAgIC50aGVuKChqc29uKSA9PiBqc29uLnJlc3BvbnNlKVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKHF1ZXJ5LmNvbXBvbmVudF9pZCwgZXJyb3IpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmZXRjaFRocmVhZCA9IGFzeW5jIChcbiAgcXVlcnk6IENvbnZlcnNhdGlvblF1ZXJ5LFxuKTogUHJvbWlzZTxDb252ZXJzYXRpb24+ID0+IHtcbiAgY29uc3QgdGhyZWFkID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChxdWVyeS5jb21wb25lbnRfaWQpfS90aHJlYWRzLyR7XG4gICAgICBxdWVyeS50aHJlYWRfaWRcbiAgICB9P3ZpZXc9ZXhwYW5kZWRgLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIGNvbXBvbmVudF9pZDogcXVlcnkuY29tcG9uZW50X2lkLFxuICAgICAgYWNjZXNzX3Rva2VuOiBxdWVyeS5hY2Nlc3NfdG9rZW4sXG4gICAgfSksXG4gIClcbiAgICAudGhlbigocmVzcG9uc2UpID0+XG4gICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8Q29udmVyc2F0aW9uPj4ocmVzcG9uc2UpLFxuICAgIClcbiAgICAudGhlbigoanNvbikgPT4ganNvbi5yZXNwb25zZSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSk7XG5cbiAgcmV0dXJuIHRocmVhZDtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVUaHJlYWQgPSAoXG4gIHF1ZXJ5OiBDb252ZXJzYXRpb25RdWVyeSxcbiAgdXBkYXRlZFRocmVhZDogQ29udmVyc2F0aW9uLFxuKTogUHJvbWlzZTxDb252ZXJzYXRpb24+ID0+IHtcbiAgLy8gYWNjZXB0cyB1bnJlYWQsIHN0YXJyZWQsIGZvbGRlcl9pZCArIGxhYmVsX2lkcy4gZGV2ZWxvcGVyLm55bGFzLmNvbS9kb2NzL2FwaS8jcHV0L3RocmVhZHMvaWRcbiAgcmV0dXJuIGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwocXVlcnkuY29tcG9uZW50X2lkKX0vdGhyZWFkcy8ke3VwZGF0ZWRUaHJlYWQuaWR9YCxcbiAgICBnZXRGZXRjaENvbmZpZyh7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBjb21wb25lbnRfaWQ6IHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgICAgYm9keToge1xuICAgICAgICB1bnJlYWQ6IHVwZGF0ZWRUaHJlYWQudW5yZWFkLFxuICAgICAgICBzdGFycmVkOiB1cGRhdGVkVGhyZWFkLnN0YXJyZWQsXG4gICAgICAgIGZvbGRlcl9pZDogdXBkYXRlZFRocmVhZC5mb2xkZXJfaWQsXG4gICAgICAgIGxhYmVsX2lkczogdXBkYXRlZFRocmVhZC5sYWJlbF9pZHMsXG4gICAgICB9LFxuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPENvbnZlcnNhdGlvbj4+KHJlc3BvbnNlKSxcbiAgICApXG4gICAgLnRoZW4oKGpzb24pID0+IGpzb24ucmVzcG9uc2UpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IocXVlcnkuY29tcG9uZW50X2lkLCBlcnJvcikpO1xufTtcbiIsImltcG9ydCB7XG4gIGdldEZldGNoQ29uZmlnLFxuICBoYW5kbGVFcnJvcixcbiAgaGFuZGxlUmVzcG9uc2UsXG4gIGdldE1pZGRsZXdhcmVBcGlVcmwsXG59IGZyb20gXCIuLi9tZXRob2RzL2FwaVwiO1xuaW1wb3J0IHR5cGUgeyBNYW5pZmVzdCwgTWlkZGxld2FyZVJlc3BvbnNlIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbmV4cG9ydCBjb25zdCBmZXRjaE1hbmlmZXN0ID0gYXN5bmMgKFxuICBpZDogc3RyaW5nLFxuICBhY2Nlc3NfdG9rZW4/OiBzdHJpbmcsXG4pOiBQcm9taXNlPE1hbmlmZXN0PiA9PiB7XG4gIHJldHVybiBhd2FpdCBmZXRjaChcbiAgICBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKGlkKX0vbWFuaWZlc3RgLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIGFjY2Vzc190b2tlbixcbiAgICAgIGNvbXBvbmVudF9pZDogaWQsXG4gICAgfSksXG4gIClcbiAgICAudGhlbjxNaWRkbGV3YXJlUmVzcG9uc2U+KGhhbmRsZVJlc3BvbnNlKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuY29tcG9uZW50LnRoZW1pbmcpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IoaWQsIGVycm9yKSk7XG59O1xuXG4vLyBBbGxvd3MgPG55bGFzLXNjaGVkdWxlLWVkaXRvcj4gdG8gbW9kaWZ5IGl0cyBvd24gcHJvcGVydGllc1xuXG5leHBvcnQgY29uc3Qgc2F2ZU1hbmlmZXN0ID0gYXN5bmMgKFxuICBpZDogc3RyaW5nLFxuICBtYW5pZmVzdDogTWFuaWZlc3QsXG4gIGFjY2Vzc190b2tlbj86IHN0cmluZyxcbik6IFByb21pc2U8TWFuaWZlc3Q+ID0+IHtcbiAgcmV0dXJuIGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwoaWQpfS9jb21wb25lbnRgLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGNvbXBvbmVudF9pZDogaWQsXG4gICAgICBhY2Nlc3NfdG9rZW4sXG4gICAgICBib2R5OiB7IHNldHRpbmdzOiBtYW5pZmVzdCB9LFxuICAgIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8TWFuaWZlc3Q+PihyZXNwb25zZSkpXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IE1lc3NhZ2VTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9tZXNzYWdlc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RmV0Y2hDb25maWcsXG4gIGhhbmRsZUVycm9yLFxuICBoYW5kbGVSZXNwb25zZSxcbiAgZ2V0TWlkZGxld2FyZUFwaVVybCxcbn0gZnJvbSBcIi4uL21ldGhvZHMvYXBpXCI7XG5pbXBvcnQgdHlwZSB7XG4gIFNpbmd1bGFyRW1haWwsXG4gIENvbW1vblF1ZXJ5LFxuICBNZXNzYWdlc1F1ZXJ5LFxuICBGaWxlIGFzIE55bGFzRmlsZSxcbiAgTWVzc2FnZSBhcyBOeWxhc01lc3NhZ2UsXG4gIE1pZGRsZXdhcmVSZXNwb25zZSxcbn0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQ29tcG9zZXJcIjtcblxuZXhwb3J0IGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKFxuICBjb21wb25lbnRfaWQ6IHN0cmluZyxcbiAgbXNnOiBNZXNzYWdlLFxuICBhY2Nlc3NfdG9rZW4/OiBzdHJpbmcsXG4pOiBQcm9taXNlPE55bGFzTWVzc2FnZT4gPT4ge1xuICByZXR1cm4gYXdhaXQgZmV0Y2goXG4gICAgYCR7Z2V0TWlkZGxld2FyZUFwaVVybChjb21wb25lbnRfaWQpfS9zZW5kYCxcbiAgICBnZXRGZXRjaENvbmZpZyh7IG1ldGhvZDogXCJQT1NUXCIsIGNvbXBvbmVudF9pZCwgYWNjZXNzX3Rva2VuLCBib2R5OiBtc2cgfSksXG4gIClcbiAgICAudGhlbigocmVzcG9uc2UpID0+XG4gICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8TnlsYXNNZXNzYWdlPj4ocmVzcG9uc2UpLFxuICAgIClcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihjb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZShcbiAgY29tcG9uZW50X2lkOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IE55bGFzTWVzc2FnZSxcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nLFxuKTogUHJvbWlzZTxOeWxhc01lc3NhZ2U+IHtcbiAgY29uc3QgdXJsID0gYCR7Z2V0TWlkZGxld2FyZUFwaVVybChjb21wb25lbnRfaWQpfS9tZXNzYWdlcy8ke21lc3NhZ2UuaWR9YDtcbiAgY29uc3QgZmV0Y2hDb25maWcgPSBnZXRGZXRjaENvbmZpZyh7XG4gICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgIGNvbXBvbmVudF9pZCxcbiAgICBhY2Nlc3NfdG9rZW4sXG4gICAgYm9keTogeyBmb2xkZXJfaWQ6IG1lc3NhZ2UuZm9sZGVyX2lkLCBsYWJlbF9pZHM6IG1lc3NhZ2UubGFiZWxfaWRzIH0sXG4gIH0pO1xuICByZXR1cm4gYXdhaXQgZmV0Y2godXJsLCBmZXRjaENvbmZpZylcbiAgICAudGhlbigocmVzcG9uc2UpID0+XG4gICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8TnlsYXNNZXNzYWdlPj4ocmVzcG9uc2UpLFxuICAgIClcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihjb21wb25lbnRfaWQsIGVycm9yKSk7XG59XG5cbmV4cG9ydCBjb25zdCB1cGxvYWRGaWxlID0gYXN5bmMgKFxuICBjb21wb25lbnRfaWQ6IHN0cmluZyxcbiAgZmlsZTogRmlsZSxcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nLFxuKTogUHJvbWlzZTxOeWxhc0ZpbGU+ID0+IHtcbiAgY29uc3QgZmV0Y2hDb25maWc6IFJlcXVlc3RJbml0ID0gZ2V0RmV0Y2hDb25maWcoe1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgY29tcG9uZW50X2lkLFxuICAgIGFjY2Vzc190b2tlbixcbiAgfSk7XG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9ybS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuICBpZiAoXG4gICAgdHlwZW9mIGZldGNoQ29uZmlnLmhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICBcIkNvbnRlbnQtVHlwZVwiIGluIGZldGNoQ29uZmlnLmhlYWRlcnNcbiAgKSB7XG4gICAgZGVsZXRlIGZldGNoQ29uZmlnLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gIH1cbiAgZmV0Y2hDb25maWcuYm9keSA9IGZvcm07XG4gIHJldHVybiBhd2FpdCBmZXRjaChgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKGNvbXBvbmVudF9pZCl9L2ZpbGVzYCwgZmV0Y2hDb25maWcpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8TnlsYXNGaWxlPj4ocmVzcG9uc2UpKVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShqc29uLnJlc3BvbnNlKSA/IGpzb24ucmVzcG9uc2VbMF0gOiBqc29uLnJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yLmJpbmQoMCwgY29tcG9uZW50X2lkKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hNZXNzYWdlcyA9IGFzeW5jIChcbiAgcXVlcnk6IE1lc3NhZ2VzUXVlcnksXG4gIG9mZnNldDogbnVtYmVyLFxuICBsaW1pdDogbnVtYmVyLFxuKTogUHJvbWlzZTxOeWxhc01lc3NhZ2VbXT4gPT4ge1xuICBsZXQgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgKX0vbWVzc2FnZXM/b2Zmc2V0PSR7b2Zmc2V0fSZsaW1pdD0ke2xpbWl0fWA7XG4gIGlmIChxdWVyeS5yZWNlaXZlZF9iZWZvcmUpIHtcbiAgICBxdWVyeVN0cmluZyA9IGAke3F1ZXJ5U3RyaW5nfSZyZWNlaXZlZF9iZWZvcmU9JHtxdWVyeS5yZWNlaXZlZF9iZWZvcmV9YDtcbiAgfVxuICBpZiAocXVlcnkucmVjZWl2ZWRfYWZ0ZXIpIHtcbiAgICBxdWVyeVN0cmluZyA9IGAke3F1ZXJ5U3RyaW5nfSZyZWNlaXZlZF9hZnRlcj0ke3F1ZXJ5LnJlY2VpdmVkX2FmdGVyfWA7XG4gIH1cbiAgcmV0dXJuIGF3YWl0IGZldGNoKHF1ZXJ5U3RyaW5nLCBnZXRGZXRjaENvbmZpZyhxdWVyeSkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPE55bGFzTWVzc2FnZVtdPj4ocmVzcG9uc2UpLFxuICAgIClcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgTWVzc2FnZVN0b3JlLmFkZE1lc3NhZ2VzKHtcbiAgICAgICAgcXVlcnlLZXk6IEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSxcbiAgICAgICAgZGF0YToganNvbi5yZXNwb25zZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hNZXNzYWdlID0gYXN5bmMgKFxuICBxdWVyeTogQ29tbW9uUXVlcnksXG4gIG1lc3NhZ2VJRDogc3RyaW5nLFxuKTogUHJvbWlzZTxOeWxhc01lc3NhZ2U+ID0+IHtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgIHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgKX0vbWVzc2FnZXMvJHttZXNzYWdlSUR9YDtcbiAgcmV0dXJuIGF3YWl0IGZldGNoKHF1ZXJ5U3RyaW5nLCBnZXRGZXRjaENvbmZpZyhxdWVyeSkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPE55bGFzTWVzc2FnZT4+KHJlc3BvbnNlKSxcbiAgICApXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IocXVlcnkuY29tcG9uZW50X2lkLCBlcnJvcikpO1xufTtcblxuLy8gRm9yIGNhc2VzIHdoZW4gc29tZW9uZSB3YW50cyB0byBzaG93IGp1c3QgYSBzaW5nbGUgZW1haWwgbWVzc2FnZSwgcmF0aGVyIHRoYW4gdGhlIGZ1bGwgdGhyZWFkIGFuZCB3L28gcGFzc2luZyBhIHRocmVhZCBpZFxuZXhwb3J0IGNvbnN0IGZldGNoRW1haWwgPSBhc3luYyAoXG4gIHF1ZXJ5OiBTaW5ndWxhckVtYWlsLFxuKTogUHJvbWlzZTxOeWxhc01lc3NhZ2U+ID0+IHtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKHF1ZXJ5LmNvbXBvbmVudF9pZCl9L21lc3NhZ2VzLyR7XG4gICAgcXVlcnkubWVzc2FnZV9pZFxuICB9YDtcbiAgcmV0dXJuIGF3YWl0IGZldGNoKHF1ZXJ5U3RyaW5nLCBnZXRGZXRjaENvbmZpZyhxdWVyeSkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPE55bGFzTWVzc2FnZT4+KHJlc3BvbnNlKSxcbiAgICApXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IocXVlcnkuY29tcG9uZW50X2lkLCBlcnJvcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVEcmFmdCA9IGFzeW5jIChcbiAgY29tcG9uZW50X2lkOiBzdHJpbmcsXG4gIG1zZzogTWVzc2FnZSxcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nLFxuKTogUHJvbWlzZTxOeWxhc01lc3NhZ2U+ID0+IHtcbiAgcmV0dXJuIGF3YWl0IGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwoY29tcG9uZW50X2lkKX0vZHJhZnRzYCxcbiAgICBnZXRGZXRjaENvbmZpZyh7IG1ldGhvZDogXCJQT1NUXCIsIGNvbXBvbmVudF9pZCwgYWNjZXNzX3Rva2VuLCBib2R5OiBtc2cgfSksXG4gIClcbiAgICAudGhlbigocmVzcG9uc2UpID0+XG4gICAgICBoYW5kbGVSZXNwb25zZTxNaWRkbGV3YXJlUmVzcG9uc2U8TnlsYXNNZXNzYWdlPj4ocmVzcG9uc2UpLFxuICAgIClcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihjb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRHJhZnQgPSBhc3luYyAoXG4gIGNvbXBvbmVudF9pZDogc3RyaW5nLFxuICBtc2c6IE1lc3NhZ2UsXG4gIGFjY2Vzc190b2tlbj86IHN0cmluZyxcbik6IFByb21pc2U8TnlsYXNNZXNzYWdlPiA9PiB7XG4gIHJldHVybiBhd2FpdCBmZXRjaChcbiAgICBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKGNvbXBvbmVudF9pZCl9L2RyYWZ0cy8ke21zZy5pZH1gLFxuICAgIGdldEZldGNoQ29uZmlnKHsgbWV0aG9kOiBcIlBVVFwiLCBjb21wb25lbnRfaWQsIGFjY2Vzc190b2tlbiwgYm9keTogbXNnIH0pLFxuICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgaGFuZGxlUmVzcG9uc2U8TWlkZGxld2FyZVJlc3BvbnNlPE55bGFzTWVzc2FnZT4+KHJlc3BvbnNlKSxcbiAgICApXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLnJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IoY29tcG9uZW50X2lkLCBlcnJvcikpO1xufTtcbiIsImltcG9ydCB7XG4gIGdldEZldGNoQ29uZmlnLFxuICBoYW5kbGVFcnJvcixcbiAgaGFuZGxlUmVzcG9uc2UsXG4gIGdldE1pZGRsZXdhcmVBcGlVcmwsXG59IGZyb20gXCIuLi9tZXRob2RzL2FwaVwiO1xuaW1wb3J0IHR5cGUge1xuICBDb25zZWN1dGl2ZUF2YWlsYWJpbGl0eVF1ZXJ5LFxuICBBdmFpbGFiaWxpdHlRdWVyeSxcbiAgQXZhaWxhYmlsaXR5UmVzcG9uc2UsXG4gIEZyZWVCdXN5UmVzcG9uc2UsXG4gIFByZURhdGVkVGltZVNsb3QsXG59IGZyb20gXCJAY29tbW9ucy90eXBlcy9BdmFpbGFiaWxpdHlcIjtcbmltcG9ydCB0eXBlIHsgTWlkZGxld2FyZVJlc3BvbnNlIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5pbXBvcnQgdHlwZSB7IEV2ZW50RGVmaW5pdGlvbiB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9TY2hlZHVsZUVkaXRvclwiO1xuaW1wb3J0IHR5cGUgeyBDb25zZWN1dGl2ZUV2ZW50IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0Jvb2tpbmdcIjtcblxuLy8gVE9ETzogZGVwcmVjYXRlIGlmIHdlIGZpbmQgL2NhbGVuZGFycy9hdmFpbGFiaWxpdHkgdG8gYmUgZnVsbHkgc3VmZmljaWVudFxuZXhwb3J0IGNvbnN0IGZldGNoRnJlZUJ1c3kgPSBhc3luYyAoXG4gIHF1ZXJ5OiBBdmFpbGFiaWxpdHlRdWVyeSxcbik6IFByb21pc2U8RnJlZUJ1c3lSZXNwb25zZVtdPiA9PiB7XG4gIHJldHVybiBmZXRjaChcbiAgICBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKHF1ZXJ5LmNvbXBvbmVudF9pZCl9L2NhbGVuZGFycy9mcmVlLWJ1c3lgLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBjb21wb25lbnRfaWQ6IHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgICAgYm9keTogcXVlcnkuYm9keSxcbiAgICB9KSxcbiAgKVxuICAgIC50aGVuKGFzeW5jIChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QganNvbiA9IGF3YWl0IGhhbmRsZVJlc3BvbnNlPE1pZGRsZXdhcmVSZXNwb25zZTxGcmVlQnVzeVJlc3BvbnNlW10+PihcbiAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hBdmFpbGFiaWxpdHkgPSBhc3luYyAoXG4gIHF1ZXJ5OiBBdmFpbGFiaWxpdHlRdWVyeSxcbik6IFByb21pc2U8QXZhaWxhYmlsaXR5UmVzcG9uc2U+ID0+IHtcbiAgcmV0dXJuIGZldGNoKFxuICAgIGAke2dldE1pZGRsZXdhcmVBcGlVcmwocXVlcnkuY29tcG9uZW50X2lkKX0vY2FsZW5kYXJzL2F2YWlsYWJpbGl0eWAsXG4gICAgZ2V0RmV0Y2hDb25maWcoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGNvbXBvbmVudF9pZDogcXVlcnkuY29tcG9uZW50X2lkLFxuICAgICAgYWNjZXNzX3Rva2VuOiBxdWVyeS5hY2Nlc3NfdG9rZW4sXG4gICAgICBib2R5OiBxdWVyeS5ib2R5LFxuICAgIH0pLFxuICApXG4gICAgLnRoZW4oYXN5bmMgKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBqc29uID0gYXdhaXQgaGFuZGxlUmVzcG9uc2U8XG4gICAgICAgIE1pZGRsZXdhcmVSZXNwb25zZTxBdmFpbGFiaWxpdHlSZXNwb25zZT5cbiAgICAgID4oYXBpUmVzcG9uc2UpO1xuICAgICAgLy8gTm9ybWFsaXplIHJlc3BvbnNlIC5zdGFydCBhbmQgLmVuZCB0byAuc3RhcnRfdGltZSBhbmQgLmVuZF90aW1lIHRvIG1ha2UgdXAgZm9yIGRpc2NyZXBlbmRjeSBpbiB0aGUgTnlsYXMgQVBJOiBodHRwczovL2RldmVsb3Blci5ueWxhcy5jb20vZG9jcy9jb25uZWN0aXZpdHkvY2FsZW5kYXIvY2FsZW5kYXItYXZhaWxhYmlsaXR5LyNhdmFpbGFiaWxpdHktcmVzcG9uc2VcbiAgICAgIC8vIEFQSSBzdG9yeTogaHR0cHM6Ly9hcHAuc2hvcnRjdXQuY29tL255bGFzL3N0b3J5LzczMTk2L1xuICAgICAganNvbi5yZXNwb25zZS50aW1lX3Nsb3RzID0ganNvbi5yZXNwb25zZS50aW1lX3Nsb3RzLm1hcCgoc2xvdCkgPT4ge1xuICAgICAgICBzbG90LnN0YXJ0X3RpbWUgPSBzbG90LnN0YXJ0IHx8IDA7XG4gICAgICAgIHNsb3QuZW5kX3RpbWUgPSBzbG90LmVuZCB8fCAwO1xuICAgICAgICBkZWxldGUgc2xvdC5zdGFydDtcbiAgICAgICAgZGVsZXRlIHNsb3QuZW5kO1xuICAgICAgICByZXR1cm4gc2xvdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpzb24ucmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBoYW5kbGVFcnJvcihxdWVyeS5jb21wb25lbnRfaWQsIGVycm9yKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hDb25zZWN1dGl2ZUF2YWlsYWJpbGl0eSA9IGFzeW5jIChcbiAgcXVlcnk6IENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5UXVlcnksXG4pOiBQcm9taXNlPENvbnNlY3V0aXZlRXZlbnRbXVtdPiA9PiB7XG4gIHJldHVybiBmZXRjaChcbiAgICBgJHtnZXRNaWRkbGV3YXJlQXBpVXJsKFxuICAgICAgcXVlcnkuY29tcG9uZW50X2lkLFxuICAgICl9L2NhbGVuZGFycy9hdmFpbGFiaWxpdHkvY29uc2VjdXRpdmVgLFxuICAgIGdldEZldGNoQ29uZmlnKHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBjb21wb25lbnRfaWQ6IHF1ZXJ5LmNvbXBvbmVudF9pZCxcbiAgICAgIGFjY2Vzc190b2tlbjogcXVlcnkuYWNjZXNzX3Rva2VuLFxuICAgICAgYm9keTogcXVlcnkuYm9keSxcbiAgICB9KSxcbiAgKVxuICAgIC50aGVuKGFzeW5jIChhcGlSZXNwb25zZSk6IFByb21pc2U8Q29uc2VjdXRpdmVFdmVudFtdW10+ID0+IHtcbiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCBoYW5kbGVSZXNwb25zZTxcbiAgICAgICAgTWlkZGxld2FyZVJlc3BvbnNlPFByZURhdGVkVGltZVNsb3RbXVtdPlxuICAgICAgPihhcGlSZXNwb25zZSk7XG4gICAgICBjb25zdCByZXNwb25zZTogUHJlRGF0ZWRUaW1lU2xvdFtdW10gPVxuICAgICAgICBqc29uLnJlc3BvbnNlPy5tYXAoKGJsb2NrU2xvdCkgPT4ge1xuICAgICAgICAgIGJsb2NrU2xvdCA9IGJsb2NrU2xvdC5tYXAoKHNsb3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgc2xvdC5zdGFydF90aW1lID0gbmV3IERhdGUoc2xvdC5zdGFydF90aW1lICogMTAwMCk7XG4gICAgICAgICAgICBzbG90LmVuZF90aW1lID0gbmV3IERhdGUoc2xvdC5lbmRfdGltZSAqIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGJsb2NrU2xvdDtcbiAgICAgICAgfSkgfHwgW107XG4gICAgICBjb25zdCBoeWRyYXRlZFJlc3BvbnNlID0gaHlkcmF0ZVNsb3RzVG9FdmVudHMoXG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBxdWVyeS5ib2R5LmV2ZW50cyxcbiAgICAgICk7XG4gICAgICBjb25zdCBkZWR1cGVkUmVzcG9uc2UgPVxuICAgICAgICByZW1vdmVTaW11bHRhbmVvdXNBdmFpbGFiaWxpdHlPcHRpb25zKGh5ZHJhdGVkUmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIGRlZHVwZWRSZXNwb25zZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKHF1ZXJ5LmNvbXBvbmVudF9pZCwgZXJyb3IpKTtcbn07XG5cbi8vIERvaW5nIHRoZSBiZXN0IHdlIGNhbiB3aXRoIHdoYXQgd2UndmUgZ290OiAvY2FsZW5kYXJzL2F2YWlsYWJpbGl0eS9jb25zZWN1dGl2ZSBkb2Vzbid0IHJldHVybiBhbnkgaW5mbyBvdGhlciB0aGFuIGVtYWlsc1xuLy8gYW5kIHN0YXJ0L2VuZCB0aW1lcy4gVGhpcyBtZWFucyB0aGF0IGlmIHdlIGhhdmUgdG8gZXZlbnRzIChFdmVudERlZmluaXRpb25zKSB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3Nlcz8gV2UncmUgc2hvb3RpbmcgaW4gdGhlIGRhcmsgYWJvdXQgd2hpY2ggaXMgd2hpY2guXG4vLyBUT0RPOiBhbGxvdyBmb3IgYW4gaW5kaWNhdG9yIG9uIHRoZSBBUEkgc2lkZVxuZnVuY3Rpb24gaHlkcmF0ZVNsb3RzVG9FdmVudHMoXG4gIGF2YWlsYWJpbGl0aWVzOiBQcmVEYXRlZFRpbWVTbG90W11bXSxcbiAgZXZlbnRzOiBFdmVudERlZmluaXRpb25bXSxcbik6IENvbnNlY3V0aXZlRXZlbnRbXVtdIHtcbiAgcmV0dXJuIGF2YWlsYWJpbGl0aWVzLm1hcCgoYmxvY2spID0+IHtcbiAgICByZXR1cm4gYmxvY2subWFwKChzdWJldmVudCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3ViZXZlbnQsXG4gICAgICAgIC4uLmV2ZW50cy5maW5kKFxuICAgICAgICAgIChldmVudGRlZikgPT5cbiAgICAgICAgICAgIGV2ZW50ZGVmLnBhcnRpY2lwYW50RW1haWxzLmxlbmd0aCA9PT0gc3ViZXZlbnQuZW1haWxzLmxlbmd0aCAmJlxuICAgICAgICAgICAgZXZlbnRkZWYucGFydGljaXBhbnRFbWFpbHMuZXZlcnkoKGVtYWlsKSA9PlxuICAgICAgICAgICAgICBzdWJldmVudC5lbWFpbHMuaW5jbHVkZXMoZW1haWwpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pIGFzIGFueVtdW107IC8vIFRPRE86IEhvdyB0byBiZXN0IGNvZXJjZSBQcmVEYXRlZFRpbWVTbG90W11bXSB0byBDb25zZWN1dGl2ZUV2ZW50W11bXT8gc3ByZWFkLWNvbWJpbmVkIHJldHVybiBoYW5kbGVzIGl0LlxufVxuXG4vLyBXZSBkb24ndCB3YW50IHRvIG92ZXJidXJkZW4gb3VyIHVzZXJzIHdpdGggdG9vIG11Y2ggc3dlZXQgaG9ycmlibGUgZnJlZWRvbSBvZiBjaG9pY2U7XG4vLyB0aGUgL2NhbGVuZGFycy9hdmFpbGFiaWxpdHkvY29uc2VjdXRpdmUgZW5kcG9pbnQgcmV0dXJucyBvcmRlciBwZXJtdXRhdGlvbnMgd2l0aCBzYW1lIHRpbWUgc2xvdHM7XG4vLyBDdWxsIHRoZW0gZG93biB0byBqdXN0IHRoZSBmaXJzdCB0aGF0IGV4aXN0cyBwZXIgdGltZXNsb3QuXG5mdW5jdGlvbiByZW1vdmVTaW11bHRhbmVvdXNBdmFpbGFiaWxpdHlPcHRpb25zKFxuICBhdmFpbGFiaWxpdGllczogQ29uc2VjdXRpdmVFdmVudFtdW10sXG4pIHtcbiAgY29uc3QgYmxvY2tTZXQgPSBuZXcgU2V0KCk7XG4gIHJldHVybiBhdmFpbGFiaWxpdGllcy5maWx0ZXIoKGJsb2NrKSA9PiB7XG4gICAgY29uc3QgYmxvY2tTdHJpbmcgPSBgJHtibG9ja1swXS5zdGFydF90aW1lfV8ke1xuICAgICAgYmxvY2tbYmxvY2subGVuZ3RoIC0gMV0uZW5kX3RpbWVcbiAgICB9YDtcbiAgICBpZiAoYmxvY2tTZXQuaGFzKGJsb2NrU3RyaW5nKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBibG9ja1NldC5hZGQoYmxvY2tTdHJpbmcpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IFdyaXRhYmxlLCB3cml0YWJsZSB9IGZyb20gXCJzdmVsdGUvc3RvcmVcIjtcbmltcG9ydCB7IGZldGNoQXZhaWxhYmlsaXR5IH0gZnJvbSBcIi4uL2Nvbm5lY3Rpb25zL2F2YWlsYWJpbGl0eVwiO1xuaW1wb3J0IHR5cGUge1xuICBBdmFpbGFiaWxpdHlRdWVyeSxcbiAgQXZhaWxhYmlsaXR5UmVzcG9uc2UsXG59IGZyb20gXCJAY29tbW9ucy90eXBlcy9BdmFpbGFiaWxpdHlcIjtcblxudHlwZSBBdmFpbGFiaWxpdHlTdG9yZSA9IFJlY29yZDxzdHJpbmcsIFByb21pc2U8QXZhaWxhYmlsaXR5UmVzcG9uc2U+PjtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOiBXcml0YWJsZTxBdmFpbGFiaWxpdHlTdG9yZT4ge1xuICBjb25zdCBnZXQgPSAoXG4gICAgdGFyZ2V0OiBBdmFpbGFiaWxpdHlTdG9yZSxcbiAgICBrZXk6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxBdmFpbGFiaWxpdHlSZXNwb25zZT4gfCB2b2lkID0+IHtcbiAgICBjb25zdCBhY2Nlc3NvcjogQXZhaWxhYmlsaXR5UXVlcnkgPSBKU09OLnBhcnNlKGtleSk7XG4gICAgLy8gQXZvaWQgc2F2aW5nIGZvcmNlUmVsb2FkIHByb3BlcnR5IGFzIHBhcnQgb2Ygc3RvcmUga2V5XG4gICAgY29uc3QgYWNjZXNzb3JDb3B5ID0geyAuLi5hY2Nlc3NvciB9O1xuICAgIGRlbGV0ZSBhY2Nlc3NvckNvcHkuZm9yY2VSZWxvYWQ7XG4gICAga2V5ID0gSlNPTi5zdHJpbmdpZnkoYWNjZXNzb3JDb3B5KTtcblxuICAgIGlmIChcbiAgICAgICFhY2Nlc3Nvci5jb21wb25lbnRfaWQgfHxcbiAgICAgICFhY2Nlc3Nvcj8uYm9keT8uc3RhcnRfdGltZSB8fFxuICAgICAgIWFjY2Vzc29yPy5ib2R5Py5lbmRfdGltZVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W2tleV0gfHwgYWNjZXNzb3IuZm9yY2VSZWxvYWQpIHtcbiAgICAgIGNvbnN0IGZldGNoUHJvbWlzZSA9IGZldGNoQXZhaWxhYmlsaXR5KGFjY2Vzc29yKTtcbiAgICAgIHN0b3JlLnVwZGF0ZSgoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmVba2V5XSA9IGZldGNoUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgfSk7XG4gICAgICB0YXJnZXRba2V5XSA9IGZldGNoUHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9O1xuICBjb25zdCBzdG9yZSA9IHdyaXRhYmxlKG5ldyBQcm94eTxBdmFpbGFiaWxpdHlTdG9yZT4oe30sIHsgZ2V0IH0pKTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuXG5leHBvcnQgY29uc3QgQXZhaWxhYmlsaXR5U3RvcmUgPSBpbml0aWFsaXplKCk7XG4iLCJpbXBvcnQgeyBXcml0YWJsZSwgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG5pbXBvcnQgeyBmZXRjaENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5IH0gZnJvbSBcIi4uL2Nvbm5lY3Rpb25zL2F2YWlsYWJpbGl0eVwiO1xuaW1wb3J0IHR5cGUgeyBDb25zZWN1dGl2ZUF2YWlsYWJpbGl0eVF1ZXJ5IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0F2YWlsYWJpbGl0eVwiO1xuaW1wb3J0IHR5cGUgeyBDb25zZWN1dGl2ZUV2ZW50IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0Jvb2tpbmdcIjtcblxudHlwZSBDb25zZWN1dGl2ZUF2YWlsYWJpbGl0eVN0b3JlID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIFByb21pc2U8Q29uc2VjdXRpdmVFdmVudFtdW10+XG4+O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKCk6IFdyaXRhYmxlPENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5U3RvcmU+IHtcbiAgY29uc3QgZ2V0ID0gKFxuICAgIHRhcmdldDogQ29uc2VjdXRpdmVBdmFpbGFiaWxpdHlTdG9yZSxcbiAgICBrZXk6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb25zZWN1dGl2ZUV2ZW50W11bXT4gfCB2b2lkID0+IHtcbiAgICBjb25zdCBhY2Nlc3NvcjogQ29uc2VjdXRpdmVBdmFpbGFiaWxpdHlRdWVyeSA9IEpTT04ucGFyc2Uoa2V5KTtcblxuICAgIGlmIChcbiAgICAgICFhY2Nlc3Nvci5jb21wb25lbnRfaWQgfHxcbiAgICAgICFhY2Nlc3Nvcj8uYm9keT8uc3RhcnRfdGltZSB8fFxuICAgICAgIWFjY2Vzc29yPy5ib2R5Py5lbmRfdGltZVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W2tleV0pIHtcbiAgICAgIGNvbnN0IGZldGNoUHJvbWlzZSA9IGZldGNoQ29uc2VjdXRpdmVBdmFpbGFiaWxpdHkoYWNjZXNzb3IpO1xuICAgICAgc3RvcmUudXBkYXRlKChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZVtrZXldID0gZmV0Y2hQcm9taXNlO1xuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgICB9KTtcbiAgICAgIHRhcmdldFtrZXldID0gZmV0Y2hQcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH07XG4gIGNvbnN0IHN0b3JlID0gd3JpdGFibGUobmV3IFByb3h5PENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5U3RvcmU+KHt9LCB7IGdldCB9KSk7XG4gIHJldHVybiBzdG9yZTtcbn1cblxuZXhwb3J0IGNvbnN0IENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5U3RvcmUgPSBpbml0aWFsaXplKCk7XG4iLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gXCJzdmVsdGUvc3RvcmVcIjtcbmltcG9ydCB7IGZldGNoQ29udGFjdEltYWdlIH0gZnJvbSBcIkBjb21tb25zL2Nvbm5lY3Rpb25zL2NvbnRhY3RzXCI7XG5pbXBvcnQgdHlwZSB7IENvbnRhY3RzUXVlcnkgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQ29udGFjdHNcIjtcblxuY29uc3QgY29udGFjdEF2YXRhck1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplQ29udGFjdEF2YXRhcnMoKSB7XG4gIGNvbnN0IHsgc3Vic2NyaWJlLCBzZXQgfSA9IHdyaXRhYmxlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgcmV0dXJuIHtcbiAgICBzdWJzY3JpYmUsXG4gICAgZ2V0Q29udGFjdEF2YXRhcjogYXN5bmMgKFxuICAgICAgcXVlcnk6IENvbnRhY3RzUXVlcnksXG4gICAgICBjb250YWN0X2lkOiBzdHJpbmcsXG4gICAgICByZWZyZXNoID0gZmFsc2UsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIWNvbnRhY3RBdmF0YXJNYXBbY29udGFjdF9pZF0gfHwgcmVmcmVzaCkge1xuICAgICAgICBjb25zdCBhdmF0YXIgPSBhd2FpdCBmZXRjaENvbnRhY3RJbWFnZShxdWVyeSwgY29udGFjdF9pZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMpXG4gICAgICAgICAgLmNhdGNoKCgpID0+IFwiXCIpO1xuICAgICAgICBpZiAoYXZhdGFyKSB7XG4gICAgICAgICAgY29udGFjdEF2YXRhck1hcFtjb250YWN0X2lkXSA9IGF2YXRhcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRhY3RBdmF0YXJNYXBbY29udGFjdF9pZF07XG4gICAgfSxcbiAgICByZXNldDogKCkgPT4gc2V0KHt9KSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IENvbnRhY3RBdmF0YXJTdG9yZSA9IGluaXRpYWxpemVDb250YWN0QXZhdGFycygpO1xuIiwiaW1wb3J0IHsgZGVyaXZlZCwgUmVhZGFibGUsIHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xuaW1wb3J0IHtcbiAgZmV0Y2hUaHJlYWRzLFxuICBmZXRjaFNlYXJjaFJlc3VsdFRocmVhZHMsXG4gIHVwZGF0ZVRocmVhZCxcbiAgZmV0Y2hUaHJlYWRDb3VudCxcbn0gZnJvbSBcIi4uL2Nvbm5lY3Rpb25zL3RocmVhZHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgVGhyZWFkLFxuICBNYWlsYm94UXVlcnksXG4gIENvbnZlcnNhdGlvblF1ZXJ5LFxuICBNZXNzYWdlLFxuICBDb252ZXJzYXRpb24sXG59IGZyb20gXCJAY29tbW9ucy90eXBlcy9OeWxhc1wiO1xuaW1wb3J0IHsgc2lsZW5jZSB9IGZyb20gXCJAY29tbW9uc1wiO1xuXG5pbnRlcmZhY2UgUGFnaW5hdGVkVGhyZWFkcyB7XG4gIGlzTG9hZGVkOiBib29sZWFuO1xuICB0aHJlYWRzOiBUaHJlYWRbXTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVBhZ2luYXRlZFRocmVhZHModG90YWxQYWdlczogbnVtYmVyKSB7XG4gIGNvbnN0IHBhZ2luYXRlZFRocmVhZHMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUGFnZXM7IGkrKykge1xuICAgIHBhZ2luYXRlZFRocmVhZHMucHVzaCh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICB0aHJlYWRzOiA8VGhyZWFkW10+W10sXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhZ2luYXRlZFRocmVhZHM7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVUaHJlYWRzKCkge1xuICBjb25zdCB7IHN1YnNjcmliZSwgc2V0LCB1cGRhdGUgfSA9IHdyaXRhYmxlPFxuICAgIFJlY29yZDxzdHJpbmcsIFBhZ2luYXRlZFRocmVhZHNbXT5cbiAgPih7fSk7XG4gIGxldCB0aHJlYWRzTWFwOiBSZWNvcmQ8c3RyaW5nLCBQYWdpbmF0ZWRUaHJlYWRzW10+ID0ge307XG4gIGxldCB0b3RhbEl0ZW1zOiBudW1iZXI7XG5cbiAgcmV0dXJuIHtcbiAgICBzdWJzY3JpYmUsXG4gICAgc2V0LFxuICAgIGdldFRocmVhZHM6IGFzeW5jIChcbiAgICAgIHF1ZXJ5OiBNYWlsYm94UXVlcnksXG4gICAgICBjdXJyZW50UGFnZTogbnVtYmVyLFxuICAgICAgcGFnZVNpemU6IG51bWJlcixcbiAgICAgIGZvcmNlUmVmcmVzaCA9IGZhbHNlLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgcXVlcnlLZXkgPSBKU09OLnN0cmluZ2lmeShxdWVyeSk7XG5cbiAgICAgIGlmICghcXVlcnkuY29tcG9uZW50X2lkICYmICFxdWVyeS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYWxlcnQgdGhlIHVzZXJcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAodG90YWxJdGVtcyA9PT0gdW5kZWZpbmVkIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGNhbiBjb3VudCBwYXNzZWQtaW4gSURzXG4gICAgICAgIGNvbnN0IHRocmVhZENvdW50ID0gcXVlcnkudGhyZWFkX2lkc1xuICAgICAgICAgID8gcXVlcnkudGhyZWFkX2lkcy5sZW5ndGhcbiAgICAgICAgICA6IGF3YWl0IGZldGNoVGhyZWFkQ291bnQocXVlcnkpLmNhdGNoKHNpbGVuY2UpO1xuXG4gICAgICAgIGlmICh0aHJlYWRDb3VudCkge1xuICAgICAgICAgIHRvdGFsSXRlbXMgPSB0aHJlYWRDb3VudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhyZWFkc01hcFtxdWVyeUtleV0pIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsSXRlbXMgLyBwYWdlU2l6ZSk7XG4gICAgICAgIHRocmVhZHNNYXBbcXVlcnlLZXldID0gYXdhaXQgaW5pdGlhbGl6ZVBhZ2luYXRlZFRocmVhZHModG90YWxQYWdlcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhyZWFkc01hcFtxdWVyeUtleV1bY3VycmVudFBhZ2VdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFNob3VsZG4ndCB0aGlzIGJlIGFuIGludGVybmFsIGVycm9yP1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9IGVsc2UgaWYgKCF0aHJlYWRzTWFwW3F1ZXJ5S2V5XVtjdXJyZW50UGFnZV0uaXNMb2FkZWQpIHtcbiAgICAgICAgY29uc3QgdGhyZWFkcyA9IGF3YWl0IGZldGNoVGhyZWFkcyhcbiAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgICBjdXJyZW50UGFnZSAqIHBhZ2VTaXplLFxuICAgICAgICApLmNhdGNoKHNpbGVuY2UpO1xuXG4gICAgICAgIGlmICh0aHJlYWRzKSB7XG4gICAgICAgICAgdGhyZWFkc01hcFtxdWVyeUtleV1bY3VycmVudFBhZ2VdLnRocmVhZHMgPSB0aHJlYWRzO1xuICAgICAgICAgIHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdXBkYXRlKCh0aHJlYWRzKSA9PiB7XG4gICAgICAgIHRocmVhZHNbcXVlcnlLZXldID0gdGhyZWFkc01hcFtxdWVyeUtleV07XG4gICAgICAgIHJldHVybiB7IC4uLnRocmVhZHMgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhyZWFkc01hcFtxdWVyeUtleV1bY3VycmVudFBhZ2VdLnRocmVhZHM7XG4gICAgfSxcbiAgICBnZXROdW1iZXJPZkl0ZW1zOiBhc3luYyAocXVlcnk6IE1haWxib3hRdWVyeSkgPT4ge1xuICAgICAgaWYgKCFxdWVyeS5jb21wb25lbnRfaWQgJiYgIXF1ZXJ5LmFjY2Vzc190b2tlbikge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0b3RhbEl0ZW1zID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGNvbnN0IHRocmVhZENvdW50ID0gYXdhaXQgZmV0Y2hUaHJlYWRDb3VudChxdWVyeSkuY2F0Y2goc2lsZW5jZSk7XG5cbiAgICAgICAgaWYgKHRocmVhZENvdW50KSB7XG4gICAgICAgICAgdG90YWxJdGVtcyA9IHRocmVhZENvdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWxJdGVtcztcbiAgICB9LFxuICAgIC8vIFRPRE8gLSBVc2UgcmVhbCBwYWdpbmF0aW9uIHdoZW4gc2VhcmNoIGVuZHBvaW50IHN1cHBvcnRzIGl0XG4gICAgZ2V0VGhyZWFkc1dpdGhTZWFyY2hLZXl3b3JkOiBhc3luYyAoXG4gICAgICBxdWVyeTogTWFpbGJveFF1ZXJ5LFxuICAgICAgZm9yY2VSZWZyZXNoID0gZmFsc2UsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIXF1ZXJ5LmNvbXBvbmVudF9pZCAmJiAhcXVlcnkuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHF1ZXJ5S2V5ID0gSlNPTi5zdHJpbmdpZnkocXVlcnkpO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhyZWFkc01hcFtxdWVyeUtleV0pIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgICAgICB0aHJlYWRzTWFwW3F1ZXJ5S2V5XSA9IGF3YWl0IGluaXRpYWxpemVQYWdpbmF0ZWRUaHJlYWRzKDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRocmVhZHNNYXBbcXVlcnlLZXldWzBdLmlzTG9hZGVkIHx8IGZvcmNlUmVmcmVzaCkge1xuICAgICAgICBjb25zdCBzZWFyY2hSZXN1bHRUaHJlYWRzID0gYXdhaXQgZmV0Y2hTZWFyY2hSZXN1bHRUaHJlYWRzKHF1ZXJ5KS5jYXRjaChcbiAgICAgICAgICBzaWxlbmNlLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChzZWFyY2hSZXN1bHRUaHJlYWRzKSB7XG4gICAgICAgICAgdGhyZWFkc01hcFtxdWVyeUtleV1bMF0udGhyZWFkcyA9IHNlYXJjaFJlc3VsdFRocmVhZHM7XG4gICAgICAgICAgdGhyZWFkc01hcFtxdWVyeUtleV1bMF0uaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGUoKHRocmVhZHMpID0+IHtcbiAgICAgICAgdGhyZWFkc1txdWVyeUtleV0gPSB0aHJlYWRzTWFwW3F1ZXJ5S2V5XTtcbiAgICAgICAgcmV0dXJuIHsgLi4udGhyZWFkcyB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhyZWFkc01hcFtxdWVyeUtleV1bMF0udGhyZWFkcztcbiAgICB9LFxuICAgIHVwZGF0ZVRocmVhZDogYXN5bmMgKFxuICAgICAgdGhyZWFkUXVlcnk6IENvbnZlcnNhdGlvblF1ZXJ5LFxuICAgICAgcXVlcnlLZXk6IHN0cmluZyxcbiAgICAgIHVwZGF0ZWRUaHJlYWQ6IENvbnZlcnNhdGlvbixcbiAgICAgIGN1cnJlbnRQYWdlOiBudW1iZXIsXG4gICAgICBwYWdlU2l6ZTogbnVtYmVyLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgdGhyZWFkID0gYXdhaXQgdXBkYXRlVGhyZWFkKHRocmVhZFF1ZXJ5LCB1cGRhdGVkVGhyZWFkKS5jYXRjaChcbiAgICAgICAgc2lsZW5jZSxcbiAgICAgICk7XG5cbiAgICAgIGlmICghdGhyZWFkc01hcFtxdWVyeUtleV1bY3VycmVudFBhZ2VdLmlzTG9hZGVkKSB7XG4gICAgICAgIC8vIHBvc3NpYmxlIGhhY2s6IHBhc3MgaW4gYXJyYXkgdG8gcXVlcnk/XG4gICAgICAgIGNvbnN0IHRocmVhZHMgPSBhd2FpdCBmZXRjaFRocmVhZHMoXG4gICAgICAgICAgSlNPTi5wYXJzZShxdWVyeUtleSksXG4gICAgICAgICAgcGFnZVNpemUsXG4gICAgICAgICAgY3VycmVudFBhZ2UgKiBwYWdlU2l6ZSxcbiAgICAgICAgKS5jYXRjaChzaWxlbmNlKTtcblxuICAgICAgICBpZiAodGhyZWFkcykge1xuICAgICAgICAgIHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzID0gdGhyZWFkcztcbiAgICAgICAgICB0aHJlYWRzTWFwW3F1ZXJ5S2V5XVtjdXJyZW50UGFnZV0uaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzID0gdGhyZWFkc01hcFtxdWVyeUtleV1bXG4gICAgICAgIGN1cnJlbnRQYWdlXG4gICAgICBdLnRocmVhZHMubWFwKChpbml0aWFsVGhyZWFkKSA9PiB7XG4gICAgICAgIGlmICh0aHJlYWQgJiYgaW5pdGlhbFRocmVhZC5pZCA9PT0gdGhyZWFkLmlkKSB7XG4gICAgICAgICAgaW5pdGlhbFRocmVhZCA9IE9iamVjdC5hc3NpZ24oaW5pdGlhbFRocmVhZCwgdGhyZWFkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5pdGlhbFRocmVhZDtcbiAgICAgIH0pO1xuICAgICAgdXBkYXRlKCh0aHJlYWRzKSA9PiB7XG4gICAgICAgIHRocmVhZHNbcXVlcnlLZXldID0gdGhyZWFkc01hcFtxdWVyeUtleV07XG4gICAgICAgIHJldHVybiB7IC4uLnRocmVhZHMgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzO1xuICAgIH0sXG4gICAgdXBkYXRlVGhyZWFkU2VsZWN0aW9uOiAoXG4gICAgICBxdWVyeUtleTogc3RyaW5nLFxuICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgIHRocmVhZElkPzogc3RyaW5nLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgdGhyZWFkcyA9IHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzO1xuXG4gICAgICBpZiAoIXRocmVhZElkKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblN0YXRlID0gdGhyZWFkcy5zb21lKCh0aHJlYWQpID0+IHRocmVhZC5zZWxlY3RlZCk7XG4gICAgICAgIGZvciAoY29uc3QgdGhyZWFkIG9mIHRocmVhZHMpIHtcbiAgICAgICAgICB0aHJlYWQuc2VsZWN0ZWQgPSAhc2VsZWN0aW9uU3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRocmVhZCA9IHRocmVhZHMuZmluZCgodGhyZWFkKSA9PiB0aHJlYWQuaWQgPT09IHRocmVhZElkKTtcbiAgICAgICAgaWYgKHRocmVhZCkge1xuICAgICAgICAgIHRocmVhZC5zZWxlY3RlZCA9ICF0aHJlYWQuc2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgodGhyZWFkcykgPT4ge1xuICAgICAgICB0aHJlYWRzW3F1ZXJ5S2V5XSA9IHRocmVhZHNNYXBbcXVlcnlLZXldO1xuICAgICAgICByZXR1cm4geyAuLi50aHJlYWRzIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aHJlYWRzTWFwW3F1ZXJ5S2V5XVtjdXJyZW50UGFnZV0udGhyZWFkcztcbiAgICB9LFxuXG4gICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgIHRocmVhZHNNYXAgPSB7fTtcbiAgICAgIHNldCh7fSk7XG4gICAgfSxcblxuICAgIGh5ZHJhdGVNZXNzYWdlSW5UaHJlYWQ6IChcbiAgICAgIGluY29taW5nTWVzc2FnZTogTWVzc2FnZSxcbiAgICAgIHF1ZXJ5OiBNYWlsYm94UXVlcnksXG4gICAgICBjdXJyZW50UGFnZTogbnVtYmVyLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgcXVlcnlLZXkgPSBKU09OLnN0cmluZ2lmeShxdWVyeSk7XG5cbiAgICAgIGNvbnN0IGZvdW5kVGhyZWFkID0gdGhyZWFkc01hcFtxdWVyeUtleV1bY3VycmVudFBhZ2VdPy50aHJlYWRzPy5maW5kKFxuICAgICAgICAodGhyZWFkKSA9PiB0aHJlYWQuaWQgPT09IGluY29taW5nTWVzc2FnZS50aHJlYWRfaWQsXG4gICAgICApO1xuICAgICAgaWYgKGZvdW5kVGhyZWFkKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kTWVzc2FnZSA9IGZvdW5kVGhyZWFkLm1lc3NhZ2VzPy5maW5kKFxuICAgICAgICAgIChtZXNzYWdlKSA9PiBtZXNzYWdlLmlkID09PSBpbmNvbWluZ01lc3NhZ2UuaWQsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmb3VuZE1lc3NhZ2UpIHtcbiAgICAgICAgICBmb3VuZE1lc3NhZ2UuYm9keSA9IGluY29taW5nTWVzc2FnZS5ib2R5O1xuICAgICAgICAgIHVwZGF0ZSgodGhyZWFkcykgPT4ge1xuICAgICAgICAgICAgaWYgKGluY29taW5nTWVzc2FnZS50aHJlYWRfaWQpIHtcbiAgICAgICAgICAgICAgbGV0IHRocmVhZFRvVXBkYXRlID0gdGhyZWFkc1txdWVyeUtleV1bY3VycmVudFBhZ2VdLnRocmVhZHMuZmluZChcbiAgICAgICAgICAgICAgICAodGhyZWFkKSA9PiB0aHJlYWQuaWQgPT09IGZvdW5kVGhyZWFkLmlkLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmICh0aHJlYWRUb1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRocmVhZFRvVXBkYXRlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmb3VuZFRocmVhZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAuLi50aHJlYWRzIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIHdoZW4gc29tZW9uZSBzZW5kcyBhIG1lc3NhZ2UgdXNpbmcgY29tcG9zZXIgYW5kIHdlIHdhbnRcbiAgICAgICAgICAvLyB0byB1cGRhdGUgdGhlIGV4aXN0aW5nIHRocmVhZCB3aXRoIHRoZSBzZW50IG1lc3NhZ2VcbiAgICAgICAgICB1cGRhdGUoKHRocmVhZHMpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmNvbWluZ01lc3NhZ2UudGhyZWFkX2lkKSB7XG4gICAgICAgICAgICAgIGxldCB0aHJlYWRUb1VwZGF0ZSA9IHRocmVhZHNbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzLmZpbmQoXG4gICAgICAgICAgICAgICAgKHRocmVhZCkgPT4gdGhyZWFkLmlkID09PSBmb3VuZFRocmVhZC5pZCxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAodGhyZWFkVG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGZvdW5kVGhyZWFkLm1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goaW5jb21pbmdNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBmb3VuZFRocmVhZC5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgIGZvdW5kVGhyZWFkLnNuaXBwZXQgPSBpbmNvbWluZ01lc3NhZ2Uuc25pcHBldDtcbiAgICAgICAgICAgICAgICAvL1JlbW92ZSBkcmFmdCB3aXRoIHRoZSBzYW1lIGlkIGFzIHNlbnQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIGZvdW5kVGhyZWFkLmRyYWZ0cyA9IGZvdW5kVGhyZWFkLmRyYWZ0cy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAoZHJhZnQpID0+IGRyYWZ0LmlkICE9PSBpbmNvbWluZ01lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aHJlYWRUb1VwZGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZm91bmRUaHJlYWQpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhyZWFkcyB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aHJlYWRzTWFwW3F1ZXJ5S2V5XVtjdXJyZW50UGFnZV0udGhyZWFkcztcbiAgICB9LFxuXG4gICAgLy9VcGRhdGUgZHJhZnRzIGluIHRoZSB0aHJlYWRzIHN0b3JlXG4gICAgaHlkcmF0ZURyYWZ0SW5UaHJlYWQ6IChcbiAgICAgIGluY29taW5nRHJhZnQ6IE1lc3NhZ2UsXG4gICAgICBxdWVyeTogTWFpbGJveFF1ZXJ5LFxuICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5S2V5ID0gSlNPTi5zdHJpbmdpZnkocXVlcnkpO1xuXG4gICAgICBjb25zdCBmb3VuZFRocmVhZCA9IHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXT8udGhyZWFkcz8uZmluZChcbiAgICAgICAgKHRocmVhZCkgPT4gdGhyZWFkLmlkID09PSBpbmNvbWluZ0RyYWZ0LnRocmVhZF9pZCxcbiAgICAgICk7XG4gICAgICBpZiAoZm91bmRUaHJlYWQpIHtcbiAgICAgICAgLy9VcGRhdGUgZXhpc3RpbmcgZHJhZnQgbWVzc2FnZSBpbiBzdG9yZVxuICAgICAgICBjb25zdCBmb3VuZERyYWZ0ID0gZm91bmRUaHJlYWQuZHJhZnRzPy5maW5kKFxuICAgICAgICAgIChkcmFmdCkgPT4gZHJhZnQuaWQgPT09IGluY29taW5nRHJhZnQuaWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGluY29taW5nRHJhZnQudGhyZWFkX2lkKSB7XG4gICAgICAgICAgaWYgKGZvdW5kRHJhZnQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZm91bmREcmFmdCwgaW5jb21pbmdEcmFmdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0cyA9IGZvdW5kVGhyZWFkLmRyYWZ0cztcbiAgICAgICAgICAgIGRyYWZ0cy5wdXNoKGluY29taW5nRHJhZnQpO1xuICAgICAgICAgICAgZm91bmRUaHJlYWQuZHJhZnRzID0gZHJhZnRzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZSgodGhyZWFkcykgPT4ge1xuICAgICAgICAgICAgbGV0IHRocmVhZFRvVXBkYXRlID0gdGhyZWFkc1txdWVyeUtleV1bY3VycmVudFBhZ2VdLnRocmVhZHMuZmluZChcbiAgICAgICAgICAgICAgKHRocmVhZCkgPT4gdGhyZWFkLmlkID09PSBmb3VuZFRocmVhZC5pZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAodGhyZWFkVG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgdGhyZWFkVG9VcGRhdGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZvdW5kVGhyZWFkKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IC4uLnRocmVhZHMgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRocmVhZHNNYXBbcXVlcnlLZXldW2N1cnJlbnRQYWdlXS50aHJlYWRzO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBNYWlsYm94U3RvcmUgPSBpbml0aWFsaXplVGhyZWFkcygpO1xuXG5leHBvcnQgY29uc3QgRW1haWxTdG9yZTogUmVhZGFibGU8UmVjb3JkPHN0cmluZywgVGhyZWFkW10+PiA9IGRlcml2ZWQoXG4gIE1haWxib3hTdG9yZSxcbiAgKCRNYWlsYm94U3RvcmUpID0+IHtcbiAgICBjb25zdCBlbWFpbFN0b3JlOiBSZWNvcmQ8c3RyaW5nLCBUaHJlYWRbXT4gPSB7fTtcbiAgICBPYmplY3QuZW50cmllcygkTWFpbGJveFN0b3JlKS5mb3JFYWNoKFxuICAgICAgKFtrZXksIHBhZ2luYXRlZFRocmVhZHNdKSA9PlxuICAgICAgICAoZW1haWxTdG9yZVtrZXldID0gcGFnaW5hdGVkVGhyZWFkc1xuICAgICAgICAgIC5tYXAoKHBhZ2luYXRlZFRocmVhZCkgPT4gcGFnaW5hdGVkVGhyZWFkLnRocmVhZHMpXG4gICAgICAgICAgLmZsYXQoKSksXG4gICAgKTtcbiAgICByZXR1cm4gZW1haWxTdG9yZTtcbiAgfSxcbik7XG4iLCJpbXBvcnQgeyBmZXRjaE1hbmlmZXN0IH0gZnJvbSBcIi4uL2Nvbm5lY3Rpb25zL21hbmlmZXN0XCI7XG5pbXBvcnQgeyBXcml0YWJsZSwgd3JpdGFibGUgfSBmcm9tIFwic3ZlbHRlL3N0b3JlXCI7XG5pbXBvcnQgdHlwZSB7IE1hbmlmZXN0IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL055bGFzXCI7XG5cbnR5cGUgTWFuaWZlc3RBY2Nlc3NvciA9IHtcbiAgY29tcG9uZW50X2lkOiBzdHJpbmc7XG4gIGFjY2Vzc190b2tlbj86IHN0cmluZztcbiAgZXh0ZXJuYWxfbWFuaWZlc3RfaWRzPzogW107XG59O1xudHlwZSBNYW5pZmVzdFN0b3JlID0gUmVjb3JkPHN0cmluZywgUHJvbWlzZTxNYW5pZmVzdD4+O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKCk6IFdyaXRhYmxlPE1hbmlmZXN0U3RvcmU+IHtcbiAgY29uc3QgZ2V0ID0gKFxuICAgIHRhcmdldDogTWFuaWZlc3RTdG9yZSxcbiAgICBrZXk6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxNYW5pZmVzdD4gfCB2b2lkID0+IHtcbiAgICBjb25zdCBhY2Nlc3NvcjogTWFuaWZlc3RBY2Nlc3NvciA9IEpTT04ucGFyc2Uoa2V5KTtcblxuICAgIGlmICghYWNjZXNzb3IuY29tcG9uZW50X2lkKSByZXR1cm47XG5cbiAgICBpZiAoIXRhcmdldFtrZXldKSB7XG4gICAgICBjb25zdCBmZXRjaFByb21pc2UgPSBmZXRjaE1hbmlmZXN0KFxuICAgICAgICBhY2Nlc3Nvci5jb21wb25lbnRfaWQsXG4gICAgICAgIGFjY2Vzc29yLmFjY2Vzc190b2tlbixcbiAgICAgICk7XG4gICAgICBzdG9yZS51cGRhdGUoKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlW2tleV0gPSBmZXRjaFByb21pc2U7XG4gICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0W2tleV0gPSBmZXRjaFByb21pc2U7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgfTtcbiAgY29uc3Qgc3RvcmUgPSB3cml0YWJsZShuZXcgUHJveHk8TWFuaWZlc3RTdG9yZT4oe30sIHsgZ2V0IH0pKTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuXG5leHBvcnQgY29uc3QgTWFuaWZlc3RTdG9yZSA9IGluaXRpYWxpemUoKTtcbiIsIjxzdmVsdGU6b3B0aW9ucyB0YWc9XCJueWxhcy1lcnJvclwiIGltbXV0YWJsZT17dHJ1ZX0gLz5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgRXJyb3JTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9lcnJvclwiO1xuICBpbXBvcnQgdHlwZSB7IE5FcnJvciB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9OeWxhc1wiO1xuXG4gIGV4cG9ydCBsZXQgaWQ6IHN0cmluZzsgLy8gY29tcG9uZW50IGlkXG5cbiAgbGV0IGVycm9yOiBORXJyb3I7XG4gIGxldCBlcnJvck5hbWU6IHN0cmluZztcblxuICAkOiB7XG4gICAgZXJyb3IgPSAkRXJyb3JTdG9yZVtpZF0gPz8geyBuYW1lOiBcIlwiIH07XG4gICAgZXJyb3JOYW1lID0gZXJyb3IubmFtZSA/PyBlcnJvci5tZXNzYWdlPy5uYW1lID8/IFwiXCI7XG4gIH1cblxuICBjb25zdCBpc0RldkVudiA9XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgfHxcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIjEyNy4wLjAuMVwiKTtcbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gIC5tZXNzYWdlLWNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZDogI2ZmZjZmNjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMXB4ICNhYTkyYTAgaW5zZXQsIDAgMCAwIDAgdHJhbnNwYXJlbnQ7XG4gICAgY29sb3I6ICM5ZjNhMzg7XG4gICAgZm9udC1zaXplOiAxLjI1cmVtO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLCBjb2xvciA1MDBtcyBlYXNlLFxuICAgICAgYmFja2dyb3VuZC1jb2xvciA1MDBtcyBlYXNlLCBib3gtc2hhZG93IDUwMG1zIGVhc2UsXG4gICAgICAtd2Via2l0LWJveC1zaGFkb3cgNTAwbXMgZWFzZTtcbiAgfVxuXG4gIC5tZXNzYWdlLWNvbnRhaW5lciAqOmZvY3VzIHtcbiAgICBvdXRsaW5lOiA1cHggYXV0byBIaWdobGlnaHQ7XG4gICAgb3V0bGluZTogNXB4IGF1dG8gLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yO1xuICB9XG5cbiAgLmRldGFpbHMge1xuICAgIGNvbG9yOiAjNDk0OTQ5O1xuICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuPC9zdHlsZT5cblxueyNpZiBlcnJvck5hbWUgJiYgaXNEZXZFbnZ9XG4gIDxkaXYgY2xhc3M9XCJtZXNzYWdlLWNvbnRhaW5lclwiPlxuICAgIHsjaWYgZXJyb3JOYW1lID09PSBcIkhvc3REb21haW5Ob3RBbGxvd2VkRXJyb3JcIn1cbiAgICAgIDxoMz5cbiAgICAgICAgWW91IGFyZSB0cnlpbmcgdG8gYWNjZXNzIHRoaXMgY29tcG9uZW50IGZyb20mbmJzcDtcbiAgICAgICAgPGNvZGU+e3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX08L2NvZGU+LiBUaGUgY29tcG9uZW50J3Mgc2V0dGluZ3MgZG8gbm90XG4gICAgICAgIGFsbG93IGFjY2VzcyBmcm9tIHRoaXMgZG9tYWluLlxuICAgICAgPC9oMz5cbiAgICAgIDxoND5cbiAgICAgICAgVGhlIGxpc3Qgb2YgYWxsb3dlZCBkb21haW5zIGNhbiBiZSBtb2RpZmllZCBpbiB5b3VyJm5ic3A7XG4gICAgICAgIDxhIGhyZWY9XCJodHRwczovL2Rhc2hib2FyZC5ueWxhcy5jb21cIj5EYXNoYm9hcmQ8L2E+LlxuICAgICAgPC9oND5cbiAgICB7OmVsc2UgaWYgZXJyb3JOYW1lID09PSBcIkluY29tcGF0aWJsZVByb3BlcnRpZXNcIn1cbiAgICAgIDxoMz5Zb3VyIGNvbXBvbmVudCBwcm9wZXJ0aWVzIGRvIG5vdCB3b3JrIHdpdGggZWFjaCBvdGhlci48L2gzPlxuICAgIHsvaWZ9XG4gICAgPHNwYW4gY2xhc3M9XCJkZXRhaWxzXCI+RGVidWcgaW5mbzo8L3NwYW4+XG4gICAgPHRleHRhcmVhIGNsYXNzPVwiZGV0YWlsc1wiIHJlYWRvbmx5PlxuICAgICAge2Vycm9yTmFtZX06IHtpZH1cbiAgICAgIHtlcnJvci5tZXNzYWdlPy5tZXNzYWdlID8/IFwiXCJ9XG4gICAgPC90ZXh0YXJlYT5cbiAgPC9kaXY+XG57L2lmfVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcblxuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuXG4gICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBXcmFwcGVyKCkge1xuICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgfTtcblxuICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkge1xuICB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTtcbiAgaWYgKGl0KSByZXR1cm4gKGl0ID0gaXQuY2FsbChvKSkubmV4dC5iaW5kKGl0KTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKGl0KSBvID0gaXQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbi8vIHRoZXNlIGFyZW4ndCByZWFsbHkgcHJpdmF0ZSwgYnV0IG5vciBhcmUgdGhleSByZWFsbHkgdXNlZnVsIHRvIGRvY3VtZW50XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xudmFyIEx1eG9uRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHNMb29zZShMdXhvbkVycm9yLCBfRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIEx1eG9uRXJyb3IoKSB7XG4gICAgcmV0dXJuIF9FcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICByZXR1cm4gTHV4b25FcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgSW52YWxpZERhdGVUaW1lRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKEludmFsaWREYXRlVGltZUVycm9yLCBfTHV4b25FcnJvcik7XG5cbiAgZnVuY3Rpb24gSW52YWxpZERhdGVUaW1lRXJyb3IocmVhc29uKSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yLmNhbGwodGhpcywgXCJJbnZhbGlkIERhdGVUaW1lOiBcIiArIHJlYXNvbi50b01lc3NhZ2UoKSkgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBJbnZhbGlkRGF0ZVRpbWVFcnJvcjtcbn0oTHV4b25FcnJvcik7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEludmFsaWRJbnRlcnZhbEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTHV4b25FcnJvcjIpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW52YWxpZEludGVydmFsRXJyb3IsIF9MdXhvbkVycm9yMik7XG5cbiAgZnVuY3Rpb24gSW52YWxpZEludGVydmFsRXJyb3IocmVhc29uKSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yMi5jYWxsKHRoaXMsIFwiSW52YWxpZCBJbnRlcnZhbDogXCIgKyByZWFzb24udG9NZXNzYWdlKCkpIHx8IHRoaXM7XG4gIH1cblxuICByZXR1cm4gSW52YWxpZEludGVydmFsRXJyb3I7XG59KEx1eG9uRXJyb3IpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBJbnZhbGlkRHVyYXRpb25FcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0x1eG9uRXJyb3IzKSB7XG4gIF9pbmhlcml0c0xvb3NlKEludmFsaWREdXJhdGlvbkVycm9yLCBfTHV4b25FcnJvcjMpO1xuXG4gIGZ1bmN0aW9uIEludmFsaWREdXJhdGlvbkVycm9yKHJlYXNvbikge1xuICAgIHJldHVybiBfTHV4b25FcnJvcjMuY2FsbCh0aGlzLCBcIkludmFsaWQgRHVyYXRpb246IFwiICsgcmVhc29uLnRvTWVzc2FnZSgpKSB8fCB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIEludmFsaWREdXJhdGlvbkVycm9yO1xufShMdXhvbkVycm9yKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yNCkge1xuICBfaW5oZXJpdHNMb29zZShDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvciwgX0x1eG9uRXJyb3I0KTtcblxuICBmdW5jdGlvbiBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcigpIHtcbiAgICByZXR1cm4gX0x1eG9uRXJyb3I0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcjtcbn0oTHV4b25FcnJvcik7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEludmFsaWRVbml0RXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9MdXhvbkVycm9yNSkge1xuICBfaW5oZXJpdHNMb29zZShJbnZhbGlkVW5pdEVycm9yLCBfTHV4b25FcnJvcjUpO1xuXG4gIGZ1bmN0aW9uIEludmFsaWRVbml0RXJyb3IodW5pdCkge1xuICAgIHJldHVybiBfTHV4b25FcnJvcjUuY2FsbCh0aGlzLCBcIkludmFsaWQgdW5pdCBcIiArIHVuaXQpIHx8IHRoaXM7XG4gIH1cblxuICByZXR1cm4gSW52YWxpZFVuaXRFcnJvcjtcbn0oTHV4b25FcnJvcik7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTHV4b25FcnJvcjYpIHtcbiAgX2luaGVyaXRzTG9vc2UoSW52YWxpZEFyZ3VtZW50RXJyb3IsIF9MdXhvbkVycm9yNik7XG5cbiAgZnVuY3Rpb24gSW52YWxpZEFyZ3VtZW50RXJyb3IoKSB7XG4gICAgcmV0dXJuIF9MdXhvbkVycm9yNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICByZXR1cm4gSW52YWxpZEFyZ3VtZW50RXJyb3I7XG59KEx1eG9uRXJyb3IpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBab25lSXNBYnN0cmFjdEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTHV4b25FcnJvcjcpIHtcbiAgX2luaGVyaXRzTG9vc2UoWm9uZUlzQWJzdHJhY3RFcnJvciwgX0x1eG9uRXJyb3I3KTtcblxuICBmdW5jdGlvbiBab25lSXNBYnN0cmFjdEVycm9yKCkge1xuICAgIHJldHVybiBfTHV4b25FcnJvcjcuY2FsbCh0aGlzLCBcIlpvbmUgaXMgYW4gYWJzdHJhY3QgY2xhc3NcIikgfHwgdGhpcztcbiAgfVxuXG4gIHJldHVybiBab25lSXNBYnN0cmFjdEVycm9yO1xufShMdXhvbkVycm9yKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgbiA9IFwibnVtZXJpY1wiLFxuICAgIHMgPSBcInNob3J0XCIsXG4gICAgbCA9IFwibG9uZ1wiO1xudmFyIERBVEVfU0hPUlQgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBuLFxuICBkYXk6IG5cbn07XG52YXIgREFURV9NRUQgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBzLFxuICBkYXk6IG5cbn07XG52YXIgREFURV9NRURfV0lUSF9XRUVLREFZID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogcyxcbiAgZGF5OiBuLFxuICB3ZWVrZGF5OiBzXG59O1xudmFyIERBVEVfRlVMTCA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IGwsXG4gIGRheTogblxufTtcbnZhciBEQVRFX0hVR0UgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBsLFxuICBkYXk6IG4sXG4gIHdlZWtkYXk6IGxcbn07XG52YXIgVElNRV9TSU1QTEUgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogblxufTtcbnZhciBUSU1FX1dJVEhfU0VDT05EUyA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG5cbn07XG52YXIgVElNRV9XSVRIX1NIT1JUX09GRlNFVCA9IHtcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG4sXG4gIHRpbWVab25lTmFtZTogc1xufTtcbnZhciBUSU1FX1dJVEhfTE9OR19PRkZTRVQgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICB0aW1lWm9uZU5hbWU6IGxcbn07XG52YXIgVElNRV8yNF9TSU1QTEUgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgaG91ckN5Y2xlOiBcImgyM1wiXG59O1xudmFyIFRJTUVfMjRfV0lUSF9TRUNPTkRTID0ge1xuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogbixcbiAgaG91ckN5Y2xlOiBcImgyM1wiXG59O1xudmFyIFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICBob3VyQ3ljbGU6IFwiaDIzXCIsXG4gIHRpbWVab25lTmFtZTogc1xufTtcbnZhciBUSU1FXzI0X1dJVEhfTE9OR19PRkZTRVQgPSB7XG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgc2Vjb25kOiBuLFxuICBob3VyQ3ljbGU6IFwiaDIzXCIsXG4gIHRpbWVab25lTmFtZTogbFxufTtcbnZhciBEQVRFVElNRV9TSE9SVCA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IG4sXG4gIGRheTogbixcbiAgaG91cjogbixcbiAgbWludXRlOiBuXG59O1xudmFyIERBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EUyA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IG4sXG4gIGRheTogbixcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG5cbn07XG52YXIgREFURVRJTUVfTUVEID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogcyxcbiAgZGF5OiBuLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG5cbn07XG52YXIgREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUyA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IHMsXG4gIGRheTogbixcbiAgaG91cjogbixcbiAgbWludXRlOiBuLFxuICBzZWNvbmQ6IG5cbn07XG52YXIgREFURVRJTUVfTUVEX1dJVEhfV0VFS0RBWSA9IHtcbiAgeWVhcjogbixcbiAgbW9udGg6IHMsXG4gIGRheTogbixcbiAgd2Vla2RheTogcyxcbiAgaG91cjogbixcbiAgbWludXRlOiBuXG59O1xudmFyIERBVEVUSU1FX0ZVTEwgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBsLFxuICBkYXk6IG4sXG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgdGltZVpvbmVOYW1lOiBzXG59O1xudmFyIERBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogbCxcbiAgZGF5OiBuLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogbixcbiAgdGltZVpvbmVOYW1lOiBzXG59O1xudmFyIERBVEVUSU1FX0hVR0UgPSB7XG4gIHllYXI6IG4sXG4gIG1vbnRoOiBsLFxuICBkYXk6IG4sXG4gIHdlZWtkYXk6IGwsXG4gIGhvdXI6IG4sXG4gIG1pbnV0ZTogbixcbiAgdGltZVpvbmVOYW1lOiBsXG59O1xudmFyIERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTID0ge1xuICB5ZWFyOiBuLFxuICBtb250aDogbCxcbiAgZGF5OiBuLFxuICB3ZWVrZGF5OiBsLFxuICBob3VyOiBuLFxuICBtaW51dGU6IG4sXG4gIHNlY29uZDogbixcbiAgdGltZVpvbmVOYW1lOiBsXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbi8vIFRZUEVTXG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBpc0ludGVnZXIobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09IFwibnVtYmVyXCIgJiYgbyAlIDEgPT09IDA7XG59XG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzRGF0ZShvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09IFwiW29iamVjdCBEYXRlXVwiO1xufSAvLyBDQVBBQklMSVRJRVNcblxuZnVuY3Rpb24gaGFzUmVsYXRpdmUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHR5cGVvZiBJbnRsICE9PSBcInVuZGVmaW5lZFwiICYmICEhSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0gLy8gT0JKRUNUUyBBTkQgQVJSQVlTXG5cbmZ1bmN0aW9uIG1heWJlQXJyYXkodGhpbmcpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpbmcpID8gdGhpbmcgOiBbdGhpbmddO1xufVxuZnVuY3Rpb24gYmVzdEJ5KGFyciwgYnksIGNvbXBhcmUpIHtcbiAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGJlc3QsIG5leHQpIHtcbiAgICB2YXIgcGFpciA9IFtieShuZXh0KSwgbmV4dF07XG5cbiAgICBpZiAoIWJlc3QpIHtcbiAgICAgIHJldHVybiBwYWlyO1xuICAgIH0gZWxzZSBpZiAoY29tcGFyZShiZXN0WzBdLCBwYWlyWzBdKSA9PT0gYmVzdFswXSkge1xuICAgICAgcmV0dXJuIGJlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwYWlyO1xuICAgIH1cbiAgfSwgbnVsbClbMV07XG59XG5mdW5jdGlvbiBwaWNrKG9iaiwga2V5cykge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGspIHtcbiAgICBhW2tdID0gb2JqW2tdO1xuICAgIHJldHVybiBhO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufSAvLyBOVU1CRVJTIEFORCBTVFJJTkdTXG5cbmZ1bmN0aW9uIGludGVnZXJCZXR3ZWVuKHRoaW5nLCBib3R0b20sIHRvcCkge1xuICByZXR1cm4gaXNJbnRlZ2VyKHRoaW5nKSAmJiB0aGluZyA+PSBib3R0b20gJiYgdGhpbmcgPD0gdG9wO1xufSAvLyB4ICUgbiBidXQgdGFrZXMgdGhlIHNpZ24gb2YgbiBpbnN0ZWFkIG9mIHhcblxuZnVuY3Rpb24gZmxvb3JNb2QoeCwgbikge1xuICByZXR1cm4geCAtIG4gKiBNYXRoLmZsb29yKHggLyBuKTtcbn1cbmZ1bmN0aW9uIHBhZFN0YXJ0KGlucHV0LCBuKSB7XG4gIGlmIChuID09PSB2b2lkIDApIHtcbiAgICBuID0gMjtcbiAgfVxuXG4gIHZhciBpc05lZyA9IGlucHV0IDwgMDtcbiAgdmFyIHBhZGRlZDtcblxuICBpZiAoaXNOZWcpIHtcbiAgICBwYWRkZWQgPSBcIi1cIiArIChcIlwiICsgLWlucHV0KS5wYWRTdGFydChuLCBcIjBcIik7XG4gIH0gZWxzZSB7XG4gICAgcGFkZGVkID0gKFwiXCIgKyBpbnB1dCkucGFkU3RhcnQobiwgXCIwXCIpO1xuICB9XG5cbiAgcmV0dXJuIHBhZGRlZDtcbn1cbmZ1bmN0aW9uIHBhcnNlSW50ZWdlcihzdHJpbmcpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHN0cmluZykgfHwgc3RyaW5nID09PSBudWxsIHx8IHN0cmluZyA9PT0gXCJcIikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZywgMTApO1xuICB9XG59XG5mdW5jdGlvbiBwYXJzZUZsb2F0aW5nKHN0cmluZykge1xuICBpZiAoaXNVbmRlZmluZWQoc3RyaW5nKSB8fCBzdHJpbmcgPT09IG51bGwgfHwgc3RyaW5nID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChzdHJpbmcpO1xuICB9XG59XG5mdW5jdGlvbiBwYXJzZU1pbGxpcyhmcmFjdGlvbikge1xuICAvLyBSZXR1cm4gdW5kZWZpbmVkIChpbnN0ZWFkIG9mIDApIGluIHRoZXNlIGNhc2VzLCB3aGVyZSBmcmFjdGlvbiBpcyBub3Qgc2V0XG4gIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvbikgfHwgZnJhY3Rpb24gPT09IG51bGwgfHwgZnJhY3Rpb24gPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIHZhciBmID0gcGFyc2VGbG9hdChcIjAuXCIgKyBmcmFjdGlvbikgKiAxMDAwO1xuICAgIHJldHVybiBNYXRoLmZsb29yKGYpO1xuICB9XG59XG5mdW5jdGlvbiByb3VuZFRvKG51bWJlciwgZGlnaXRzLCB0b3dhcmRaZXJvKSB7XG4gIGlmICh0b3dhcmRaZXJvID09PSB2b2lkIDApIHtcbiAgICB0b3dhcmRaZXJvID0gZmFsc2U7XG4gIH1cblxuICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIGRpZ2l0cyksXG4gICAgICByb3VuZGVyID0gdG93YXJkWmVybyA/IE1hdGgudHJ1bmMgOiBNYXRoLnJvdW5kO1xuICByZXR1cm4gcm91bmRlcihudW1iZXIgKiBmYWN0b3IpIC8gZmFjdG9yO1xufSAvLyBEQVRFIEJBU0lDU1xuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmICh5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDApO1xufVxuZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgdmFyIG1vZE1vbnRoID0gZmxvb3JNb2QobW9udGggLSAxLCAxMikgKyAxLFxuICAgICAgbW9kWWVhciA9IHllYXIgKyAobW9udGggLSBtb2RNb250aCkgLyAxMjtcblxuICBpZiAobW9kTW9udGggPT09IDIpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcihtb2RZZWFyKSA/IDI5IDogMjg7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFszMSwgbnVsbCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdW21vZE1vbnRoIC0gMV07XG4gIH1cbn0gLy8gY292ZXJ0IGEgY2FsZW5kYXIgb2JqZWN0IHRvIGEgbG9jYWwgdGltZXN0YW1wIChlcG9jaCwgYnV0IHdpdGggdGhlIG9mZnNldCBiYWtlZCBpbilcblxuZnVuY3Rpb24gb2JqVG9Mb2NhbFRTKG9iaikge1xuICB2YXIgZCA9IERhdGUuVVRDKG9iai55ZWFyLCBvYmoubW9udGggLSAxLCBvYmouZGF5LCBvYmouaG91ciwgb2JqLm1pbnV0ZSwgb2JqLnNlY29uZCwgb2JqLm1pbGxpc2Vjb25kKTsgLy8gZm9yIGxlZ2FjeSByZWFzb25zLCB5ZWFycyBiZXR3ZWVuIDAgYW5kIDk5IGFyZSBpbnRlcnByZXRlZCBhcyAxOVhYOyByZXZlcnQgdGhhdFxuXG4gIGlmIChvYmoueWVhciA8IDEwMCAmJiBvYmoueWVhciA+PSAwKSB7XG4gICAgZCA9IG5ldyBEYXRlKGQpO1xuICAgIGQuc2V0VVRDRnVsbFllYXIoZC5nZXRVVENGdWxsWWVhcigpIC0gMTkwMCk7XG4gIH1cblxuICByZXR1cm4gK2Q7XG59XG5mdW5jdGlvbiB3ZWVrc0luV2Vla1llYXIod2Vla1llYXIpIHtcbiAgdmFyIHAxID0gKHdlZWtZZWFyICsgTWF0aC5mbG9vcih3ZWVrWWVhciAvIDQpIC0gTWF0aC5mbG9vcih3ZWVrWWVhciAvIDEwMCkgKyBNYXRoLmZsb29yKHdlZWtZZWFyIC8gNDAwKSkgJSA3LFxuICAgICAgbGFzdCA9IHdlZWtZZWFyIC0gMSxcbiAgICAgIHAyID0gKGxhc3QgKyBNYXRoLmZsb29yKGxhc3QgLyA0KSAtIE1hdGguZmxvb3IobGFzdCAvIDEwMCkgKyBNYXRoLmZsb29yKGxhc3QgLyA0MDApKSAlIDc7XG4gIHJldHVybiBwMSA9PT0gNCB8fCBwMiA9PT0gMyA/IDUzIDogNTI7XG59XG5mdW5jdGlvbiB1bnRydW5jYXRlWWVhcih5ZWFyKSB7XG4gIGlmICh5ZWFyID4gOTkpIHtcbiAgICByZXR1cm4geWVhcjtcbiAgfSBlbHNlIHJldHVybiB5ZWFyID4gNjAgPyAxOTAwICsgeWVhciA6IDIwMDAgKyB5ZWFyO1xufSAvLyBQQVJTSU5HXG5cbmZ1bmN0aW9uIHBhcnNlWm9uZUluZm8odHMsIG9mZnNldEZvcm1hdCwgbG9jYWxlLCB0aW1lWm9uZSkge1xuICBpZiAodGltZVpvbmUgPT09IHZvaWQgMCkge1xuICAgIHRpbWVab25lID0gbnVsbDtcbiAgfVxuXG4gIHZhciBkYXRlID0gbmV3IERhdGUodHMpLFxuICAgICAgaW50bE9wdHMgPSB7XG4gICAgaG91ckN5Y2xlOiBcImgyM1wiLFxuICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCJcbiAgfTtcblxuICBpZiAodGltZVpvbmUpIHtcbiAgICBpbnRsT3B0cy50aW1lWm9uZSA9IHRpbWVab25lO1xuICB9XG5cbiAgdmFyIG1vZGlmaWVkID0gX2V4dGVuZHMoe1xuICAgIHRpbWVab25lTmFtZTogb2Zmc2V0Rm9ybWF0XG4gIH0sIGludGxPcHRzKTtcblxuICB2YXIgcGFyc2VkID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBtb2RpZmllZCkuZm9ybWF0VG9QYXJ0cyhkYXRlKS5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgcmV0dXJuIG0udHlwZS50b0xvd2VyQ2FzZSgpID09PSBcInRpbWV6b25lbmFtZVwiO1xuICB9KTtcbiAgcmV0dXJuIHBhcnNlZCA/IHBhcnNlZC52YWx1ZSA6IG51bGw7XG59IC8vIHNpZ25lZE9mZnNldCgnLTUnLCAnMzAnKSAtPiAtMzMwXG5cbmZ1bmN0aW9uIHNpZ25lZE9mZnNldChvZmZIb3VyU3RyLCBvZmZNaW51dGVTdHIpIHtcbiAgdmFyIG9mZkhvdXIgPSBwYXJzZUludChvZmZIb3VyU3RyLCAxMCk7IC8vIGRvbid0IHx8IHRoaXMgYmVjYXVzZSB3ZSB3YW50IHRvIHByZXNlcnZlIC0wXG5cbiAgaWYgKE51bWJlci5pc05hTihvZmZIb3VyKSkge1xuICAgIG9mZkhvdXIgPSAwO1xuICB9XG5cbiAgdmFyIG9mZk1pbiA9IHBhcnNlSW50KG9mZk1pbnV0ZVN0ciwgMTApIHx8IDAsXG4gICAgICBvZmZNaW5TaWduZWQgPSBvZmZIb3VyIDwgMCB8fCBPYmplY3QuaXMob2ZmSG91ciwgLTApID8gLW9mZk1pbiA6IG9mZk1pbjtcbiAgcmV0dXJuIG9mZkhvdXIgKiA2MCArIG9mZk1pblNpZ25lZDtcbn0gLy8gQ09FUkNJT05cblxuZnVuY3Rpb24gYXNOdW1iZXIodmFsdWUpIHtcbiAgdmFyIG51bWVyaWNWYWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09PSBcIlwiIHx8IE51bWJlci5pc05hTihudW1lcmljVmFsdWUpKSB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJJbnZhbGlkIHVuaXQgdmFsdWUgXCIgKyB2YWx1ZSk7XG4gIHJldHVybiBudW1lcmljVmFsdWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3Qob2JqLCBub3JtYWxpemVyKSB7XG4gIHZhciBub3JtYWxpemVkID0ge307XG5cbiAgZm9yICh2YXIgdSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqLCB1KSkge1xuICAgICAgdmFyIHYgPSBvYmpbdV07XG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVyKHUpXSA9IGFzTnVtYmVyKHYpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuZnVuY3Rpb24gZm9ybWF0T2Zmc2V0KG9mZnNldCwgZm9ybWF0KSB7XG4gIHZhciBob3VycyA9IE1hdGgudHJ1bmMoTWF0aC5hYnMob2Zmc2V0IC8gNjApKSxcbiAgICAgIG1pbnV0ZXMgPSBNYXRoLnRydW5jKE1hdGguYWJzKG9mZnNldCAlIDYwKSksXG4gICAgICBzaWduID0gb2Zmc2V0ID49IDAgPyBcIitcIiA6IFwiLVwiO1xuXG4gIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgY2FzZSBcInNob3J0XCI6XG4gICAgICByZXR1cm4gXCJcIiArIHNpZ24gKyBwYWRTdGFydChob3VycywgMikgKyBcIjpcIiArIHBhZFN0YXJ0KG1pbnV0ZXMsIDIpO1xuXG4gICAgY2FzZSBcIm5hcnJvd1wiOlxuICAgICAgcmV0dXJuIFwiXCIgKyBzaWduICsgaG91cnMgKyAobWludXRlcyA+IDAgPyBcIjpcIiArIG1pbnV0ZXMgOiBcIlwiKTtcblxuICAgIGNhc2UgXCJ0ZWNoaWVcIjpcbiAgICAgIHJldHVybiBcIlwiICsgc2lnbiArIHBhZFN0YXJ0KGhvdXJzLCAyKSArIHBhZFN0YXJ0KG1pbnV0ZXMsIDIpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVmFsdWUgZm9ybWF0IFwiICsgZm9ybWF0ICsgXCIgaXMgb3V0IG9mIHJhbmdlIGZvciBwcm9wZXJ0eSBmb3JtYXRcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHRpbWVPYmplY3Qob2JqKSB7XG4gIHJldHVybiBwaWNrKG9iaiwgW1wiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiLCBcIm1pbGxpc2Vjb25kXCJdKTtcbn1cbnZhciBpYW5hUmVnZXggPSAvW0EtWmEtel8rLV17MSwyNTZ9KDo/XFwvW0EtWmEtejAtOV8rLV17MSwyNTZ9KFxcL1tBLVphLXowLTlfKy1dezEsMjU2fSk/KT8vO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgbW9udGhzTG9uZyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xudmFyIG1vbnRoc1Nob3J0ID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xudmFyIG1vbnRoc05hcnJvdyA9IFtcIkpcIiwgXCJGXCIsIFwiTVwiLCBcIkFcIiwgXCJNXCIsIFwiSlwiLCBcIkpcIiwgXCJBXCIsIFwiU1wiLCBcIk9cIiwgXCJOXCIsIFwiRFwiXTtcbmZ1bmN0aW9uIG1vbnRocyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KG1vbnRoc05hcnJvdyk7XG5cbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBbXS5jb25jYXQobW9udGhzU2hvcnQpO1xuXG4gICAgY2FzZSBcImxvbmdcIjpcbiAgICAgIHJldHVybiBbXS5jb25jYXQobW9udGhzTG9uZyk7XG5cbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiLCBcIjEwXCIsIFwiMTFcIiwgXCIxMlwiXTtcblxuICAgIGNhc2UgXCIyLWRpZ2l0XCI6XG4gICAgICByZXR1cm4gW1wiMDFcIiwgXCIwMlwiLCBcIjAzXCIsIFwiMDRcIiwgXCIwNVwiLCBcIjA2XCIsIFwiMDdcIiwgXCIwOFwiLCBcIjA5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG52YXIgd2Vla2RheXNMb25nID0gW1wiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIiwgXCJTdW5kYXlcIl07XG52YXIgd2Vla2RheXNTaG9ydCA9IFtcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiLCBcIlN1blwiXTtcbnZhciB3ZWVrZGF5c05hcnJvdyA9IFtcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiLCBcIlNcIl07XG5mdW5jdGlvbiB3ZWVrZGF5cyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KHdlZWtkYXlzTmFycm93KTtcblxuICAgIGNhc2UgXCJzaG9ydFwiOlxuICAgICAgcmV0dXJuIFtdLmNvbmNhdCh3ZWVrZGF5c1Nob3J0KTtcblxuICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KHdlZWtkYXlzTG9uZyk7XG5cbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIl07XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbnZhciBtZXJpZGllbXMgPSBbXCJBTVwiLCBcIlBNXCJdO1xudmFyIGVyYXNMb25nID0gW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdO1xudmFyIGVyYXNTaG9ydCA9IFtcIkJDXCIsIFwiQURcIl07XG52YXIgZXJhc05hcnJvdyA9IFtcIkJcIiwgXCJBXCJdO1xuZnVuY3Rpb24gZXJhcyhsZW5ndGgpIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KGVyYXNOYXJyb3cpO1xuXG4gICAgY2FzZSBcInNob3J0XCI6XG4gICAgICByZXR1cm4gW10uY29uY2F0KGVyYXNTaG9ydCk7XG5cbiAgICBjYXNlIFwibG9uZ1wiOlxuICAgICAgcmV0dXJuIFtdLmNvbmNhdChlcmFzTG9uZyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmlkaWVtRm9yRGF0ZVRpbWUoZHQpIHtcbiAgcmV0dXJuIG1lcmlkaWVtc1tkdC5ob3VyIDwgMTIgPyAwIDogMV07XG59XG5mdW5jdGlvbiB3ZWVrZGF5Rm9yRGF0ZVRpbWUoZHQsIGxlbmd0aCkge1xuICByZXR1cm4gd2Vla2RheXMobGVuZ3RoKVtkdC53ZWVrZGF5IC0gMV07XG59XG5mdW5jdGlvbiBtb250aEZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIG1vbnRocyhsZW5ndGgpW2R0Lm1vbnRoIC0gMV07XG59XG5mdW5jdGlvbiBlcmFGb3JEYXRlVGltZShkdCwgbGVuZ3RoKSB7XG4gIHJldHVybiBlcmFzKGxlbmd0aClbZHQueWVhciA8IDAgPyAwIDogMV07XG59XG5mdW5jdGlvbiBmb3JtYXRSZWxhdGl2ZVRpbWUodW5pdCwgY291bnQsIG51bWVyaWMsIG5hcnJvdykge1xuICBpZiAobnVtZXJpYyA9PT0gdm9pZCAwKSB7XG4gICAgbnVtZXJpYyA9IFwiYWx3YXlzXCI7XG4gIH1cblxuICBpZiAobmFycm93ID09PSB2b2lkIDApIHtcbiAgICBuYXJyb3cgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1bml0cyA9IHtcbiAgICB5ZWFyczogW1wieWVhclwiLCBcInlyLlwiXSxcbiAgICBxdWFydGVyczogW1wicXVhcnRlclwiLCBcInF0ci5cIl0sXG4gICAgbW9udGhzOiBbXCJtb250aFwiLCBcIm1vLlwiXSxcbiAgICB3ZWVrczogW1wid2Vla1wiLCBcIndrLlwiXSxcbiAgICBkYXlzOiBbXCJkYXlcIiwgXCJkYXlcIiwgXCJkYXlzXCJdLFxuICAgIGhvdXJzOiBbXCJob3VyXCIsIFwiaHIuXCJdLFxuICAgIG1pbnV0ZXM6IFtcIm1pbnV0ZVwiLCBcIm1pbi5cIl0sXG4gICAgc2Vjb25kczogW1wic2Vjb25kXCIsIFwic2VjLlwiXVxuICB9O1xuICB2YXIgbGFzdGFibGUgPSBbXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCJdLmluZGV4T2YodW5pdCkgPT09IC0xO1xuXG4gIGlmIChudW1lcmljID09PSBcImF1dG9cIiAmJiBsYXN0YWJsZSkge1xuICAgIHZhciBpc0RheSA9IHVuaXQgPT09IFwiZGF5c1wiO1xuXG4gICAgc3dpdGNoIChjb3VudCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gaXNEYXkgPyBcInRvbW9ycm93XCIgOiBcIm5leHQgXCIgKyB1bml0c1t1bml0XVswXTtcblxuICAgICAgY2FzZSAtMTpcbiAgICAgICAgcmV0dXJuIGlzRGF5ID8gXCJ5ZXN0ZXJkYXlcIiA6IFwibGFzdCBcIiArIHVuaXRzW3VuaXRdWzBdO1xuXG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBpc0RheSA/IFwidG9kYXlcIiA6IFwidGhpcyBcIiArIHVuaXRzW3VuaXRdWzBdO1xuXG4gICAgfVxuICB9XG5cbiAgdmFyIGlzSW5QYXN0ID0gT2JqZWN0LmlzKGNvdW50LCAtMCkgfHwgY291bnQgPCAwLFxuICAgICAgZm10VmFsdWUgPSBNYXRoLmFicyhjb3VudCksXG4gICAgICBzaW5ndWxhciA9IGZtdFZhbHVlID09PSAxLFxuICAgICAgbGlsVW5pdHMgPSB1bml0c1t1bml0XSxcbiAgICAgIGZtdFVuaXQgPSBuYXJyb3cgPyBzaW5ndWxhciA/IGxpbFVuaXRzWzFdIDogbGlsVW5pdHNbMl0gfHwgbGlsVW5pdHNbMV0gOiBzaW5ndWxhciA/IHVuaXRzW3VuaXRdWzBdIDogdW5pdDtcbiAgcmV0dXJuIGlzSW5QYXN0ID8gZm10VmFsdWUgKyBcIiBcIiArIGZtdFVuaXQgKyBcIiBhZ29cIiA6IFwiaW4gXCIgKyBmbXRWYWx1ZSArIFwiIFwiICsgZm10VW5pdDtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5VG9rZW5zKHNwbGl0cywgdG9rZW5Ub1N0cmluZykge1xuICB2YXIgcyA9IFwiXCI7XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShzcGxpdHMpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgIHZhciB0b2tlbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgaWYgKHRva2VuLmxpdGVyYWwpIHtcbiAgICAgIHMgKz0gdG9rZW4udmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzICs9IHRva2VuVG9TdHJpbmcodG9rZW4udmFsKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcztcbn1cblxudmFyIF9tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzID0ge1xuICBEOiBEQVRFX1NIT1JULFxuICBERDogREFURV9NRUQsXG4gIERERDogREFURV9GVUxMLFxuICBEREREOiBEQVRFX0hVR0UsXG4gIHQ6IFRJTUVfU0lNUExFLFxuICB0dDogVElNRV9XSVRIX1NFQ09ORFMsXG4gIHR0dDogVElNRV9XSVRIX1NIT1JUX09GRlNFVCxcbiAgdHR0dDogVElNRV9XSVRIX0xPTkdfT0ZGU0VULFxuICBUOiBUSU1FXzI0X1NJTVBMRSxcbiAgVFQ6IFRJTUVfMjRfV0lUSF9TRUNPTkRTLFxuICBUVFQ6IFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQsXG4gIFRUVFQ6IFRJTUVfMjRfV0lUSF9MT05HX09GRlNFVCxcbiAgZjogREFURVRJTUVfU0hPUlQsXG4gIGZmOiBEQVRFVElNRV9NRUQsXG4gIGZmZjogREFURVRJTUVfRlVMTCxcbiAgZmZmZjogREFURVRJTUVfSFVHRSxcbiAgRjogREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTLFxuICBGRjogREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUyxcbiAgRkZGOiBEQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUyxcbiAgRkZGRjogREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFNcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIEZvcm1hdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIEZvcm1hdHRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUobG9jYWxlLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRm9ybWF0dGVyKGxvY2FsZSwgb3B0cyk7XG4gIH07XG5cbiAgRm9ybWF0dGVyLnBhcnNlRm9ybWF0ID0gZnVuY3Rpb24gcGFyc2VGb3JtYXQoZm10KSB7XG4gICAgdmFyIGN1cnJlbnQgPSBudWxsLFxuICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCIsXG4gICAgICAgIGJyYWNrZXRlZCA9IGZhbHNlO1xuICAgIHZhciBzcGxpdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm10Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGZtdC5jaGFyQXQoaSk7XG5cbiAgICAgIGlmIChjID09PSBcIidcIikge1xuICAgICAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNwbGl0cy5wdXNoKHtcbiAgICAgICAgICAgIGxpdGVyYWw6IGJyYWNrZXRlZCxcbiAgICAgICAgICAgIHZhbDogY3VycmVudEZ1bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCI7XG4gICAgICAgIGJyYWNrZXRlZCA9ICFicmFja2V0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGJyYWNrZXRlZCkge1xuICAgICAgICBjdXJyZW50RnVsbCArPSBjO1xuICAgICAgfSBlbHNlIGlmIChjID09PSBjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnRGdWxsICs9IGM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNwbGl0cy5wdXNoKHtcbiAgICAgICAgICAgIGxpdGVyYWw6IGZhbHNlLFxuICAgICAgICAgICAgdmFsOiBjdXJyZW50RnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEZ1bGwgPSBjO1xuICAgICAgICBjdXJyZW50ID0gYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEZ1bGwubGVuZ3RoID4gMCkge1xuICAgICAgc3BsaXRzLnB1c2goe1xuICAgICAgICBsaXRlcmFsOiBicmFja2V0ZWQsXG4gICAgICAgIHZhbDogY3VycmVudEZ1bGxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzcGxpdHM7XG4gIH07XG5cbiAgRm9ybWF0dGVyLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHMgPSBmdW5jdGlvbiBtYWNyb1Rva2VuVG9Gb3JtYXRPcHRzKHRva2VuKSB7XG4gICAgcmV0dXJuIF9tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzW3Rva2VuXTtcbiAgfTtcblxuICBmdW5jdGlvbiBGb3JtYXR0ZXIobG9jYWxlLCBmb3JtYXRPcHRzKSB7XG4gICAgdGhpcy5vcHRzID0gZm9ybWF0T3B0cztcbiAgICB0aGlzLmxvYyA9IGxvY2FsZTtcbiAgICB0aGlzLnN5c3RlbUxvYyA9IG51bGw7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRm9ybWF0dGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZm9ybWF0V2l0aFN5c3RlbURlZmF1bHQgPSBmdW5jdGlvbiBmb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdCwgb3B0cykge1xuICAgIGlmICh0aGlzLnN5c3RlbUxvYyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zeXN0ZW1Mb2MgPSB0aGlzLmxvYy5yZWRlZmF1bHRUb1N5c3RlbSgpO1xuICAgIH1cblxuICAgIHZhciBkZiA9IHRoaXMuc3lzdGVtTG9jLmR0Rm9ybWF0dGVyKGR0LCBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzLCBvcHRzKSk7XG4gICAgcmV0dXJuIGRmLmZvcm1hdCgpO1xuICB9O1xuXG4gIF9wcm90by5mb3JtYXREYXRlVGltZSA9IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKGR0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBkZiA9IHRoaXMubG9jLmR0Rm9ybWF0dGVyKGR0LCBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzLCBvcHRzKSk7XG4gICAgcmV0dXJuIGRmLmZvcm1hdCgpO1xuICB9O1xuXG4gIF9wcm90by5mb3JtYXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gZm9ybWF0RGF0ZVRpbWVQYXJ0cyhkdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZGYgPSB0aGlzLmxvYy5kdEZvcm1hdHRlcihkdCwgX2V4dGVuZHMoe30sIHRoaXMub3B0cywgb3B0cykpO1xuICAgIHJldHVybiBkZi5mb3JtYXRUb1BhcnRzKCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlc29sdmVkT3B0aW9ucyA9IGZ1bmN0aW9uIHJlc29sdmVkT3B0aW9ucyhkdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZGYgPSB0aGlzLmxvYy5kdEZvcm1hdHRlcihkdCwgX2V4dGVuZHMoe30sIHRoaXMub3B0cywgb3B0cykpO1xuICAgIHJldHVybiBkZi5yZXNvbHZlZE9wdGlvbnMoKTtcbiAgfTtcblxuICBfcHJvdG8ubnVtID0gZnVuY3Rpb24gbnVtKG4sIHApIHtcbiAgICBpZiAocCA9PT0gdm9pZCAwKSB7XG4gICAgICBwID0gMDtcbiAgICB9XG5cbiAgICAvLyB3ZSBnZXQgc29tZSBwZXJmIG91dCBvZiBkb2luZyB0aGlzIGhlcmUsIGFubm95aW5nbHlcbiAgICBpZiAodGhpcy5vcHRzLmZvcmNlU2ltcGxlKSB7XG4gICAgICByZXR1cm4gcGFkU3RhcnQobiwgcCk7XG4gICAgfVxuXG4gICAgdmFyIG9wdHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRzKTtcblxuICAgIGlmIChwID4gMCkge1xuICAgICAgb3B0cy5wYWRUbyA9IHA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubG9jLm51bWJlckZvcm1hdHRlcihvcHRzKS5mb3JtYXQobik7XG4gIH07XG5cbiAgX3Byb3RvLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhkdCwgZm10KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBrbm93bkVuZ2xpc2ggPSB0aGlzLmxvYy5saXN0aW5nTW9kZSgpID09PSBcImVuXCIsXG4gICAgICAgIHVzZURhdGVUaW1lRm9ybWF0dGVyID0gdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIgJiYgdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIgIT09IFwiZ3JlZ29yeVwiLFxuICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiBzdHJpbmcob3B0cywgZXh0cmFjdCkge1xuICAgICAgcmV0dXJuIF90aGlzLmxvYy5leHRyYWN0KGR0LCBvcHRzLCBleHRyYWN0KTtcbiAgICB9LFxuICAgICAgICBmb3JtYXRPZmZzZXQgPSBmdW5jdGlvbiBmb3JtYXRPZmZzZXQob3B0cykge1xuICAgICAgaWYgKGR0LmlzT2Zmc2V0Rml4ZWQgJiYgZHQub2Zmc2V0ID09PSAwICYmIG9wdHMuYWxsb3daKSB7XG4gICAgICAgIHJldHVybiBcIlpcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR0LmlzVmFsaWQgPyBkdC56b25lLmZvcm1hdE9mZnNldChkdC50cywgb3B0cy5mb3JtYXQpIDogXCJcIjtcbiAgICB9LFxuICAgICAgICBtZXJpZGllbSA9IGZ1bmN0aW9uIG1lcmlkaWVtKCkge1xuICAgICAgcmV0dXJuIGtub3duRW5nbGlzaCA/IG1lcmlkaWVtRm9yRGF0ZVRpbWUoZHQpIDogc3RyaW5nKHtcbiAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgIGhvdXJDeWNsZTogXCJoMTJcIlxuICAgICAgfSwgXCJkYXlwZXJpb2RcIik7XG4gICAgfSxcbiAgICAgICAgbW9udGggPSBmdW5jdGlvbiBtb250aChsZW5ndGgsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHJldHVybiBrbm93bkVuZ2xpc2ggPyBtb250aEZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHN0YW5kYWxvbmUgPyB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGhcbiAgICAgIH0gOiB7XG4gICAgICAgIG1vbnRoOiBsZW5ndGgsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0sIFwibW9udGhcIik7XG4gICAgfSxcbiAgICAgICAgd2Vla2RheSA9IGZ1bmN0aW9uIHdlZWtkYXkobGVuZ3RoLCBzdGFuZGFsb25lKSB7XG4gICAgICByZXR1cm4ga25vd25FbmdsaXNoID8gd2Vla2RheUZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHN0YW5kYWxvbmUgPyB7XG4gICAgICAgIHdlZWtkYXk6IGxlbmd0aFxuICAgICAgfSA6IHtcbiAgICAgICAgd2Vla2RheTogbGVuZ3RoLFxuICAgICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0sIFwid2Vla2RheVwiKTtcbiAgICB9LFxuICAgICAgICBtYXliZU1hY3JvID0gZnVuY3Rpb24gbWF5YmVNYWNybyh0b2tlbikge1xuICAgICAgdmFyIGZvcm1hdE9wdHMgPSBGb3JtYXR0ZXIubWFjcm9Ub2tlblRvRm9ybWF0T3B0cyh0b2tlbik7XG5cbiAgICAgIGlmIChmb3JtYXRPcHRzKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdCwgZm9ybWF0T3B0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgZXJhID0gZnVuY3Rpb24gZXJhKGxlbmd0aCkge1xuICAgICAgcmV0dXJuIGtub3duRW5nbGlzaCA/IGVyYUZvckRhdGVUaW1lKGR0LCBsZW5ndGgpIDogc3RyaW5nKHtcbiAgICAgICAgZXJhOiBsZW5ndGhcbiAgICAgIH0sIFwiZXJhXCIpO1xuICAgIH0sXG4gICAgICAgIHRva2VuVG9TdHJpbmcgPSBmdW5jdGlvbiB0b2tlblRvU3RyaW5nKHRva2VuKSB7XG4gICAgICAvLyBXaGVyZSBwb3NzaWJsZTogaHR0cDovL2NsZHIudW5pY29kZS5vcmcvdHJhbnNsYXRpb24vZGF0ZS10aW1lLTEvZGF0ZS10aW1lI1RPQy1TdGFuZGFsb25lLXZzLi1Gb3JtYXQtU3R5bGVzXG4gICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgIC8vIG1zXG4gICAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5taWxsaXNlY29uZCk7XG5cbiAgICAgICAgY2FzZSBcInVcIjogLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICAgIGNhc2UgXCJTU1NcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0Lm1pbGxpc2Vjb25kLCAzKTtcbiAgICAgICAgLy8gc2Vjb25kc1xuXG4gICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5zZWNvbmQpO1xuXG4gICAgICAgIGNhc2UgXCJzc1wiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQuc2Vjb25kLCAyKTtcbiAgICAgICAgLy8gZnJhY3Rpb25hbCBzZWNvbmRzXG5cbiAgICAgICAgY2FzZSBcInV1XCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShNYXRoLmZsb29yKGR0Lm1pbGxpc2Vjb25kIC8gMTApLCAyKTtcblxuICAgICAgICBjYXNlIFwidXV1XCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShNYXRoLmZsb29yKGR0Lm1pbGxpc2Vjb25kIC8gMTAwKSk7XG4gICAgICAgIC8vIG1pbnV0ZXNcblxuICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQubWludXRlKTtcblxuICAgICAgICBjYXNlIFwibW1cIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0Lm1pbnV0ZSwgMik7XG4gICAgICAgIC8vIGhvdXJzXG5cbiAgICAgICAgY2FzZSBcImhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LmhvdXIgJSAxMiA9PT0gMCA/IDEyIDogZHQuaG91ciAlIDEyKTtcblxuICAgICAgICBjYXNlIFwiaGhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LmhvdXIgJSAxMiA9PT0gMCA/IDEyIDogZHQuaG91ciAlIDEyLCAyKTtcblxuICAgICAgICBjYXNlIFwiSFwiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQuaG91cik7XG5cbiAgICAgICAgY2FzZSBcIkhIXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5ob3VyLCAyKTtcbiAgICAgICAgLy8gb2Zmc2V0XG5cbiAgICAgICAgY2FzZSBcIlpcIjpcbiAgICAgICAgICAvLyBsaWtlICs2XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwibmFycm93XCIsXG4gICAgICAgICAgICBhbGxvd1o6IF90aGlzLm9wdHMuYWxsb3daXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaXCI6XG4gICAgICAgICAgLy8gbGlrZSArMDY6MDBcbiAgICAgICAgICByZXR1cm4gZm9ybWF0T2Zmc2V0KHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgYWxsb3daOiBfdGhpcy5vcHRzLmFsbG93WlxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNhc2UgXCJaWlpcIjpcbiAgICAgICAgICAvLyBsaWtlICswNjAwXG4gICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwidGVjaGllXCIsXG4gICAgICAgICAgICBhbGxvd1o6IF90aGlzLm9wdHMuYWxsb3daXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaWlpcIjpcbiAgICAgICAgICAvLyBsaWtlIEVTVFxuICAgICAgICAgIHJldHVybiBkdC56b25lLm9mZnNldE5hbWUoZHQudHMsIHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgbG9jYWxlOiBfdGhpcy5sb2MubG9jYWxlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgY2FzZSBcIlpaWlpaXCI6XG4gICAgICAgICAgLy8gbGlrZSBFYXN0ZXJuIFN0YW5kYXJkIFRpbWVcbiAgICAgICAgICByZXR1cm4gZHQuem9uZS5vZmZzZXROYW1lKGR0LnRzLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IFwibG9uZ1wiLFxuICAgICAgICAgICAgbG9jYWxlOiBfdGhpcy5sb2MubG9jYWxlXG4gICAgICAgICAgfSk7XG4gICAgICAgIC8vIHpvbmVcblxuICAgICAgICBjYXNlIFwielwiOlxuICAgICAgICAgIC8vIGxpa2UgQW1lcmljYS9OZXdfWW9ya1xuICAgICAgICAgIHJldHVybiBkdC56b25lTmFtZTtcbiAgICAgICAgLy8gbWVyaWRpZW1zXG5cbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICByZXR1cm4gbWVyaWRpZW0oKTtcbiAgICAgICAgLy8gZGF0ZXNcblxuICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJkYXlcIikgOiBfdGhpcy5udW0oZHQuZGF5KTtcblxuICAgICAgICBjYXNlIFwiZGRcIjpcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgZGF5OiBcIjItZGlnaXRcIlxuICAgICAgICAgIH0sIFwiZGF5XCIpIDogX3RoaXMubnVtKGR0LmRheSwgMik7XG4gICAgICAgIC8vIHdlZWtkYXlzIC0gc3RhbmRhbG9uZVxuXG4gICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC53ZWVrZGF5KTtcblxuICAgICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVHVlcydcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcInNob3J0XCIsIHRydWUpO1xuXG4gICAgICAgIGNhc2UgXCJjY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVHVlc2RheSdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcImxvbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgY2FzZSBcImNjY2NjXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVCdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcIm5hcnJvd1wiLCB0cnVlKTtcbiAgICAgICAgLy8gd2Vla2RheXMgLSBmb3JtYXRcblxuICAgICAgICBjYXNlIFwiRVwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQud2Vla2RheSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICAgIC8vIGxpa2UgJ1R1ZXMnXG4gICAgICAgICAgcmV0dXJuIHdlZWtkYXkoXCJzaG9ydFwiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRUVcIjpcbiAgICAgICAgICAvLyBsaWtlICdUdWVzZGF5J1xuICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwibG9uZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIkVFRUVFXCI6XG4gICAgICAgICAgLy8gbGlrZSAnVCdcbiAgICAgICAgICByZXR1cm4gd2Vla2RheShcIm5hcnJvd1wiLCBmYWxzZSk7XG4gICAgICAgIC8vIG1vbnRocyAtIHN0YW5kYWxvbmVcblxuICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICBtb250aDogXCJudW1lcmljXCIsXG4gICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJtb250aFwiKSA6IF90aGlzLm51bShkdC5tb250aCk7XG5cbiAgICAgICAgY2FzZSBcIkxMXCI6XG4gICAgICAgICAgLy8gbGlrZSAwMSwgZG9lc24ndCBzZWVtIHRvIHdvcmtcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwibW9udGhcIikgOiBfdGhpcy5udW0oZHQubW9udGgsIDIpO1xuXG4gICAgICAgIGNhc2UgXCJMTExcIjpcbiAgICAgICAgICAvLyBsaWtlIEphblxuICAgICAgICAgIHJldHVybiBtb250aChcInNob3J0XCIsIHRydWUpO1xuXG4gICAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICAgICAgLy8gbGlrZSBKYW51YXJ5XG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibG9uZ1wiLCB0cnVlKTtcblxuICAgICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgICAvLyBsaWtlIEpcbiAgICAgICAgICByZXR1cm4gbW9udGgoXCJuYXJyb3dcIiwgdHJ1ZSk7XG4gICAgICAgIC8vIG1vbnRocyAtIGZvcm1hdFxuXG4gICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIG1vbnRoOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwibW9udGhcIikgOiBfdGhpcy5udW0oZHQubW9udGgpO1xuXG4gICAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICAgIC8vIGxpa2UgMDFcbiAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoe1xuICAgICAgICAgICAgbW9udGg6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgfSwgXCJtb250aFwiKSA6IF90aGlzLm51bShkdC5tb250aCwgMik7XG5cbiAgICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICAgIC8vIGxpa2UgSmFuXG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwic2hvcnRcIiwgZmFsc2UpO1xuXG4gICAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICAgICAgLy8gbGlrZSBKYW51YXJ5XG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibG9uZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBcIk1NTU1NXCI6XG4gICAgICAgICAgLy8gbGlrZSBKXG4gICAgICAgICAgcmV0dXJuIG1vbnRoKFwibmFycm93XCIsIGZhbHNlKTtcbiAgICAgICAgLy8geWVhcnNcblxuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgIC8vIGxpa2UgMjAxNFxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwieWVhclwiKSA6IF90aGlzLm51bShkdC55ZWFyKTtcblxuICAgICAgICBjYXNlIFwieXlcIjpcbiAgICAgICAgICAvLyBsaWtlIDE0XG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIHllYXI6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgfSwgXCJ5ZWFyXCIpIDogX3RoaXMubnVtKGR0LnllYXIudG9TdHJpbmcoKS5zbGljZSgtMiksIDIpO1xuXG4gICAgICAgIGNhc2UgXCJ5eXl5XCI6XG4gICAgICAgICAgLy8gbGlrZSAwMDEyXG4gICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHtcbiAgICAgICAgICAgIHllYXI6IFwibnVtZXJpY1wiXG4gICAgICAgICAgfSwgXCJ5ZWFyXCIpIDogX3RoaXMubnVtKGR0LnllYXIsIDQpO1xuXG4gICAgICAgIGNhc2UgXCJ5eXl5eXlcIjpcbiAgICAgICAgICAvLyBsaWtlIDAwMDAxMlxuICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlciA/IHN0cmluZyh7XG4gICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIlxuICAgICAgICAgIH0sIFwieWVhclwiKSA6IF90aGlzLm51bShkdC55ZWFyLCA2KTtcbiAgICAgICAgLy8gZXJhc1xuXG4gICAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgICAgLy8gbGlrZSBBRFxuICAgICAgICAgIHJldHVybiBlcmEoXCJzaG9ydFwiKTtcblxuICAgICAgICBjYXNlIFwiR0dcIjpcbiAgICAgICAgICAvLyBsaWtlIEFubm8gRG9taW5pXG4gICAgICAgICAgcmV0dXJuIGVyYShcImxvbmdcIik7XG5cbiAgICAgICAgY2FzZSBcIkdHR0dHXCI6XG4gICAgICAgICAgcmV0dXJuIGVyYShcIm5hcnJvd1wiKTtcblxuICAgICAgICBjYXNlIFwia2tcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LndlZWtZZWFyLnRvU3RyaW5nKCkuc2xpY2UoLTIpLCAyKTtcblxuICAgICAgICBjYXNlIFwia2tra1wiOlxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQud2Vla1llYXIsIDQpO1xuXG4gICAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC53ZWVrTnVtYmVyKTtcblxuICAgICAgICBjYXNlIFwiV1dcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LndlZWtOdW1iZXIsIDIpO1xuXG4gICAgICAgIGNhc2UgXCJvXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5vcmRpbmFsKTtcblxuICAgICAgICBjYXNlIFwib29vXCI6XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm51bShkdC5vcmRpbmFsLCAzKTtcblxuICAgICAgICBjYXNlIFwicVwiOlxuICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQucXVhcnRlcik7XG5cbiAgICAgICAgY2FzZSBcInFxXCI6XG4gICAgICAgICAgLy8gbGlrZSAwMVxuICAgICAgICAgIHJldHVybiBfdGhpcy5udW0oZHQucXVhcnRlciwgMik7XG5cbiAgICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKE1hdGguZmxvb3IoZHQudHMgLyAxMDAwKSk7XG5cbiAgICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgICByZXR1cm4gX3RoaXMubnVtKGR0LnRzKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBtYXliZU1hY3JvKHRva2VuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHN0cmluZ2lmeVRva2VucyhGb3JtYXR0ZXIucGFyc2VGb3JtYXQoZm10KSwgdG9rZW5Ub1N0cmluZyk7XG4gIH07XG5cbiAgX3Byb3RvLmZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyhkdXIsIGZtdCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHRva2VuVG9GaWVsZCA9IGZ1bmN0aW9uIHRva2VuVG9GaWVsZCh0b2tlbikge1xuICAgICAgc3dpdGNoICh0b2tlblswXSkge1xuICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgIHJldHVybiBcIm1pbGxpc2Vjb25kXCI7XG5cbiAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICByZXR1cm4gXCJzZWNvbmRcIjtcblxuICAgICAgICBjYXNlIFwibVwiOlxuICAgICAgICAgIHJldHVybiBcIm1pbnV0ZVwiO1xuXG4gICAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaG91clwiO1xuXG4gICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZGF5XCI7XG5cbiAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICByZXR1cm4gXCJtb250aFwiO1xuXG4gICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgcmV0dXJuIFwieWVhclwiO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICAgICAgdG9rZW5Ub1N0cmluZyA9IGZ1bmN0aW9uIHRva2VuVG9TdHJpbmcobGlsZHVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSB0b2tlblRvRmllbGQodG9rZW4pO1xuXG4gICAgICAgIGlmIChtYXBwZWQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLm51bShsaWxkdXIuZ2V0KG1hcHBlZCksIHRva2VuLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgICAgIHRva2VucyA9IEZvcm1hdHRlci5wYXJzZUZvcm1hdChmbXQpLFxuICAgICAgICByZWFsVG9rZW5zID0gdG9rZW5zLnJlZHVjZShmdW5jdGlvbiAoZm91bmQsIF9yZWYpIHtcbiAgICAgIHZhciBsaXRlcmFsID0gX3JlZi5saXRlcmFsLFxuICAgICAgICAgIHZhbCA9IF9yZWYudmFsO1xuICAgICAgcmV0dXJuIGxpdGVyYWwgPyBmb3VuZCA6IGZvdW5kLmNvbmNhdCh2YWwpO1xuICAgIH0sIFtdKSxcbiAgICAgICAgY29sbGFwc2VkID0gZHVyLnNoaWZ0VG8uYXBwbHkoZHVyLCByZWFsVG9rZW5zLm1hcCh0b2tlblRvRmllbGQpLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHN0cmluZ2lmeVRva2Vucyh0b2tlbnMsIHRva2VuVG9TdHJpbmcoY29sbGFwc2VkKSk7XG4gIH07XG5cbiAgcmV0dXJuIEZvcm1hdHRlcjtcbn0oKTtcblxudmFyIEludmFsaWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pIHtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmV4cGxhbmF0aW9uID0gZXhwbGFuYXRpb247XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSW52YWxpZC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvTWVzc2FnZSA9IGZ1bmN0aW9uIHRvTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5leHBsYW5hdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMucmVhc29uICsgXCI6IFwiICsgdGhpcy5leHBsYW5hdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucmVhc29uO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSW52YWxpZDtcbn0oKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlXG4gKi9cblxudmFyIFpvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBab25lKCkge31cblxuICB2YXIgX3Byb3RvID0gWm9uZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCdzIGNvbW1vbiBuYW1lIChzdWNoIGFzIEVTVCkgYXQgdGhlIHNwZWNpZmllZCB0aW1lc3RhbXBcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0cyAtIEVwb2NoIG1pbGxpc2Vjb25kcyBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBuYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gT3B0aW9ucyB0byBhZmZlY3QgdGhlIGZvcm1hdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5mb3JtYXQgLSBXaGF0IHN0eWxlIG9mIG9mZnNldCB0byByZXR1cm4uIEFjY2VwdHMgJ2xvbmcnIG9yICdzaG9ydCcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmxvY2FsZSAtIFdoYXQgbG9jYWxlIHRvIHJldHVybiB0aGUgb2Zmc2V0IG5hbWUgaW4uXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSh0cywgb3B0cykge1xuICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9mZnNldCdzIHZhbHVlIGFzIGEgc3RyaW5nXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdHMgLSBFcG9jaCBtaWxsaXNlY29uZHMgZm9yIHdoaWNoIHRvIGdldCB0aGUgb2Zmc2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgLSBXaGF0IHN0eWxlIG9mIG9mZnNldCB0byByZXR1cm4uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBBY2NlcHRzICduYXJyb3cnLCAnc2hvcnQnLCBvciAndGVjaGllJy4gUmV0dXJuaW5nICcrNicsICcrMDY6MDAnLCBvciAnKzA2MDAnIHJlc3BlY3RpdmVseVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmZvcm1hdE9mZnNldCA9IGZ1bmN0aW9uIGZvcm1hdE9mZnNldCh0cywgZm9ybWF0KSB7XG4gICAgdGhyb3cgbmV3IFpvbmVJc0Fic3RyYWN0RXJyb3IoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBvZmZzZXQgaW4gbWludXRlcyBmb3IgdGhpcyB6b25lIGF0IHRoZSBzcGVjaWZpZWQgdGltZXN0YW1wLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRzIC0gRXBvY2ggbWlsbGlzZWNvbmRzIGZvciB3aGljaCB0byBjb21wdXRlIHRoZSBvZmZzZXRcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vZmZzZXQgPSBmdW5jdGlvbiBvZmZzZXQodHMpIHtcbiAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIFpvbmUgaXMgZXF1YWwgdG8gYW5vdGhlciB6b25lXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge1pvbmV9IG90aGVyWm9uZSAtIHRoZSB6b25lIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyWm9uZSkge1xuICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgWm9uZSBpcyB2YWxpZC5cbiAgICogQGFic3RyYWN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhab25lLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OlxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHpvbmVcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgem9uZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdGhyb3cgbmV3IFpvbmVJc0Fic3RyYWN0RXJyb3IoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBvZmZzZXQgaXMga25vd24gdG8gYmUgZml4ZWQgZm9yIHRoZSB3aG9sZSB5ZWFyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNVbml2ZXJzYWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFpvbmU7XG59KCk7XG5cbnZhciBzaW5nbGV0b24kMSA9IG51bGw7XG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxvY2FsIHpvbmUgZm9yIHRoaXMgSmF2YVNjcmlwdCBlbnZpcm9ubWVudC5cbiAqIEBpbXBsZW1lbnRzIHtab25lfVxuICovXG5cbnZhciBTeXN0ZW1ab25lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfWm9uZSkge1xuICBfaW5oZXJpdHNMb29zZShTeXN0ZW1ab25lLCBfWm9uZSk7XG5cbiAgZnVuY3Rpb24gU3lzdGVtWm9uZSgpIHtcbiAgICByZXR1cm4gX1pvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN5c3RlbVpvbmUucHJvdG90eXBlO1xuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSh0cywgX3JlZikge1xuICAgIHZhciBmb3JtYXQgPSBfcmVmLmZvcm1hdCxcbiAgICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGU7XG4gICAgcmV0dXJuIHBhcnNlWm9uZUluZm8odHMsIGZvcm1hdCwgbG9jYWxlKTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmZvcm1hdE9mZnNldCA9IGZ1bmN0aW9uIGZvcm1hdE9mZnNldCQxKHRzLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gZm9ybWF0T2Zmc2V0KHRoaXMub2Zmc2V0KHRzKSwgZm9ybWF0KTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLm9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldCh0cykge1xuICAgIHJldHVybiAtbmV3IERhdGUodHMpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXJab25lKSB7XG4gICAgcmV0dXJuIG90aGVyWm9uZS50eXBlID09PSBcInN5c3RlbVwiO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfY3JlYXRlQ2xhc3MoU3lzdGVtWm9uZSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDpcbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1VuaXZlcnNhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJpbnN0YW5jZVwiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBHZXQgYSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIGxvY2FsIHpvbmVcbiAgICAgKiBAcmV0dXJuIHtTeXN0ZW1ab25lfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmIChzaW5nbGV0b24kMSA9PT0gbnVsbCkge1xuICAgICAgICBzaW5nbGV0b24kMSA9IG5ldyBTeXN0ZW1ab25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaW5nbGV0b24kMTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3lzdGVtWm9uZTtcbn0oWm9uZSk7XG5cbnZhciBtYXRjaGluZ1JlZ2V4ID0gUmVnRXhwKFwiXlwiICsgaWFuYVJlZ2V4LnNvdXJjZSArIFwiJFwiKTtcbnZhciBkdGZDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBtYWtlRFRGKHpvbmUpIHtcbiAgaWYgKCFkdGZDYWNoZVt6b25lXSkge1xuICAgIGR0ZkNhY2hlW3pvbmVdID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJlbi1VU1wiLCB7XG4gICAgICBob3VyMTI6IGZhbHNlLFxuICAgICAgdGltZVpvbmU6IHpvbmUsXG4gICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgICBob3VyOiBcIjItZGlnaXRcIixcbiAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZHRmQ2FjaGVbem9uZV07XG59XG5cbnZhciB0eXBlVG9Qb3MgPSB7XG4gIHllYXI6IDAsXG4gIG1vbnRoOiAxLFxuICBkYXk6IDIsXG4gIGhvdXI6IDMsXG4gIG1pbnV0ZTogNCxcbiAgc2Vjb25kOiA1XG59O1xuXG5mdW5jdGlvbiBoYWNreU9mZnNldChkdGYsIGRhdGUpIHtcbiAgdmFyIGZvcm1hdHRlZCA9IGR0Zi5mb3JtYXQoZGF0ZSkucmVwbGFjZSgvXFx1MjAwRS9nLCBcIlwiKSxcbiAgICAgIHBhcnNlZCA9IC8oXFxkKylcXC8oXFxkKylcXC8oXFxkKyksPyAoXFxkKyk6KFxcZCspOihcXGQrKS8uZXhlYyhmb3JtYXR0ZWQpLFxuICAgICAgZk1vbnRoID0gcGFyc2VkWzFdLFxuICAgICAgZkRheSA9IHBhcnNlZFsyXSxcbiAgICAgIGZZZWFyID0gcGFyc2VkWzNdLFxuICAgICAgZkhvdXIgPSBwYXJzZWRbNF0sXG4gICAgICBmTWludXRlID0gcGFyc2VkWzVdLFxuICAgICAgZlNlY29uZCA9IHBhcnNlZFs2XTtcbiAgcmV0dXJuIFtmWWVhciwgZk1vbnRoLCBmRGF5LCBmSG91ciwgZk1pbnV0ZSwgZlNlY29uZF07XG59XG5cbmZ1bmN0aW9uIHBhcnRzT2Zmc2V0KGR0ZiwgZGF0ZSkge1xuICB2YXIgZm9ybWF0dGVkID0gZHRmLmZvcm1hdFRvUGFydHMoZGF0ZSksXG4gICAgICBmaWxsZWQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHRlZC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfZm9ybWF0dGVkJGkgPSBmb3JtYXR0ZWRbaV0sXG4gICAgICAgIHR5cGUgPSBfZm9ybWF0dGVkJGkudHlwZSxcbiAgICAgICAgdmFsdWUgPSBfZm9ybWF0dGVkJGkudmFsdWUsXG4gICAgICAgIHBvcyA9IHR5cGVUb1Bvc1t0eXBlXTtcblxuICAgIGlmICghaXNVbmRlZmluZWQocG9zKSkge1xuICAgICAgZmlsbGVkW3Bvc10gPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaWxsZWQ7XG59XG5cbnZhciBpYW5hWm9uZUNhY2hlID0ge307XG4vKipcbiAqIEEgem9uZSBpZGVudGlmaWVkIGJ5IGFuIElBTkEgaWRlbnRpZmllciwgbGlrZSBBbWVyaWNhL05ld19Zb3JrXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuXG52YXIgSUFOQVpvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9ab25lKSB7XG4gIF9pbmhlcml0c0xvb3NlKElBTkFab25lLCBfWm9uZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gWm9uZSBuYW1lXG4gICAqIEByZXR1cm4ge0lBTkFab25lfVxuICAgKi9cbiAgSUFOQVpvbmUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKG5hbWUpIHtcbiAgICBpZiAoIWlhbmFab25lQ2FjaGVbbmFtZV0pIHtcbiAgICAgIGlhbmFab25lQ2FjaGVbbmFtZV0gPSBuZXcgSUFOQVpvbmUobmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlhbmFab25lQ2FjaGVbbmFtZV07XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0IGxvY2FsIGNhY2hlcy4gU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IGluIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgO1xuXG4gIElBTkFab25lLnJlc2V0Q2FjaGUgPSBmdW5jdGlvbiByZXNldENhY2hlKCkge1xuICAgIGlhbmFab25lQ2FjaGUgPSB7fTtcbiAgICBkdGZDYWNoZSA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHN0cmluZyBpcyBhIHZhbGlkIHNwZWNpZmllci4gVGhpcyBvbmx5IGNoZWNrcyB0aGUgc3RyaW5nJ3MgZm9ybWF0LCBub3QgdGhhdCB0aGUgc3BlY2lmaWVyIGlkZW50aWZpZXMgYSBrbm93biB6b25lOyBzZWUgaXNWYWxpZFpvbmUgZm9yIHRoYXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzIC0gVGhlIHN0cmluZyB0byBjaGVjayB2YWxpZGl0eSBvblxuICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkU3BlY2lmaWVyKFwiQW1lcmljYS9OZXdfWW9ya1wiKSAvLz0+IHRydWVcbiAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllcihcIkZhbnRhc2lhL0Nhc3RsZVwiKSAvLz0+IHRydWVcbiAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllcihcIlNwb3J0fn5ibG9ycFwiKSAvLz0+IGZhbHNlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllciA9IGZ1bmN0aW9uIGlzVmFsaWRTcGVjaWZpZXIocykge1xuICAgIHJldHVybiAhIShzICYmIHMubWF0Y2gobWF0Y2hpbmdSZWdleCkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHN0cmluZyBpZGVudGlmaWVzIGEgcmVhbCB6b25lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB6b25lIC0gVGhlIHN0cmluZyB0byBjaGVja1xuICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkWm9uZShcIkFtZXJpY2EvTmV3X1lvcmtcIikgLy89PiB0cnVlXG4gICAqIEBleGFtcGxlIElBTkFab25lLmlzVmFsaWRab25lKFwiRmFudGFzaWEvQ2FzdGxlXCIpIC8vPT4gZmFsc2VcbiAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFpvbmUoXCJTcG9ydH5+YmxvcnBcIikgLy89PiBmYWxzZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIElBTkFab25lLmlzVmFsaWRab25lID0gZnVuY3Rpb24gaXNWYWxpZFpvbmUoem9uZSkge1xuICAgIGlmICghem9uZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIsIHtcbiAgICAgICAgdGltZVpvbmU6IHpvbmVcbiAgICAgIH0pLmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBJQU5BWm9uZShuYW1lKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfWm9uZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgLyoqIEBwcml2YXRlICoqL1xuXG4gICAgX3RoaXMuem9uZU5hbWUgPSBuYW1lO1xuICAgIC8qKiBAcHJpdmF0ZSAqKi9cblxuICAgIF90aGlzLnZhbGlkID0gSUFOQVpvbmUuaXNWYWxpZFpvbmUobmFtZSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG5cblxuICB2YXIgX3Byb3RvID0gSUFOQVpvbmUucHJvdG90eXBlO1xuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSh0cywgX3JlZikge1xuICAgIHZhciBmb3JtYXQgPSBfcmVmLmZvcm1hdCxcbiAgICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGU7XG4gICAgcmV0dXJuIHBhcnNlWm9uZUluZm8odHMsIGZvcm1hdCwgbG9jYWxlLCB0aGlzLm5hbWUpO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZm9ybWF0T2Zmc2V0ID0gZnVuY3Rpb24gZm9ybWF0T2Zmc2V0JDEodHMsIGZvcm1hdCkge1xuICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5vZmZzZXQodHMpLCBmb3JtYXQpO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8ub2Zmc2V0ID0gZnVuY3Rpb24gb2Zmc2V0KHRzKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0cyk7XG4gICAgaWYgKGlzTmFOKGRhdGUpKSByZXR1cm4gTmFOO1xuXG4gICAgdmFyIGR0ZiA9IG1ha2VEVEYodGhpcy5uYW1lKSxcbiAgICAgICAgX3JlZjIgPSBkdGYuZm9ybWF0VG9QYXJ0cyA/IHBhcnRzT2Zmc2V0KGR0ZiwgZGF0ZSkgOiBoYWNreU9mZnNldChkdGYsIGRhdGUpLFxuICAgICAgICB5ZWFyID0gX3JlZjJbMF0sXG4gICAgICAgIG1vbnRoID0gX3JlZjJbMV0sXG4gICAgICAgIGRheSA9IF9yZWYyWzJdLFxuICAgICAgICBob3VyID0gX3JlZjJbM10sXG4gICAgICAgIG1pbnV0ZSA9IF9yZWYyWzRdLFxuICAgICAgICBzZWNvbmQgPSBfcmVmMls1XTsgLy8gYmVjYXVzZSB3ZSdyZSB1c2luZyBob3VyMTIgYW5kIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTEwMjU1NjQmY2FuPTImcT0lMjIyNCUzQTAwJTIyJTIwZGF0ZXRpbWVmb3JtYXRcblxuXG4gICAgdmFyIGFkanVzdGVkSG91ciA9IGhvdXIgPT09IDI0ID8gMCA6IGhvdXI7XG4gICAgdmFyIGFzVVRDID0gb2JqVG9Mb2NhbFRTKHtcbiAgICAgIHllYXI6IHllYXIsXG4gICAgICBtb250aDogbW9udGgsXG4gICAgICBkYXk6IGRheSxcbiAgICAgIGhvdXI6IGFkanVzdGVkSG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogMFxuICAgIH0pO1xuICAgIHZhciBhc1RTID0gK2RhdGU7XG4gICAgdmFyIG92ZXIgPSBhc1RTICUgMTAwMDtcbiAgICBhc1RTIC09IG92ZXIgPj0gMCA/IG92ZXIgOiAxMDAwICsgb3ZlcjtcbiAgICByZXR1cm4gKGFzVVRDIC0gYXNUUykgLyAoNjAgKiAxMDAwKTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlclpvbmUpIHtcbiAgICByZXR1cm4gb3RoZXJab25lLnR5cGUgPT09IFwiaWFuYVwiICYmIG90aGVyWm9uZS5uYW1lID09PSB0aGlzLm5hbWU7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhJQU5BWm9uZSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiaWFuYVwiO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZU5hbWU7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1VuaXZlcnNhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSUFOQVpvbmU7XG59KFpvbmUpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbi8qKlxuICogQSB6b25lIHdpdGggYSBmaXhlZCBvZmZzZXQgKG1lYW5pbmcgbm8gRFNUKVxuICogQGltcGxlbWVudHMge1pvbmV9XG4gKi9cblxudmFyIEZpeGVkT2Zmc2V0Wm9uZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1pvbmUpIHtcbiAgX2luaGVyaXRzTG9vc2UoRml4ZWRPZmZzZXRab25lLCBfWm9uZSk7XG5cbiAgLyoqXG4gICAqIEdldCBhbiBpbnN0YW5jZSB3aXRoIGEgc3BlY2lmaWVkIG9mZnNldFxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBpbiBtaW51dGVzXG4gICAqIEByZXR1cm4ge0ZpeGVkT2Zmc2V0Wm9uZX1cbiAgICovXG4gIEZpeGVkT2Zmc2V0Wm9uZS5pbnN0YW5jZSA9IGZ1bmN0aW9uIGluc3RhbmNlKG9mZnNldCkge1xuICAgIHJldHVybiBvZmZzZXQgPT09IDAgPyBGaXhlZE9mZnNldFpvbmUudXRjSW5zdGFuY2UgOiBuZXcgRml4ZWRPZmZzZXRab25lKG9mZnNldCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBpbnN0YW5jZSBvZiBGaXhlZE9mZnNldFpvbmUgZnJvbSBhIFVUQyBvZmZzZXQgc3RyaW5nLCBsaWtlIFwiVVRDKzZcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcyAtIFRoZSBvZmZzZXQgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBleGFtcGxlIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihcIlVUQys2XCIpXG4gICAqIEBleGFtcGxlIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihcIlVUQyswNlwiKVxuICAgKiBAZXhhbXBsZSBGaXhlZE9mZnNldFpvbmUucGFyc2VTcGVjaWZpZXIoXCJVVEMtNjowMFwiKVxuICAgKiBAcmV0dXJuIHtGaXhlZE9mZnNldFpvbmV9XG4gICAqL1xuICA7XG5cbiAgRml4ZWRPZmZzZXRab25lLnBhcnNlU3BlY2lmaWVyID0gZnVuY3Rpb24gcGFyc2VTcGVjaWZpZXIocykge1xuICAgIGlmIChzKSB7XG4gICAgICB2YXIgciA9IHMubWF0Y2goL151dGMoPzooWystXVxcZHsxLDJ9KSg/OjooXFxkezJ9KSk/KT8kL2kpO1xuXG4gICAgICBpZiAocikge1xuICAgICAgICByZXR1cm4gbmV3IEZpeGVkT2Zmc2V0Wm9uZShzaWduZWRPZmZzZXQoclsxXSwgclsyXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEZpeGVkT2Zmc2V0Wm9uZShvZmZzZXQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9ab25lLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAvKiogQHByaXZhdGUgKiovXG5cbiAgICBfdGhpcy5maXhlZCA9IG9mZnNldDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cblxuXG4gIHZhciBfcHJvdG8gPSBGaXhlZE9mZnNldFpvbmUucHJvdG90eXBlO1xuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIF9wcm90by5vZmZzZXROYW1lID0gZnVuY3Rpb24gb2Zmc2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIDtcblxuICBfcHJvdG8uZm9ybWF0T2Zmc2V0ID0gZnVuY3Rpb24gZm9ybWF0T2Zmc2V0JDEodHMsIGZvcm1hdCkge1xuICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5maXhlZCwgZm9ybWF0KTtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgX3Byb3RvLm9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5maXhlZDtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlclpvbmUpIHtcbiAgICByZXR1cm4gb3RoZXJab25lLnR5cGUgPT09IFwiZml4ZWRcIiAmJiBvdGhlclpvbmUuZml4ZWQgPT09IHRoaXMuZml4ZWQ7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhGaXhlZE9mZnNldFpvbmUsIFt7XG4gICAga2V5OiBcInR5cGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcImZpeGVkXCI7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJuYW1lXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXhlZCA9PT0gMCA/IFwiVVRDXCIgOiBcIlVUQ1wiICsgZm9ybWF0T2Zmc2V0KHRoaXMuZml4ZWQsIFwibmFycm93XCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1VuaXZlcnNhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInV0Y0luc3RhbmNlXCIsXG4gICAgZ2V0OlxuICAgIC8qKlxuICAgICAqIEdldCBhIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBVVENcbiAgICAgKiBAcmV0dXJuIHtGaXhlZE9mZnNldFpvbmV9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHNpbmdsZXRvbiA9PT0gbnVsbCkge1xuICAgICAgICBzaW5nbGV0b24gPSBuZXcgRml4ZWRPZmZzZXRab25lKDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2luZ2xldG9uO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGaXhlZE9mZnNldFpvbmU7XG59KFpvbmUpO1xuXG4vKipcbiAqIEEgem9uZSB0aGF0IGZhaWxlZCB0byBwYXJzZS4gWW91IHNob3VsZCBuZXZlciBuZWVkIHRvIGluc3RhbnRpYXRlIHRoaXMuXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuXG52YXIgSW52YWxpZFpvbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9ab25lKSB7XG4gIF9pbmhlcml0c0xvb3NlKEludmFsaWRab25lLCBfWm9uZSk7XG5cbiAgZnVuY3Rpb24gSW52YWxpZFpvbmUoem9uZU5hbWUpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9ab25lLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAvKiogIEBwcml2YXRlICovXG5cbiAgICBfdGhpcy56b25lTmFtZSA9IHpvbmVOYW1lO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuXG5cbiAgdmFyIF9wcm90byA9IEludmFsaWRab25lLnByb3RvdHlwZTtcblxuICAvKiogQG92ZXJyaWRlICoqL1xuICBfcHJvdG8ub2Zmc2V0TmFtZSA9IGZ1bmN0aW9uIG9mZnNldE5hbWUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5mb3JtYXRPZmZzZXQgPSBmdW5jdGlvbiBmb3JtYXRPZmZzZXQoKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9wcm90by5vZmZzZXQgPSBmdW5jdGlvbiBvZmZzZXQoKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuICAvKiogQG92ZXJyaWRlICoqL1xuICA7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhJbnZhbGlkWm9uZSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiaW52YWxpZFwiO1xuICAgIH1cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuem9uZU5hbWU7XG4gICAgfVxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1VuaXZlcnNhbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludmFsaWRab25lO1xufShab25lKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVab25lKGlucHV0LCBkZWZhdWx0Wm9uZSkge1xuXG4gIGlmIChpc1VuZGVmaW5lZChpbnB1dCkgfHwgaW5wdXQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZGVmYXVsdFpvbmU7XG4gIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBab25lKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKGlucHV0KSkge1xuICAgIHZhciBsb3dlcmVkID0gaW5wdXQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJlZCA9PT0gXCJsb2NhbFwiIHx8IGxvd2VyZWQgPT09IFwic3lzdGVtXCIpIHJldHVybiBkZWZhdWx0Wm9uZTtlbHNlIGlmIChsb3dlcmVkID09PSBcInV0Y1wiIHx8IGxvd2VyZWQgPT09IFwiZ210XCIpIHJldHVybiBGaXhlZE9mZnNldFpvbmUudXRjSW5zdGFuY2U7ZWxzZSBpZiAoSUFOQVpvbmUuaXNWYWxpZFNwZWNpZmllcihsb3dlcmVkKSkgcmV0dXJuIElBTkFab25lLmNyZWF0ZShpbnB1dCk7ZWxzZSByZXR1cm4gRml4ZWRPZmZzZXRab25lLnBhcnNlU3BlY2lmaWVyKGxvd2VyZWQpIHx8IG5ldyBJbnZhbGlkWm9uZShpbnB1dCk7XG4gIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgcmV0dXJuIEZpeGVkT2Zmc2V0Wm9uZS5pbnN0YW5jZShpbnB1dCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiICYmIGlucHV0Lm9mZnNldCAmJiB0eXBlb2YgaW5wdXQub2Zmc2V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgLy8gVGhpcyBpcyBkdW1iLCBidXQgdGhlIGluc3RhbmNlb2YgY2hlY2sgYWJvdmUgZG9lc24ndCBzZWVtIHRvIHJlYWxseSB3b3JrXG4gICAgLy8gc28gd2UncmUgZHVjayBjaGVja2luZyBpdFxuICAgIHJldHVybiBpbnB1dDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEludmFsaWRab25lKGlucHV0KTtcbiAgfVxufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn0sXG4gICAgZGVmYXVsdFpvbmUgPSBcInN5c3RlbVwiLFxuICAgIGRlZmF1bHRMb2NhbGUgPSBudWxsLFxuICAgIGRlZmF1bHROdW1iZXJpbmdTeXN0ZW0gPSBudWxsLFxuICAgIGRlZmF1bHRPdXRwdXRDYWxlbmRhciA9IG51bGwsXG4gICAgdGhyb3dPbkludmFsaWQ7XG4vKipcbiAqIFNldHRpbmdzIGNvbnRhaW5zIHN0YXRpYyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRoYXQgY29udHJvbCBMdXhvbidzIG92ZXJhbGwgYmVoYXZpb3IuIEx1eG9uIGlzIGEgc2ltcGxlIGxpYnJhcnkgd2l0aCBmZXcgb3B0aW9ucywgYnV0IHRoZSBvbmVzIGl0IGRvZXMgaGF2ZSBsaXZlIGhlcmUuXG4gKi9cblxuXG52YXIgU2V0dGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZXR0aW5ncygpIHt9XG5cbiAgLyoqXG4gICAqIFJlc2V0IEx1eG9uJ3MgZ2xvYmFsIGNhY2hlcy4gU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IGluIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgU2V0dGluZ3MucmVzZXRDYWNoZXMgPSBmdW5jdGlvbiByZXNldENhY2hlcygpIHtcbiAgICBMb2NhbGUucmVzZXRDYWNoZSgpO1xuICAgIElBTkFab25lLnJlc2V0Q2FjaGUoKTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoU2V0dGluZ3MsIG51bGwsIFt7XG4gICAga2V5OiBcIm5vd1wiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNhbGxiYWNrIGZvciByZXR1cm5pbmcgdGhlIGN1cnJlbnQgdGltZXN0YW1wLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbm93O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNhbGxiYWNrIGZvciByZXR1cm5pbmcgdGhlIGN1cnJlbnQgdGltZXN0YW1wLlxuICAgICAqIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgbnVtYmVyLCB3aGljaCB3aWxsIGJlIGludGVycHJldGVkIGFzIGFuIEVwb2NoIG1pbGxpc2Vjb25kIGNvdW50XG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqIEBleGFtcGxlIFNldHRpbmdzLm5vdyA9ICgpID0+IERhdGUubm93KCkgKyAzMDAwIC8vIHByZXRlbmQgaXQgaXMgMyBzZWNvbmRzIGluIHRoZSBmdXR1cmVcbiAgICAgKiBAZXhhbXBsZSBTZXR0aW5ncy5ub3cgPSAoKSA9PiAwIC8vIGFsd2F5cyBwcmV0ZW5kIGl0J3MgSmFuIDEsIDE5NzAgYXQgbWlkbmlnaHQgaW4gVVRDIHRpbWVcbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobikge1xuICAgICAgbm93ID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IHRpbWUgem9uZSB0byBjcmVhdGUgRGF0ZVRpbWVzIGluLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIFVzZSB0aGUgdmFsdWUgXCJzeXN0ZW1cIiB0byByZXNldCB0aGlzIHZhbHVlIHRvIHRoZSBzeXN0ZW0ncyB0aW1lIHpvbmUuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRab25lXCIsXG4gICAgZ2V0OlxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGVmYXVsdCB0aW1lIHpvbmUgb2JqZWN0IGN1cnJlbnRseSB1c2VkIHRvIGNyZWF0ZSBEYXRlVGltZXMuIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHN5c3RlbSdzIHRpbWUgem9uZSAodGhlIG9uZSBzZXQgb24gdGhlIG1hY2hpbmUgdGhhdCBydW5zIHRoaXMgY29kZSkuXG4gICAgICogQHR5cGUge1pvbmV9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZVpvbmUoZGVmYXVsdFpvbmUsIFN5c3RlbVpvbmUuaW5zdGFuY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgbG9jYWxlIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh6b25lKSB7XG4gICAgICBkZWZhdWx0Wm9uZSA9IHpvbmU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRMb2NhbGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TG9jYWxlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgbG9jYWxlIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChsb2NhbGUpIHtcbiAgICAgIGRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGVmYXVsdCBudW1iZXJpbmcgc3lzdGVtIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdE51bWJlcmluZ1N5c3RlbVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHROdW1iZXJpbmdTeXN0ZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCBudW1iZXJpbmcgc3lzdGVtIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChudW1iZXJpbmdTeXN0ZW0pIHtcbiAgICAgIGRlZmF1bHROdW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmdTeXN0ZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGVmYXVsdCBvdXRwdXQgY2FsZW5kYXIgdG8gY3JlYXRlIERhdGVUaW1lcyB3aXRoLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0T3V0cHV0Q2FsZW5kYXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0T3V0cHV0Q2FsZW5kYXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCBvdXRwdXQgY2FsZW5kYXIgdG8gY3JlYXRlIERhdGVUaW1lcyB3aXRoLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG91dHB1dENhbGVuZGFyKSB7XG4gICAgICBkZWZhdWx0T3V0cHV0Q2FsZW5kYXIgPSBvdXRwdXRDYWxlbmRhcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHdoZXRoZXIgTHV4b24gd2lsbCB0aHJvdyB3aGVuIGl0IGVuY291bnRlcnMgaW52YWxpZCBEYXRlVGltZXMsIER1cmF0aW9ucywgb3IgSW50ZXJ2YWxzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0aHJvd09uSW52YWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRocm93T25JbnZhbGlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciBMdXhvbiB3aWxsIHRocm93IHdoZW4gaXQgZW5jb3VudGVycyBpbnZhbGlkIERhdGVUaW1lcywgRHVyYXRpb25zLCBvciBJbnRlcnZhbHNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xuICAgICAgdGhyb3dPbkludmFsaWQgPSB0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZXR0aW5ncztcbn0oKTtcblxudmFyIF9leGNsdWRlZCA9IFtcImJhc2VcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInBhZFRvXCIsIFwiZmxvb3JcIl07XG5cbnZhciBpbnRsTEZDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDYWNoZWRMRihsb2NTdHJpbmcsIG9wdHMpIHtcbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBrZXkgPSBKU09OLnN0cmluZ2lmeShbbG9jU3RyaW5nLCBvcHRzXSk7XG4gIHZhciBkdGYgPSBpbnRsTEZDYWNoZVtrZXldO1xuXG4gIGlmICghZHRmKSB7XG4gICAgZHRmID0gbmV3IEludGwuTGlzdEZvcm1hdChsb2NTdHJpbmcsIG9wdHMpO1xuICAgIGludGxMRkNhY2hlW2tleV0gPSBkdGY7XG4gIH1cblxuICByZXR1cm4gZHRmO1xufVxuXG52YXIgaW50bERUQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q2FjaGVkRFRGKGxvY1N0cmluZywgb3B0cykge1xuICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KFtsb2NTdHJpbmcsIG9wdHNdKTtcbiAgdmFyIGR0ZiA9IGludGxEVENhY2hlW2tleV07XG5cbiAgaWYgKCFkdGYpIHtcbiAgICBkdGYgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NTdHJpbmcsIG9wdHMpO1xuICAgIGludGxEVENhY2hlW2tleV0gPSBkdGY7XG4gIH1cblxuICByZXR1cm4gZHRmO1xufVxuXG52YXIgaW50bE51bUNhY2hlID0ge307XG5cbmZ1bmN0aW9uIGdldENhY2hlZElORihsb2NTdHJpbmcsIG9wdHMpIHtcbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBrZXkgPSBKU09OLnN0cmluZ2lmeShbbG9jU3RyaW5nLCBvcHRzXSk7XG4gIHZhciBpbmYgPSBpbnRsTnVtQ2FjaGVba2V5XTtcblxuICBpZiAoIWluZikge1xuICAgIGluZiA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NTdHJpbmcsIG9wdHMpO1xuICAgIGludGxOdW1DYWNoZVtrZXldID0gaW5mO1xuICB9XG5cbiAgcmV0dXJuIGluZjtcbn1cblxudmFyIGludGxSZWxDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDYWNoZWRSVEYobG9jU3RyaW5nLCBvcHRzKSB7XG4gIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgX29wdHMgPSBvcHRzO1xuICAgICAgX29wdHMuYmFzZTtcbiAgICAgIHZhciBjYWNoZUtleU9wdHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb3B0cywgX2V4Y2x1ZGVkKTsgLy8gZXhjbHVkZSBgYmFzZWAgZnJvbSB0aGUgb3B0aW9uc1xuXG5cbiAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KFtsb2NTdHJpbmcsIGNhY2hlS2V5T3B0c10pO1xuICB2YXIgaW5mID0gaW50bFJlbENhY2hlW2tleV07XG5cbiAgaWYgKCFpbmYpIHtcbiAgICBpbmYgPSBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobG9jU3RyaW5nLCBvcHRzKTtcbiAgICBpbnRsUmVsQ2FjaGVba2V5XSA9IGluZjtcbiAgfVxuXG4gIHJldHVybiBpbmY7XG59XG5cbnZhciBzeXNMb2NhbGVDYWNoZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHN5c3RlbUxvY2FsZSgpIHtcbiAgaWYgKHN5c0xvY2FsZUNhY2hlKSB7XG4gICAgcmV0dXJuIHN5c0xvY2FsZUNhY2hlO1xuICB9IGVsc2Uge1xuICAgIHN5c0xvY2FsZUNhY2hlID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGU7XG4gICAgcmV0dXJuIHN5c0xvY2FsZUNhY2hlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlTG9jYWxlU3RyaW5nKGxvY2FsZVN0cikge1xuICAvLyBJIHJlYWxseSB3YW50IHRvIGF2b2lkIHdyaXRpbmcgYSBCQ1AgNDcgcGFyc2VyXG4gIC8vIHNlZSwgZS5nLiBodHRwczovL2dpdGh1Yi5jb20vd29vb3JtL2JjcC00N1xuICAvLyBJbnN0ZWFkLCB3ZSdsbCBkbyB0aGlzOlxuICAvLyBhKSBpZiB0aGUgc3RyaW5nIGhhcyBubyAtdSBleHRlbnNpb25zLCBqdXN0IGxlYXZlIGl0IGFsb25lXG4gIC8vIGIpIGlmIGl0IGRvZXMsIHVzZSBJbnRsIHRvIHJlc29sdmUgZXZlcnl0aGluZ1xuICAvLyBjKSBpZiBJbnRsIGZhaWxzLCB0cnkgYWdhaW4gd2l0aG91dCB0aGUgLXVcbiAgdmFyIHVJbmRleCA9IGxvY2FsZVN0ci5pbmRleE9mKFwiLXUtXCIpO1xuXG4gIGlmICh1SW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIFtsb2NhbGVTdHJdO1xuICB9IGVsc2Uge1xuICAgIHZhciBvcHRpb25zO1xuICAgIHZhciBzbWFsbGVyID0gbG9jYWxlU3RyLnN1YnN0cmluZygwLCB1SW5kZXgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9wdGlvbnMgPSBnZXRDYWNoZWREVEYobG9jYWxlU3RyKS5yZXNvbHZlZE9wdGlvbnMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvcHRpb25zID0gZ2V0Q2FjaGVkRFRGKHNtYWxsZXIpLnJlc29sdmVkT3B0aW9ucygpO1xuICAgIH1cblxuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSA9IF9vcHRpb25zLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgY2FsZW5kYXIgPSBfb3B0aW9ucy5jYWxlbmRhcjsgLy8gcmV0dXJuIHRoZSBzbWFsbGVyIG9uZSBzbyB0aGF0IHdlIGNhbiBhcHBlbmQgdGhlIGNhbGVuZGFyIGFuZCBudW1iZXJpbmcgb3ZlcnJpZGVzIHRvIGl0XG5cbiAgICByZXR1cm4gW3NtYWxsZXIsIG51bWJlcmluZ1N5c3RlbSwgY2FsZW5kYXJdO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludGxDb25maWdTdHJpbmcobG9jYWxlU3RyLCBudW1iZXJpbmdTeXN0ZW0sIG91dHB1dENhbGVuZGFyKSB7XG4gIGlmIChvdXRwdXRDYWxlbmRhciB8fCBudW1iZXJpbmdTeXN0ZW0pIHtcbiAgICBsb2NhbGVTdHIgKz0gXCItdVwiO1xuXG4gICAgaWYgKG91dHB1dENhbGVuZGFyKSB7XG4gICAgICBsb2NhbGVTdHIgKz0gXCItY2EtXCIgKyBvdXRwdXRDYWxlbmRhcjtcbiAgICB9XG5cbiAgICBpZiAobnVtYmVyaW5nU3lzdGVtKSB7XG4gICAgICBsb2NhbGVTdHIgKz0gXCItbnUtXCIgKyBudW1iZXJpbmdTeXN0ZW07XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZVN0cjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbG9jYWxlU3RyO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcE1vbnRocyhmKSB7XG4gIHZhciBtcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IDEyOyBpKyspIHtcbiAgICB2YXIgZHQgPSBEYXRlVGltZS51dGMoMjAxNiwgaSwgMSk7XG4gICAgbXMucHVzaChmKGR0KSk7XG4gIH1cblxuICByZXR1cm4gbXM7XG59XG5cbmZ1bmN0aW9uIG1hcFdlZWtkYXlzKGYpIHtcbiAgdmFyIG1zID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gNzsgaSsrKSB7XG4gICAgdmFyIGR0ID0gRGF0ZVRpbWUudXRjKDIwMTYsIDExLCAxMyArIGkpO1xuICAgIG1zLnB1c2goZihkdCkpO1xuICB9XG5cbiAgcmV0dXJuIG1zO1xufVxuXG5mdW5jdGlvbiBsaXN0U3R1ZmYobG9jLCBsZW5ndGgsIGRlZmF1bHRPSywgZW5nbGlzaEZuLCBpbnRsRm4pIHtcbiAgdmFyIG1vZGUgPSBsb2MubGlzdGluZ01vZGUoZGVmYXVsdE9LKTtcblxuICBpZiAobW9kZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJlblwiKSB7XG4gICAgcmV0dXJuIGVuZ2xpc2hGbihsZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbnRsRm4obGVuZ3RoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdXBwb3J0c0Zhc3ROdW1iZXJzKGxvYykge1xuICBpZiAobG9jLm51bWJlcmluZ1N5c3RlbSAmJiBsb2MubnVtYmVyaW5nU3lzdGVtICE9PSBcImxhdG5cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbG9jLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCIgfHwgIWxvYy5sb2NhbGUgfHwgbG9jLmxvY2FsZS5zdGFydHNXaXRoKFwiZW5cIikgfHwgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jLmludGwpLnJlc29sdmVkT3B0aW9ucygpLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCI7XG4gIH1cbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBQb2x5TnVtYmVyRm9ybWF0dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUG9seU51bWJlckZvcm1hdHRlcihpbnRsLCBmb3JjZVNpbXBsZSwgb3B0cykge1xuICAgIHRoaXMucGFkVG8gPSBvcHRzLnBhZFRvIHx8IDA7XG4gICAgdGhpcy5mbG9vciA9IG9wdHMuZmxvb3IgfHwgZmFsc2U7XG5cbiAgICBvcHRzLnBhZFRvO1xuICAgICAgICBvcHRzLmZsb29yO1xuICAgICAgICB2YXIgb3RoZXJPcHRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3B0cywgX2V4Y2x1ZGVkMik7XG5cbiAgICBpZiAoIWZvcmNlU2ltcGxlIHx8IE9iamVjdC5rZXlzKG90aGVyT3B0cykubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGludGxPcHRzID0gX2V4dGVuZHMoe1xuICAgICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICAgIH0sIG9wdHMpO1xuXG4gICAgICBpZiAob3B0cy5wYWRUbyA+IDApIGludGxPcHRzLm1pbmltdW1JbnRlZ2VyRGlnaXRzID0gb3B0cy5wYWRUbztcbiAgICAgIHRoaXMuaW5mID0gZ2V0Q2FjaGVkSU5GKGludGwsIGludGxPcHRzKTtcbiAgICB9XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUG9seU51bWJlckZvcm1hdHRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmZvcm1hdCA9IGZ1bmN0aW9uIGZvcm1hdChpKSB7XG4gICAgaWYgKHRoaXMuaW5mKSB7XG4gICAgICB2YXIgZml4ZWQgPSB0aGlzLmZsb29yID8gTWF0aC5mbG9vcihpKSA6IGk7XG4gICAgICByZXR1cm4gdGhpcy5pbmYuZm9ybWF0KGZpeGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGJyb3dzZXIncyBudW1iZXJmb3JtYXR0ZXIgZGVmYXVsdHNcbiAgICAgIHZhciBfZml4ZWQgPSB0aGlzLmZsb29yID8gTWF0aC5mbG9vcihpKSA6IHJvdW5kVG8oaSwgMyk7XG5cbiAgICAgIHJldHVybiBwYWRTdGFydChfZml4ZWQsIHRoaXMucGFkVG8pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUG9seU51bWJlckZvcm1hdHRlcjtcbn0oKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBQb2x5RGF0ZUZvcm1hdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBvbHlEYXRlRm9ybWF0dGVyKGR0LCBpbnRsLCBvcHRzKSB7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICB2YXIgejtcblxuICAgIGlmIChkdC56b25lLmlzVW5pdmVyc2FsKSB7XG4gICAgICAvLyBVVEMtOCBvciBFdGMvVVRDLTggYXJlIG5vdCBwYXJ0IG9mIHR6ZGF0YSwgb25seSBFdGMvR01UKzggYW5kIHRoZSBsaWtlLlxuICAgICAgLy8gVGhhdCBpcyB3aHkgZml4ZWQtb2Zmc2V0IFRaIGlzIHNldCB0byB0aGF0IHVubGVzcyBpdCBpczpcbiAgICAgIC8vIDEuIFJlcHJlc2VudGluZyBvZmZzZXQgMCB3aGVuIFVUQyBpcyB1c2VkIHRvIG1haW50YWluIHByZXZpb3VzIGJlaGF2aW9yIGFuZCBkb2VzIG5vdCBiZWNvbWUgR01ULlxuICAgICAgLy8gMi4gVW5zdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXI6XG4gICAgICAvLyAgICAtIHNvbWUgZG8gbm90IHN1cHBvcnQgRXRjL1xuICAgICAgLy8gICAgLSA8IEV0Yy9HTVQtMTQsID4gRXRjL0dNVCsxMiwgYW5kIDMwLW1pbnV0ZSBvciA0NS1taW51dGUgb2Zmc2V0cyBhcmUgbm90IHBhcnQgb2YgdHpkYXRhXG4gICAgICB2YXIgZ210T2Zmc2V0ID0gLTEgKiAoZHQub2Zmc2V0IC8gNjApO1xuICAgICAgdmFyIG9mZnNldFogPSBnbXRPZmZzZXQgPj0gMCA/IFwiRXRjL0dNVCtcIiArIGdtdE9mZnNldCA6IFwiRXRjL0dNVFwiICsgZ210T2Zmc2V0O1xuXG4gICAgICBpZiAoZHQub2Zmc2V0ICE9PSAwICYmIElBTkFab25lLmNyZWF0ZShvZmZzZXRaKS52YWxpZCkge1xuICAgICAgICB6ID0gb2Zmc2V0WjtcbiAgICAgICAgdGhpcy5kdCA9IGR0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90IGFsbCBmaXhlZC1vZmZzZXQgem9uZXMgbGlrZSBFdGMvKzQ6MzAgYXJlIHByZXNlbnQgaW4gdHpkYXRhLlxuICAgICAgICAvLyBTbyB3ZSBoYXZlIHRvIG1ha2UgZG8uIFR3byBjYXNlczpcbiAgICAgICAgLy8gMS4gVGhlIGZvcm1hdCBvcHRpb25zIHRlbGwgdXMgdG8gc2hvdyB0aGUgem9uZS4gV2UgY2FuJ3QgZG8gdGhhdCwgc28gdGhlIGJlc3RcbiAgICAgICAgLy8gd2UgY2FuIGRvIGlzIGZvcm1hdCB0aGUgZGF0ZSBpbiBVVEMuXG4gICAgICAgIC8vIDIuIFRoZSBmb3JtYXQgb3B0aW9ucyBkb24ndCB0ZWxsIHVzIHRvIHNob3cgdGhlIHpvbmUuIFRoZW4gd2UgY2FuIGFkanVzdCB0aGVtXG4gICAgICAgIC8vIHRoZSB0aW1lIGFuZCB0ZWxsIHRoZSBmb3JtYXR0ZXIgdG8gc2hvdyBpdCB0byB1cyBpbiBVVEMsIHNvIHRoYXQgdGhlIHRpbWUgaXMgcmlnaHRcbiAgICAgICAgLy8gYW5kIHRoZSBiYWQgem9uZSBkb2Vzbid0IHNob3cgdXAuXG4gICAgICAgIHogPSBcIlVUQ1wiO1xuXG4gICAgICAgIGlmIChvcHRzLnRpbWVab25lTmFtZSkge1xuICAgICAgICAgIHRoaXMuZHQgPSBkdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmR0ID0gZHQub2Zmc2V0ID09PSAwID8gZHQgOiBEYXRlVGltZS5mcm9tTWlsbGlzKGR0LnRzICsgZHQub2Zmc2V0ICogNjAgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZHQuem9uZS50eXBlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICB0aGlzLmR0ID0gZHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHQgPSBkdDtcbiAgICAgIHogPSBkdC56b25lLm5hbWU7XG4gICAgfVxuXG4gICAgdmFyIGludGxPcHRzID0gX2V4dGVuZHMoe30sIHRoaXMub3B0cyk7XG5cbiAgICBpZiAoeikge1xuICAgICAgaW50bE9wdHMudGltZVpvbmUgPSB6O1xuICAgIH1cblxuICAgIHRoaXMuZHRmID0gZ2V0Q2FjaGVkRFRGKGludGwsIGludGxPcHRzKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8yID0gUG9seURhdGVGb3JtYXR0ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90bzIuZm9ybWF0ID0gZnVuY3Rpb24gZm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmR0Zi5mb3JtYXQodGhpcy5kdC50b0pTRGF0ZSgpKTtcbiAgfTtcblxuICBfcHJvdG8yLmZvcm1hdFRvUGFydHMgPSBmdW5jdGlvbiBmb3JtYXRUb1BhcnRzKCkge1xuICAgIHJldHVybiB0aGlzLmR0Zi5mb3JtYXRUb1BhcnRzKHRoaXMuZHQudG9KU0RhdGUoKSk7XG4gIH07XG5cbiAgX3Byb3RvMi5yZXNvbHZlZE9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlZE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHRmLnJlc29sdmVkT3B0aW9ucygpO1xuICB9O1xuXG4gIHJldHVybiBQb2x5RGF0ZUZvcm1hdHRlcjtcbn0oKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBQb2x5UmVsRm9ybWF0dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUG9seVJlbEZvcm1hdHRlcihpbnRsLCBpc0VuZ2xpc2gsIG9wdHMpIHtcbiAgICB0aGlzLm9wdHMgPSBfZXh0ZW5kcyh7XG4gICAgICBzdHlsZTogXCJsb25nXCJcbiAgICB9LCBvcHRzKTtcblxuICAgIGlmICghaXNFbmdsaXNoICYmIGhhc1JlbGF0aXZlKCkpIHtcbiAgICAgIHRoaXMucnRmID0gZ2V0Q2FjaGVkUlRGKGludGwsIG9wdHMpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfcHJvdG8zID0gUG9seVJlbEZvcm1hdHRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMy5mb3JtYXQgPSBmdW5jdGlvbiBmb3JtYXQoY291bnQsIHVuaXQpIHtcbiAgICBpZiAodGhpcy5ydGYpIHtcbiAgICAgIHJldHVybiB0aGlzLnJ0Zi5mb3JtYXQoY291bnQsIHVuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybWF0UmVsYXRpdmVUaW1lKHVuaXQsIGNvdW50LCB0aGlzLm9wdHMubnVtZXJpYywgdGhpcy5vcHRzLnN0eWxlICE9PSBcImxvbmdcIik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90bzMuZm9ybWF0VG9QYXJ0cyA9IGZ1bmN0aW9uIGZvcm1hdFRvUGFydHMoY291bnQsIHVuaXQpIHtcbiAgICBpZiAodGhpcy5ydGYpIHtcbiAgICAgIHJldHVybiB0aGlzLnJ0Zi5mb3JtYXRUb1BhcnRzKGNvdW50LCB1bml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUG9seVJlbEZvcm1hdHRlcjtcbn0oKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5cbnZhciBMb2NhbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBMb2NhbGUuZnJvbU9wdHMgPSBmdW5jdGlvbiBmcm9tT3B0cyhvcHRzKSB7XG4gICAgcmV0dXJuIExvY2FsZS5jcmVhdGUob3B0cy5sb2NhbGUsIG9wdHMubnVtYmVyaW5nU3lzdGVtLCBvcHRzLm91dHB1dENhbGVuZGFyLCBvcHRzLmRlZmF1bHRUb0VOKTtcbiAgfTtcblxuICBMb2NhbGUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhciwgZGVmYXVsdFRvRU4pIHtcbiAgICBpZiAoZGVmYXVsdFRvRU4gPT09IHZvaWQgMCkge1xuICAgICAgZGVmYXVsdFRvRU4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc3BlY2lmaWVkTG9jYWxlID0gbG9jYWxlIHx8IFNldHRpbmdzLmRlZmF1bHRMb2NhbGU7IC8vIHRoZSBzeXN0ZW0gbG9jYWxlIGlzIHVzZWZ1bCBmb3IgaHVtYW4gcmVhZGFibGUgc3RyaW5ncyBidXQgYW5ub3lpbmcgZm9yIHBhcnNpbmcvZm9ybWF0dGluZyBrbm93biBmb3JtYXRzXG5cbiAgICB2YXIgbG9jYWxlUiA9IHNwZWNpZmllZExvY2FsZSB8fCAoZGVmYXVsdFRvRU4gPyBcImVuLVVTXCIgOiBzeXN0ZW1Mb2NhbGUoKSk7XG4gICAgdmFyIG51bWJlcmluZ1N5c3RlbVIgPSBudW1iZXJpbmdTeXN0ZW0gfHwgU2V0dGluZ3MuZGVmYXVsdE51bWJlcmluZ1N5c3RlbTtcbiAgICB2YXIgb3V0cHV0Q2FsZW5kYXJSID0gb3V0cHV0Q2FsZW5kYXIgfHwgU2V0dGluZ3MuZGVmYXVsdE91dHB1dENhbGVuZGFyO1xuICAgIHJldHVybiBuZXcgTG9jYWxlKGxvY2FsZVIsIG51bWJlcmluZ1N5c3RlbVIsIG91dHB1dENhbGVuZGFyUiwgc3BlY2lmaWVkTG9jYWxlKTtcbiAgfTtcblxuICBMb2NhbGUucmVzZXRDYWNoZSA9IGZ1bmN0aW9uIHJlc2V0Q2FjaGUoKSB7XG4gICAgc3lzTG9jYWxlQ2FjaGUgPSBudWxsO1xuICAgIGludGxEVENhY2hlID0ge307XG4gICAgaW50bE51bUNhY2hlID0ge307XG4gICAgaW50bFJlbENhY2hlID0ge307XG4gIH07XG5cbiAgTG9jYWxlLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KF90ZW1wKSB7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSA9IF9yZWYubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBvdXRwdXRDYWxlbmRhciA9IF9yZWYub3V0cHV0Q2FsZW5kYXI7XG5cbiAgICByZXR1cm4gTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIExvY2FsZShsb2NhbGUsIG51bWJlcmluZywgb3V0cHV0Q2FsZW5kYXIsIHNwZWNpZmllZExvY2FsZSkge1xuICAgIHZhciBfcGFyc2VMb2NhbGVTdHJpbmcgPSBwYXJzZUxvY2FsZVN0cmluZyhsb2NhbGUpLFxuICAgICAgICBwYXJzZWRMb2NhbGUgPSBfcGFyc2VMb2NhbGVTdHJpbmdbMF0sXG4gICAgICAgIHBhcnNlZE51bWJlcmluZ1N5c3RlbSA9IF9wYXJzZUxvY2FsZVN0cmluZ1sxXSxcbiAgICAgICAgcGFyc2VkT3V0cHV0Q2FsZW5kYXIgPSBfcGFyc2VMb2NhbGVTdHJpbmdbMl07XG5cbiAgICB0aGlzLmxvY2FsZSA9IHBhcnNlZExvY2FsZTtcbiAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IG51bWJlcmluZyB8fCBwYXJzZWROdW1iZXJpbmdTeXN0ZW0gfHwgbnVsbDtcbiAgICB0aGlzLm91dHB1dENhbGVuZGFyID0gb3V0cHV0Q2FsZW5kYXIgfHwgcGFyc2VkT3V0cHV0Q2FsZW5kYXIgfHwgbnVsbDtcbiAgICB0aGlzLmludGwgPSBpbnRsQ29uZmlnU3RyaW5nKHRoaXMubG9jYWxlLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5vdXRwdXRDYWxlbmRhcik7XG4gICAgdGhpcy53ZWVrZGF5c0NhY2hlID0ge1xuICAgICAgZm9ybWF0OiB7fSxcbiAgICAgIHN0YW5kYWxvbmU6IHt9XG4gICAgfTtcbiAgICB0aGlzLm1vbnRoc0NhY2hlID0ge1xuICAgICAgZm9ybWF0OiB7fSxcbiAgICAgIHN0YW5kYWxvbmU6IHt9XG4gICAgfTtcbiAgICB0aGlzLm1lcmlkaWVtQ2FjaGUgPSBudWxsO1xuICAgIHRoaXMuZXJhQ2FjaGUgPSB7fTtcbiAgICB0aGlzLnNwZWNpZmllZExvY2FsZSA9IHNwZWNpZmllZExvY2FsZTtcbiAgICB0aGlzLmZhc3ROdW1iZXJzQ2FjaGVkID0gbnVsbDtcbiAgfVxuXG4gIHZhciBfcHJvdG80ID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG80Lmxpc3RpbmdNb2RlID0gZnVuY3Rpb24gbGlzdGluZ01vZGUoKSB7XG4gICAgdmFyIGlzQWN0dWFsbHlFbiA9IHRoaXMuaXNFbmdsaXNoKCk7XG4gICAgdmFyIGhhc05vV2VpcmRuZXNzID0gKHRoaXMubnVtYmVyaW5nU3lzdGVtID09PSBudWxsIHx8IHRoaXMubnVtYmVyaW5nU3lzdGVtID09PSBcImxhdG5cIikgJiYgKHRoaXMub3V0cHV0Q2FsZW5kYXIgPT09IG51bGwgfHwgdGhpcy5vdXRwdXRDYWxlbmRhciA9PT0gXCJncmVnb3J5XCIpO1xuICAgIHJldHVybiBpc0FjdHVhbGx5RW4gJiYgaGFzTm9XZWlyZG5lc3MgPyBcImVuXCIgOiBcImludGxcIjtcbiAgfTtcblxuICBfcHJvdG80LmNsb25lID0gZnVuY3Rpb24gY2xvbmUoYWx0cykge1xuICAgIGlmICghYWx0cyB8fCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhbHRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTG9jYWxlLmNyZWF0ZShhbHRzLmxvY2FsZSB8fCB0aGlzLnNwZWNpZmllZExvY2FsZSwgYWx0cy5udW1iZXJpbmdTeXN0ZW0gfHwgdGhpcy5udW1iZXJpbmdTeXN0ZW0sIGFsdHMub3V0cHV0Q2FsZW5kYXIgfHwgdGhpcy5vdXRwdXRDYWxlbmRhciwgYWx0cy5kZWZhdWx0VG9FTiB8fCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90bzQucmVkZWZhdWx0VG9FTiA9IGZ1bmN0aW9uIHJlZGVmYXVsdFRvRU4oYWx0cykge1xuICAgIGlmIChhbHRzID09PSB2b2lkIDApIHtcbiAgICAgIGFsdHMgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jbG9uZShfZXh0ZW5kcyh7fSwgYWx0cywge1xuICAgICAgZGVmYXVsdFRvRU46IHRydWVcbiAgICB9KSk7XG4gIH07XG5cbiAgX3Byb3RvNC5yZWRlZmF1bHRUb1N5c3RlbSA9IGZ1bmN0aW9uIHJlZGVmYXVsdFRvU3lzdGVtKGFsdHMpIHtcbiAgICBpZiAoYWx0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBhbHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoX2V4dGVuZHMoe30sIGFsdHMsIHtcbiAgICAgIGRlZmF1bHRUb0VOOiBmYWxzZVxuICAgIH0pKTtcbiAgfTtcblxuICBfcHJvdG80Lm1vbnRocyA9IGZ1bmN0aW9uIG1vbnRocyQxKGxlbmd0aCwgZm9ybWF0LCBkZWZhdWx0T0spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZGVmYXVsdE9LID09PSB2b2lkIDApIHtcbiAgICAgIGRlZmF1bHRPSyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3RTdHVmZih0aGlzLCBsZW5ndGgsIGRlZmF1bHRPSywgbW9udGhzLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW50bCA9IGZvcm1hdCA/IHtcbiAgICAgICAgbW9udGg6IGxlbmd0aCxcbiAgICAgICAgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgfSA6IHtcbiAgICAgICAgbW9udGg6IGxlbmd0aFxuICAgICAgfSxcbiAgICAgICAgICBmb3JtYXRTdHIgPSBmb3JtYXQgPyBcImZvcm1hdFwiIDogXCJzdGFuZGFsb25lXCI7XG5cbiAgICAgIGlmICghX3RoaXMubW9udGhzQ2FjaGVbZm9ybWF0U3RyXVtsZW5ndGhdKSB7XG4gICAgICAgIF90aGlzLm1vbnRoc0NhY2hlW2Zvcm1hdFN0cl1bbGVuZ3RoXSA9IG1hcE1vbnRocyhmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuZXh0cmFjdChkdCwgaW50bCwgXCJtb250aFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5tb250aHNDYWNoZVtmb3JtYXRTdHJdW2xlbmd0aF07XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvNC53ZWVrZGF5cyA9IGZ1bmN0aW9uIHdlZWtkYXlzJDEobGVuZ3RoLCBmb3JtYXQsIGRlZmF1bHRPSykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZGVmYXVsdE9LID09PSB2b2lkIDApIHtcbiAgICAgIGRlZmF1bHRPSyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3RTdHVmZih0aGlzLCBsZW5ndGgsIGRlZmF1bHRPSywgd2Vla2RheXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnRsID0gZm9ybWF0ID8ge1xuICAgICAgICB3ZWVrZGF5OiBsZW5ndGgsXG4gICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgIH0gOiB7XG4gICAgICAgIHdlZWtkYXk6IGxlbmd0aFxuICAgICAgfSxcbiAgICAgICAgICBmb3JtYXRTdHIgPSBmb3JtYXQgPyBcImZvcm1hdFwiIDogXCJzdGFuZGFsb25lXCI7XG5cbiAgICAgIGlmICghX3RoaXMyLndlZWtkYXlzQ2FjaGVbZm9ybWF0U3RyXVtsZW5ndGhdKSB7XG4gICAgICAgIF90aGlzMi53ZWVrZGF5c0NhY2hlW2Zvcm1hdFN0cl1bbGVuZ3RoXSA9IG1hcFdlZWtkYXlzKGZ1bmN0aW9uIChkdCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuZXh0cmFjdChkdCwgaW50bCwgXCJ3ZWVrZGF5XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzMi53ZWVrZGF5c0NhY2hlW2Zvcm1hdFN0cl1bbGVuZ3RoXTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG80Lm1lcmlkaWVtcyA9IGZ1bmN0aW9uIG1lcmlkaWVtcyQxKGRlZmF1bHRPSykge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgaWYgKGRlZmF1bHRPSyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWZhdWx0T0sgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgdW5kZWZpbmVkLCBkZWZhdWx0T0ssIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtZXJpZGllbXM7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gSW4gdGhlb3J5IHRoZXJlIGNvdWxkIGJlIGFyaWJpdHJhcnkgZGF5IHBlcmlvZHMuIFdlJ3JlIGdvbm5hIGFzc3VtZSB0aGVyZSBhcmUgZXhhY3RseSB0d29cbiAgICAgIC8vIGZvciBBTSBhbmQgUE0uIFRoaXMgaXMgcHJvYmFibHkgd3JvbmcsIGJ1dCBpdCdzIG1ha2VzIHBhcnNpbmcgd2F5IGVhc2llci5cbiAgICAgIGlmICghX3RoaXMzLm1lcmlkaWVtQ2FjaGUpIHtcbiAgICAgICAgdmFyIGludGwgPSB7XG4gICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgaG91ckN5Y2xlOiBcImgxMlwiXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzMy5tZXJpZGllbUNhY2hlID0gW0RhdGVUaW1lLnV0YygyMDE2LCAxMSwgMTMsIDkpLCBEYXRlVGltZS51dGMoMjAxNiwgMTEsIDEzLCAxOSldLm1hcChmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLmV4dHJhY3QoZHQsIGludGwsIFwiZGF5cGVyaW9kXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzMy5tZXJpZGllbUNhY2hlO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90bzQuZXJhcyA9IGZ1bmN0aW9uIGVyYXMkMShsZW5ndGgsIGRlZmF1bHRPSykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGRlZmF1bHRPSyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWZhdWx0T0sgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgbGVuZ3RoLCBkZWZhdWx0T0ssIGVyYXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnRsID0ge1xuICAgICAgICBlcmE6IGxlbmd0aFxuICAgICAgfTsgLy8gVGhpcyBpcyBwcm9ibGVtYXRpYy4gRGlmZmVyZW50IGNhbGVuZGFycyBhcmUgZ29pbmcgdG8gZGVmaW5lIGVyYXMgdG90YWxseSBkaWZmZXJlbnRseS4gV2hhdCBJIG5lZWQgaXMgdGhlIG1pbmltdW0gc2V0IG9mIGRhdGVzXG4gICAgICAvLyB0byBkZWZpbml0ZWx5IGVudW1lcmF0ZSB0aGVtLlxuXG4gICAgICBpZiAoIV90aGlzNC5lcmFDYWNoZVtsZW5ndGhdKSB7XG4gICAgICAgIF90aGlzNC5lcmFDYWNoZVtsZW5ndGhdID0gW0RhdGVUaW1lLnV0YygtNDAsIDEsIDEpLCBEYXRlVGltZS51dGMoMjAxNywgMSwgMSldLm1hcChmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM0LmV4dHJhY3QoZHQsIGludGwsIFwiZXJhXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzNC5lcmFDYWNoZVtsZW5ndGhdO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90bzQuZXh0cmFjdCA9IGZ1bmN0aW9uIGV4dHJhY3QoZHQsIGludGxPcHRzLCBmaWVsZCkge1xuICAgIHZhciBkZiA9IHRoaXMuZHRGb3JtYXR0ZXIoZHQsIGludGxPcHRzKSxcbiAgICAgICAgcmVzdWx0cyA9IGRmLmZvcm1hdFRvUGFydHMoKSxcbiAgICAgICAgbWF0Y2hpbmcgPSByZXN1bHRzLmZpbmQoZnVuY3Rpb24gKG0pIHtcbiAgICAgIHJldHVybiBtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZmllbGQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoaW5nID8gbWF0Y2hpbmcudmFsdWUgOiBudWxsO1xuICB9O1xuXG4gIF9wcm90bzQubnVtYmVyRm9ybWF0dGVyID0gZnVuY3Rpb24gbnVtYmVyRm9ybWF0dGVyKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmb3JjZXNpbXBsZSBvcHRpb24gaXMgbmV2ZXIgdXNlZCAodGhlIG9ubHkgY2FsbGVyIHNob3J0LWNpcmN1aXRzIG9uIGl0LCBidXQgaXQgc2VlbXMgc2FmZXIgdG8gbGVhdmUpXG4gICAgLy8gKGluIGNvbnRyYXN0LCB0aGUgcmVzdCBvZiB0aGUgY29uZGl0aW9uIGlzIHVzZWQgaGVhdmlseSlcbiAgICByZXR1cm4gbmV3IFBvbHlOdW1iZXJGb3JtYXR0ZXIodGhpcy5pbnRsLCBvcHRzLmZvcmNlU2ltcGxlIHx8IHRoaXMuZmFzdE51bWJlcnMsIG9wdHMpO1xuICB9O1xuXG4gIF9wcm90bzQuZHRGb3JtYXR0ZXIgPSBmdW5jdGlvbiBkdEZvcm1hdHRlcihkdCwgaW50bE9wdHMpIHtcbiAgICBpZiAoaW50bE9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgaW50bE9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBvbHlEYXRlRm9ybWF0dGVyKGR0LCB0aGlzLmludGwsIGludGxPcHRzKTtcbiAgfTtcblxuICBfcHJvdG80LnJlbEZvcm1hdHRlciA9IGZ1bmN0aW9uIHJlbEZvcm1hdHRlcihvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUG9seVJlbEZvcm1hdHRlcih0aGlzLmludGwsIHRoaXMuaXNFbmdsaXNoKCksIG9wdHMpO1xuICB9O1xuXG4gIF9wcm90bzQubGlzdEZvcm1hdHRlciA9IGZ1bmN0aW9uIGxpc3RGb3JtYXR0ZXIob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0Q2FjaGVkTEYodGhpcy5pbnRsLCBvcHRzKTtcbiAgfTtcblxuICBfcHJvdG80LmlzRW5nbGlzaCA9IGZ1bmN0aW9uIGlzRW5nbGlzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGUgPT09IFwiZW5cIiB8fCB0aGlzLmxvY2FsZS50b0xvd2VyQ2FzZSgpID09PSBcImVuLXVzXCIgfHwgbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQodGhpcy5pbnRsKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGUuc3RhcnRzV2l0aChcImVuLXVzXCIpO1xuICB9O1xuXG4gIF9wcm90bzQuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlID09PSBvdGhlci5sb2NhbGUgJiYgdGhpcy5udW1iZXJpbmdTeXN0ZW0gPT09IG90aGVyLm51bWJlcmluZ1N5c3RlbSAmJiB0aGlzLm91dHB1dENhbGVuZGFyID09PSBvdGhlci5vdXRwdXRDYWxlbmRhcjtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoTG9jYWxlLCBbe1xuICAgIGtleTogXCJmYXN0TnVtYmVyc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuZmFzdE51bWJlcnNDYWNoZWQgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmZhc3ROdW1iZXJzQ2FjaGVkID0gc3VwcG9ydHNGYXN0TnVtYmVycyh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZmFzdE51bWJlcnNDYWNoZWQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsZTtcbn0oKTtcblxuLypcbiAqIFRoaXMgZmlsZSBoYW5kbGVzIHBhcnNpbmcgZm9yIHdlbGwtc3BlY2lmaWVkIGZvcm1hdHMuIEhlcmUncyBob3cgaXQgd29ya3M6XG4gKiBUd28gdGhpbmdzIGdvIGludG8gcGFyc2luZzogYSByZWdleCB0byBtYXRjaCB3aXRoIGFuZCBhbiBleHRyYWN0b3IgdG8gdGFrZSBhcGFydCB0aGUgZ3JvdXBzIGluIHRoZSBtYXRjaC5cbiAqIEFuIGV4dHJhY3RvciBpcyBqdXN0IGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHJlZ2V4IG1hdGNoIGFycmF5IGFuZCByZXR1cm5zIGEgeyB5ZWFyOiAuLi4sIG1vbnRoOiAuLi4gfSBvYmplY3RcbiAqIHBhcnNlKCkgZG9lcyB0aGUgd29yayBvZiBleGVjdXRpbmcgdGhlIHJlZ2V4IGFuZCBhcHBseWluZyB0aGUgZXh0cmFjdG9yLiBJdCB0YWtlcyBtdWx0aXBsZSByZWdleC9leHRyYWN0b3IgcGFpcnMgdG8gdHJ5IGluIHNlcXVlbmNlLlxuICogRXh0cmFjdG9ycyBjYW4gdGFrZSBhIFwiY3Vyc29yXCIgcmVwcmVzZW50aW5nIHRoZSBvZmZzZXQgaW4gdGhlIG1hdGNoIHRvIGxvb2sgYXQuIFRoaXMgbWFrZXMgaXQgZWFzeSB0byBjb21iaW5lIGV4dHJhY3RvcnMuXG4gKiBjb21iaW5lRXh0cmFjdG9ycygpIGRvZXMgdGhlIHdvcmsgb2YgY29tYmluaW5nIHRoZW0sIGtlZXBpbmcgdHJhY2sgb2YgdGhlIGN1cnNvciB0aHJvdWdoIG11bHRpcGxlIGV4dHJhY3Rpb25zLlxuICogU29tZSBleHRyYWN0aW9ucyBhcmUgc3VwZXIgZHVtYiBhbmQgc2ltcGxlUGFyc2UgYW5kIGZyb21TdHJpbmdzIGhlbHAgRFJZIHRoZW0uXG4gKi9cblxuZnVuY3Rpb24gY29tYmluZVJlZ2V4ZXMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZWdleGVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlZ2V4ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgZnVsbCA9IHJlZ2V4ZXMucmVkdWNlKGZ1bmN0aW9uIChmLCByKSB7XG4gICAgcmV0dXJuIGYgKyByLnNvdXJjZTtcbiAgfSwgXCJcIik7XG4gIHJldHVybiBSZWdFeHAoXCJeXCIgKyBmdWxsICsgXCIkXCIpO1xufVxuXG5mdW5jdGlvbiBjb21iaW5lRXh0cmFjdG9ycygpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBleHRyYWN0b3JzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgZXh0cmFjdG9yc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChtKSB7XG4gICAgcmV0dXJuIGV4dHJhY3RvcnMucmVkdWNlKGZ1bmN0aW9uIChfcmVmLCBleCkge1xuICAgICAgdmFyIG1lcmdlZFZhbHMgPSBfcmVmWzBdLFxuICAgICAgICAgIG1lcmdlZFpvbmUgPSBfcmVmWzFdLFxuICAgICAgICAgIGN1cnNvciA9IF9yZWZbMl07XG5cbiAgICAgIHZhciBfZXggPSBleChtLCBjdXJzb3IpLFxuICAgICAgICAgIHZhbCA9IF9leFswXSxcbiAgICAgICAgICB6b25lID0gX2V4WzFdLFxuICAgICAgICAgIG5leHQgPSBfZXhbMl07XG5cbiAgICAgIHJldHVybiBbX2V4dGVuZHMoe30sIG1lcmdlZFZhbHMsIHZhbCksIG1lcmdlZFpvbmUgfHwgem9uZSwgbmV4dF07XG4gICAgfSwgW3t9LCBudWxsLCAxXSkuc2xpY2UoMCwgMik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHMpIHtcbiAgaWYgKHMgPT0gbnVsbCkge1xuICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gIH1cblxuICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhdHRlcm5zID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBwYXR0ZXJuc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgfVxuXG4gIGZvciAodmFyIF9pID0gMCwgX3BhdHRlcm5zID0gcGF0dGVybnM7IF9pIDwgX3BhdHRlcm5zLmxlbmd0aDsgX2krKykge1xuICAgIHZhciBfcGF0dGVybnMkX2kgPSBfcGF0dGVybnNbX2ldLFxuICAgICAgICByZWdleCA9IF9wYXR0ZXJucyRfaVswXSxcbiAgICAgICAgZXh0cmFjdG9yID0gX3BhdHRlcm5zJF9pWzFdO1xuICAgIHZhciBtID0gcmVnZXguZXhlYyhzKTtcblxuICAgIGlmIChtKSB7XG4gICAgICByZXR1cm4gZXh0cmFjdG9yKG0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbbnVsbCwgbnVsbF07XG59XG5cbmZ1bmN0aW9uIHNpbXBsZVBhcnNlKCkge1xuICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGtleXMgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICBrZXlzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKG1hdGNoLCBjdXJzb3IpIHtcbiAgICB2YXIgcmV0ID0ge307XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2tleXNbaV1dID0gcGFyc2VJbnRlZ2VyKG1hdGNoW2N1cnNvciArIGldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3JldCwgbnVsbCwgY3Vyc29yICsgaV07XG4gIH07XG59IC8vIElTTyBhbmQgU1FMIHBhcnNpbmdcblxuXG52YXIgb2Zmc2V0UmVnZXggPSAvKD86KFopfChbKy1dXFxkXFxkKSg/Ojo/KFxcZFxcZCkpPykvLFxuICAgIGlzb1RpbWVCYXNlUmVnZXggPSAvKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlsuLF0oXFxkezEsMzB9KSk/KT8pPy8sXG4gICAgaXNvVGltZVJlZ2V4ID0gUmVnRXhwKFwiXCIgKyBpc29UaW1lQmFzZVJlZ2V4LnNvdXJjZSArIG9mZnNldFJlZ2V4LnNvdXJjZSArIFwiP1wiKSxcbiAgICBpc29UaW1lRXh0ZW5zaW9uUmVnZXggPSBSZWdFeHAoXCIoPzpUXCIgKyBpc29UaW1lUmVnZXguc291cmNlICsgXCIpP1wiKSxcbiAgICBpc29ZbWRSZWdleCA9IC8oWystXVxcZHs2fXxcXGR7NH0pKD86LT8oXFxkXFxkKSg/Oi0/KFxcZFxcZCkpPyk/LyxcbiAgICBpc29XZWVrUmVnZXggPSAvKFxcZHs0fSktP1coXFxkXFxkKSg/Oi0/KFxcZCkpPy8sXG4gICAgaXNvT3JkaW5hbFJlZ2V4ID0gLyhcXGR7NH0pLT8oXFxkezN9KS8sXG4gICAgZXh0cmFjdElTT1dlZWtEYXRhID0gc2ltcGxlUGFyc2UoXCJ3ZWVrWWVhclwiLCBcIndlZWtOdW1iZXJcIiwgXCJ3ZWVrRGF5XCIpLFxuICAgIGV4dHJhY3RJU09PcmRpbmFsRGF0YSA9IHNpbXBsZVBhcnNlKFwieWVhclwiLCBcIm9yZGluYWxcIiksXG4gICAgc3FsWW1kUmVnZXggPSAvKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZCkvLFxuICAgIC8vIGR1bWJlZC1kb3duIHZlcnNpb24gb2YgdGhlIElTTyBvbmVcbnNxbFRpbWVSZWdleCA9IFJlZ0V4cChpc29UaW1lQmFzZVJlZ2V4LnNvdXJjZSArIFwiID8oPzpcIiArIG9mZnNldFJlZ2V4LnNvdXJjZSArIFwifChcIiArIGlhbmFSZWdleC5zb3VyY2UgKyBcIikpP1wiKSxcbiAgICBzcWxUaW1lRXh0ZW5zaW9uUmVnZXggPSBSZWdFeHAoXCIoPzogXCIgKyBzcWxUaW1lUmVnZXguc291cmNlICsgXCIpP1wiKTtcblxuZnVuY3Rpb24gaW50KG1hdGNoLCBwb3MsIGZhbGxiYWNrKSB7XG4gIHZhciBtID0gbWF0Y2hbcG9zXTtcbiAgcmV0dXJuIGlzVW5kZWZpbmVkKG0pID8gZmFsbGJhY2sgOiBwYXJzZUludGVnZXIobSk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RJU09ZbWQobWF0Y2gsIGN1cnNvcikge1xuICB2YXIgaXRlbSA9IHtcbiAgICB5ZWFyOiBpbnQobWF0Y2gsIGN1cnNvciksXG4gICAgbW9udGg6IGludChtYXRjaCwgY3Vyc29yICsgMSwgMSksXG4gICAgZGF5OiBpbnQobWF0Y2gsIGN1cnNvciArIDIsIDEpXG4gIH07XG4gIHJldHVybiBbaXRlbSwgbnVsbCwgY3Vyc29yICsgM107XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RJU09UaW1lKG1hdGNoLCBjdXJzb3IpIHtcbiAgdmFyIGl0ZW0gPSB7XG4gICAgaG91cnM6IGludChtYXRjaCwgY3Vyc29yLCAwKSxcbiAgICBtaW51dGVzOiBpbnQobWF0Y2gsIGN1cnNvciArIDEsIDApLFxuICAgIHNlY29uZHM6IGludChtYXRjaCwgY3Vyc29yICsgMiwgMCksXG4gICAgbWlsbGlzZWNvbmRzOiBwYXJzZU1pbGxpcyhtYXRjaFtjdXJzb3IgKyAzXSlcbiAgfTtcbiAgcmV0dXJuIFtpdGVtLCBudWxsLCBjdXJzb3IgKyA0XTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdElTT09mZnNldChtYXRjaCwgY3Vyc29yKSB7XG4gIHZhciBsb2NhbCA9ICFtYXRjaFtjdXJzb3JdICYmICFtYXRjaFtjdXJzb3IgKyAxXSxcbiAgICAgIGZ1bGxPZmZzZXQgPSBzaWduZWRPZmZzZXQobWF0Y2hbY3Vyc29yICsgMV0sIG1hdGNoW2N1cnNvciArIDJdKSxcbiAgICAgIHpvbmUgPSBsb2NhbCA/IG51bGwgOiBGaXhlZE9mZnNldFpvbmUuaW5zdGFuY2UoZnVsbE9mZnNldCk7XG4gIHJldHVybiBbe30sIHpvbmUsIGN1cnNvciArIDNdO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SUFOQVpvbmUobWF0Y2gsIGN1cnNvcikge1xuICB2YXIgem9uZSA9IG1hdGNoW2N1cnNvcl0gPyBJQU5BWm9uZS5jcmVhdGUobWF0Y2hbY3Vyc29yXSkgOiBudWxsO1xuICByZXR1cm4gW3t9LCB6b25lLCBjdXJzb3IgKyAxXTtcbn0gLy8gSVNPIHRpbWUgcGFyc2luZ1xuXG5cbnZhciBpc29UaW1lT25seSA9IFJlZ0V4cChcIl5UP1wiICsgaXNvVGltZUJhc2VSZWdleC5zb3VyY2UgKyBcIiRcIik7IC8vIElTTyBkdXJhdGlvbiBwYXJzaW5nXG5cbnZhciBpc29EdXJhdGlvbiA9IC9eLT9QKD86KD86KC0/XFxkezEsOX0oPzpcXC5cXGR7MSw5fSk/KVkpPyg/OigtP1xcZHsxLDl9KD86XFwuXFxkezEsOX0pPylNKT8oPzooLT9cXGR7MSw5fSg/OlxcLlxcZHsxLDl9KT8pVyk/KD86KC0/XFxkezEsOX0oPzpcXC5cXGR7MSw5fSk/KUQpPyg/OlQoPzooLT9cXGR7MSw5fSg/OlxcLlxcZHsxLDl9KT8pSCk/KD86KC0/XFxkezEsOX0oPzpcXC5cXGR7MSw5fSk/KU0pPyg/OigtP1xcZHsxLDIwfSkoPzpbLixdKC0/XFxkezEsOX0pKT9TKT8pPykkLztcblxuZnVuY3Rpb24gZXh0cmFjdElTT0R1cmF0aW9uKG1hdGNoKSB7XG4gIHZhciBzID0gbWF0Y2hbMF0sXG4gICAgICB5ZWFyU3RyID0gbWF0Y2hbMV0sXG4gICAgICBtb250aFN0ciA9IG1hdGNoWzJdLFxuICAgICAgd2Vla1N0ciA9IG1hdGNoWzNdLFxuICAgICAgZGF5U3RyID0gbWF0Y2hbNF0sXG4gICAgICBob3VyU3RyID0gbWF0Y2hbNV0sXG4gICAgICBtaW51dGVTdHIgPSBtYXRjaFs2XSxcbiAgICAgIHNlY29uZFN0ciA9IG1hdGNoWzddLFxuICAgICAgbWlsbGlzZWNvbmRzU3RyID0gbWF0Y2hbOF07XG4gIHZhciBoYXNOZWdhdGl2ZVByZWZpeCA9IHNbMF0gPT09IFwiLVwiO1xuICB2YXIgbmVnYXRpdmVTZWNvbmRzID0gc2Vjb25kU3RyICYmIHNlY29uZFN0clswXSA9PT0gXCItXCI7XG5cbiAgdmFyIG1heWJlTmVnYXRlID0gZnVuY3Rpb24gbWF5YmVOZWdhdGUobnVtLCBmb3JjZSkge1xuICAgIGlmIChmb3JjZSA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBudW0gIT09IHVuZGVmaW5lZCAmJiAoZm9yY2UgfHwgbnVtICYmIGhhc05lZ2F0aXZlUHJlZml4KSA/IC1udW0gOiBudW07XG4gIH07XG5cbiAgcmV0dXJuIFt7XG4gICAgeWVhcnM6IG1heWJlTmVnYXRlKHBhcnNlRmxvYXRpbmcoeWVhclN0cikpLFxuICAgIG1vbnRoczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhtb250aFN0cikpLFxuICAgIHdlZWtzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKHdlZWtTdHIpKSxcbiAgICBkYXlzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKGRheVN0cikpLFxuICAgIGhvdXJzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKGhvdXJTdHIpKSxcbiAgICBtaW51dGVzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKG1pbnV0ZVN0cikpLFxuICAgIHNlY29uZHM6IG1heWJlTmVnYXRlKHBhcnNlRmxvYXRpbmcoc2Vjb25kU3RyKSwgc2Vjb25kU3RyID09PSBcIi0wXCIpLFxuICAgIG1pbGxpc2Vjb25kczogbWF5YmVOZWdhdGUocGFyc2VNaWxsaXMobWlsbGlzZWNvbmRzU3RyKSwgbmVnYXRpdmVTZWNvbmRzKVxuICB9XTtcbn0gLy8gVGhlc2UgYXJlIGEgbGl0dGxlIGJyYWluZGVhZC4gRURUICpzaG91bGQqIHRlbGwgdXMgdGhhdCB3ZSdyZSBpbiwgc2F5LCBBbWVyaWNhL05ld19Zb3JrXG4vLyBhbmQgbm90IGp1c3QgdGhhdCB3ZSdyZSBpbiAtMjQwICpyaWdodCBub3cqLiBCdXQgc2luY2UgSSBkb24ndCB0aGluayB0aGVzZSBhcmUgdXNlZCB0aGF0IG9mdGVuXG4vLyBJJ20ganVzdCBnb2luZyB0byBpZ25vcmUgdGhhdFxuXG5cbnZhciBvYnNPZmZzZXRzID0ge1xuICBHTVQ6IDAsXG4gIEVEVDogLTQgKiA2MCxcbiAgRVNUOiAtNSAqIDYwLFxuICBDRFQ6IC01ICogNjAsXG4gIENTVDogLTYgKiA2MCxcbiAgTURUOiAtNiAqIDYwLFxuICBNU1Q6IC03ICogNjAsXG4gIFBEVDogLTcgKiA2MCxcbiAgUFNUOiAtOCAqIDYwXG59O1xuXG5mdW5jdGlvbiBmcm9tU3RyaW5ncyh3ZWVrZGF5U3RyLCB5ZWFyU3RyLCBtb250aFN0ciwgZGF5U3RyLCBob3VyU3RyLCBtaW51dGVTdHIsIHNlY29uZFN0cikge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIHllYXI6IHllYXJTdHIubGVuZ3RoID09PSAyID8gdW50cnVuY2F0ZVllYXIocGFyc2VJbnRlZ2VyKHllYXJTdHIpKSA6IHBhcnNlSW50ZWdlcih5ZWFyU3RyKSxcbiAgICBtb250aDogbW9udGhzU2hvcnQuaW5kZXhPZihtb250aFN0cikgKyAxLFxuICAgIGRheTogcGFyc2VJbnRlZ2VyKGRheVN0ciksXG4gICAgaG91cjogcGFyc2VJbnRlZ2VyKGhvdXJTdHIpLFxuICAgIG1pbnV0ZTogcGFyc2VJbnRlZ2VyKG1pbnV0ZVN0cilcbiAgfTtcbiAgaWYgKHNlY29uZFN0cikgcmVzdWx0LnNlY29uZCA9IHBhcnNlSW50ZWdlcihzZWNvbmRTdHIpO1xuXG4gIGlmICh3ZWVrZGF5U3RyKSB7XG4gICAgcmVzdWx0LndlZWtkYXkgPSB3ZWVrZGF5U3RyLmxlbmd0aCA+IDMgPyB3ZWVrZGF5c0xvbmcuaW5kZXhPZih3ZWVrZGF5U3RyKSArIDEgOiB3ZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0cikgKyAxO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0gLy8gUkZDIDI4MjIvNTMyMlxuXG5cbnZhciByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSxcXHMpPyhcXGR7MSwyfSlcXHMoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKFxcZHsyLDR9KVxccyhcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKT9cXHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KD86KFsrLV1cXGRcXGQpKFxcZFxcZCkpKSQvO1xuXG5mdW5jdGlvbiBleHRyYWN0UkZDMjgyMihtYXRjaCkge1xuICB2YXIgd2Vla2RheVN0ciA9IG1hdGNoWzFdLFxuICAgICAgZGF5U3RyID0gbWF0Y2hbMl0sXG4gICAgICBtb250aFN0ciA9IG1hdGNoWzNdLFxuICAgICAgeWVhclN0ciA9IG1hdGNoWzRdLFxuICAgICAgaG91clN0ciA9IG1hdGNoWzVdLFxuICAgICAgbWludXRlU3RyID0gbWF0Y2hbNl0sXG4gICAgICBzZWNvbmRTdHIgPSBtYXRjaFs3XSxcbiAgICAgIG9ic09mZnNldCA9IG1hdGNoWzhdLFxuICAgICAgbWlsT2Zmc2V0ID0gbWF0Y2hbOV0sXG4gICAgICBvZmZIb3VyU3RyID0gbWF0Y2hbMTBdLFxuICAgICAgb2ZmTWludXRlU3RyID0gbWF0Y2hbMTFdLFxuICAgICAgcmVzdWx0ID0gZnJvbVN0cmluZ3Mod2Vla2RheVN0ciwgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpO1xuICB2YXIgb2Zmc2V0O1xuXG4gIGlmIChvYnNPZmZzZXQpIHtcbiAgICBvZmZzZXQgPSBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gIH0gZWxzZSBpZiAobWlsT2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gMDtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXQgPSBzaWduZWRPZmZzZXQob2ZmSG91clN0ciwgb2ZmTWludXRlU3RyKTtcbiAgfVxuXG4gIHJldHVybiBbcmVzdWx0LCBuZXcgRml4ZWRPZmZzZXRab25lKG9mZnNldCldO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XG4gIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gIHJldHVybiBzLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csIFwiIFwiKS5yZXBsYWNlKC8oXFxzXFxzKykvZywgXCIgXCIpLnRyaW0oKTtcbn0gLy8gaHR0cCBkYXRlXG5cblxudmFyIHJmYzExMjMgPSAvXihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLCAoXFxkXFxkKSAoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpIChcXGR7NH0pIChcXGRcXGQpOihcXGRcXGQpOihcXGRcXGQpIEdNVCQvLFxuICAgIHJmYzg1MCA9IC9eKE1vbmRheXxUdWVzZGF5fFdlZHNkYXl8VGh1cnNkYXl8RnJpZGF5fFNhdHVyZGF5fFN1bmRheSksIChcXGRcXGQpLShKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYyktKFxcZFxcZCkgKFxcZFxcZCk6KFxcZFxcZCk6KFxcZFxcZCkgR01UJC8sXG4gICAgYXNjaWkgPSAvXihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKCBcXGR8XFxkXFxkKSAoXFxkXFxkKTooXFxkXFxkKTooXFxkXFxkKSAoXFxkezR9KSQvO1xuXG5mdW5jdGlvbiBleHRyYWN0UkZDMTEyM09yODUwKG1hdGNoKSB7XG4gIHZhciB3ZWVrZGF5U3RyID0gbWF0Y2hbMV0sXG4gICAgICBkYXlTdHIgPSBtYXRjaFsyXSxcbiAgICAgIG1vbnRoU3RyID0gbWF0Y2hbM10sXG4gICAgICB5ZWFyU3RyID0gbWF0Y2hbNF0sXG4gICAgICBob3VyU3RyID0gbWF0Y2hbNV0sXG4gICAgICBtaW51dGVTdHIgPSBtYXRjaFs2XSxcbiAgICAgIHNlY29uZFN0ciA9IG1hdGNoWzddLFxuICAgICAgcmVzdWx0ID0gZnJvbVN0cmluZ3Mod2Vla2RheVN0ciwgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpO1xuICByZXR1cm4gW3Jlc3VsdCwgRml4ZWRPZmZzZXRab25lLnV0Y0luc3RhbmNlXTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEFTQ0lJKG1hdGNoKSB7XG4gIHZhciB3ZWVrZGF5U3RyID0gbWF0Y2hbMV0sXG4gICAgICBtb250aFN0ciA9IG1hdGNoWzJdLFxuICAgICAgZGF5U3RyID0gbWF0Y2hbM10sXG4gICAgICBob3VyU3RyID0gbWF0Y2hbNF0sXG4gICAgICBtaW51dGVTdHIgPSBtYXRjaFs1XSxcbiAgICAgIHNlY29uZFN0ciA9IG1hdGNoWzZdLFxuICAgICAgeWVhclN0ciA9IG1hdGNoWzddLFxuICAgICAgcmVzdWx0ID0gZnJvbVN0cmluZ3Mod2Vla2RheVN0ciwgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpO1xuICByZXR1cm4gW3Jlc3VsdCwgRml4ZWRPZmZzZXRab25lLnV0Y0luc3RhbmNlXTtcbn1cblxudmFyIGlzb1ltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29ZbWRSZWdleCwgaXNvVGltZUV4dGVuc2lvblJlZ2V4KTtcbnZhciBpc29XZWVrV2l0aFRpbWVFeHRlbnNpb25SZWdleCA9IGNvbWJpbmVSZWdleGVzKGlzb1dlZWtSZWdleCwgaXNvVGltZUV4dGVuc2lvblJlZ2V4KTtcbnZhciBpc29PcmRpbmFsV2l0aFRpbWVFeHRlbnNpb25SZWdleCA9IGNvbWJpbmVSZWdleGVzKGlzb09yZGluYWxSZWdleCwgaXNvVGltZUV4dGVuc2lvblJlZ2V4KTtcbnZhciBpc29UaW1lQ29tYmluZWRSZWdleCA9IGNvbWJpbmVSZWdleGVzKGlzb1RpbWVSZWdleCk7XG52YXIgZXh0cmFjdElTT1ltZFRpbWVBbmRPZmZzZXQgPSBjb21iaW5lRXh0cmFjdG9ycyhleHRyYWN0SVNPWW1kLCBleHRyYWN0SVNPVGltZSwgZXh0cmFjdElTT09mZnNldCk7XG52YXIgZXh0cmFjdElTT1dlZWtUaW1lQW5kT2Zmc2V0ID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1dlZWtEYXRhLCBleHRyYWN0SVNPVGltZSwgZXh0cmFjdElTT09mZnNldCk7XG52YXIgZXh0cmFjdElTT09yZGluYWxEYXRlQW5kVGltZSA9IGNvbWJpbmVFeHRyYWN0b3JzKGV4dHJhY3RJU09PcmRpbmFsRGF0YSwgZXh0cmFjdElTT1RpbWUsIGV4dHJhY3RJU09PZmZzZXQpO1xudmFyIGV4dHJhY3RJU09UaW1lQW5kT2Zmc2V0ID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1RpbWUsIGV4dHJhY3RJU09PZmZzZXQpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSVNPRGF0ZShzKSB7XG4gIHJldHVybiBwYXJzZShzLCBbaXNvWW1kV2l0aFRpbWVFeHRlbnNpb25SZWdleCwgZXh0cmFjdElTT1ltZFRpbWVBbmRPZmZzZXRdLCBbaXNvV2Vla1dpdGhUaW1lRXh0ZW5zaW9uUmVnZXgsIGV4dHJhY3RJU09XZWVrVGltZUFuZE9mZnNldF0sIFtpc29PcmRpbmFsV2l0aFRpbWVFeHRlbnNpb25SZWdleCwgZXh0cmFjdElTT09yZGluYWxEYXRlQW5kVGltZV0sIFtpc29UaW1lQ29tYmluZWRSZWdleCwgZXh0cmFjdElTT1RpbWVBbmRPZmZzZXRdKTtcbn1cbmZ1bmN0aW9uIHBhcnNlUkZDMjgyMkRhdGUocykge1xuICByZXR1cm4gcGFyc2UocHJlcHJvY2Vzc1JGQzI4MjIocyksIFtyZmMyODIyLCBleHRyYWN0UkZDMjgyMl0pO1xufVxuZnVuY3Rpb24gcGFyc2VIVFRQRGF0ZShzKSB7XG4gIHJldHVybiBwYXJzZShzLCBbcmZjMTEyMywgZXh0cmFjdFJGQzExMjNPcjg1MF0sIFtyZmM4NTAsIGV4dHJhY3RSRkMxMTIzT3I4NTBdLCBbYXNjaWksIGV4dHJhY3RBU0NJSV0pO1xufVxuZnVuY3Rpb24gcGFyc2VJU09EdXJhdGlvbihzKSB7XG4gIHJldHVybiBwYXJzZShzLCBbaXNvRHVyYXRpb24sIGV4dHJhY3RJU09EdXJhdGlvbl0pO1xufVxudmFyIGV4dHJhY3RJU09UaW1lT25seSA9IGNvbWJpbmVFeHRyYWN0b3JzKGV4dHJhY3RJU09UaW1lKTtcbmZ1bmN0aW9uIHBhcnNlSVNPVGltZU9ubHkocykge1xuICByZXR1cm4gcGFyc2UocywgW2lzb1RpbWVPbmx5LCBleHRyYWN0SVNPVGltZU9ubHldKTtcbn1cbnZhciBzcWxZbWRXaXRoVGltZUV4dGVuc2lvblJlZ2V4ID0gY29tYmluZVJlZ2V4ZXMoc3FsWW1kUmVnZXgsIHNxbFRpbWVFeHRlbnNpb25SZWdleCk7XG52YXIgc3FsVGltZUNvbWJpbmVkUmVnZXggPSBjb21iaW5lUmVnZXhlcyhzcWxUaW1lUmVnZXgpO1xudmFyIGV4dHJhY3RJU09ZbWRUaW1lT2Zmc2V0QW5kSUFOQVpvbmUgPSBjb21iaW5lRXh0cmFjdG9ycyhleHRyYWN0SVNPWW1kLCBleHRyYWN0SVNPVGltZSwgZXh0cmFjdElTT09mZnNldCwgZXh0cmFjdElBTkFab25lKTtcbnZhciBleHRyYWN0SVNPVGltZU9mZnNldEFuZElBTkFab25lID0gY29tYmluZUV4dHJhY3RvcnMoZXh0cmFjdElTT1RpbWUsIGV4dHJhY3RJU09PZmZzZXQsIGV4dHJhY3RJQU5BWm9uZSk7XG5mdW5jdGlvbiBwYXJzZVNRTChzKSB7XG4gIHJldHVybiBwYXJzZShzLCBbc3FsWW1kV2l0aFRpbWVFeHRlbnNpb25SZWdleCwgZXh0cmFjdElTT1ltZFRpbWVPZmZzZXRBbmRJQU5BWm9uZV0sIFtzcWxUaW1lQ29tYmluZWRSZWdleCwgZXh0cmFjdElTT1RpbWVPZmZzZXRBbmRJQU5BWm9uZV0pO1xufVxuXG52YXIgSU5WQUxJRCQyID0gXCJJbnZhbGlkIER1cmF0aW9uXCI7IC8vIHVuaXQgY29udmVyc2lvbiBjb25zdGFudHNcblxudmFyIGxvd09yZGVyTWF0cml4ID0ge1xuICB3ZWVrczoge1xuICAgIGRheXM6IDcsXG4gICAgaG91cnM6IDcgKiAyNCxcbiAgICBtaW51dGVzOiA3ICogMjQgKiA2MCxcbiAgICBzZWNvbmRzOiA3ICogMjQgKiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogNyAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgfSxcbiAgZGF5czoge1xuICAgIGhvdXJzOiAyNCxcbiAgICBtaW51dGVzOiAyNCAqIDYwLFxuICAgIHNlY29uZHM6IDI0ICogNjAgKiA2MCxcbiAgICBtaWxsaXNlY29uZHM6IDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgfSxcbiAgaG91cnM6IHtcbiAgICBtaW51dGVzOiA2MCxcbiAgICBzZWNvbmRzOiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogNjAgKiA2MCAqIDEwMDBcbiAgfSxcbiAgbWludXRlczoge1xuICAgIHNlY29uZHM6IDYwLFxuICAgIG1pbGxpc2Vjb25kczogNjAgKiAxMDAwXG4gIH0sXG4gIHNlY29uZHM6IHtcbiAgICBtaWxsaXNlY29uZHM6IDEwMDBcbiAgfVxufSxcbiAgICBjYXN1YWxNYXRyaXggPSBfZXh0ZW5kcyh7XG4gIHllYXJzOiB7XG4gICAgcXVhcnRlcnM6IDQsXG4gICAgbW9udGhzOiAxMixcbiAgICB3ZWVrczogNTIsXG4gICAgZGF5czogMzY1LFxuICAgIGhvdXJzOiAzNjUgKiAyNCxcbiAgICBtaW51dGVzOiAzNjUgKiAyNCAqIDYwLFxuICAgIHNlY29uZHM6IDM2NSAqIDI0ICogNjAgKiA2MCxcbiAgICBtaWxsaXNlY29uZHM6IDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgfSxcbiAgcXVhcnRlcnM6IHtcbiAgICBtb250aHM6IDMsXG4gICAgd2Vla3M6IDEzLFxuICAgIGRheXM6IDkxLFxuICAgIGhvdXJzOiA5MSAqIDI0LFxuICAgIG1pbnV0ZXM6IDkxICogMjQgKiA2MCxcbiAgICBzZWNvbmRzOiA5MSAqIDI0ICogNjAgKiA2MCxcbiAgICBtaWxsaXNlY29uZHM6IDkxICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBtb250aHM6IHtcbiAgICB3ZWVrczogNCxcbiAgICBkYXlzOiAzMCxcbiAgICBob3VyczogMzAgKiAyNCxcbiAgICBtaW51dGVzOiAzMCAqIDI0ICogNjAsXG4gICAgc2Vjb25kczogMzAgKiAyNCAqIDYwICogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgfVxufSwgbG93T3JkZXJNYXRyaXgpLFxuICAgIGRheXNJblllYXJBY2N1cmF0ZSA9IDE0NjA5Ny4wIC8gNDAwLFxuICAgIGRheXNJbk1vbnRoQWNjdXJhdGUgPSAxNDYwOTcuMCAvIDQ4MDAsXG4gICAgYWNjdXJhdGVNYXRyaXggPSBfZXh0ZW5kcyh7XG4gIHllYXJzOiB7XG4gICAgcXVhcnRlcnM6IDQsXG4gICAgbW9udGhzOiAxMixcbiAgICB3ZWVrczogZGF5c0luWWVhckFjY3VyYXRlIC8gNyxcbiAgICBkYXlzOiBkYXlzSW5ZZWFyQWNjdXJhdGUsXG4gICAgaG91cnM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0LFxuICAgIG1pbnV0ZXM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAsXG4gICAgc2Vjb25kczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCAqIDYwLFxuICAgIG1pbGxpc2Vjb25kczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9LFxuICBxdWFydGVyczoge1xuICAgIG1vbnRoczogMyxcbiAgICB3ZWVrczogZGF5c0luWWVhckFjY3VyYXRlIC8gMjgsXG4gICAgZGF5czogZGF5c0luWWVhckFjY3VyYXRlIC8gNCxcbiAgICBob3VyczogZGF5c0luWWVhckFjY3VyYXRlICogMjQgLyA0LFxuICAgIG1pbnV0ZXM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAgLyA0LFxuICAgIHNlY29uZHM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCAvIDQsXG4gICAgbWlsbGlzZWNvbmRzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCAqIDYwICogNjAgKiAxMDAwIC8gNFxuICB9LFxuICBtb250aHM6IHtcbiAgICB3ZWVrczogZGF5c0luTW9udGhBY2N1cmF0ZSAvIDcsXG4gICAgZGF5czogZGF5c0luTW9udGhBY2N1cmF0ZSxcbiAgICBob3VyczogZGF5c0luTW9udGhBY2N1cmF0ZSAqIDI0LFxuICAgIG1pbnV0ZXM6IGRheXNJbk1vbnRoQWNjdXJhdGUgKiAyNCAqIDYwLFxuICAgIHNlY29uZHM6IGRheXNJbk1vbnRoQWNjdXJhdGUgKiAyNCAqIDYwICogNjAsXG4gICAgbWlsbGlzZWNvbmRzOiBkYXlzSW5Nb250aEFjY3VyYXRlICogMjQgKiA2MCAqIDYwICogMTAwMFxuICB9XG59LCBsb3dPcmRlck1hdHJpeCk7IC8vIHVuaXRzIG9yZGVyZWQgYnkgc2l6ZVxuXG52YXIgb3JkZXJlZFVuaXRzJDEgPSBbXCJ5ZWFyc1wiLCBcInF1YXJ0ZXJzXCIsIFwibW9udGhzXCIsIFwid2Vla3NcIiwgXCJkYXlzXCIsIFwiaG91cnNcIiwgXCJtaW51dGVzXCIsIFwic2Vjb25kc1wiLCBcIm1pbGxpc2Vjb25kc1wiXTtcbnZhciByZXZlcnNlVW5pdHMgPSBvcmRlcmVkVW5pdHMkMS5zbGljZSgwKS5yZXZlcnNlKCk7IC8vIGNsb25lIHJlYWxseSBtZWFucyBcImNyZWF0ZSBhbm90aGVyIGluc3RhbmNlIGp1c3QgbGlrZSB0aGlzIG9uZSwgYnV0IHdpdGggdGhlc2UgY2hhbmdlc1wiXG5cbmZ1bmN0aW9uIGNsb25lJDEoZHVyLCBhbHRzLCBjbGVhcikge1xuICBpZiAoY2xlYXIgPT09IHZvaWQgMCkge1xuICAgIGNsZWFyID0gZmFsc2U7XG4gIH1cblxuICAvLyBkZWVwIG1lcmdlIGZvciB2YWxzXG4gIHZhciBjb25mID0ge1xuICAgIHZhbHVlczogY2xlYXIgPyBhbHRzLnZhbHVlcyA6IF9leHRlbmRzKHt9LCBkdXIudmFsdWVzLCBhbHRzLnZhbHVlcyB8fCB7fSksXG4gICAgbG9jOiBkdXIubG9jLmNsb25lKGFsdHMubG9jKSxcbiAgICBjb252ZXJzaW9uQWNjdXJhY3k6IGFsdHMuY29udmVyc2lvbkFjY3VyYWN5IHx8IGR1ci5jb252ZXJzaW9uQWNjdXJhY3lcbiAgfTtcbiAgcmV0dXJuIG5ldyBEdXJhdGlvbihjb25mKTtcbn1cblxuZnVuY3Rpb24gYW50aVRydW5jKG4pIHtcbiAgcmV0dXJuIG4gPCAwID8gTWF0aC5mbG9vcihuKSA6IE1hdGguY2VpbChuKTtcbn0gLy8gTkI6IG11dGF0ZXMgcGFyYW1ldGVyc1xuXG5cbmZ1bmN0aW9uIGNvbnZlcnQobWF0cml4LCBmcm9tTWFwLCBmcm9tVW5pdCwgdG9NYXAsIHRvVW5pdCkge1xuICB2YXIgY29udiA9IG1hdHJpeFt0b1VuaXRdW2Zyb21Vbml0XSxcbiAgICAgIHJhdyA9IGZyb21NYXBbZnJvbVVuaXRdIC8gY29udixcbiAgICAgIHNhbWVTaWduID0gTWF0aC5zaWduKHJhdykgPT09IE1hdGguc2lnbih0b01hcFt0b1VuaXRdKSxcbiAgICAgIC8vIG9rLCBzbyB0aGlzIGlzIHdpbGQsIGJ1dCBzZWUgdGhlIG1hdHJpeCBpbiB0aGUgdGVzdHNcbiAgYWRkZWQgPSAhc2FtZVNpZ24gJiYgdG9NYXBbdG9Vbml0XSAhPT0gMCAmJiBNYXRoLmFicyhyYXcpIDw9IDEgPyBhbnRpVHJ1bmMocmF3KSA6IE1hdGgudHJ1bmMocmF3KTtcbiAgdG9NYXBbdG9Vbml0XSArPSBhZGRlZDtcbiAgZnJvbU1hcFtmcm9tVW5pdF0gLT0gYWRkZWQgKiBjb252O1xufSAvLyBOQjogbXV0YXRlcyBwYXJhbWV0ZXJzXG5cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWVzKG1hdHJpeCwgdmFscykge1xuICByZXZlcnNlVW5pdHMucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodmFsc1tjdXJyZW50XSkpIHtcbiAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICBjb252ZXJ0KG1hdHJpeCwgdmFscywgcHJldmlvdXMsIHZhbHMsIGN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgIH1cbiAgfSwgbnVsbCk7XG59XG4vKipcbiAqIEEgRHVyYXRpb24gb2JqZWN0IHJlcHJlc2VudHMgYSBwZXJpb2Qgb2YgdGltZSwgbGlrZSBcIjIgbW9udGhzXCIgb3IgXCIxIGRheSwgMSBob3VyXCIuIENvbmNlcHR1YWxseSwgaXQncyBqdXN0IGEgbWFwIG9mIHVuaXRzIHRvIHRoZWlyIHF1YW50aXRpZXMsIGFjY29tcGFuaWVkIGJ5IHNvbWUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGFuZCBtZXRob2RzIGZvciBjcmVhdGluZywgcGFyc2luZywgaW50ZXJyb2dhdGluZywgdHJhbnNmb3JtaW5nLCBhbmQgZm9ybWF0dGluZyB0aGVtLiBUaGV5IGNhbiBiZSB1c2VkIG9uIHRoZWlyIG93biBvciBpbiBjb25qdW5jdGlvbiB3aXRoIG90aGVyIEx1eG9uIHR5cGVzOyBmb3IgZXhhbXBsZSwgeW91IGNhbiB1c2Uge0BsaW5rIERhdGVUaW1lI3BsdXN9IHRvIGFkZCBhIER1cmF0aW9uIG9iamVjdCB0byBhIERhdGVUaW1lLCBwcm9kdWNpbmcgYW5vdGhlciBEYXRlVGltZS5cbiAqXG4gKiBIZXJlIGlzIGEgYnJpZWYgb3ZlcnZpZXcgb2YgY29tbW9ubHkgdXNlZCBtZXRob2RzIGFuZCBnZXR0ZXJzIGluIER1cmF0aW9uOlxuICpcbiAqICogKipDcmVhdGlvbioqIFRvIGNyZWF0ZSBhIER1cmF0aW9uLCB1c2Uge0BsaW5rIER1cmF0aW9uI2Zyb21NaWxsaXN9LCB7QGxpbmsgRHVyYXRpb24jZnJvbU9iamVjdH0sIG9yIHtAbGluayBEdXJhdGlvbiNmcm9tSVNPfS5cbiAqICogKipVbml0IHZhbHVlcyoqIFNlZSB0aGUge0BsaW5rIER1cmF0aW9uI3llYXJzfSwge0BsaW5rIER1cmF0aW9uLm1vbnRoc30sIHtAbGluayBEdXJhdGlvbiN3ZWVrc30sIHtAbGluayBEdXJhdGlvbiNkYXlzfSwge0BsaW5rIER1cmF0aW9uI2hvdXJzfSwge0BsaW5rIER1cmF0aW9uI21pbnV0ZXN9LCB7QGxpbmsgRHVyYXRpb24jc2Vjb25kc30sIHtAbGluayBEdXJhdGlvbiNtaWxsaXNlY29uZHN9IGFjY2Vzc29ycy5cbiAqICogKipDb25maWd1cmF0aW9uKiogU2VlICB7QGxpbmsgRHVyYXRpb24jbG9jYWxlfSBhbmQge0BsaW5rIER1cmF0aW9uI251bWJlcmluZ1N5c3RlbX0gYWNjZXNzb3JzLlxuICogKiAqKlRyYW5zZm9ybWF0aW9uKiogVG8gY3JlYXRlIG5ldyBEdXJhdGlvbnMgb3V0IG9mIG9sZCBvbmVzIHVzZSB7QGxpbmsgRHVyYXRpb24jcGx1c30sIHtAbGluayBEdXJhdGlvbiNtaW51c30sIHtAbGluayBEdXJhdGlvbiNub3JtYWxpemV9LCB7QGxpbmsgRHVyYXRpb24jc2V0fSwge0BsaW5rIER1cmF0aW9uI3JlY29uZmlndXJlfSwge0BsaW5rIER1cmF0aW9uI3NoaWZ0VG99LCBhbmQge0BsaW5rIER1cmF0aW9uI25lZ2F0ZX0uXG4gKiAqICoqT3V0cHV0KiogVG8gY29udmVydCB0aGUgRHVyYXRpb24gaW50byBvdGhlciByZXByZXNlbnRhdGlvbnMsIHNlZSB7QGxpbmsgRHVyYXRpb24jYXN9LCB7QGxpbmsgRHVyYXRpb24jdG9JU099LCB7QGxpbmsgRHVyYXRpb24jdG9Gb3JtYXR9LCBhbmQge0BsaW5rIER1cmF0aW9uI3RvSlNPTn1cbiAqXG4gKiBUaGVyZSdzIGFyZSBtb3JlIG1ldGhvZHMgZG9jdW1lbnRlZCBiZWxvdy4gSW4gYWRkaXRpb24sIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHN1YnRsZXIgdG9waWNzIGxpa2UgaW50ZXJuYXRpb25hbGl6YXRpb24gYW5kIHZhbGlkaXR5LCBzZWUgdGhlIGV4dGVybmFsIGRvY3VtZW50YXRpb24uXG4gKi9cblxuXG52YXIgRHVyYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIER1cmF0aW9uKGNvbmZpZykge1xuICAgIHZhciBhY2N1cmF0ZSA9IGNvbmZpZy5jb252ZXJzaW9uQWNjdXJhY3kgPT09IFwibG9uZ3Rlcm1cIiB8fCBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMudmFsdWVzID0gY29uZmlnLnZhbHVlcztcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMubG9jID0gY29uZmlnLmxvYyB8fCBMb2NhbGUuY3JlYXRlKCk7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmNvbnZlcnNpb25BY2N1cmFjeSA9IGFjY3VyYXRlID8gXCJsb25ndGVybVwiIDogXCJjYXN1YWxcIjtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuaW52YWxpZCA9IGNvbmZpZy5pbnZhbGlkIHx8IG51bGw7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLm1hdHJpeCA9IGFjY3VyYXRlID8gYWNjdXJhdGVNYXRyaXggOiBjYXN1YWxNYXRyaXg7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmlzTHV4b25EdXJhdGlvbiA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBEdXJhdGlvbiBmcm9tIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IG9mIG1pbGxpc2Vjb25kc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgZm9yIHBhcnNpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nZW4tVVMnXSAtIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuY29udmVyc2lvbkFjY3VyYWN5PSdjYXN1YWwnXSAtIHRoZSBjb252ZXJzaW9uIHN5c3RlbSB0byB1c2VcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuXG5cbiAgRHVyYXRpb24uZnJvbU1pbGxpcyA9IGZ1bmN0aW9uIGZyb21NaWxsaXMoY291bnQsIG9wdHMpIHtcbiAgICByZXR1cm4gRHVyYXRpb24uZnJvbU9iamVjdCh7XG4gICAgICBtaWxsaXNlY29uZHM6IGNvdW50XG4gICAgfSwgb3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIER1cmF0aW9uIGZyb20gYSBKYXZhU2NyaXB0IG9iamVjdCB3aXRoIGtleXMgbGlrZSAneWVhcnMnIGFuZCAnaG91cnMnLlxuICAgKiBJZiB0aGlzIG9iamVjdCBpcyBlbXB0eSB0aGVuIGEgemVybyBtaWxsaXNlY29uZHMgZHVyYXRpb24gaXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIGNyZWF0ZSB0aGUgRGF0ZVRpbWUgZnJvbVxuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLnllYXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoucXVhcnRlcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5tb250aHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrc1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLmRheXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5ob3Vyc1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm1pbnV0ZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5zZWNvbmRzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoubWlsbGlzZWNvbmRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cz1bXV0gLSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGlzIER1cmF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J2VuLVVTJ10gLSB0aGUgbG9jYWxlIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIER1cmF0aW9uLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiRHVyYXRpb24uZnJvbU9iamVjdDogYXJndW1lbnQgZXhwZWN0ZWQgdG8gYmUgYW4gb2JqZWN0LCBnb3QgXCIgKyAob2JqID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2Ygb2JqKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEdXJhdGlvbih7XG4gICAgICB2YWx1ZXM6IG5vcm1hbGl6ZU9iamVjdChvYmosIER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQpLFxuICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRzKSxcbiAgICAgIGNvbnZlcnNpb25BY2N1cmFjeTogb3B0cy5jb252ZXJzaW9uQWNjdXJhY3lcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRHVyYXRpb24gZnJvbSBEdXJhdGlvbkxpa2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0IHwgbnVtYmVyIHwgRHVyYXRpb259IGR1cmF0aW9uTGlrZVxuICAgKiBPbmUgb2Y6XG4gICAqIC0gb2JqZWN0IHdpdGgga2V5cyBsaWtlICd5ZWFycycgYW5kICdob3VycycuXG4gICAqIC0gbnVtYmVyIHJlcHJlc2VudGluZyBtaWxsaXNlY29uZHNcbiAgICogLSBEdXJhdGlvbiBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlID0gZnVuY3Rpb24gZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbkxpa2UpIHtcbiAgICBpZiAoaXNOdW1iZXIoZHVyYXRpb25MaWtlKSkge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21NaWxsaXMoZHVyYXRpb25MaWtlKTtcbiAgICB9IGVsc2UgaWYgKER1cmF0aW9uLmlzRHVyYXRpb24oZHVyYXRpb25MaWtlKSkge1xuICAgICAgcmV0dXJuIGR1cmF0aW9uTGlrZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbkxpa2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBEdXJhdGlvbi5mcm9tT2JqZWN0KGR1cmF0aW9uTGlrZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIlVua25vd24gZHVyYXRpb24gYXJndW1lbnQgXCIgKyBkdXJhdGlvbkxpa2UgKyBcIiBvZiB0eXBlIFwiICsgdHlwZW9mIGR1cmF0aW9uTGlrZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEdXJhdGlvbiBmcm9tIGFuIElTTyA4NjAxIGR1cmF0aW9uIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gdGhlIGxvY2FsZSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI0R1cmF0aW9uc1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPKCdQM1k2TTFXNERUMTJIMzBNNVMnKS50b09iamVjdCgpIC8vPT4geyB5ZWFyczogMywgbW9udGhzOiA2LCB3ZWVrczogMSwgZGF5czogNCwgaG91cnM6IDEyLCBtaW51dGVzOiAzMCwgc2Vjb25kczogNSB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU08oJ1BUMjNIJykudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IDIzIH1cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTTygnUDVZM00nKS50b09iamVjdCgpIC8vPT4geyB5ZWFyczogNSwgbW9udGhzOiAzIH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgRHVyYXRpb24uZnJvbUlTTyA9IGZ1bmN0aW9uIGZyb21JU08odGV4dCwgb3B0cykge1xuICAgIHZhciBfcGFyc2VJU09EdXJhdGlvbiA9IHBhcnNlSVNPRHVyYXRpb24odGV4dCksXG4gICAgICAgIHBhcnNlZCA9IF9wYXJzZUlTT0R1cmF0aW9uWzBdO1xuXG4gICAgaWYgKHBhcnNlZCkge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21PYmplY3QocGFyc2VkLCBvcHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmludmFsaWQoXCJ1bnBhcnNhYmxlXCIsIFwidGhlIGlucHV0IFxcXCJcIiArIHRleHQgKyBcIlxcXCIgY2FuJ3QgYmUgcGFyc2VkIGFzIElTTyA4NjAxXCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRHVyYXRpb24gZnJvbSBhbiBJU08gODYwMSB0aW1lIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gdGhlIGxvY2FsZSB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1RpbWVzXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCcxMToyMjozMy40NDQnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDIyLCBzZWNvbmRzOiAzMywgbWlsbGlzZWNvbmRzOiA0NDQgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPVGltZSgnMTE6MDAnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPVGltZSgnVDExOjAwJykudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IDExLCBtaW51dGVzOiAwLCBzZWNvbmRzOiAwIH1cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTT1RpbWUoJzExMDAnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPVGltZSgnVDExMDAnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBEdXJhdGlvbi5mcm9tSVNPVGltZSA9IGZ1bmN0aW9uIGZyb21JU09UaW1lKHRleHQsIG9wdHMpIHtcbiAgICB2YXIgX3BhcnNlSVNPVGltZU9ubHkgPSBwYXJzZUlTT1RpbWVPbmx5KHRleHQpLFxuICAgICAgICBwYXJzZWQgPSBfcGFyc2VJU09UaW1lT25seVswXTtcblxuICAgIGlmIChwYXJzZWQpIHtcbiAgICAgIHJldHVybiBEdXJhdGlvbi5mcm9tT2JqZWN0KHBhcnNlZCwgb3B0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBEdXJhdGlvbi5pbnZhbGlkKFwidW5wYXJzYWJsZVwiLCBcInRoZSBpbnB1dCBcXFwiXCIgKyB0ZXh0ICsgXCJcXFwiIGNhbid0IGJlIHBhcnNlZCBhcyBJU08gODYwMVwiKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnZhbGlkIER1cmF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIC0gc2ltcGxlIHN0cmluZyBvZiB3aHkgdGhpcyBkYXRldGltZSBpcyBpbnZhbGlkLiBTaG91bGQgbm90IGNvbnRhaW4gcGFyYW1ldGVycyBvciBhbnl0aGluZyBlbHNlIGRhdGEtZGVwZW5kZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZXhwbGFuYXRpb249bnVsbF0gLSBsb25nZXIgZXhwbGFuYXRpb24sIG1heSBpbmNsdWRlIHBhcmFtZXRlcnMgYW5kIG90aGVyIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mb3JtYXRpb25cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgRHVyYXRpb24uaW52YWxpZCA9IGZ1bmN0aW9uIGludmFsaWQocmVhc29uLCBleHBsYW5hdGlvbikge1xuICAgIGlmIChleHBsYW5hdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBleHBsYW5hdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIm5lZWQgdG8gc3BlY2lmeSBhIHJlYXNvbiB0aGUgRHVyYXRpb24gaXMgaW52YWxpZFwiKTtcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZCA9IHJlYXNvbiBpbnN0YW5jZW9mIEludmFsaWQgPyByZWFzb24gOiBuZXcgSW52YWxpZChyZWFzb24sIGV4cGxhbmF0aW9uKTtcblxuICAgIGlmIChTZXR0aW5ncy50aHJvd09uSW52YWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWREdXJhdGlvbkVycm9yKGludmFsaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IER1cmF0aW9uKHtcbiAgICAgICAgaW52YWxpZDogaW52YWxpZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQgPSBmdW5jdGlvbiBub3JtYWxpemVVbml0KHVuaXQpIHtcbiAgICB2YXIgbm9ybWFsaXplZCA9IHtcbiAgICAgIHllYXI6IFwieWVhcnNcIixcbiAgICAgIHllYXJzOiBcInllYXJzXCIsXG4gICAgICBxdWFydGVyOiBcInF1YXJ0ZXJzXCIsXG4gICAgICBxdWFydGVyczogXCJxdWFydGVyc1wiLFxuICAgICAgbW9udGg6IFwibW9udGhzXCIsXG4gICAgICBtb250aHM6IFwibW9udGhzXCIsXG4gICAgICB3ZWVrOiBcIndlZWtzXCIsXG4gICAgICB3ZWVrczogXCJ3ZWVrc1wiLFxuICAgICAgZGF5OiBcImRheXNcIixcbiAgICAgIGRheXM6IFwiZGF5c1wiLFxuICAgICAgaG91cjogXCJob3Vyc1wiLFxuICAgICAgaG91cnM6IFwiaG91cnNcIixcbiAgICAgIG1pbnV0ZTogXCJtaW51dGVzXCIsXG4gICAgICBtaW51dGVzOiBcIm1pbnV0ZXNcIixcbiAgICAgIHNlY29uZDogXCJzZWNvbmRzXCIsXG4gICAgICBzZWNvbmRzOiBcInNlY29uZHNcIixcbiAgICAgIG1pbGxpc2Vjb25kOiBcIm1pbGxpc2Vjb25kc1wiLFxuICAgICAgbWlsbGlzZWNvbmRzOiBcIm1pbGxpc2Vjb25kc1wiXG4gICAgfVt1bml0ID8gdW5pdC50b0xvd2VyQ2FzZSgpIDogdW5pdF07XG4gICAgaWYgKCFub3JtYWxpemVkKSB0aHJvdyBuZXcgSW52YWxpZFVuaXRFcnJvcih1bml0KTtcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgRHVyYXRpb24uIFdvcmtzIGFjcm9zcyBjb250ZXh0IGJvdW5kYXJpZXNcbiAgICogQHBhcmFtIHtvYmplY3R9IG9cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBEdXJhdGlvbi5pc0R1cmF0aW9uID0gZnVuY3Rpb24gaXNEdXJhdGlvbihvKSB7XG4gICAgcmV0dXJuIG8gJiYgby5pc0x1eG9uRHVyYXRpb24gfHwgZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldCAgdGhlIGxvY2FsZSBvZiBhIER1cmF0aW9uLCBzdWNoICdlbi1HQidcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIDtcblxuICB2YXIgX3Byb3RvID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHVyYXRpb24gZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGZvcm1hdCBzdHJpbmcuIFlvdSBtYXkgdXNlIHRoZXNlIHRva2VuczpcbiAgICogKiBgU2AgZm9yIG1pbGxpc2Vjb25kc1xuICAgKiAqIGBzYCBmb3Igc2Vjb25kc1xuICAgKiAqIGBtYCBmb3IgbWludXRlc1xuICAgKiAqIGBoYCBmb3IgaG91cnNcbiAgICogKiBgZGAgZm9yIGRheXNcbiAgICogKiBgTWAgZm9yIG1vbnRoc1xuICAgKiAqIGB5YCBmb3IgeWVhcnNcbiAgICogTm90ZXM6XG4gICAqICogQWRkIHBhZGRpbmcgYnkgcmVwZWF0aW5nIHRoZSB0b2tlbiwgZS5nLiBcInl5XCIgcGFkcyB0aGUgeWVhcnMgdG8gdHdvIGRpZ2l0cywgXCJoaGhoXCIgcGFkcyB0aGUgaG91cnMgb3V0IHRvIGZvdXIgZGlnaXRzXG4gICAqICogVGhlIGR1cmF0aW9uIHdpbGwgYmUgY29udmVydGVkIHRvIHRoZSBzZXQgb2YgdW5pdHMgaW4gdGhlIGZvcm1hdCBzdHJpbmcgdXNpbmcge0BsaW5rIER1cmF0aW9uI3NoaWZ0VG99IGFuZCB0aGUgRHVyYXRpb25zJ3MgY29udmVyc2lvbiBhY2N1cmFjeSBzZXR0aW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm10IC0gdGhlIGZvcm1hdCBzdHJpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZmxvb3I9dHJ1ZV0gLSBmbG9vciBudW1lcmljYWwgdmFsdWVzXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b0Zvcm1hdChcInkgZCBzXCIpIC8vPT4gXCIxIDYgMlwiXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b0Zvcm1hdChcInl5IGRkIHNzc1wiKSAvLz0+IFwiMDEgMDYgMDAyXCJcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH0pLnRvRm9ybWF0KFwiTSBTXCIpIC8vPT4gXCIxMiA1MTg0MDIwMDBcIlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcHJvdG8udG9Gb3JtYXQgPSBmdW5jdGlvbiB0b0Zvcm1hdChmbXQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gcmV2ZXJzZS1jb21wYXQgc2luY2UgMS4yOyB3ZSBhbHdheXMgcm91bmQgZG93biBub3csIG5ldmVyIHVwLCBhbmQgd2UgZG8gaXQgYnkgZGVmYXVsdFxuICAgIHZhciBmbXRPcHRzID0gX2V4dGVuZHMoe30sIG9wdHMsIHtcbiAgICAgIGZsb29yOiBvcHRzLnJvdW5kICE9PSBmYWxzZSAmJiBvcHRzLmZsb29yICE9PSBmYWxzZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MsIGZtdE9wdHMpLmZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyh0aGlzLCBmbXQpIDogSU5WQUxJRCQyO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgRHVyYXRpb24gd2l0aCBhbGwgdW5pdHMgaW5jbHVkZWRcbiAgICogVG8gbW9kaWZ5IGl0cyBiZWhhdmlvciB1c2UgdGhlIGBsaXN0U3R5bGVgIGFuZCBhbnkgSW50bC5OdW1iZXJGb3JtYXQgb3B0aW9uLCB0aG91Z2ggYHVuaXREaXNwbGF5YCBpcyBlc3BlY2lhbGx5IHJlbGV2YW50LiBTZWUge0BsaW5rIEludGwuTnVtYmVyRm9ybWF0fS5cbiAgICogQHBhcmFtIG9wdHMgLSBPbiBvcHRpb24gb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBmb3JtYXR0aW5nLiBBY2NlcHRzIHRoZSBzYW1lIGtleXMgYXMgdGhlIG9wdGlvbnMgcGFyYW1ldGVyIG9mIHRoZSBuYXRpdmUgYEludC5OdW1iZXJGb3JtYXRgIGNvbnN0cnVjdG9yLCBhcyB3ZWxsIGFzIGBsaXN0U3R5bGVgLlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiB2YXIgZHVyID0gRHVyYXRpb24uZnJvbU9iamVjdCh7IGRheXM6IDEsIGhvdXJzOiA1LCBtaW51dGVzOiA2IH0pXG4gICAqIGR1ci50b0h1bWFuKCkgLy89PiAnMSBkYXksIDUgaG91cnMsIDYgbWludXRlcydcbiAgICogZHVyLnRvSHVtYW4oeyBsaXN0U3R5bGU6IFwibG9uZ1wiIH0pIC8vPT4gJzEgZGF5LCA1IGhvdXJzLCBhbmQgNiBtaW51dGVzJ1xuICAgKiBkdXIudG9IdW1hbih7IHVuaXREaXNwbGF5OiBcInNob3J0XCIgfSkgLy89PiAnMSBkYXksIDUgaHIsIDYgbWluJ1xuICAgKiBgYGBcbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9IdW1hbiA9IGZ1bmN0aW9uIHRvSHVtYW4ob3B0cykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgdmFyIGwgPSBvcmRlcmVkVW5pdHMkMS5tYXAoZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgIHZhciB2YWwgPSBfdGhpcy52YWx1ZXNbdW5pdF07XG5cbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMubG9jLm51bWJlckZvcm1hdHRlcihfZXh0ZW5kcyh7XG4gICAgICAgIHN0eWxlOiBcInVuaXRcIixcbiAgICAgICAgdW5pdERpc3BsYXk6IFwibG9uZ1wiXG4gICAgICB9LCBvcHRzLCB7XG4gICAgICAgIHVuaXQ6IHVuaXQuc2xpY2UoMCwgLTEpXG4gICAgICB9KSkuZm9ybWF0KHZhbCk7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbjtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5sb2MubGlzdEZvcm1hdHRlcihfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiBcImNvbmp1bmN0aW9uXCIsXG4gICAgICBzdHlsZTogb3B0cy5saXN0U3R5bGUgfHwgXCJuYXJyb3dcIlxuICAgIH0sIG9wdHMpKS5mb3JtYXQobCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdCB3aXRoIHRoaXMgRHVyYXRpb24ncyB2YWx1ZXMuXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b09iamVjdCgpIC8vPT4geyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9XG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHt9O1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdGhpcy52YWx1ZXMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEdXJhdGlvbi5cbiAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNEdXJhdGlvbnNcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAzLCBzZWNvbmRzOiA0NSB9KS50b0lTTygpIC8vPT4gJ1AzWVQ0NVMnXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBtb250aHM6IDQsIHNlY29uZHM6IDQ1IH0pLnRvSVNPKCkgLy89PiAnUDRNVDQ1UydcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IG1vbnRoczogNSB9KS50b0lTTygpIC8vPT4gJ1A1TSdcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IG1pbnV0ZXM6IDUgfSkudG9JU08oKSAvLz0+ICdQVDVNJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWlsbGlzZWNvbmRzOiA2IH0pLnRvSVNPKCkgLy89PiAnUFQwLjAwNlMnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU08gPSBmdW5jdGlvbiB0b0lTTygpIHtcbiAgICAvLyB3ZSBjb3VsZCB1c2UgdGhlIGZvcm1hdHRlciwgYnV0IHRoaXMgaXMgYW4gZWFzaWVyIHdheSB0byBnZXQgdGhlIG1pbmltdW0gc3RyaW5nXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBudWxsO1xuICAgIHZhciBzID0gXCJQXCI7XG4gICAgaWYgKHRoaXMueWVhcnMgIT09IDApIHMgKz0gdGhpcy55ZWFycyArIFwiWVwiO1xuICAgIGlmICh0aGlzLm1vbnRocyAhPT0gMCB8fCB0aGlzLnF1YXJ0ZXJzICE9PSAwKSBzICs9IHRoaXMubW9udGhzICsgdGhpcy5xdWFydGVycyAqIDMgKyBcIk1cIjtcbiAgICBpZiAodGhpcy53ZWVrcyAhPT0gMCkgcyArPSB0aGlzLndlZWtzICsgXCJXXCI7XG4gICAgaWYgKHRoaXMuZGF5cyAhPT0gMCkgcyArPSB0aGlzLmRheXMgKyBcIkRcIjtcbiAgICBpZiAodGhpcy5ob3VycyAhPT0gMCB8fCB0aGlzLm1pbnV0ZXMgIT09IDAgfHwgdGhpcy5zZWNvbmRzICE9PSAwIHx8IHRoaXMubWlsbGlzZWNvbmRzICE9PSAwKSBzICs9IFwiVFwiO1xuICAgIGlmICh0aGlzLmhvdXJzICE9PSAwKSBzICs9IHRoaXMuaG91cnMgKyBcIkhcIjtcbiAgICBpZiAodGhpcy5taW51dGVzICE9PSAwKSBzICs9IHRoaXMubWludXRlcyArIFwiTVwiO1xuICAgIGlmICh0aGlzLnNlY29uZHMgIT09IDAgfHwgdGhpcy5taWxsaXNlY29uZHMgIT09IDApIC8vIHRoaXMgd2lsbCBoYW5kbGUgXCJmbG9hdGluZyBwb2ludCBtYWRuZXNzXCIgYnkgcmVtb3ZpbmcgZXh0cmEgZGVjaW1hbCBwbGFjZXNcbiAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU4ODAwNC9pcy1mbG9hdGluZy1wb2ludC1tYXRoLWJyb2tlblxuICAgICAgcyArPSByb3VuZFRvKHRoaXMuc2Vjb25kcyArIHRoaXMubWlsbGlzZWNvbmRzIC8gMTAwMCwgMykgKyBcIlNcIjtcbiAgICBpZiAocyA9PT0gXCJQXCIpIHMgKz0gXCJUMFNcIjtcbiAgICByZXR1cm4gcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHVyYXRpb24sIGZvcm1hdHRlZCBhcyBhIHRpbWUgb2YgZGF5LlxuICAgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHJldHVybiBudWxsIGlmIHRoZSBkdXJhdGlvbiBpcyBpbnZhbGlkLCBuZWdhdGl2ZSwgb3IgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDI0IGhvdXJzLlxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1RpbWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzTWlsbGlzZWNvbmRzPWZhbHNlXSAtIGV4Y2x1ZGUgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc1NlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlUHJlZml4PWZhbHNlXSAtIGluY2x1ZGUgdGhlIGBUYCBwcmVmaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmZvcm1hdD0nZXh0ZW5kZWQnXSAtIGNob29zZSBiZXR3ZWVuIHRoZSBiYXNpYyBhbmQgZXh0ZW5kZWQgZm9ybWF0XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTEgfSkudG9JU09UaW1lKCkgLy89PiAnMTE6MDA6MDAuMDAwJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IHN1cHByZXNzTWlsbGlzZWNvbmRzOiB0cnVlIH0pIC8vPT4gJzExOjAwOjAwJ1xuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IHN1cHByZXNzU2Vjb25kczogdHJ1ZSB9KSAvLz0+ICcxMTowMCdcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxMSB9KS50b0lTT1RpbWUoeyBpbmNsdWRlUHJlZml4OiB0cnVlIH0pIC8vPT4gJ1QxMTowMDowMC4wMDAnXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTEgfSkudG9JU09UaW1lKHsgZm9ybWF0OiAnYmFzaWMnIH0pIC8vPT4gJzExMDAwMC4wMDAnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09UaW1lID0gZnVuY3Rpb24gdG9JU09UaW1lKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBudWxsO1xuICAgIHZhciBtaWxsaXMgPSB0aGlzLnRvTWlsbGlzKCk7XG4gICAgaWYgKG1pbGxpcyA8IDAgfHwgbWlsbGlzID49IDg2NDAwMDAwKSByZXR1cm4gbnVsbDtcbiAgICBvcHRzID0gX2V4dGVuZHMoe1xuICAgICAgc3VwcHJlc3NNaWxsaXNlY29uZHM6IGZhbHNlLFxuICAgICAgc3VwcHJlc3NTZWNvbmRzOiBmYWxzZSxcbiAgICAgIGluY2x1ZGVQcmVmaXg6IGZhbHNlLFxuICAgICAgZm9ybWF0OiBcImV4dGVuZGVkXCJcbiAgICB9LCBvcHRzKTtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnNoaWZ0VG8oXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCIsIFwibWlsbGlzZWNvbmRzXCIpO1xuICAgIHZhciBmbXQgPSBvcHRzLmZvcm1hdCA9PT0gXCJiYXNpY1wiID8gXCJoaG1tXCIgOiBcImhoOm1tXCI7XG5cbiAgICBpZiAoIW9wdHMuc3VwcHJlc3NTZWNvbmRzIHx8IHZhbHVlLnNlY29uZHMgIT09IDAgfHwgdmFsdWUubWlsbGlzZWNvbmRzICE9PSAwKSB7XG4gICAgICBmbXQgKz0gb3B0cy5mb3JtYXQgPT09IFwiYmFzaWNcIiA/IFwic3NcIiA6IFwiOnNzXCI7XG5cbiAgICAgIGlmICghb3B0cy5zdXBwcmVzc01pbGxpc2Vjb25kcyB8fCB2YWx1ZS5taWxsaXNlY29uZHMgIT09IDApIHtcbiAgICAgICAgZm10ICs9IFwiLlNTU1wiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzdHIgPSB2YWx1ZS50b0Zvcm1hdChmbXQpO1xuXG4gICAgaWYgKG9wdHMuaW5jbHVkZVByZWZpeCkge1xuICAgICAgc3RyID0gXCJUXCIgKyBzdHI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIER1cmF0aW9uIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gSlNPTi5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9JU08oKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIER1cmF0aW9uIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gZGVidWdnaW5nLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9JU08oKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBtaWxsaXNlY29uZHMgdmFsdWUgb2YgdGhpcyBEdXJhdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b01pbGxpcyA9IGZ1bmN0aW9uIHRvTWlsbGlzKCkge1xuICAgIHJldHVybiB0aGlzLmFzKFwibWlsbGlzZWNvbmRzXCIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG1pbGxpc2Vjb25kcyB2YWx1ZSBvZiB0aGlzIER1cmF0aW9uLiBBbGlhcyBvZiB7QGxpbmsgdG9NaWxsaXN9XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udmFsdWVPZiA9IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9NaWxsaXMoKTtcbiAgfVxuICAvKipcbiAgICogTWFrZSB0aGlzIER1cmF0aW9uIGxvbmdlciBieSB0aGUgc3BlY2lmaWVkIGFtb3VudC4gUmV0dXJuIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fG51bWJlcn0gZHVyYXRpb24gLSBUaGUgYW1vdW50IHRvIGFkZC4gRWl0aGVyIGEgTHV4b24gRHVyYXRpb24sIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgdGhlIG9iamVjdCBhcmd1bWVudCB0byBEdXJhdGlvbi5mcm9tT2JqZWN0KClcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnBsdXMgPSBmdW5jdGlvbiBwbHVzKGR1cmF0aW9uKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKSxcbiAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG9yZGVyZWRVbml0cyQxKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciBrID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShkdXIudmFsdWVzLCBrKSB8fCBoYXNPd25Qcm9wZXJ0eSh0aGlzLnZhbHVlcywgaykpIHtcbiAgICAgICAgcmVzdWx0W2tdID0gZHVyLmdldChrKSArIHRoaXMuZ2V0KGspO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIHtcbiAgICAgIHZhbHVlczogcmVzdWx0XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgdGhpcyBEdXJhdGlvbiBzaG9ydGVyIGJ5IHRoZSBzcGVjaWZpZWQgYW1vdW50LiBSZXR1cm4gYSBuZXdseS1jb25zdHJ1Y3RlZCBEdXJhdGlvbi5cbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBhbW91bnQgdG8gc3VidHJhY3QuIEVpdGhlciBhIEx1eG9uIER1cmF0aW9uLCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIHRoZSBvYmplY3QgYXJndW1lbnQgdG8gRHVyYXRpb24uZnJvbU9iamVjdCgpXG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5taW51cyA9IGZ1bmN0aW9uIG1pbnVzKGR1cmF0aW9uKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5wbHVzKGR1ci5uZWdhdGUoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgRHVyYXRpb24gYnkgdGhlIHNwZWNpZmllZCBhbW91bnQuIFJldHVybiBhIG5ld2x5LWNvbnN0cnVjdGVkIER1cmF0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIHVuaXQuIEFyaXR5IGlzIDEgb3IgMjogdGhlIHZhbHVlIG9mIHRoZSB1bml0IGFuZCwgb3B0aW9uYWxseSwgdGhlIHVuaXQgbmFtZS4gTXVzdCByZXR1cm4gYSBudW1iZXIuXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSwgbWludXRlczogMzAgfSkubWFwVW5pdHMoeCA9PiB4ICogMikgLy89PiB7IGhvdXJzOiAyLCBtaW51dGVzOiA2MCB9XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSwgbWludXRlczogMzAgfSkubWFwVW5pdHMoKHgsIHUpID0+IHUgPT09IFwiaG91clwiID8geCAqIDIgOiB4KSAvLz0+IHsgaG91cnM6IDIsIG1pbnV0ZXM6IDMwIH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hcFVuaXRzID0gZnVuY3Rpb24gbWFwVW5pdHMoZm4pIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnZhbHVlcyk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGsgPSBfT2JqZWN0JGtleXNbX2ldO1xuICAgICAgcmVzdWx0W2tdID0gYXNOdW1iZXIoZm4odGhpcy52YWx1ZXNba10sIGspKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmUkMSh0aGlzLCB7XG4gICAgICB2YWx1ZXM6IHJlc3VsdFxuICAgIH0sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHVuaXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gYSB1bml0IHN1Y2ggYXMgJ21pbnV0ZScgb3IgJ2RheSdcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7eWVhcnM6IDIsIGRheXM6IDN9KS5nZXQoJ3llYXJzJykgLy89PiAyXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3Qoe3llYXJzOiAyLCBkYXlzOiAzfSkuZ2V0KCdtb250aHMnKSAvLz0+IDBcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7eWVhcnM6IDIsIGRheXM6IDN9KS5nZXQoJ2RheXMnKSAvLz0+IDNcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXQgPSBmdW5jdGlvbiBnZXQodW5pdCkge1xuICAgIHJldHVybiB0aGlzW0R1cmF0aW9uLm5vcm1hbGl6ZVVuaXQodW5pdCldO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSB2YWx1ZXMgb2Ygc3BlY2lmaWVkIHVuaXRzLiBSZXR1cm4gYSBuZXdseS1jb25zdHJ1Y3RlZCBEdXJhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlcyAtIGEgbWFwcGluZyBvZiB1bml0cyB0byBudW1iZXJzXG4gICAqIEBleGFtcGxlIGR1ci5zZXQoeyB5ZWFyczogMjAxNyB9KVxuICAgKiBAZXhhbXBsZSBkdXIuc2V0KHsgaG91cnM6IDgsIG1pbnV0ZXM6IDMwIH0pXG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXQgPSBmdW5jdGlvbiBzZXQodmFsdWVzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuXG4gICAgdmFyIG1peGVkID0gX2V4dGVuZHMoe30sIHRoaXMudmFsdWVzLCBub3JtYWxpemVPYmplY3QodmFsdWVzLCBEdXJhdGlvbi5ub3JtYWxpemVVbml0KSk7XG5cbiAgICByZXR1cm4gY2xvbmUkMSh0aGlzLCB7XG4gICAgICB2YWx1ZXM6IG1peGVkXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhlIGxvY2FsZSBhbmQvb3IgbnVtYmVyaW5nU3lzdGVtLiAgUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIER1cmF0aW9uLlxuICAgKiBAZXhhbXBsZSBkdXIucmVjb25maWd1cmUoeyBsb2NhbGU6ICdlbi1HQicgfSlcbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlY29uZmlndXJlID0gZnVuY3Rpb24gcmVjb25maWd1cmUoX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBsb2NhbGUgPSBfcmVmLmxvY2FsZSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZi5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIGNvbnZlcnNpb25BY2N1cmFjeSA9IF9yZWYuY29udmVyc2lvbkFjY3VyYWN5O1xuXG4gICAgdmFyIGxvYyA9IHRoaXMubG9jLmNsb25lKHtcbiAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgbnVtYmVyaW5nU3lzdGVtOiBudW1iZXJpbmdTeXN0ZW1cbiAgICB9KSxcbiAgICAgICAgb3B0cyA9IHtcbiAgICAgIGxvYzogbG9jXG4gICAgfTtcblxuICAgIGlmIChjb252ZXJzaW9uQWNjdXJhY3kpIHtcbiAgICAgIG9wdHMuY29udmVyc2lvbkFjY3VyYWN5ID0gY29udmVyc2lvbkFjY3VyYWN5O1xuICAgIH1cblxuICAgIHJldHVybiBjbG9uZSQxKHRoaXMsIG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgZHVyYXRpb24gaW4gdGhlIHNwZWNpZmllZCB1bml0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIGEgdW5pdCBzdWNoIGFzICdtaW51dGVzJyBvciAnZGF5cydcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7eWVhcnM6IDF9KS5hcygnZGF5cycpIC8vPT4gMzY1XG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3Qoe3llYXJzOiAxfSkuYXMoJ21vbnRocycpIC8vPT4gMTJcbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7aG91cnM6IDYwfSkuYXMoJ2RheXMnKSAvLz0+IDIuNVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFzID0gZnVuY3Rpb24gYXModW5pdCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnNoaWZ0VG8odW5pdCkuZ2V0KHVuaXQpIDogTmFOO1xuICB9XG4gIC8qKlxuICAgKiBSZWR1Y2UgdGhpcyBEdXJhdGlvbiB0byBpdHMgY2Fub25pY2FsIHJlcHJlc2VudGF0aW9uIGluIGl0cyBjdXJyZW50IHVuaXRzLlxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgeWVhcnM6IDIsIGRheXM6IDUwMDAgfSkubm9ybWFsaXplKCkudG9PYmplY3QoKSAvLz0+IHsgeWVhcnM6IDE1LCBkYXlzOiAyNTUgfVxuICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDEyLCBtaW51dGVzOiAtNDUgfSkubm9ybWFsaXplKCkudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IDExLCBtaW51dGVzOiAxNSB9XG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5ub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciB2YWxzID0gdGhpcy50b09iamVjdCgpO1xuICAgIG5vcm1hbGl6ZVZhbHVlcyh0aGlzLm1hdHJpeCwgdmFscyk7XG4gICAgcmV0dXJuIGNsb25lJDEodGhpcywge1xuICAgICAgdmFsdWVzOiB2YWxzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhpcyBEdXJhdGlvbiBpbnRvIGl0cyByZXByZXNlbnRhdGlvbiBpbiBhIGRpZmZlcmVudCBzZXQgb2YgdW5pdHMuXG4gICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSwgc2Vjb25kczogMzAgfSkuc2hpZnRUbygnbWludXRlcycsICdtaWxsaXNlY29uZHMnKS50b09iamVjdCgpIC8vPT4geyBtaW51dGVzOiA2MCwgbWlsbGlzZWNvbmRzOiAzMDAwMCB9XG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zaGlmdFRvID0gZnVuY3Rpb24gc2hpZnRUbygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdW5pdHMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICB1bml0c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB1bml0cyA9IHVuaXRzLm1hcChmdW5jdGlvbiAodSkge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQodSk7XG4gICAgfSk7XG4gICAgdmFyIGJ1aWx0ID0ge30sXG4gICAgICAgIGFjY3VtdWxhdGVkID0ge30sXG4gICAgICAgIHZhbHMgPSB0aGlzLnRvT2JqZWN0KCk7XG4gICAgdmFyIGxhc3RVbml0O1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3JkZXJlZFVuaXRzJDEpLCBfc3RlcDI7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMigpKS5kb25lOykge1xuICAgICAgdmFyIGsgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgIGlmICh1bml0cy5pbmRleE9mKGspID49IDApIHtcbiAgICAgICAgbGFzdFVuaXQgPSBrO1xuICAgICAgICB2YXIgb3duID0gMDsgLy8gYW55dGhpbmcgd2UgaGF2ZW4ndCBib2lsZWQgZG93biB5ZXQgc2hvdWxkIGdldCBib2lsZWQgdG8gdGhpcyB1bml0XG5cbiAgICAgICAgZm9yICh2YXIgYWsgaW4gYWNjdW11bGF0ZWQpIHtcbiAgICAgICAgICBvd24gKz0gdGhpcy5tYXRyaXhbYWtdW2tdICogYWNjdW11bGF0ZWRbYWtdO1xuICAgICAgICAgIGFjY3VtdWxhdGVkW2FrXSA9IDA7XG4gICAgICAgIH0gLy8gcGx1cyBhbnl0aGluZyB0aGF0J3MgYWxyZWFkeSBpbiB0aGlzIHVuaXRcblxuXG4gICAgICAgIGlmIChpc051bWJlcih2YWxzW2tdKSkge1xuICAgICAgICAgIG93biArPSB2YWxzW2tdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSBNYXRoLnRydW5jKG93bik7XG4gICAgICAgIGJ1aWx0W2tdID0gaTtcbiAgICAgICAgYWNjdW11bGF0ZWRba10gPSAob3duICogMTAwMCAtIGkgKiAxMDAwKSAvIDEwMDA7IC8vIHBsdXMgYW55dGhpbmcgZnVydGhlciBkb3duIHRoZSBjaGFpbiB0aGF0IHNob3VsZCBiZSByb2xsZWQgdXAgaW4gdG8gdGhpc1xuXG4gICAgICAgIGZvciAodmFyIGRvd24gaW4gdmFscykge1xuICAgICAgICAgIGlmIChvcmRlcmVkVW5pdHMkMS5pbmRleE9mKGRvd24pID4gb3JkZXJlZFVuaXRzJDEuaW5kZXhPZihrKSkge1xuICAgICAgICAgICAgY29udmVydCh0aGlzLm1hdHJpeCwgdmFscywgZG93biwgYnVpbHQsIGspO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBvdGhlcndpc2UsIGtlZXAgaXQgaW4gdGhlIHdpbmdzIHRvIGJvaWwgaXQgbGF0ZXJcblxuICAgICAgfSBlbHNlIGlmIChpc051bWJlcih2YWxzW2tdKSkge1xuICAgICAgICBhY2N1bXVsYXRlZFtrXSA9IHZhbHNba107XG4gICAgICB9XG4gICAgfSAvLyBhbnl0aGluZyBsZWZ0b3ZlciBiZWNvbWVzIHRoZSBkZWNpbWFsIGZvciB0aGUgbGFzdCB1bml0XG4gICAgLy8gbGFzdFVuaXQgbXVzdCBiZSBkZWZpbmVkIHNpbmNlIHVuaXRzIGlzIG5vdCBlbXB0eVxuXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gYWNjdW11bGF0ZWQpIHtcbiAgICAgIGlmIChhY2N1bXVsYXRlZFtrZXldICE9PSAwKSB7XG4gICAgICAgIGJ1aWx0W2xhc3RVbml0XSArPSBrZXkgPT09IGxhc3RVbml0ID8gYWNjdW11bGF0ZWRba2V5XSA6IGFjY3VtdWxhdGVkW2tleV0gLyB0aGlzLm1hdHJpeFtsYXN0VW5pdF1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmUkMSh0aGlzLCB7XG4gICAgICB2YWx1ZXM6IGJ1aWx0XG4gICAgfSwgdHJ1ZSkubm9ybWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbmVnYXRpdmUgb2YgdGhpcyBEdXJhdGlvbi5cbiAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxLCBzZWNvbmRzOiAzMCB9KS5uZWdhdGUoKS50b09iamVjdCgpIC8vPT4geyBob3VyczogLTEsIHNlY29uZHM6IC0zMCB9XG4gICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5uZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBuZWdhdGVkID0ge307XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXModGhpcy52YWx1ZXMpOyBfaTIgPCBfT2JqZWN0JGtleXMyLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIHZhciBrID0gX09iamVjdCRrZXlzMltfaTJdO1xuICAgICAgbmVnYXRlZFtrXSA9IC10aGlzLnZhbHVlc1trXTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmUkMSh0aGlzLCB7XG4gICAgICB2YWx1ZXM6IG5lZ2F0ZWRcbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB5ZWFycy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIDtcblxuICAvKipcbiAgICogRXF1YWxpdHkgY2hlY2tcbiAgICogVHdvIER1cmF0aW9ucyBhcmUgZXF1YWwgaWZmIHRoZXkgaGF2ZSB0aGUgc2FtZSB1bml0cyBhbmQgdGhlIHNhbWUgdmFsdWVzIGZvciBlYWNoIHVuaXQuXG4gICAqIEBwYXJhbSB7RHVyYXRpb259IG90aGVyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQgfHwgIW90aGVyLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubG9jLmVxdWFscyhvdGhlci5sb2MpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXEodjEsIHYyKSB7XG4gICAgICAvLyBDb25zaWRlciAwIGFuZCB1bmRlZmluZWQgYXMgZXF1YWxcbiAgICAgIGlmICh2MSA9PT0gdW5kZWZpbmVkIHx8IHYxID09PSAwKSByZXR1cm4gdjIgPT09IHVuZGVmaW5lZCB8fCB2MiA9PT0gMDtcbiAgICAgIHJldHVybiB2MSA9PT0gdjI7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3JkZXJlZFVuaXRzJDEpLCBfc3RlcDM7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMygpKS5kb25lOykge1xuICAgICAgdmFyIHUgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgIGlmICghZXEodGhpcy52YWx1ZXNbdV0sIG90aGVyLnZhbHVlc1t1XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhEdXJhdGlvbiwgW3tcbiAgICBrZXk6IFwibG9jYWxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5sb2MubG9jYWxlIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXJpbmcgc3lzdGVtIG9mIGEgRHVyYXRpb24sIHN1Y2ggJ2JlbmcnLiBUaGUgbnVtYmVyaW5nIHN5c3RlbSBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRHVyYXRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJudW1iZXJpbmdTeXN0ZW1cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmxvYy5udW1iZXJpbmdTeXN0ZW0gOiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ5ZWFyc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLnllYXJzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcXVhcnRlcnMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1YXJ0ZXJzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMucXVhcnRlcnMgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb250aHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1vbnRoc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLm1vbnRocyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdlZWtzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndlZWtzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMud2Vla3MgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXlzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkYXlzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy52YWx1ZXMuZGF5cyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGhvdXJzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJob3Vyc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLmhvdXJzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWludXRlcy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWludXRlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLm1pbnV0ZXMgfHwgMCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWNvbmRzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlY29uZHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnZhbHVlcy5zZWNvbmRzIHx8IDAgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWlsbGlzZWNvbmRzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1pbGxpc2Vjb25kc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudmFsdWVzLm1pbGxpc2Vjb25kcyB8fCAwIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIER1cmF0aW9uIGlzIGludmFsaWQuIEludmFsaWQgZHVyYXRpb25zIGFyZSByZXR1cm5lZCBieSBkaWZmIG9wZXJhdGlvbnNcbiAgICAgKiBvbiBpbnZhbGlkIERhdGVUaW1lcyBvciBJbnRlcnZhbHMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmFsaWQgPT09IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZXJyb3IgY29kZSBpZiB0aGlzIER1cmF0aW9uIGJlY2FtZSBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBEdXJhdGlvbiBpcyB2YWxpZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImludmFsaWRSZWFzb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmFsaWQgPyB0aGlzLmludmFsaWQucmVhc29uIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBleHBsYW5hdGlvbiBvZiB3aHkgdGhpcyBEdXJhdGlvbiBiZWNhbWUgaW52YWxpZCwgb3IgbnVsbCBpZiB0aGUgRHVyYXRpb24gaXMgdmFsaWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZEV4cGxhbmF0aW9uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZhbGlkID8gdGhpcy5pbnZhbGlkLmV4cGxhbmF0aW9uIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRHVyYXRpb247XG59KCk7XG5cbnZhciBJTlZBTElEJDEgPSBcIkludmFsaWQgSW50ZXJ2YWxcIjsgLy8gY2hlY2tzIGlmIHRoZSBzdGFydCBpcyBlcXVhbCB0byBvciBiZWZvcmUgdGhlIGVuZFxuXG5mdW5jdGlvbiB2YWxpZGF0ZVN0YXJ0RW5kKHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCB8fCAhc3RhcnQuaXNWYWxpZCkge1xuICAgIHJldHVybiBJbnRlcnZhbC5pbnZhbGlkKFwibWlzc2luZyBvciBpbnZhbGlkIHN0YXJ0XCIpO1xuICB9IGVsc2UgaWYgKCFlbmQgfHwgIWVuZC5pc1ZhbGlkKSB7XG4gICAgcmV0dXJuIEludGVydmFsLmludmFsaWQoXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kXCIpO1xuICB9IGVsc2UgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgcmV0dXJuIEludGVydmFsLmludmFsaWQoXCJlbmQgYmVmb3JlIHN0YXJ0XCIsIFwiVGhlIGVuZCBvZiBhbiBpbnRlcnZhbCBtdXN0IGJlIGFmdGVyIGl0cyBzdGFydCwgYnV0IHlvdSBoYWQgc3RhcnQ9XCIgKyBzdGFydC50b0lTTygpICsgXCIgYW5kIGVuZD1cIiArIGVuZC50b0lTTygpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuLyoqXG4gKiBBbiBJbnRlcnZhbCBvYmplY3QgcmVwcmVzZW50cyBhIGhhbGYtb3BlbiBpbnRlcnZhbCBvZiB0aW1lLCB3aGVyZSBlYWNoIGVuZHBvaW50IGlzIGEge0BsaW5rIERhdGVUaW1lfS4gQ29uY2VwdHVhbGx5LCBpdCdzIGEgY29udGFpbmVyIGZvciB0aG9zZSB0d28gZW5kcG9pbnRzLCBhY2NvbXBhbmllZCBieSBtZXRob2RzIGZvciBjcmVhdGluZywgcGFyc2luZywgaW50ZXJyb2dhdGluZywgY29tcGFyaW5nLCB0cmFuc2Zvcm1pbmcsIGFuZCBmb3JtYXR0aW5nIHRoZW0uXG4gKlxuICogSGVyZSBpcyBhIGJyaWVmIG92ZXJ2aWV3IG9mIHRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgbWV0aG9kcyBhbmQgZ2V0dGVycyBpbiBJbnRlcnZhbDpcbiAqXG4gKiAqICoqQ3JlYXRpb24qKiBUbyBjcmVhdGUgYW4gSW50ZXJ2YWwsIHVzZSB7QGxpbmsgSW50ZXJ2YWwjZnJvbURhdGVUaW1lc30sIHtAbGluayBJbnRlcnZhbCNhZnRlcn0sIHtAbGluayBJbnRlcnZhbCNiZWZvcmV9LCBvciB7QGxpbmsgSW50ZXJ2YWwjZnJvbUlTT30uXG4gKiAqICoqQWNjZXNzb3JzKiogVXNlIHtAbGluayBJbnRlcnZhbCNzdGFydH0gYW5kIHtAbGluayBJbnRlcnZhbCNlbmR9IHRvIGdldCB0aGUgc3RhcnQgYW5kIGVuZC5cbiAqICogKipJbnRlcnJvZ2F0aW9uKiogVG8gYW5hbHl6ZSB0aGUgSW50ZXJ2YWwsIHVzZSB7QGxpbmsgSW50ZXJ2YWwjY291bnR9LCB7QGxpbmsgSW50ZXJ2YWwjbGVuZ3RofSwge0BsaW5rIEludGVydmFsI2hhc1NhbWV9LCB7QGxpbmsgSW50ZXJ2YWwjY29udGFpbnN9LCB7QGxpbmsgSW50ZXJ2YWwjaXNBZnRlcn0sIG9yIHtAbGluayBJbnRlcnZhbCNpc0JlZm9yZX0uXG4gKiAqICoqVHJhbnNmb3JtYXRpb24qKiBUbyBjcmVhdGUgb3RoZXIgSW50ZXJ2YWxzIG91dCBvZiB0aGlzIG9uZSwgdXNlIHtAbGluayBJbnRlcnZhbCNzZXR9LCB7QGxpbmsgSW50ZXJ2YWwjc3BsaXRBdH0sIHtAbGluayBJbnRlcnZhbCNzcGxpdEJ5fSwge0BsaW5rIEludGVydmFsI2RpdmlkZUVxdWFsbHl9LCB7QGxpbmsgSW50ZXJ2YWwjbWVyZ2V9LCB7QGxpbmsgSW50ZXJ2YWwjeG9yfSwge0BsaW5rIEludGVydmFsI3VuaW9ufSwge0BsaW5rIEludGVydmFsI2ludGVyc2VjdGlvbn0sIG9yIHtAbGluayBJbnRlcnZhbCNkaWZmZXJlbmNlfS5cbiAqICogKipDb21wYXJpc29uKiogVG8gY29tcGFyZSB0aGlzIEludGVydmFsIHRvIGFub3RoZXIgb25lLCB1c2Uge0BsaW5rIEludGVydmFsI2VxdWFsc30sIHtAbGluayBJbnRlcnZhbCNvdmVybGFwc30sIHtAbGluayBJbnRlcnZhbCNhYnV0c1N0YXJ0fSwge0BsaW5rIEludGVydmFsI2FidXRzRW5kfSwge0BsaW5rIEludGVydmFsI2VuZ3VsZnN9XG4gKiAqICoqT3V0cHV0KiogVG8gY29udmVydCB0aGUgSW50ZXJ2YWwgaW50byBvdGhlciByZXByZXNlbnRhdGlvbnMsIHNlZSB7QGxpbmsgSW50ZXJ2YWwjdG9TdHJpbmd9LCB7QGxpbmsgSW50ZXJ2YWwjdG9JU099LCB7QGxpbmsgSW50ZXJ2YWwjdG9JU09EYXRlfSwge0BsaW5rIEludGVydmFsI3RvSVNPVGltZX0sIHtAbGluayBJbnRlcnZhbCN0b0Zvcm1hdH0sIGFuZCB7QGxpbmsgSW50ZXJ2YWwjdG9EdXJhdGlvbn0uXG4gKi9cblxuXG52YXIgSW50ZXJ2YWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIEludGVydmFsKGNvbmZpZykge1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucyA9IGNvbmZpZy5zdGFydDtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuZSA9IGNvbmZpZy5lbmQ7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmludmFsaWQgPSBjb25maWcuaW52YWxpZCB8fCBudWxsO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5pc0x1eG9uSW50ZXJ2YWwgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW52YWxpZCBJbnRlcnZhbC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiAtIHNpbXBsZSBzdHJpbmcgb2Ygd2h5IHRoaXMgSW50ZXJ2YWwgaXMgaW52YWxpZC4gU2hvdWxkIG5vdCBjb250YWluIHBhcmFtZXRlcnMgb3IgYW55dGhpbmcgZWxzZSBkYXRhLWRlcGVuZGVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2V4cGxhbmF0aW9uPW51bGxdIC0gbG9uZ2VyIGV4cGxhbmF0aW9uLCBtYXkgaW5jbHVkZSBwYXJhbWV0ZXJzIGFuZCBvdGhlciB1c2VmdWwgZGVidWdnaW5nIGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cblxuXG4gIEludGVydmFsLmludmFsaWQgPSBmdW5jdGlvbiBpbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pIHtcbiAgICBpZiAoZXhwbGFuYXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgZXhwbGFuYXRpb24gPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghcmVhc29uKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJuZWVkIHRvIHNwZWNpZnkgYSByZWFzb24gdGhlIEludGVydmFsIGlzIGludmFsaWRcIik7XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWQgPSByZWFzb24gaW5zdGFuY2VvZiBJbnZhbGlkID8gcmVhc29uIDogbmV3IEludmFsaWQocmVhc29uLCBleHBsYW5hdGlvbik7XG5cbiAgICBpZiAoU2V0dGluZ3MudGhyb3dPbkludmFsaWQpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkSW50ZXJ2YWxFcnJvcihpbnZhbGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbCh7XG4gICAgICAgIGludmFsaWQ6IGludmFsaWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIEludGVydmFsIGZyb20gYSBzdGFydCBEYXRlVGltZSBhbmQgYW4gZW5kIERhdGVUaW1lLiBJbmNsdXNpdmUgb2YgdGhlIHN0YXJ0IGJ1dCBub3QgdGhlIGVuZC5cbiAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gc3RhcnRcbiAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gZW5kXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cbiAgO1xuXG4gIEludGVydmFsLmZyb21EYXRlVGltZXMgPSBmdW5jdGlvbiBmcm9tRGF0ZVRpbWVzKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgYnVpbHRTdGFydCA9IGZyaWVuZGx5RGF0ZVRpbWUoc3RhcnQpLFxuICAgICAgICBidWlsdEVuZCA9IGZyaWVuZGx5RGF0ZVRpbWUoZW5kKTtcbiAgICB2YXIgdmFsaWRhdGVFcnJvciA9IHZhbGlkYXRlU3RhcnRFbmQoYnVpbHRTdGFydCwgYnVpbHRFbmQpO1xuXG4gICAgaWYgKHZhbGlkYXRlRXJyb3IgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbCh7XG4gICAgICAgIHN0YXJ0OiBidWlsdFN0YXJ0LFxuICAgICAgICBlbmQ6IGJ1aWx0RW5kXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlRXJyb3I7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhIHN0YXJ0IERhdGVUaW1lIGFuZCBhIER1cmF0aW9uIHRvIGV4dGVuZCB0by5cbiAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gc3RhcnRcbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIHRoZSBsZW5ndGggb2YgdGhlIEludGVydmFsLlxuICAgKiBAcmV0dXJuIHtJbnRlcnZhbH1cbiAgICovXG4gIDtcblxuICBJbnRlcnZhbC5hZnRlciA9IGZ1bmN0aW9uIGFmdGVyKHN0YXJ0LCBkdXJhdGlvbikge1xuICAgIHZhciBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKSxcbiAgICAgICAgZHQgPSBmcmllbmRseURhdGVUaW1lKHN0YXJ0KTtcbiAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdCwgZHQucGx1cyhkdXIpKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIEludGVydmFsIGZyb20gYW4gZW5kIERhdGVUaW1lIGFuZCBhIER1cmF0aW9uIHRvIGV4dGVuZCBiYWNrd2FyZHMgdG8uXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV8RGF0ZXxPYmplY3R9IGVuZFxuICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdHxudW1iZXJ9IGR1cmF0aW9uIC0gdGhlIGxlbmd0aCBvZiB0aGUgSW50ZXJ2YWwuXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cbiAgO1xuXG4gIEludGVydmFsLmJlZm9yZSA9IGZ1bmN0aW9uIGJlZm9yZShlbmQsIGR1cmF0aW9uKSB7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pLFxuICAgICAgICBkdCA9IGZyaWVuZGx5RGF0ZVRpbWUoZW5kKTtcbiAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdC5taW51cyhkdXIpLCBkdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBJbnRlcnZhbCBmcm9tIGFuIElTTyA4NjAxIHN0cmluZy5cbiAgICogQWNjZXB0cyBgPHN0YXJ0Pi88ZW5kPmAsIGA8c3RhcnQ+LzxkdXJhdGlvbj5gLCBhbmQgYDxkdXJhdGlvbj4vPGVuZD5gIGZvcm1hdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIElTTyBzdHJpbmcgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRzXSAtIG9wdGlvbnMgdG8gcGFzcyB7QGxpbmsgRGF0ZVRpbWUjZnJvbUlTT30gYW5kIG9wdGlvbmFsbHkge0BsaW5rIER1cmF0aW9uI2Zyb21JU099XG4gICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwuZnJvbUlTTyA9IGZ1bmN0aW9uIGZyb21JU08odGV4dCwgb3B0cykge1xuICAgIHZhciBfc3BsaXQgPSAodGV4dCB8fCBcIlwiKS5zcGxpdChcIi9cIiwgMiksXG4gICAgICAgIHMgPSBfc3BsaXRbMF0sXG4gICAgICAgIGUgPSBfc3BsaXRbMV07XG5cbiAgICBpZiAocyAmJiBlKSB7XG4gICAgICB2YXIgc3RhcnQsIHN0YXJ0SXNWYWxpZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhcnQgPSBEYXRlVGltZS5mcm9tSVNPKHMsIG9wdHMpO1xuICAgICAgICBzdGFydElzVmFsaWQgPSBzdGFydC5pc1ZhbGlkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzdGFydElzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVuZCwgZW5kSXNWYWxpZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZW5kID0gRGF0ZVRpbWUuZnJvbUlTTyhlLCBvcHRzKTtcbiAgICAgICAgZW5kSXNWYWxpZCA9IGVuZC5pc1ZhbGlkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlbmRJc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGFydElzVmFsaWQgJiYgZW5kSXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhzdGFydCwgZW5kKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0SXNWYWxpZCkge1xuICAgICAgICB2YXIgZHVyID0gRHVyYXRpb24uZnJvbUlTTyhlLCBvcHRzKTtcblxuICAgICAgICBpZiAoZHVyLmlzVmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gSW50ZXJ2YWwuYWZ0ZXIoc3RhcnQsIGR1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZW5kSXNWYWxpZCkge1xuICAgICAgICB2YXIgX2R1ciA9IER1cmF0aW9uLmZyb21JU08ocywgb3B0cyk7XG5cbiAgICAgICAgaWYgKF9kdXIuaXNWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBJbnRlcnZhbC5iZWZvcmUoZW5kLCBfZHVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBJbnRlcnZhbC5pbnZhbGlkKFwidW5wYXJzYWJsZVwiLCBcInRoZSBpbnB1dCBcXFwiXCIgKyB0ZXh0ICsgXCJcXFwiIGNhbid0IGJlIHBhcnNlZCBhcyBJU08gODYwMVwiKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGFuIEludGVydmFsLiBXb3JrcyBhY3Jvc3MgY29udGV4dCBib3VuZGFyaWVzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwuaXNJbnRlcnZhbCA9IGZ1bmN0aW9uIGlzSW50ZXJ2YWwobykge1xuICAgIHJldHVybiBvICYmIG8uaXNMdXhvbkludGVydmFsIHx8IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdGFydCBvZiB0aGUgSW50ZXJ2YWxcbiAgICogQHR5cGUge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIHZhciBfcHJvdG8gPSBJbnRlcnZhbC5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgSW50ZXJ2YWwgaW4gdGhlIHNwZWNpZmllZCB1bml0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIHRoZSB1bml0IChzdWNoIGFzICdob3Vycycgb3IgJ2RheXMnKSB0byByZXR1cm4gdGhlIGxlbmd0aCBpbi5cbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgX3Byb3RvLmxlbmd0aCA9IGZ1bmN0aW9uIGxlbmd0aCh1bml0KSB7XG4gICAgaWYgKHVuaXQgPT09IHZvaWQgMCkge1xuICAgICAgdW5pdCA9IFwibWlsbGlzZWNvbmRzXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudG9EdXJhdGlvbi5hcHBseSh0aGlzLCBbdW5pdF0pLmdldCh1bml0KSA6IE5hTjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY291bnQgb2YgbWludXRlcywgaG91cnMsIGRheXMsIG1vbnRocywgb3IgeWVhcnMgaW5jbHVkZWQgaW4gdGhlIEludGVydmFsLCBldmVuIGluIHBhcnQuXG4gICAqIFVubGlrZSB7QGxpbmsgSW50ZXJ2YWwjbGVuZ3RofSB0aGlzIGNvdW50cyBzZWN0aW9ucyBvZiB0aGUgY2FsZW5kYXIsIG5vdCBwZXJpb2RzIG9mIHRpbWUsIGUuZy4gc3BlY2lmeWluZyAnZGF5J1xuICAgKiBhc2tzICd3aGF0IGRhdGVzIGFyZSBpbmNsdWRlZCBpbiB0aGlzIGludGVydmFsPycsIG5vdCAnaG93IG1hbnkgZGF5cyBsb25nIGlzIHRoaXMgaW50ZXJ2YWw/J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VuaXQ9J21pbGxpc2Vjb25kcyddIC0gdGhlIHVuaXQgb2YgdGltZSB0byBjb3VudC5cbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb3VudCA9IGZ1bmN0aW9uIGNvdW50KHVuaXQpIHtcbiAgICBpZiAodW5pdCA9PT0gdm9pZCAwKSB7XG4gICAgICB1bml0ID0gXCJtaWxsaXNlY29uZHNcIjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIE5hTjtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0LnN0YXJ0T2YodW5pdCksXG4gICAgICAgIGVuZCA9IHRoaXMuZW5kLnN0YXJ0T2YodW5pdCk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZW5kLmRpZmYoc3RhcnQsIHVuaXQpLmdldCh1bml0KSkgKyAxO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIHN0YXJ0IGFuZCBlbmQgYXJlIGJvdGggaW4gdGhlIHNhbWUgdW5pdCBvZiB0aW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gdGhlIHVuaXQgb2YgdGltZSB0byBjaGVjayBzYW1lbmVzcyBvblxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYXNTYW1lID0gZnVuY3Rpb24gaGFzU2FtZSh1bml0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuaXNFbXB0eSgpIHx8IHRoaXMuZS5taW51cygxKS5oYXNTYW1lKHRoaXMucywgdW5pdCkgOiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCBoYXMgdGhlIHNhbWUgc3RhcnQgYW5kIGVuZCBEYXRlVGltZXMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnMudmFsdWVPZigpID09PSB0aGlzLmUudmFsdWVPZigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsJ3Mgc3RhcnQgaXMgYWZ0ZXIgdGhlIHNwZWNpZmllZCBEYXRlVGltZS5cbiAgICogQHBhcmFtIHtEYXRlVGltZX0gZGF0ZVRpbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNBZnRlciA9IGZ1bmN0aW9uIGlzQWZ0ZXIoZGF0ZVRpbWUpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnMgPiBkYXRlVGltZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIGVuZCBpcyBiZWZvcmUgdGhlIHNwZWNpZmllZCBEYXRlVGltZS5cbiAgICogQHBhcmFtIHtEYXRlVGltZX0gZGF0ZVRpbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNCZWZvcmUgPSBmdW5jdGlvbiBpc0JlZm9yZShkYXRlVGltZSkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMuZSA8PSBkYXRlVGltZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCBjb250YWlucyB0aGUgc3BlY2lmaWVkIERhdGVUaW1lLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBkYXRlVGltZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKGRhdGVUaW1lKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5zIDw9IGRhdGVUaW1lICYmIHRoaXMuZSA+IGRhdGVUaW1lO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldHNcIiB0aGUgc3RhcnQgYW5kL29yIGVuZCBkYXRlcy4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIEludGVydmFsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIC0gdGhlIHZhbHVlcyB0byBzZXRcbiAgICogQHBhcmFtIHtEYXRlVGltZX0gdmFsdWVzLnN0YXJ0IC0gdGhlIHN0YXJ0aW5nIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IHZhbHVlcy5lbmQgLSB0aGUgZW5kaW5nIERhdGVUaW1lXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXQgPSBmdW5jdGlvbiBzZXQoX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBzdGFydCA9IF9yZWYuc3RhcnQsXG4gICAgICAgIGVuZCA9IF9yZWYuZW5kO1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHN0YXJ0IHx8IHRoaXMucywgZW5kIHx8IHRoaXMuZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0IHRoaXMgSW50ZXJ2YWwgYXQgZWFjaCBvZiB0aGUgc3BlY2lmaWVkIERhdGVUaW1lc1xuICAgKiBAcGFyYW0gey4uLkRhdGVUaW1lfSBkYXRlVGltZXMgLSB0aGUgdW5pdCBvZiB0aW1lIHRvIGNvdW50LlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3BsaXRBdCA9IGZ1bmN0aW9uIHNwbGl0QXQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gW107XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0ZVRpbWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgZGF0ZVRpbWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBzb3J0ZWQgPSBkYXRlVGltZXMubWFwKGZyaWVuZGx5RGF0ZVRpbWUpLmZpbHRlcihmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbnRhaW5zKGQpO1xuICAgIH0pLnNvcnQoKSxcbiAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgIHZhciBzID0gdGhpcy5zLFxuICAgICAgICBpID0gMDtcblxuICAgIHdoaWxlIChzIDwgdGhpcy5lKSB7XG4gICAgICB2YXIgYWRkZWQgPSBzb3J0ZWRbaV0gfHwgdGhpcy5lLFxuICAgICAgICAgIG5leHQgPSArYWRkZWQgPiArdGhpcy5lID8gdGhpcy5lIDogYWRkZWQ7XG4gICAgICByZXN1bHRzLnB1c2goSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhzLCBuZXh0KSk7XG4gICAgICBzID0gbmV4dDtcbiAgICAgIGkgKz0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICAvKipcbiAgICogU3BsaXQgdGhpcyBJbnRlcnZhbCBpbnRvIHNtYWxsZXIgSW50ZXJ2YWxzLCBlYWNoIG9mIHRoZSBzcGVjaWZpZWQgbGVuZ3RoLlxuICAgKiBMZWZ0IG92ZXIgdGltZSBpcyBncm91cGVkIGludG8gYSBzbWFsbGVyIGludGVydmFsXG4gICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fG51bWJlcn0gZHVyYXRpb24gLSBUaGUgbGVuZ3RoIG9mIGVhY2ggcmVzdWx0aW5nIGludGVydmFsLlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3BsaXRCeSA9IGZ1bmN0aW9uIHNwbGl0QnkoZHVyYXRpb24pIHtcbiAgICB2YXIgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbik7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCB8fCAhZHVyLmlzVmFsaWQgfHwgZHVyLmFzKFwibWlsbGlzZWNvbmRzXCIpID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIHMgPSB0aGlzLnMsXG4gICAgICAgIGlkeCA9IDEsXG4gICAgICAgIG5leHQ7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAgIHdoaWxlIChzIDwgdGhpcy5lKSB7XG4gICAgICB2YXIgYWRkZWQgPSB0aGlzLnN0YXJ0LnBsdXMoZHVyLm1hcFVuaXRzKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4ICogaWR4O1xuICAgICAgfSkpO1xuICAgICAgbmV4dCA9ICthZGRlZCA+ICt0aGlzLmUgPyB0aGlzLmUgOiBhZGRlZDtcbiAgICAgIHJlc3VsdHMucHVzaChJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIG5leHQpKTtcbiAgICAgIHMgPSBuZXh0O1xuICAgICAgaWR4ICs9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0IHRoaXMgSW50ZXJ2YWwgaW50byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBzbWFsbGVyIGludGVydmFscy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlck9mUGFydHMgLSBUaGUgbnVtYmVyIG9mIEludGVydmFscyB0byBkaXZpZGUgdGhlIEludGVydmFsIGludG8uXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kaXZpZGVFcXVhbGx5ID0gZnVuY3Rpb24gZGl2aWRlRXF1YWxseShudW1iZXJPZlBhcnRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gdGhpcy5zcGxpdEJ5KHRoaXMubGVuZ3RoKCkgLyBudW1iZXJPZlBhcnRzKS5zbGljZSgwLCBudW1iZXJPZlBhcnRzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCBvdmVybGFwcyB3aXRoIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWxcbiAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub3ZlcmxhcHMgPSBmdW5jdGlvbiBvdmVybGFwcyhvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmUgPiBvdGhlci5zICYmIHRoaXMucyA8IG90aGVyLmU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBlbmQgaXMgYWRqYWNlbnQgdG8gdGhlIHNwZWNpZmllZCBJbnRlcnZhbCdzIHN0YXJ0LlxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYnV0c1N0YXJ0ID0gZnVuY3Rpb24gYWJ1dHNTdGFydChvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICt0aGlzLmUgPT09ICtvdGhlci5zO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsJ3Mgc3RhcnQgaXMgYWRqYWNlbnQgdG8gdGhlIHNwZWNpZmllZCBJbnRlcnZhbCdzIGVuZC5cbiAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWJ1dHNFbmQgPSBmdW5jdGlvbiBhYnV0c0VuZChvdGhlcikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICtvdGhlci5lID09PSArdGhpcy5zO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGVuZ3VsZnMgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHNwZWNpZmllZCBJbnRlcnZhbC5cbiAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZW5ndWxmcyA9IGZ1bmN0aW9uIGVuZ3VsZnMob3RoZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnMgPD0gb3RoZXIucyAmJiB0aGlzLmUgPj0gb3RoZXIuZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCBoYXMgdGhlIHNhbWUgc3RhcnQgYW5kIGVuZCBhcyB0aGUgc3BlY2lmaWVkIEludGVydmFsLlxuICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCB8fCAhb3RoZXIuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnMuZXF1YWxzKG90aGVyLnMpICYmIHRoaXMuZS5lcXVhbHMob3RoZXIuZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBJbnRlcnZhbCByZXByZXNlbnRpbmcgdGhlIGludGVyc2VjdGlvbiBvZiB0aGlzIEludGVydmFsIGFuZCB0aGUgc3BlY2lmaWVkIEludGVydmFsLlxuICAgKiBTcGVjaWZpY2FsbHksIHRoZSByZXN1bHRpbmcgSW50ZXJ2YWwgaGFzIHRoZSBtYXhpbXVtIHN0YXJ0IHRpbWUgYW5kIHRoZSBtaW5pbXVtIGVuZCB0aW1lIG9mIHRoZSB0d28gSW50ZXJ2YWxzLlxuICAgKiBSZXR1cm5zIG51bGwgaWYgdGhlIGludGVyc2VjdGlvbiBpcyBlbXB0eSwgbWVhbmluZywgdGhlIGludGVydmFscyBkb24ndCBpbnRlcnNlY3QuXG4gICAqIEBwYXJhbSB7SW50ZXJ2YWx9IG90aGVyXG4gICAqIEByZXR1cm4ge0ludGVydmFsfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiBpbnRlcnNlY3Rpb24ob3RoZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIHMgPSB0aGlzLnMgPiBvdGhlci5zID8gdGhpcy5zIDogb3RoZXIucyxcbiAgICAgICAgZSA9IHRoaXMuZSA8IG90aGVyLmUgPyB0aGlzLmUgOiBvdGhlci5lO1xuXG4gICAgaWYgKHMgPj0gZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIEludGVydmFsIHJlcHJlc2VudGluZyB0aGUgdW5pb24gb2YgdGhpcyBJbnRlcnZhbCBhbmQgdGhlIHNwZWNpZmllZCBJbnRlcnZhbC5cbiAgICogU3BlY2lmaWNhbGx5LCB0aGUgcmVzdWx0aW5nIEludGVydmFsIGhhcyB0aGUgbWluaW11bSBzdGFydCB0aW1lIGFuZCB0aGUgbWF4aW11bSBlbmQgdGltZSBvZiB0aGUgdHdvIEludGVydmFscy5cbiAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVuaW9uID0gZnVuY3Rpb24gdW5pb24ob3RoZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIHMgPSB0aGlzLnMgPCBvdGhlci5zID8gdGhpcy5zIDogb3RoZXIucyxcbiAgICAgICAgZSA9IHRoaXMuZSA+IG90aGVyLmUgPyB0aGlzLmUgOiBvdGhlci5lO1xuICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBNZXJnZSBhbiBhcnJheSBvZiBJbnRlcnZhbHMgaW50byBhIGVxdWl2YWxlbnQgbWluaW1hbCBzZXQgb2YgSW50ZXJ2YWxzLlxuICAgKiBDb21iaW5lcyBvdmVybGFwcGluZyBhbmQgYWRqYWNlbnQgSW50ZXJ2YWxzLlxuICAgKiBAcGFyYW0ge0FycmF5fSBpbnRlcnZhbHNcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW50ZXJ2YWwubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZShpbnRlcnZhbHMpIHtcbiAgICB2YXIgX2ludGVydmFscyRzb3J0JHJlZHVjID0gaW50ZXJ2YWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnMgLSBiLnM7XG4gICAgfSkucmVkdWNlKGZ1bmN0aW9uIChfcmVmMiwgaXRlbSkge1xuICAgICAgdmFyIHNvZmFyID0gX3JlZjJbMF0sXG4gICAgICAgICAgY3VycmVudCA9IF9yZWYyWzFdO1xuXG4gICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIFtzb2ZhciwgaXRlbV07XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQub3ZlcmxhcHMoaXRlbSkgfHwgY3VycmVudC5hYnV0c1N0YXJ0KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBbc29mYXIsIGN1cnJlbnQudW5pb24oaXRlbSldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtzb2Zhci5jb25jYXQoW2N1cnJlbnRdKSwgaXRlbV07XG4gICAgICB9XG4gICAgfSwgW1tdLCBudWxsXSksXG4gICAgICAgIGZvdW5kID0gX2ludGVydmFscyRzb3J0JHJlZHVjWzBdLFxuICAgICAgICBmaW5hbCA9IF9pbnRlcnZhbHMkc29ydCRyZWR1Y1sxXTtcblxuICAgIGlmIChmaW5hbCkge1xuICAgICAgZm91bmQucHVzaChmaW5hbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgSW50ZXJ2YWxzIHJlcHJlc2VudGluZyB0aGUgc3BhbnMgb2YgdGltZSB0aGF0IG9ubHkgYXBwZWFyIGluIG9uZSBvZiB0aGUgc3BlY2lmaWVkIEludGVydmFscy5cbiAgICogQHBhcmFtIHtBcnJheX0gaW50ZXJ2YWxzXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIEludGVydmFsLnhvciA9IGZ1bmN0aW9uIHhvcihpbnRlcnZhbHMpIHtcbiAgICB2YXIgX0FycmF5JHByb3RvdHlwZTtcblxuICAgIHZhciBzdGFydCA9IG51bGwsXG4gICAgICAgIGN1cnJlbnRDb3VudCA9IDA7XG5cbiAgICB2YXIgcmVzdWx0cyA9IFtdLFxuICAgICAgICBlbmRzID0gaW50ZXJ2YWxzLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIHRpbWU6IGkucyxcbiAgICAgICAgdHlwZTogXCJzXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdGltZTogaS5lLFxuICAgICAgICB0eXBlOiBcImVcIlxuICAgICAgfV07XG4gICAgfSksXG4gICAgICAgIGZsYXR0ZW5lZCA9IChfQXJyYXkkcHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlKS5jb25jYXQuYXBwbHkoX0FycmF5JHByb3RvdHlwZSwgZW5kcyksXG4gICAgICAgIGFyciA9IGZsYXR0ZW5lZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS50aW1lIC0gYi50aW1lO1xuICAgIH0pO1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShhcnIpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIGkgPSBfc3RlcC52YWx1ZTtcbiAgICAgIGN1cnJlbnRDb3VudCArPSBpLnR5cGUgPT09IFwic1wiID8gMSA6IC0xO1xuXG4gICAgICBpZiAoY3VycmVudENvdW50ID09PSAxKSB7XG4gICAgICAgIHN0YXJ0ID0gaS50aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YXJ0ICYmICtzdGFydCAhPT0gK2kudGltZSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHN0YXJ0LCBpLnRpbWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gSW50ZXJ2YWwubWVyZ2UocmVzdWx0cyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBJbnRlcnZhbCByZXByZXNlbnRpbmcgdGhlIHNwYW4gb2YgdGltZSBpbiB0aGlzIEludGVydmFsIHRoYXQgZG9lc24ndCBvdmVybGFwIHdpdGggYW55IG9mIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWxzLlxuICAgKiBAcGFyYW0gey4uLkludGVydmFsfSBpbnRlcnZhbHNcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpZmZlcmVuY2UgPSBmdW5jdGlvbiBkaWZmZXJlbmNlKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBpbnRlcnZhbHMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGludGVydmFsc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBJbnRlcnZhbC54b3IoW3RoaXNdLmNvbmNhdChpbnRlcnZhbHMpKS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBfdGhpczIuaW50ZXJzZWN0aW9uKGkpO1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkgJiYgIWkuaXNFbXB0eSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgSW50ZXJ2YWwgYXBwcm9wcmlhdGUgZm9yIGRlYnVnZ2luZy5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gSU5WQUxJRCQxO1xuICAgIHJldHVybiBcIltcIiArIHRoaXMucy50b0lTTygpICsgXCIgXFx1MjAxMyBcIiArIHRoaXMuZS50b0lTTygpICsgXCIpXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIEludGVydmFsLlxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1RpbWVfaW50ZXJ2YWxzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gVGhlIHNhbWUgb3B0aW9ucyBhcyB7QGxpbmsgRGF0ZVRpbWUjdG9JU099XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU08gPSBmdW5jdGlvbiB0b0lTTyhvcHRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBJTlZBTElEJDE7XG4gICAgcmV0dXJuIHRoaXMucy50b0lTTyhvcHRzKSArIFwiL1wiICsgdGhpcy5lLnRvSVNPKG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgZGF0ZSBvZiB0aGlzIEludGVydmFsLlxuICAgKiBUaGUgdGltZSBjb21wb25lbnRzIGFyZSBpZ25vcmVkLlxuICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1RpbWVfaW50ZXJ2YWxzXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09EYXRlID0gZnVuY3Rpb24gdG9JU09EYXRlKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gSU5WQUxJRCQxO1xuICAgIHJldHVybiB0aGlzLnMudG9JU09EYXRlKCkgKyBcIi9cIiArIHRoaXMuZS50b0lTT0RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRpbWUgb2YgdGhpcyBJbnRlcnZhbC5cbiAgICogVGhlIGRhdGUgY29tcG9uZW50cyBhcmUgaWdub3JlZC5cbiAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNUaW1lX2ludGVydmFsc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIFRoZSBzYW1lIG9wdGlvbnMgYXMge0BsaW5rIERhdGVUaW1lI3RvSVNPfVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvSVNPVGltZSA9IGZ1bmN0aW9uIHRvSVNPVGltZShvcHRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBJTlZBTElEJDE7XG4gICAgcmV0dXJuIHRoaXMucy50b0lTT1RpbWUob3B0cykgKyBcIi9cIiArIHRoaXMuZS50b0lTT1RpbWUob3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBJbnRlcnZhbCBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgZm9ybWF0IHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVGb3JtYXQgLSB0aGUgZm9ybWF0IHN0cmluZy4gVGhpcyBzdHJpbmcgZm9ybWF0cyB0aGUgc3RhcnQgYW5kIGVuZCB0aW1lLiBTZWUge0BsaW5rIERhdGVUaW1lI3RvRm9ybWF0fSBmb3IgZGV0YWlscy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5zZXBhcmF0b3IgPSAgJyDigJMgJ10gLSBhIHNlcGFyYXRvciB0byBwbGFjZSBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIHJlcHJlc2VudGF0aW9uc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvRm9ybWF0ID0gZnVuY3Rpb24gdG9Gb3JtYXQoZGF0ZUZvcm1hdCwgX3RlbXAyKSB7XG4gICAgdmFyIF9yZWYzID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgICAgX3JlZjMkc2VwYXJhdG9yID0gX3JlZjMuc2VwYXJhdG9yLFxuICAgICAgICBzZXBhcmF0b3IgPSBfcmVmMyRzZXBhcmF0b3IgPT09IHZvaWQgMCA/IFwiIOKAkyBcIiA6IF9yZWYzJHNlcGFyYXRvcjtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gSU5WQUxJRCQxO1xuICAgIHJldHVybiBcIlwiICsgdGhpcy5zLnRvRm9ybWF0KGRhdGVGb3JtYXQpICsgc2VwYXJhdG9yICsgdGhpcy5lLnRvRm9ybWF0KGRhdGVGb3JtYXQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBEdXJhdGlvbiByZXByZXNlbnRpbmcgdGhlIHRpbWUgc3Bhbm5lZCBieSB0aGlzIGludGVydmFsLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3VuaXQ9WydtaWxsaXNlY29uZHMnXV0gLSB0aGUgdW5pdCBvciB1bml0cyAoc3VjaCBhcyAnaG91cnMnIG9yICdkYXlzJykgdG8gaW5jbHVkZSBpbiB0aGUgZHVyYXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgY3JlYXRpb24gb2YgdGhlIER1cmF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKCkudG9PYmplY3QoKSAvLz0+IHsgbWlsbGlzZWNvbmRzOiA4ODQ4OTI1NyB9XG4gICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oJ2RheXMnKS50b09iamVjdCgpIC8vPT4geyBkYXlzOiAxLjAyNDE4MTIxNTI3Nzc3NzggfVxuICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKFsnaG91cnMnLCAnbWludXRlcyddKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMjQsIG1pbnV0ZXM6IDM0LjgyMDk1IH1cbiAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikudG9EdXJhdGlvbihbJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMjQsIG1pbnV0ZXM6IDM0LCBzZWNvbmRzOiA0OS4yNTcgfVxuICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKCdzZWNvbmRzJykudG9PYmplY3QoKSAvLz0+IHsgc2Vjb25kczogODg0ODkuMjU3IH1cbiAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvRHVyYXRpb24gPSBmdW5jdGlvbiB0b0R1cmF0aW9uKHVuaXQsIG9wdHMpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIER1cmF0aW9uLmludmFsaWQodGhpcy5pbnZhbGlkUmVhc29uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lLmRpZmYodGhpcy5zLCB1bml0LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogUnVuIG1hcEZuIG9uIHRoZSBpbnRlcnZhbCBzdGFydCBhbmQgZW5kLCByZXR1cm5pbmcgYSBuZXcgSW50ZXJ2YWwgZnJvbSB0aGUgcmVzdWx0aW5nIERhdGVUaW1lc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtYXBGblxuICAgKiBAcmV0dXJuIHtJbnRlcnZhbH1cbiAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikubWFwRW5kcG9pbnRzKGVuZHBvaW50ID0+IGVuZHBvaW50LnRvVVRDKCkpXG4gICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLm1hcEVuZHBvaW50cyhlbmRwb2ludCA9PiBlbmRwb2ludC5wbHVzKHsgaG91cnM6IDIgfSkpXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm1hcEVuZHBvaW50cyA9IGZ1bmN0aW9uIG1hcEVuZHBvaW50cyhtYXBGbikge1xuICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKG1hcEZuKHRoaXMucyksIG1hcEZuKHRoaXMuZSkpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhJbnRlcnZhbCwgW3tcbiAgICBrZXk6IFwic3RhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnMgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlbmQgb2YgdGhlIEludGVydmFsXG4gICAgICogQHR5cGUge0RhdGVUaW1lfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5lIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBlbmQgaXMgYXQgbGVhc3QgaXRzIHN0YXJ0LCBtZWFuaW5nIHRoYXQgdGhlIEludGVydmFsIGlzbid0ICdiYWNrd2FyZHMnLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNWYWxpZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZFJlYXNvbiA9PT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlcnJvciBjb2RlIGlmIHRoaXMgSW50ZXJ2YWwgaXMgaW52YWxpZCwgb3IgbnVsbCBpZiB0aGUgSW50ZXJ2YWwgaXMgdmFsaWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52YWxpZFJlYXNvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA/IHRoaXMuaW52YWxpZC5yZWFzb24gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGlzIEludGVydmFsIGJlY2FtZSBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBJbnRlcnZhbCBpcyB2YWxpZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkRXhwbGFuYXRpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmludmFsaWQgPyB0aGlzLmludmFsaWQuZXhwbGFuYXRpb24gOiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnRlcnZhbDtcbn0oKTtcblxuLyoqXG4gKiBUaGUgSW5mbyBjbGFzcyBjb250YWlucyBzdGF0aWMgbWV0aG9kcyBmb3IgcmV0cmlldmluZyBnZW5lcmFsIHRpbWUgYW5kIGRhdGUgcmVsYXRlZCBkYXRhLiBGb3IgZXhhbXBsZSwgaXQgaGFzIG1ldGhvZHMgZm9yIGZpbmRpbmcgb3V0IGlmIGEgdGltZSB6b25lIGhhcyBhIERTVCwgZm9yIGxpc3RpbmcgdGhlIG1vbnRocyBpbiBhbnkgc3VwcG9ydGVkIGxvY2FsZSwgYW5kIGZvciBkaXNjb3ZlcmluZyB3aGljaCBvZiBMdXhvbiBmZWF0dXJlcyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICovXG5cbnZhciBJbmZvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSW5mbygpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgem9uZSBjb250YWlucyBhIERTVC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW3pvbmU9J2xvY2FsJ10gLSBab25lIHRvIGNoZWNrLiBEZWZhdWx0cyB0byB0aGUgZW52aXJvbm1lbnQncyBsb2NhbCB6b25lLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgSW5mby5oYXNEU1QgPSBmdW5jdGlvbiBoYXNEU1Qoem9uZSkge1xuICAgIGlmICh6b25lID09PSB2b2lkIDApIHtcbiAgICAgIHpvbmUgPSBTZXR0aW5ncy5kZWZhdWx0Wm9uZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBEYXRlVGltZS5ub3coKS5zZXRab25lKHpvbmUpLnNldCh7XG4gICAgICBtb250aDogMTJcbiAgICB9KTtcbiAgICByZXR1cm4gIXpvbmUuaXNVbml2ZXJzYWwgJiYgcHJvdG8ub2Zmc2V0ICE9PSBwcm90by5zZXQoe1xuICAgICAgbW9udGg6IDZcbiAgICB9KS5vZmZzZXQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgem9uZSBpcyBhIHZhbGlkIElBTkEgc3BlY2lmaWVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gem9uZSAtIFpvbmUgdG8gY2hlY2tcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBJbmZvLmlzVmFsaWRJQU5BWm9uZSA9IGZ1bmN0aW9uIGlzVmFsaWRJQU5BWm9uZSh6b25lKSB7XG4gICAgcmV0dXJuIElBTkFab25lLmlzVmFsaWRTcGVjaWZpZXIoem9uZSkgJiYgSUFOQVpvbmUuaXNWYWxpZFpvbmUoem9uZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSBpbnB1dCBpbnRvIGEge0BsaW5rIFpvbmV9IGluc3RhbmNlLlxuICAgKlxuICAgKiAqIElmIGBpbnB1dGAgaXMgYWxyZWFkeSBhIFpvbmUgaW5zdGFuY2UsIGl0IGlzIHJldHVybmVkIHVuY2hhbmdlZC5cbiAgICogKiBJZiBgaW5wdXRgIGlzIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSB2YWxpZCB0aW1lIHpvbmUgbmFtZSwgYSBab25lIGluc3RhbmNlXG4gICAqICAgd2l0aCB0aGF0IG5hbWUgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0YCBpcyBhIHN0cmluZyB0aGF0IGRvZXNuJ3QgcmVmZXIgdG8gYSBrbm93biB0aW1lIHpvbmUsIGEgWm9uZVxuICAgKiAgIGluc3RhbmNlIHdpdGgge0BsaW5rIFpvbmUjaXNWYWxpZH0gPT0gZmFsc2UgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0IGlzIGEgbnVtYmVyLCBhIFpvbmUgaW5zdGFuY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIGZpeGVkIG9mZnNldFxuICAgKiAgIGluIG1pbnV0ZXMgaXMgcmV0dXJuZWQuXG4gICAqICogSWYgYGlucHV0YCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBkZWZhdWx0IHpvbmUgaXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV8bnVtYmVyfSBbaW5wdXRdIC0gdGhlIHZhbHVlIHRvIGJlIGNvbnZlcnRlZFxuICAgKiBAcmV0dXJuIHtab25lfVxuICAgKi9cbiAgO1xuXG4gIEluZm8ubm9ybWFsaXplWm9uZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVpvbmUkMShpbnB1dCkge1xuICAgIHJldHVybiBub3JtYWxpemVab25lKGlucHV0LCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBzdGFuZGFsb25lIG1vbnRoIG5hbWVzLlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGVUaW1lRm9ybWF0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbGVuZ3RoPSdsb25nJ10gLSB0aGUgbGVuZ3RoIG9mIHRoZSBtb250aCByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm51bWVyaWNcIiwgXCIyLWRpZ2l0XCIsIFwibmFycm93XCIsIFwic2hvcnRcIiwgXCJsb25nXCJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW09bnVsbF0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jT2JqPW51bGxdIC0gYW4gZXhpc3RpbmcgbG9jYWxlIG9iamVjdCB0byB1c2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm91dHB1dENhbGVuZGFyPSdncmVnb3J5J10gLSB0aGUgY2FsZW5kYXJcbiAgICogQGV4YW1wbGUgSW5mby5tb250aHMoKVswXSAvLz0+ICdKYW51YXJ5J1xuICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnc2hvcnQnKVswXSAvLz0+ICdKYW4nXG4gICAqIEBleGFtcGxlIEluZm8ubW9udGhzKCdudW1lcmljJylbMF0gLy89PiAnMSdcbiAgICogQGV4YW1wbGUgSW5mby5tb250aHMoJ3Nob3J0JywgeyBsb2NhbGU6ICdmci1DQScgfSApWzBdIC8vPT4gJ2phbnYuJ1xuICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnbnVtZXJpYycsIHsgbG9jYWxlOiAnYXInIH0pWzBdIC8vPT4gJ9mhJ1xuICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnbG9uZycsIHsgb3V0cHV0Q2FsZW5kYXI6ICdpc2xhbWljJyB9KVswXSAvLz0+ICdSYWJpyrsgSSdcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW5mby5tb250aHMgPSBmdW5jdGlvbiBtb250aHMobGVuZ3RoLCBfdGVtcCkge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJsb25nXCI7XG4gICAgfVxuXG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgX3JlZiRsb2NhbGUgPSBfcmVmLmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX3JlZiRsb2NhbGUgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJGxvY2FsZSxcbiAgICAgICAgX3JlZiRudW1iZXJpbmdTeXN0ZW0gPSBfcmVmLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZiRudW1iZXJpbmdTeXN0ZW0gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJG51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgX3JlZiRsb2NPYmogPSBfcmVmLmxvY09iaixcbiAgICAgICAgbG9jT2JqID0gX3JlZiRsb2NPYmogPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJGxvY09iaixcbiAgICAgICAgX3JlZiRvdXRwdXRDYWxlbmRhciA9IF9yZWYub3V0cHV0Q2FsZW5kYXIsXG4gICAgICAgIG91dHB1dENhbGVuZGFyID0gX3JlZiRvdXRwdXRDYWxlbmRhciA9PT0gdm9pZCAwID8gXCJncmVnb3J5XCIgOiBfcmVmJG91dHB1dENhbGVuZGFyO1xuXG4gICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIpKS5tb250aHMobGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIGFycmF5IG9mIGZvcm1hdCBtb250aCBuYW1lcy5cbiAgICogRm9ybWF0IG1vbnRocyBkaWZmZXIgZnJvbSBzdGFuZGFsb25lIG1vbnRocyBpbiB0aGF0IHRoZXkncmUgbWVhbnQgdG8gYXBwZWFyIG5leHQgdG8gdGhlIGRheSBvZiB0aGUgbW9udGguIEluIHNvbWUgbGFuZ3VhZ2VzLCB0aGF0XG4gICAqIGNoYW5nZXMgdGhlIHN0cmluZy5cbiAgICogU2VlIHtAbGluayBJbmZvI21vbnRoc31cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsZW5ndGg9J2xvbmcnXSAtIHRoZSBsZW5ndGggb2YgdGhlIG1vbnRoIHJlcHJlc2VudGF0aW9uLCBzdWNoIGFzIFwibnVtZXJpY1wiLCBcIjItZGlnaXRcIiwgXCJuYXJyb3dcIiwgXCJzaG9ydFwiLCBcImxvbmdcIlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZV0gLSB0aGUgbG9jYWxlIGNvZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm51bWJlcmluZ1N5c3RlbT1udWxsXSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NPYmo9bnVsbF0gLSBhbiBleGlzdGluZyBsb2NhbGUgb2JqZWN0IHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMub3V0cHV0Q2FsZW5kYXI9J2dyZWdvcnknXSAtIHRoZSBjYWxlbmRhclxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBJbmZvLm1vbnRoc0Zvcm1hdCA9IGZ1bmN0aW9uIG1vbnRoc0Zvcm1hdChsZW5ndGgsIF90ZW1wMikge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJsb25nXCI7XG4gICAgfVxuXG4gICAgdmFyIF9yZWYyID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgICAgX3JlZjIkbG9jYWxlID0gX3JlZjIubG9jYWxlLFxuICAgICAgICBsb2NhbGUgPSBfcmVmMiRsb2NhbGUgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMiRsb2NhbGUsXG4gICAgICAgIF9yZWYyJG51bWJlcmluZ1N5c3RlbSA9IF9yZWYyLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZjIkbnVtYmVyaW5nU3lzdGVtID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjIkbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBfcmVmMiRsb2NPYmogPSBfcmVmMi5sb2NPYmosXG4gICAgICAgIGxvY09iaiA9IF9yZWYyJGxvY09iaiA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyJGxvY09iaixcbiAgICAgICAgX3JlZjIkb3V0cHV0Q2FsZW5kYXIgPSBfcmVmMi5vdXRwdXRDYWxlbmRhcixcbiAgICAgICAgb3V0cHV0Q2FsZW5kYXIgPSBfcmVmMiRvdXRwdXRDYWxlbmRhciA9PT0gdm9pZCAwID8gXCJncmVnb3J5XCIgOiBfcmVmMiRvdXRwdXRDYWxlbmRhcjtcblxuICAgIHJldHVybiAobG9jT2JqIHx8IExvY2FsZS5jcmVhdGUobG9jYWxlLCBudW1iZXJpbmdTeXN0ZW0sIG91dHB1dENhbGVuZGFyKSkubW9udGhzKGxlbmd0aCwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBzdGFuZGFsb25lIHdlZWsgbmFtZXMuXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZVRpbWVGb3JtYXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsZW5ndGg9J2xvbmcnXSAtIHRoZSBsZW5ndGggb2YgdGhlIHdlZWtkYXkgcmVwcmVzZW50YXRpb24sIHN1Y2ggYXMgXCJuYXJyb3dcIiwgXCJzaG9ydFwiLCBcImxvbmdcIi5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW09bnVsbF0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jT2JqPW51bGxdIC0gYW4gZXhpc3RpbmcgbG9jYWxlIG9iamVjdCB0byB1c2VcbiAgICogQGV4YW1wbGUgSW5mby53ZWVrZGF5cygpWzBdIC8vPT4gJ01vbmRheSdcbiAgICogQGV4YW1wbGUgSW5mby53ZWVrZGF5cygnc2hvcnQnKVswXSAvLz0+ICdNb24nXG4gICAqIEBleGFtcGxlIEluZm8ud2Vla2RheXMoJ3Nob3J0JywgeyBsb2NhbGU6ICdmci1DQScgfSlbMF0gLy89PiAnbHVuLidcbiAgICogQGV4YW1wbGUgSW5mby53ZWVrZGF5cygnc2hvcnQnLCB7IGxvY2FsZTogJ2FyJyB9KVswXSAvLz0+ICfYp9mE2KfYq9mG2YrZhidcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW5mby53ZWVrZGF5cyA9IGZ1bmN0aW9uIHdlZWtkYXlzKGxlbmd0aCwgX3RlbXAzKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZW5ndGggPSBcImxvbmdcIjtcbiAgICB9XG5cbiAgICB2YXIgX3JlZjMgPSBfdGVtcDMgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAzLFxuICAgICAgICBfcmVmMyRsb2NhbGUgPSBfcmVmMy5sb2NhbGUsXG4gICAgICAgIGxvY2FsZSA9IF9yZWYzJGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYzJGxvY2FsZSxcbiAgICAgICAgX3JlZjMkbnVtYmVyaW5nU3lzdGVtID0gX3JlZjMubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmMyRudW1iZXJpbmdTeXN0ZW0gPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMyRudW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIF9yZWYzJGxvY09iaiA9IF9yZWYzLmxvY09iaixcbiAgICAgICAgbG9jT2JqID0gX3JlZjMkbG9jT2JqID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjMkbG9jT2JqO1xuXG4gICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgbnVsbCkpLndlZWtkYXlzKGxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBmb3JtYXQgd2VlayBuYW1lcy5cbiAgICogRm9ybWF0IHdlZWtkYXlzIGRpZmZlciBmcm9tIHN0YW5kYWxvbmUgd2Vla2RheXMgaW4gdGhhdCB0aGV5J3JlIG1lYW50IHRvIGFwcGVhciBuZXh0IHRvIG1vcmUgZGF0ZSBpbmZvcm1hdGlvbi4gSW4gc29tZSBsYW5ndWFnZXMsIHRoYXRcbiAgICogY2hhbmdlcyB0aGUgc3RyaW5nLlxuICAgKiBTZWUge0BsaW5rIEluZm8jd2Vla2RheXN9XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbGVuZ3RoPSdsb25nJ10gLSB0aGUgbGVuZ3RoIG9mIHRoZSBtb250aCByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT1udWxsXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubnVtYmVyaW5nU3lzdGVtPW51bGxdIC0gdGhlIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY09iaj1udWxsXSAtIGFuIGV4aXN0aW5nIGxvY2FsZSBvYmplY3QgdG8gdXNlXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgO1xuXG4gIEluZm8ud2Vla2RheXNGb3JtYXQgPSBmdW5jdGlvbiB3ZWVrZGF5c0Zvcm1hdChsZW5ndGgsIF90ZW1wNCkge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJsb25nXCI7XG4gICAgfVxuXG4gICAgdmFyIF9yZWY0ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgICAgX3JlZjQkbG9jYWxlID0gX3JlZjQubG9jYWxlLFxuICAgICAgICBsb2NhbGUgPSBfcmVmNCRsb2NhbGUgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmNCRsb2NhbGUsXG4gICAgICAgIF9yZWY0JG51bWJlcmluZ1N5c3RlbSA9IF9yZWY0Lm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX3JlZjQkbnVtYmVyaW5nU3lzdGVtID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjQkbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBfcmVmNCRsb2NPYmogPSBfcmVmNC5sb2NPYmosXG4gICAgICAgIGxvY09iaiA9IF9yZWY0JGxvY09iaiA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY0JGxvY09iajtcblxuICAgIHJldHVybiAobG9jT2JqIHx8IExvY2FsZS5jcmVhdGUobG9jYWxlLCBudW1iZXJpbmdTeXN0ZW0sIG51bGwpKS53ZWVrZGF5cyhsZW5ndGgsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgbWVyaWRpZW1zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZV0gLSB0aGUgbG9jYWxlIGNvZGVcbiAgICogQGV4YW1wbGUgSW5mby5tZXJpZGllbXMoKSAvLz0+IFsgJ0FNJywgJ1BNJyBdXG4gICAqIEBleGFtcGxlIEluZm8ubWVyaWRpZW1zKHsgbG9jYWxlOiAnbXknIH0pIC8vPT4gWyAn4YCU4YC24YCU4YCA4YC6JywgJ+GAiuGAlOGAsScgXVxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIDtcblxuICBJbmZvLm1lcmlkaWVtcyA9IGZ1bmN0aW9uIG1lcmlkaWVtcyhfdGVtcDUpIHtcbiAgICB2YXIgX3JlZjUgPSBfdGVtcDUgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA1LFxuICAgICAgICBfcmVmNSRsb2NhbGUgPSBfcmVmNS5sb2NhbGUsXG4gICAgICAgIGxvY2FsZSA9IF9yZWY1JGxvY2FsZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY1JGxvY2FsZTtcblxuICAgIHJldHVybiBMb2NhbGUuY3JlYXRlKGxvY2FsZSkubWVyaWRpZW1zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiBlcmFzLCBzdWNoIGFzIFsnQkMnLCAnQUQnXS4gVGhlIGxvY2FsZSBjYW4gYmUgc3BlY2lmaWVkLCBidXQgdGhlIGNhbGVuZGFyIHN5c3RlbSBpcyBhbHdheXMgR3JlZ29yaWFuLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nc2hvcnQnXSAtIHRoZSBsZW5ndGggb2YgdGhlIGVyYSByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcInNob3J0XCIgb3IgXCJsb25nXCIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoKSAvLz0+IFsgJ0JDJywgJ0FEJyBdXG4gICAqIEBleGFtcGxlIEluZm8uZXJhcygnbG9uZycpIC8vPT4gWyAnQmVmb3JlIENocmlzdCcsICdBbm5vIERvbWluaScgXVxuICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoJ2xvbmcnLCB7IGxvY2FsZTogJ2ZyJyB9KSAvLz0+IFsgJ2F2YW50IErDqXN1cy1DaHJpc3QnLCAnYXByw6hzIErDqXN1cy1DaHJpc3QnIF1cbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICA7XG5cbiAgSW5mby5lcmFzID0gZnVuY3Rpb24gZXJhcyhsZW5ndGgsIF90ZW1wNikge1xuICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkge1xuICAgICAgbGVuZ3RoID0gXCJzaG9ydFwiO1xuICAgIH1cblxuICAgIHZhciBfcmVmNiA9IF90ZW1wNiA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDYsXG4gICAgICAgIF9yZWY2JGxvY2FsZSA9IF9yZWY2LmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX3JlZjYkbG9jYWxlID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjYkbG9jYWxlO1xuXG4gICAgcmV0dXJuIExvY2FsZS5jcmVhdGUobG9jYWxlLCBudWxsLCBcImdyZWdvcnlcIikuZXJhcyhsZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHNldCBvZiBhdmFpbGFibGUgZmVhdHVyZXMgaW4gdGhpcyBlbnZpcm9ubWVudC5cbiAgICogU29tZSBmZWF0dXJlcyBvZiBMdXhvbiBhcmUgbm90IGF2YWlsYWJsZSBpbiBhbGwgZW52aXJvbm1lbnRzLiBGb3IgZXhhbXBsZSwgb24gb2xkZXIgYnJvd3NlcnMsIHJlbGF0aXZlIHRpbWUgZm9ybWF0dGluZyBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUuIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKiBLZXlzOlxuICAgKiAqIGByZWxhdGl2ZWA6IHdoZXRoZXIgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0cyByZWxhdGl2ZSB0aW1lIGZvcm1hdHRpbmdcbiAgICogQGV4YW1wbGUgSW5mby5mZWF0dXJlcygpIC8vPT4geyByZWxhdGl2ZTogZmFsc2UgfVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICA7XG5cbiAgSW5mby5mZWF0dXJlcyA9IGZ1bmN0aW9uIGZlYXR1cmVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWxhdGl2ZTogaGFzUmVsYXRpdmUoKVxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIEluZm87XG59KCk7XG5cbmZ1bmN0aW9uIGRheURpZmYoZWFybGllciwgbGF0ZXIpIHtcbiAgdmFyIHV0Y0RheVN0YXJ0ID0gZnVuY3Rpb24gdXRjRGF5U3RhcnQoZHQpIHtcbiAgICByZXR1cm4gZHQudG9VVEMoMCwge1xuICAgICAga2VlcExvY2FsVGltZTogdHJ1ZVxuICAgIH0pLnN0YXJ0T2YoXCJkYXlcIikudmFsdWVPZigpO1xuICB9LFxuICAgICAgbXMgPSB1dGNEYXlTdGFydChsYXRlcikgLSB1dGNEYXlTdGFydChlYXJsaWVyKTtcblxuICByZXR1cm4gTWF0aC5mbG9vcihEdXJhdGlvbi5mcm9tTWlsbGlzKG1zKS5hcyhcImRheXNcIikpO1xufVxuXG5mdW5jdGlvbiBoaWdoT3JkZXJEaWZmcyhjdXJzb3IsIGxhdGVyLCB1bml0cykge1xuICB2YXIgZGlmZmVycyA9IFtbXCJ5ZWFyc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnllYXIgLSBhLnllYXI7XG4gIH1dLCBbXCJxdWFydGVyc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLnF1YXJ0ZXIgLSBhLnF1YXJ0ZXI7XG4gIH1dLCBbXCJtb250aHNcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5tb250aCAtIGEubW9udGggKyAoYi55ZWFyIC0gYS55ZWFyKSAqIDEyO1xuICB9XSwgW1wid2Vla3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgZGF5cyA9IGRheURpZmYoYSwgYik7XG4gICAgcmV0dXJuIChkYXlzIC0gZGF5cyAlIDcpIC8gNztcbiAgfV0sIFtcImRheXNcIiwgZGF5RGlmZl1dO1xuICB2YXIgcmVzdWx0cyA9IHt9O1xuICB2YXIgbG93ZXN0T3JkZXIsIGhpZ2hXYXRlcjtcblxuICBmb3IgKHZhciBfaSA9IDAsIF9kaWZmZXJzID0gZGlmZmVyczsgX2kgPCBfZGlmZmVycy5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgX2RpZmZlcnMkX2kgPSBfZGlmZmVyc1tfaV0sXG4gICAgICAgIHVuaXQgPSBfZGlmZmVycyRfaVswXSxcbiAgICAgICAgZGlmZmVyID0gX2RpZmZlcnMkX2lbMV07XG5cbiAgICBpZiAodW5pdHMuaW5kZXhPZih1bml0KSA+PSAwKSB7XG4gICAgICB2YXIgX2N1cnNvciRwbHVzO1xuXG4gICAgICBsb3dlc3RPcmRlciA9IHVuaXQ7XG4gICAgICB2YXIgZGVsdGEgPSBkaWZmZXIoY3Vyc29yLCBsYXRlcik7XG4gICAgICBoaWdoV2F0ZXIgPSBjdXJzb3IucGx1cygoX2N1cnNvciRwbHVzID0ge30sIF9jdXJzb3IkcGx1c1t1bml0XSA9IGRlbHRhLCBfY3Vyc29yJHBsdXMpKTtcblxuICAgICAgaWYgKGhpZ2hXYXRlciA+IGxhdGVyKSB7XG4gICAgICAgIHZhciBfY3Vyc29yJHBsdXMyO1xuXG4gICAgICAgIGN1cnNvciA9IGN1cnNvci5wbHVzKChfY3Vyc29yJHBsdXMyID0ge30sIF9jdXJzb3IkcGx1czJbdW5pdF0gPSBkZWx0YSAtIDEsIF9jdXJzb3IkcGx1czIpKTtcbiAgICAgICAgZGVsdGEgLT0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnNvciA9IGhpZ2hXYXRlcjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0c1t1bml0XSA9IGRlbHRhO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbY3Vyc29yLCByZXN1bHRzLCBoaWdoV2F0ZXIsIGxvd2VzdE9yZGVyXTtcbn1cblxuZnVuY3Rpb24gX2RpZmYgKGVhcmxpZXIsIGxhdGVyLCB1bml0cywgb3B0cykge1xuICB2YXIgX2hpZ2hPcmRlckRpZmZzID0gaGlnaE9yZGVyRGlmZnMoZWFybGllciwgbGF0ZXIsIHVuaXRzKSxcbiAgICAgIGN1cnNvciA9IF9oaWdoT3JkZXJEaWZmc1swXSxcbiAgICAgIHJlc3VsdHMgPSBfaGlnaE9yZGVyRGlmZnNbMV0sXG4gICAgICBoaWdoV2F0ZXIgPSBfaGlnaE9yZGVyRGlmZnNbMl0sXG4gICAgICBsb3dlc3RPcmRlciA9IF9oaWdoT3JkZXJEaWZmc1szXTtcblxuICB2YXIgcmVtYWluaW5nTWlsbGlzID0gbGF0ZXIgLSBjdXJzb3I7XG4gIHZhciBsb3dlck9yZGVyVW5pdHMgPSB1bml0cy5maWx0ZXIoZnVuY3Rpb24gKHUpIHtcbiAgICByZXR1cm4gW1wiaG91cnNcIiwgXCJtaW51dGVzXCIsIFwic2Vjb25kc1wiLCBcIm1pbGxpc2Vjb25kc1wiXS5pbmRleE9mKHUpID49IDA7XG4gIH0pO1xuXG4gIGlmIChsb3dlck9yZGVyVW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGhpZ2hXYXRlciA8IGxhdGVyKSB7XG4gICAgICB2YXIgX2N1cnNvciRwbHVzMztcblxuICAgICAgaGlnaFdhdGVyID0gY3Vyc29yLnBsdXMoKF9jdXJzb3IkcGx1czMgPSB7fSwgX2N1cnNvciRwbHVzM1tsb3dlc3RPcmRlcl0gPSAxLCBfY3Vyc29yJHBsdXMzKSk7XG4gICAgfVxuXG4gICAgaWYgKGhpZ2hXYXRlciAhPT0gY3Vyc29yKSB7XG4gICAgICByZXN1bHRzW2xvd2VzdE9yZGVyXSA9IChyZXN1bHRzW2xvd2VzdE9yZGVyXSB8fCAwKSArIHJlbWFpbmluZ01pbGxpcyAvIChoaWdoV2F0ZXIgLSBjdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkdXJhdGlvbiA9IER1cmF0aW9uLmZyb21PYmplY3QocmVzdWx0cywgb3B0cyk7XG5cbiAgaWYgKGxvd2VyT3JkZXJVbml0cy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF9EdXJhdGlvbiRmcm9tTWlsbGlzO1xuXG4gICAgcmV0dXJuIChfRHVyYXRpb24kZnJvbU1pbGxpcyA9IER1cmF0aW9uLmZyb21NaWxsaXMocmVtYWluaW5nTWlsbGlzLCBvcHRzKSkuc2hpZnRUby5hcHBseShfRHVyYXRpb24kZnJvbU1pbGxpcywgbG93ZXJPcmRlclVuaXRzKS5wbHVzKGR1cmF0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cbn1cblxudmFyIG51bWJlcmluZ1N5c3RlbXMgPSB7XG4gIGFyYWI6IFwiW1xcdTA2NjAtXFx1MDY2OV1cIixcbiAgYXJhYmV4dDogXCJbXFx1MDZGMC1cXHUwNkY5XVwiLFxuICBiYWxpOiBcIltcXHUxQjUwLVxcdTFCNTldXCIsXG4gIGJlbmc6IFwiW1xcdTA5RTYtXFx1MDlFRl1cIixcbiAgZGV2YTogXCJbXFx1MDk2Ni1cXHUwOTZGXVwiLFxuICBmdWxsd2lkZTogXCJbXFx1RkYxMC1cXHVGRjE5XVwiLFxuICBndWpyOiBcIltcXHUwQUU2LVxcdTBBRUZdXCIsXG4gIGhhbmlkZWM6IFwiW+OAh3zkuIB85LqMfOS4iXzlm5t85LqUfOWFrXzkuIN85YWrfOS5nV1cIixcbiAga2htcjogXCJbXFx1MTdFMC1cXHUxN0U5XVwiLFxuICBrbmRhOiBcIltcXHUwQ0U2LVxcdTBDRUZdXCIsXG4gIGxhb286IFwiW1xcdTBFRDAtXFx1MEVEOV1cIixcbiAgbGltYjogXCJbXFx1MTk0Ni1cXHUxOTRGXVwiLFxuICBtbHltOiBcIltcXHUwRDY2LVxcdTBENkZdXCIsXG4gIG1vbmc6IFwiW1xcdTE4MTAtXFx1MTgxOV1cIixcbiAgbXltcjogXCJbXFx1MTA0MC1cXHUxMDQ5XVwiLFxuICBvcnlhOiBcIltcXHUwQjY2LVxcdTBCNkZdXCIsXG4gIHRhbWxkZWM6IFwiW1xcdTBCRTYtXFx1MEJFRl1cIixcbiAgdGVsdTogXCJbXFx1MEM2Ni1cXHUwQzZGXVwiLFxuICB0aGFpOiBcIltcXHUwRTUwLVxcdTBFNTldXCIsXG4gIHRpYnQ6IFwiW1xcdTBGMjAtXFx1MEYyOV1cIixcbiAgbGF0bjogXCJcXFxcZFwiXG59O1xudmFyIG51bWJlcmluZ1N5c3RlbXNVVEYxNiA9IHtcbiAgYXJhYjogWzE2MzIsIDE2NDFdLFxuICBhcmFiZXh0OiBbMTc3NiwgMTc4NV0sXG4gIGJhbGk6IFs2OTkyLCA3MDAxXSxcbiAgYmVuZzogWzI1MzQsIDI1NDNdLFxuICBkZXZhOiBbMjQwNiwgMjQxNV0sXG4gIGZ1bGx3aWRlOiBbNjUyOTYsIDY1MzAzXSxcbiAgZ3VqcjogWzI3OTAsIDI3OTldLFxuICBraG1yOiBbNjExMiwgNjEyMV0sXG4gIGtuZGE6IFszMzAyLCAzMzExXSxcbiAgbGFvbzogWzM3OTIsIDM4MDFdLFxuICBsaW1iOiBbNjQ3MCwgNjQ3OV0sXG4gIG1seW06IFszNDMwLCAzNDM5XSxcbiAgbW9uZzogWzYxNjAsIDYxNjldLFxuICBteW1yOiBbNDE2MCwgNDE2OV0sXG4gIG9yeWE6IFsyOTE4LCAyOTI3XSxcbiAgdGFtbGRlYzogWzMwNDYsIDMwNTVdLFxuICB0ZWx1OiBbMzE3NCwgMzE4M10sXG4gIHRoYWk6IFszNjY0LCAzNjczXSxcbiAgdGlidDogWzM4NzIsIDM4ODFdXG59O1xudmFyIGhhbmlkZWNDaGFycyA9IG51bWJlcmluZ1N5c3RlbXMuaGFuaWRlYy5yZXBsYWNlKC9bXFxbfFxcXV0vZywgXCJcIikuc3BsaXQoXCJcIik7XG5mdW5jdGlvbiBwYXJzZURpZ2l0cyhzdHIpIHtcbiAgdmFyIHZhbHVlID0gcGFyc2VJbnQoc3RyLCAxMCk7XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHZhbHVlID0gXCJcIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICBpZiAoc3RyW2ldLnNlYXJjaChudW1iZXJpbmdTeXN0ZW1zLmhhbmlkZWMpICE9PSAtMSkge1xuICAgICAgICB2YWx1ZSArPSBoYW5pZGVjQ2hhcnMuaW5kZXhPZihzdHJbaV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG51bWJlcmluZ1N5c3RlbXNVVEYxNikge1xuICAgICAgICAgIHZhciBfbnVtYmVyaW5nU3lzdGVtc1VURiA9IG51bWJlcmluZ1N5c3RlbXNVVEYxNltrZXldLFxuICAgICAgICAgICAgICBtaW4gPSBfbnVtYmVyaW5nU3lzdGVtc1VURlswXSxcbiAgICAgICAgICAgICAgbWF4ID0gX251bWJlcmluZ1N5c3RlbXNVVEZbMV07XG5cbiAgICAgICAgICBpZiAoY29kZSA+PSBtaW4gJiYgY29kZSA8PSBtYXgpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IGNvZGUgLSBtaW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBkaWdpdFJlZ2V4KF9yZWYsIGFwcGVuZCkge1xuICB2YXIgbnVtYmVyaW5nU3lzdGVtID0gX3JlZi5udW1iZXJpbmdTeXN0ZW07XG5cbiAgaWYgKGFwcGVuZCA9PT0gdm9pZCAwKSB7XG4gICAgYXBwZW5kID0gXCJcIjtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVnRXhwKFwiXCIgKyBudW1iZXJpbmdTeXN0ZW1zW251bWJlcmluZ1N5c3RlbSB8fCBcImxhdG5cIl0gKyBhcHBlbmQpO1xufVxuXG52YXIgTUlTU0lOR19GVFAgPSBcIm1pc3NpbmcgSW50bC5EYXRlVGltZUZvcm1hdC5mb3JtYXRUb1BhcnRzIHN1cHBvcnRcIjtcblxuZnVuY3Rpb24gaW50VW5pdChyZWdleCwgcG9zdCkge1xuICBpZiAocG9zdCA9PT0gdm9pZCAwKSB7XG4gICAgcG9zdCA9IGZ1bmN0aW9uIHBvc3QoaSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVnZXg6IHJlZ2V4LFxuICAgIGRlc2VyOiBmdW5jdGlvbiBkZXNlcihfcmVmKSB7XG4gICAgICB2YXIgcyA9IF9yZWZbMF07XG4gICAgICByZXR1cm4gcG9zdChwYXJzZURpZ2l0cyhzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgTkJTUCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMTYwKTtcbnZhciBzcGFjZU9yTkJTUCA9IFwiKCB8XCIgKyBOQlNQICsgXCIpXCI7XG52YXIgc3BhY2VPck5CU1BSZWdFeHAgPSBuZXcgUmVnRXhwKHNwYWNlT3JOQlNQLCBcImdcIik7XG5cbmZ1bmN0aW9uIGZpeExpc3RSZWdleChzKSB7XG4gIC8vIG1ha2UgZG90cyBvcHRpb25hbCBhbmQgYWxzbyBtYWtlIHRoZW0gbGl0ZXJhbFxuICAvLyBtYWtlIHNwYWNlIGFuZCBub24gYnJlYWthYmxlIHNwYWNlIGNoYXJhY3RlcnMgaW50ZXJjaGFuZ2VhYmxlXG4gIHJldHVybiBzLnJlcGxhY2UoL1xcLi9nLCBcIlxcXFwuP1wiKS5yZXBsYWNlKHNwYWNlT3JOQlNQUmVnRXhwLCBzcGFjZU9yTkJTUCk7XG59XG5cbmZ1bmN0aW9uIHN0cmlwSW5zZW5zaXRpdml0aWVzKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFwuL2csIFwiXCIpIC8vIGlnbm9yZSBkb3RzIHRoYXQgd2VyZSBtYWRlIG9wdGlvbmFsXG4gIC5yZXBsYWNlKHNwYWNlT3JOQlNQUmVnRXhwLCBcIiBcIikgLy8gaW50ZXJjaGFuZ2Ugc3BhY2UgYW5kIG5ic3BcbiAgLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG9uZU9mKHN0cmluZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgaWYgKHN0cmluZ3MgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IFJlZ0V4cChzdHJpbmdzLm1hcChmaXhMaXN0UmVnZXgpLmpvaW4oXCJ8XCIpKSxcbiAgICAgIGRlc2VyOiBmdW5jdGlvbiBkZXNlcihfcmVmMikge1xuICAgICAgICB2YXIgcyA9IF9yZWYyWzBdO1xuICAgICAgICByZXR1cm4gc3RyaW5ncy5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICByZXR1cm4gc3RyaXBJbnNlbnNpdGl2aXRpZXMocykgPT09IHN0cmlwSW5zZW5zaXRpdml0aWVzKGkpO1xuICAgICAgICB9KSArIHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvZmZzZXQocmVnZXgsIGdyb3Vwcykge1xuICByZXR1cm4ge1xuICAgIHJlZ2V4OiByZWdleCxcbiAgICBkZXNlcjogZnVuY3Rpb24gZGVzZXIoX3JlZjMpIHtcbiAgICAgIHZhciBoID0gX3JlZjNbMV0sXG4gICAgICAgICAgbSA9IF9yZWYzWzJdO1xuICAgICAgcmV0dXJuIHNpZ25lZE9mZnNldChoLCBtKTtcbiAgICB9LFxuICAgIGdyb3VwczogZ3JvdXBzXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNpbXBsZShyZWdleCkge1xuICByZXR1cm4ge1xuICAgIHJlZ2V4OiByZWdleCxcbiAgICBkZXNlcjogZnVuY3Rpb24gZGVzZXIoX3JlZjQpIHtcbiAgICAgIHZhciBzID0gX3JlZjRbMF07XG4gICAgICByZXR1cm4gcztcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVzY2FwZVRva2VuKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIik7XG59XG5cbmZ1bmN0aW9uIHVuaXRGb3JUb2tlbih0b2tlbiwgbG9jKSB7XG4gIHZhciBvbmUgPSBkaWdpdFJlZ2V4KGxvYyksXG4gICAgICB0d28gPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Mn1cIiksXG4gICAgICB0aHJlZSA9IGRpZ2l0UmVnZXgobG9jLCBcInszfVwiKSxcbiAgICAgIGZvdXIgPSBkaWdpdFJlZ2V4KGxvYywgXCJ7NH1cIiksXG4gICAgICBzaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Nn1cIiksXG4gICAgICBvbmVPclR3byA9IGRpZ2l0UmVnZXgobG9jLCBcInsxLDJ9XCIpLFxuICAgICAgb25lVG9UaHJlZSA9IGRpZ2l0UmVnZXgobG9jLCBcInsxLDN9XCIpLFxuICAgICAgb25lVG9TaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7MSw2fVwiKSxcbiAgICAgIG9uZVRvTmluZSA9IGRpZ2l0UmVnZXgobG9jLCBcInsxLDl9XCIpLFxuICAgICAgdHdvVG9Gb3VyID0gZGlnaXRSZWdleChsb2MsIFwiezIsNH1cIiksXG4gICAgICBmb3VyVG9TaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7NCw2fVwiKSxcbiAgICAgIGxpdGVyYWwgPSBmdW5jdGlvbiBsaXRlcmFsKHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IFJlZ0V4cChlc2NhcGVUb2tlbih0LnZhbCkpLFxuICAgICAgZGVzZXI6IGZ1bmN0aW9uIGRlc2VyKF9yZWY1KSB7XG4gICAgICAgIHZhciBzID0gX3JlZjVbMF07XG4gICAgICAgIHJldHVybiBzO1xuICAgICAgfSxcbiAgICAgIGxpdGVyYWw6IHRydWVcbiAgICB9O1xuICB9LFxuICAgICAgdW5pdGF0ZSA9IGZ1bmN0aW9uIHVuaXRhdGUodCkge1xuICAgIGlmICh0b2tlbi5saXRlcmFsKSB7XG4gICAgICByZXR1cm4gbGl0ZXJhbCh0KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHQudmFsKSB7XG4gICAgICAvLyBlcmFcbiAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MuZXJhcyhcInNob3J0XCIsIGZhbHNlKSwgMCk7XG5cbiAgICAgIGNhc2UgXCJHR1wiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLmVyYXMoXCJsb25nXCIsIGZhbHNlKSwgMCk7XG4gICAgICAvLyB5ZWFyc1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVUb1NpeCk7XG5cbiAgICAgIGNhc2UgXCJ5eVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d29Ub0ZvdXIsIHVudHJ1bmNhdGVZZWFyKTtcblxuICAgICAgY2FzZSBcInl5eXlcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQoZm91cik7XG5cbiAgICAgIGNhc2UgXCJ5eXl5eVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChmb3VyVG9TaXgpO1xuXG4gICAgICBjYXNlIFwieXl5eXl5XCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHNpeCk7XG4gICAgICAvLyBtb250aHNcblxuICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xuXG4gICAgICBjYXNlIFwiTU1cIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcblxuICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLm1vbnRocyhcInNob3J0XCIsIHRydWUsIGZhbHNlKSwgMSk7XG5cbiAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwibG9uZ1wiLCB0cnVlLCBmYWxzZSksIDEpO1xuXG4gICAgICBjYXNlIFwiTFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJMTFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuXG4gICAgICBjYXNlIFwiTExMXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwic2hvcnRcIiwgZmFsc2UsIGZhbHNlKSwgMSk7XG5cbiAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwibG9uZ1wiLCBmYWxzZSwgZmFsc2UpLCAxKTtcbiAgICAgIC8vIGRhdGVzXG5cbiAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcImRkXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG4gICAgICAvLyBvcmRpbmFsc1xuXG4gICAgICBjYXNlIFwib1wiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVUb1RocmVlKTtcblxuICAgICAgY2FzZSBcIm9vb1wiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0aHJlZSk7XG4gICAgICAvLyB0aW1lXG5cbiAgICAgIGNhc2UgXCJISFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuXG4gICAgICBjYXNlIFwiSFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJoaFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuXG4gICAgICBjYXNlIFwiaFwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJtbVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuXG4gICAgICBjYXNlIFwibVwiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJxXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcInFxXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZU9yVHdvKTtcblxuICAgICAgY2FzZSBcInNzXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHR3byk7XG5cbiAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZVRvVGhyZWUpO1xuXG4gICAgICBjYXNlIFwiU1NTXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KHRocmVlKTtcblxuICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgcmV0dXJuIHNpbXBsZShvbmVUb05pbmUpO1xuXG4gICAgICBjYXNlIFwidXVcIjpcbiAgICAgICAgcmV0dXJuIHNpbXBsZShvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJ1dXVcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQob25lKTtcbiAgICAgIC8vIG1lcmlkaWVtXG5cbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIHJldHVybiBvbmVPZihsb2MubWVyaWRpZW1zKCksIDApO1xuICAgICAgLy8gd2Vla1llYXIgKGspXG5cbiAgICAgIGNhc2UgXCJra2trXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KGZvdXIpO1xuXG4gICAgICBjYXNlIFwia2tcIjpcbiAgICAgICAgcmV0dXJuIGludFVuaXQodHdvVG9Gb3VyLCB1bnRydW5jYXRlWWVhcik7XG4gICAgICAvLyB3ZWVrTnVtYmVyIChXKVxuXG4gICAgICBjYXNlIFwiV1wiOlxuICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XG5cbiAgICAgIGNhc2UgXCJXV1wiOlxuICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xuICAgICAgLy8gd2Vla2RheXNcblxuICAgICAgY2FzZSBcIkVcIjpcbiAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgIHJldHVybiBpbnRVbml0KG9uZSk7XG5cbiAgICAgIGNhc2UgXCJFRUVcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy53ZWVrZGF5cyhcInNob3J0XCIsIGZhbHNlLCBmYWxzZSksIDEpO1xuXG4gICAgICBjYXNlIFwiRUVFRVwiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLndlZWtkYXlzKFwibG9uZ1wiLCBmYWxzZSwgZmFsc2UpLCAxKTtcblxuICAgICAgY2FzZSBcImNjY1wiOlxuICAgICAgICByZXR1cm4gb25lT2YobG9jLndlZWtkYXlzKFwic2hvcnRcIiwgdHJ1ZSwgZmFsc2UpLCAxKTtcblxuICAgICAgY2FzZSBcImNjY2NcIjpcbiAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy53ZWVrZGF5cyhcImxvbmdcIiwgdHJ1ZSwgZmFsc2UpLCAxKTtcbiAgICAgIC8vIG9mZnNldC96b25lXG5cbiAgICAgIGNhc2UgXCJaXCI6XG4gICAgICBjYXNlIFwiWlpcIjpcbiAgICAgICAgcmV0dXJuIG9mZnNldChuZXcgUmVnRXhwKFwiKFsrLV1cIiArIG9uZU9yVHdvLnNvdXJjZSArIFwiKSg/OjooXCIgKyB0d28uc291cmNlICsgXCIpKT9cIiksIDIpO1xuXG4gICAgICBjYXNlIFwiWlpaXCI6XG4gICAgICAgIHJldHVybiBvZmZzZXQobmV3IFJlZ0V4cChcIihbKy1dXCIgKyBvbmVPclR3by5zb3VyY2UgKyBcIikoXCIgKyB0d28uc291cmNlICsgXCIpP1wiKSwgMik7XG4gICAgICAvLyB3ZSBkb24ndCBzdXBwb3J0IFpaWlogKFBTVCkgb3IgWlpaWlogKFBhY2lmaWMgU3RhbmRhcmQgVGltZSkgaW4gcGFyc2luZ1xuICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGFueSB3YXkgdG8gZmlndXJlIG91dCB3aGF0IHRoZXkgYXJlXG5cbiAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgIHJldHVybiBzaW1wbGUoL1thLXpfKy0vXXsxLDI1Nn0/L2kpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbGl0ZXJhbCh0KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVuaXQgPSB1bml0YXRlKHRva2VuKSB8fCB7XG4gICAgaW52YWxpZFJlYXNvbjogTUlTU0lOR19GVFBcbiAgfTtcbiAgdW5pdC50b2tlbiA9IHRva2VuO1xuICByZXR1cm4gdW5pdDtcbn1cblxudmFyIHBhcnRUeXBlU3R5bGVUb1Rva2VuVmFsID0ge1xuICB5ZWFyOiB7XG4gICAgXCIyLWRpZ2l0XCI6IFwieXlcIixcbiAgICBudW1lcmljOiBcInl5eXl5XCJcbiAgfSxcbiAgbW9udGg6IHtcbiAgICBudW1lcmljOiBcIk1cIixcbiAgICBcIjItZGlnaXRcIjogXCJNTVwiLFxuICAgIHNob3J0OiBcIk1NTVwiLFxuICAgIGxvbmc6IFwiTU1NTVwiXG4gIH0sXG4gIGRheToge1xuICAgIG51bWVyaWM6IFwiZFwiLFxuICAgIFwiMi1kaWdpdFwiOiBcImRkXCJcbiAgfSxcbiAgd2Vla2RheToge1xuICAgIHNob3J0OiBcIkVFRVwiLFxuICAgIGxvbmc6IFwiRUVFRVwiXG4gIH0sXG4gIGRheXBlcmlvZDogXCJhXCIsXG4gIGRheVBlcmlvZDogXCJhXCIsXG4gIGhvdXI6IHtcbiAgICBudW1lcmljOiBcImhcIixcbiAgICBcIjItZGlnaXRcIjogXCJoaFwiXG4gIH0sXG4gIG1pbnV0ZToge1xuICAgIG51bWVyaWM6IFwibVwiLFxuICAgIFwiMi1kaWdpdFwiOiBcIm1tXCJcbiAgfSxcbiAgc2Vjb25kOiB7XG4gICAgbnVtZXJpYzogXCJzXCIsXG4gICAgXCIyLWRpZ2l0XCI6IFwic3NcIlxuICB9XG59O1xuXG5mdW5jdGlvbiB0b2tlbkZvclBhcnQocGFydCwgbG9jYWxlLCBmb3JtYXRPcHRzKSB7XG4gIHZhciB0eXBlID0gcGFydC50eXBlLFxuICAgICAgdmFsdWUgPSBwYXJ0LnZhbHVlO1xuXG4gIGlmICh0eXBlID09PSBcImxpdGVyYWxcIikge1xuICAgIHJldHVybiB7XG4gICAgICBsaXRlcmFsOiB0cnVlLFxuICAgICAgdmFsOiB2YWx1ZVxuICAgIH07XG4gIH1cblxuICB2YXIgc3R5bGUgPSBmb3JtYXRPcHRzW3R5cGVdO1xuICB2YXIgdmFsID0gcGFydFR5cGVTdHlsZVRvVG9rZW5WYWxbdHlwZV07XG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICB2YWwgPSB2YWxbc3R5bGVdO1xuICB9XG5cbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaXRlcmFsOiBmYWxzZSxcbiAgICAgIHZhbDogdmFsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVnZXgodW5pdHMpIHtcbiAgdmFyIHJlID0gdW5pdHMubWFwKGZ1bmN0aW9uICh1KSB7XG4gICAgcmV0dXJuIHUucmVnZXg7XG4gIH0pLnJlZHVjZShmdW5jdGlvbiAoZiwgcikge1xuICAgIHJldHVybiBmICsgXCIoXCIgKyByLnNvdXJjZSArIFwiKVwiO1xuICB9LCBcIlwiKTtcbiAgcmV0dXJuIFtcIl5cIiArIHJlICsgXCIkXCIsIHVuaXRzXTtcbn1cblxuZnVuY3Rpb24gbWF0Y2goaW5wdXQsIHJlZ2V4LCBoYW5kbGVycykge1xuICB2YXIgbWF0Y2hlcyA9IGlucHV0Lm1hdGNoKHJlZ2V4KTtcblxuICBpZiAobWF0Y2hlcykge1xuICAgIHZhciBhbGwgPSB7fTtcbiAgICB2YXIgbWF0Y2hJbmRleCA9IDE7XG5cbiAgICBmb3IgKHZhciBpIGluIGhhbmRsZXJzKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoaGFuZGxlcnMsIGkpKSB7XG4gICAgICAgIHZhciBoID0gaGFuZGxlcnNbaV0sXG4gICAgICAgICAgICBncm91cHMgPSBoLmdyb3VwcyA/IGguZ3JvdXBzICsgMSA6IDE7XG5cbiAgICAgICAgaWYgKCFoLmxpdGVyYWwgJiYgaC50b2tlbikge1xuICAgICAgICAgIGFsbFtoLnRva2VuLnZhbFswXV0gPSBoLmRlc2VyKG1hdGNoZXMuc2xpY2UobWF0Y2hJbmRleCwgbWF0Y2hJbmRleCArIGdyb3VwcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF0Y2hJbmRleCArPSBncm91cHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFttYXRjaGVzLCBhbGxdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbbWF0Y2hlcywge31dO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRhdGVUaW1lRnJvbU1hdGNoZXMobWF0Y2hlcykge1xuICB2YXIgdG9GaWVsZCA9IGZ1bmN0aW9uIHRvRmllbGQodG9rZW4pIHtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiU1wiOlxuICAgICAgICByZXR1cm4gXCJtaWxsaXNlY29uZFwiO1xuXG4gICAgICBjYXNlIFwic1wiOlxuICAgICAgICByZXR1cm4gXCJzZWNvbmRcIjtcblxuICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgcmV0dXJuIFwibWludXRlXCI7XG5cbiAgICAgIGNhc2UgXCJoXCI6XG4gICAgICBjYXNlIFwiSFwiOlxuICAgICAgICByZXR1cm4gXCJob3VyXCI7XG5cbiAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgIHJldHVybiBcImRheVwiO1xuXG4gICAgICBjYXNlIFwib1wiOlxuICAgICAgICByZXR1cm4gXCJvcmRpbmFsXCI7XG5cbiAgICAgIGNhc2UgXCJMXCI6XG4gICAgICBjYXNlIFwiTVwiOlxuICAgICAgICByZXR1cm4gXCJtb250aFwiO1xuXG4gICAgICBjYXNlIFwieVwiOlxuICAgICAgICByZXR1cm4gXCJ5ZWFyXCI7XG5cbiAgICAgIGNhc2UgXCJFXCI6XG4gICAgICBjYXNlIFwiY1wiOlxuICAgICAgICByZXR1cm4gXCJ3ZWVrZGF5XCI7XG5cbiAgICAgIGNhc2UgXCJXXCI6XG4gICAgICAgIHJldHVybiBcIndlZWtOdW1iZXJcIjtcblxuICAgICAgY2FzZSBcImtcIjpcbiAgICAgICAgcmV0dXJuIFwid2Vla1llYXJcIjtcblxuICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgcmV0dXJuIFwicXVhcnRlclwiO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHpvbmUgPSBudWxsO1xuICB2YXIgc3BlY2lmaWNPZmZzZXQ7XG5cbiAgaWYgKCFpc1VuZGVmaW5lZChtYXRjaGVzLnopKSB7XG4gICAgem9uZSA9IElBTkFab25lLmNyZWF0ZShtYXRjaGVzLnopO1xuICB9XG5cbiAgaWYgKCFpc1VuZGVmaW5lZChtYXRjaGVzLlopKSB7XG4gICAgaWYgKCF6b25lKSB7XG4gICAgICB6b25lID0gbmV3IEZpeGVkT2Zmc2V0Wm9uZShtYXRjaGVzLlopO1xuICAgIH1cblxuICAgIHNwZWNpZmljT2Zmc2V0ID0gbWF0Y2hlcy5aO1xuICB9XG5cbiAgaWYgKCFpc1VuZGVmaW5lZChtYXRjaGVzLnEpKSB7XG4gICAgbWF0Y2hlcy5NID0gKG1hdGNoZXMucSAtIDEpICogMyArIDE7XG4gIH1cblxuICBpZiAoIWlzVW5kZWZpbmVkKG1hdGNoZXMuaCkpIHtcbiAgICBpZiAobWF0Y2hlcy5oIDwgMTIgJiYgbWF0Y2hlcy5hID09PSAxKSB7XG4gICAgICBtYXRjaGVzLmggKz0gMTI7XG4gICAgfSBlbHNlIGlmIChtYXRjaGVzLmggPT09IDEyICYmIG1hdGNoZXMuYSA9PT0gMCkge1xuICAgICAgbWF0Y2hlcy5oID0gMDtcbiAgICB9XG4gIH1cblxuICBpZiAobWF0Y2hlcy5HID09PSAwICYmIG1hdGNoZXMueSkge1xuICAgIG1hdGNoZXMueSA9IC1tYXRjaGVzLnk7XG4gIH1cblxuICBpZiAoIWlzVW5kZWZpbmVkKG1hdGNoZXMudSkpIHtcbiAgICBtYXRjaGVzLlMgPSBwYXJzZU1pbGxpcyhtYXRjaGVzLnUpO1xuICB9XG5cbiAgdmFyIHZhbHMgPSBPYmplY3Qua2V5cyhtYXRjaGVzKS5yZWR1Y2UoZnVuY3Rpb24gKHIsIGspIHtcbiAgICB2YXIgZiA9IHRvRmllbGQoayk7XG5cbiAgICBpZiAoZikge1xuICAgICAgcltmXSA9IG1hdGNoZXNba107XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIFt2YWxzLCB6b25lLCBzcGVjaWZpY09mZnNldF07XG59XG5cbnZhciBkdW1teURhdGVUaW1lQ2FjaGUgPSBudWxsO1xuXG5mdW5jdGlvbiBnZXREdW1teURhdGVUaW1lKCkge1xuICBpZiAoIWR1bW15RGF0ZVRpbWVDYWNoZSkge1xuICAgIGR1bW15RGF0ZVRpbWVDYWNoZSA9IERhdGVUaW1lLmZyb21NaWxsaXMoMTU1NTU1NTU1NTU1NSk7XG4gIH1cblxuICByZXR1cm4gZHVtbXlEYXRlVGltZUNhY2hlO1xufVxuXG5mdW5jdGlvbiBtYXliZUV4cGFuZE1hY3JvVG9rZW4odG9rZW4sIGxvY2FsZSkge1xuICBpZiAodG9rZW4ubGl0ZXJhbCkge1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxuXG4gIHZhciBmb3JtYXRPcHRzID0gRm9ybWF0dGVyLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHModG9rZW4udmFsKTtcblxuICBpZiAoIWZvcm1hdE9wdHMpIHtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cblxuICB2YXIgZm9ybWF0dGVyID0gRm9ybWF0dGVyLmNyZWF0ZShsb2NhbGUsIGZvcm1hdE9wdHMpO1xuICB2YXIgcGFydHMgPSBmb3JtYXR0ZXIuZm9ybWF0RGF0ZVRpbWVQYXJ0cyhnZXREdW1teURhdGVUaW1lKCkpO1xuICB2YXIgdG9rZW5zID0gcGFydHMubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIHRva2VuRm9yUGFydChwLCBsb2NhbGUsIGZvcm1hdE9wdHMpO1xuICB9KTtcblxuICBpZiAodG9rZW5zLmluY2x1ZGVzKHVuZGVmaW5lZCkpIHtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5mdW5jdGlvbiBleHBhbmRNYWNyb1Rva2Vucyh0b2tlbnMsIGxvY2FsZSkge1xuICB2YXIgX0FycmF5JHByb3RvdHlwZTtcblxuICByZXR1cm4gKF9BcnJheSRwcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGUpLmNvbmNhdC5hcHBseShfQXJyYXkkcHJvdG90eXBlLCB0b2tlbnMubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIG1heWJlRXhwYW5kTWFjcm9Ub2tlbih0LCBsb2NhbGUpO1xuICB9KSk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBleHBsYWluRnJvbVRva2Vucyhsb2NhbGUsIGlucHV0LCBmb3JtYXQpIHtcbiAgdmFyIHRva2VucyA9IGV4cGFuZE1hY3JvVG9rZW5zKEZvcm1hdHRlci5wYXJzZUZvcm1hdChmb3JtYXQpLCBsb2NhbGUpLFxuICAgICAgdW5pdHMgPSB0b2tlbnMubWFwKGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIHVuaXRGb3JUb2tlbih0LCBsb2NhbGUpO1xuICB9KSxcbiAgICAgIGRpc3F1YWxpZnlpbmdVbml0ID0gdW5pdHMuZmluZChmdW5jdGlvbiAodCkge1xuICAgIHJldHVybiB0LmludmFsaWRSZWFzb247XG4gIH0pO1xuXG4gIGlmIChkaXNxdWFsaWZ5aW5nVW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dDogaW5wdXQsXG4gICAgICB0b2tlbnM6IHRva2VucyxcbiAgICAgIGludmFsaWRSZWFzb246IGRpc3F1YWxpZnlpbmdVbml0LmludmFsaWRSZWFzb25cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfYnVpbGRSZWdleCA9IGJ1aWxkUmVnZXgodW5pdHMpLFxuICAgICAgICByZWdleFN0cmluZyA9IF9idWlsZFJlZ2V4WzBdLFxuICAgICAgICBoYW5kbGVycyA9IF9idWlsZFJlZ2V4WzFdLFxuICAgICAgICByZWdleCA9IFJlZ0V4cChyZWdleFN0cmluZywgXCJpXCIpLFxuICAgICAgICBfbWF0Y2ggPSBtYXRjaChpbnB1dCwgcmVnZXgsIGhhbmRsZXJzKSxcbiAgICAgICAgcmF3TWF0Y2hlcyA9IF9tYXRjaFswXSxcbiAgICAgICAgbWF0Y2hlcyA9IF9tYXRjaFsxXSxcbiAgICAgICAgX3JlZjYgPSBtYXRjaGVzID8gZGF0ZVRpbWVGcm9tTWF0Y2hlcyhtYXRjaGVzKSA6IFtudWxsLCBudWxsLCB1bmRlZmluZWRdLFxuICAgICAgICByZXN1bHQgPSBfcmVmNlswXSxcbiAgICAgICAgem9uZSA9IF9yZWY2WzFdLFxuICAgICAgICBzcGVjaWZpY09mZnNldCA9IF9yZWY2WzJdO1xuXG4gICAgaWYgKGhhc093blByb3BlcnR5KG1hdGNoZXMsIFwiYVwiKSAmJiBoYXNPd25Qcm9wZXJ0eShtYXRjaGVzLCBcIkhcIikpIHtcbiAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcIkNhbid0IGluY2x1ZGUgbWVyaWRpZW0gd2hlbiBzcGVjaWZ5aW5nIDI0LWhvdXIgZm9ybWF0XCIpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpbnB1dDogaW5wdXQsXG4gICAgICB0b2tlbnM6IHRva2VucyxcbiAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgIHJhd01hdGNoZXM6IHJhd01hdGNoZXMsXG4gICAgICBtYXRjaGVzOiBtYXRjaGVzLFxuICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICB6b25lOiB6b25lLFxuICAgICAgc3BlY2lmaWNPZmZzZXQ6IHNwZWNpZmljT2Zmc2V0XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VGcm9tVG9rZW5zKGxvY2FsZSwgaW5wdXQsIGZvcm1hdCkge1xuICB2YXIgX2V4cGxhaW5Gcm9tVG9rZW5zID0gZXhwbGFpbkZyb21Ub2tlbnMobG9jYWxlLCBpbnB1dCwgZm9ybWF0KSxcbiAgICAgIHJlc3VsdCA9IF9leHBsYWluRnJvbVRva2Vucy5yZXN1bHQsXG4gICAgICB6b25lID0gX2V4cGxhaW5Gcm9tVG9rZW5zLnpvbmUsXG4gICAgICBzcGVjaWZpY09mZnNldCA9IF9leHBsYWluRnJvbVRva2Vucy5zcGVjaWZpY09mZnNldCxcbiAgICAgIGludmFsaWRSZWFzb24gPSBfZXhwbGFpbkZyb21Ub2tlbnMuaW52YWxpZFJlYXNvbjtcblxuICByZXR1cm4gW3Jlc3VsdCwgem9uZSwgc3BlY2lmaWNPZmZzZXQsIGludmFsaWRSZWFzb25dO1xufVxuXG52YXIgbm9uTGVhcExhZGRlciA9IFswLCAzMSwgNTksIDkwLCAxMjAsIDE1MSwgMTgxLCAyMTIsIDI0MywgMjczLCAzMDQsIDMzNF0sXG4gICAgbGVhcExhZGRlciA9IFswLCAzMSwgNjAsIDkxLCAxMjEsIDE1MiwgMTgyLCAyMTMsIDI0NCwgMjc0LCAzMDUsIDMzNV07XG5cbmZ1bmN0aW9uIHVuaXRPdXRPZlJhbmdlKHVuaXQsIHZhbHVlKSB7XG4gIHJldHVybiBuZXcgSW52YWxpZChcInVuaXQgb3V0IG9mIHJhbmdlXCIsIFwieW91IHNwZWNpZmllZCBcIiArIHZhbHVlICsgXCIgKG9mIHR5cGUgXCIgKyB0eXBlb2YgdmFsdWUgKyBcIikgYXMgYSBcIiArIHVuaXQgKyBcIiwgd2hpY2ggaXMgaW52YWxpZFwiKTtcbn1cblxuZnVuY3Rpb24gZGF5T2ZXZWVrKHllYXIsIG1vbnRoLCBkYXkpIHtcbiAgdmFyIGpzID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggLSAxLCBkYXkpKS5nZXRVVENEYXkoKTtcbiAgcmV0dXJuIGpzID09PSAwID8gNyA6IGpzO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlT3JkaW5hbCh5ZWFyLCBtb250aCwgZGF5KSB7XG4gIHJldHVybiBkYXkgKyAoaXNMZWFwWWVhcih5ZWFyKSA/IGxlYXBMYWRkZXIgOiBub25MZWFwTGFkZGVyKVttb250aCAtIDFdO1xufVxuXG5mdW5jdGlvbiB1bmNvbXB1dGVPcmRpbmFsKHllYXIsIG9yZGluYWwpIHtcbiAgdmFyIHRhYmxlID0gaXNMZWFwWWVhcih5ZWFyKSA/IGxlYXBMYWRkZXIgOiBub25MZWFwTGFkZGVyLFxuICAgICAgbW9udGgwID0gdGFibGUuZmluZEluZGV4KGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIGkgPCBvcmRpbmFsO1xuICB9KSxcbiAgICAgIGRheSA9IG9yZGluYWwgLSB0YWJsZVttb250aDBdO1xuICByZXR1cm4ge1xuICAgIG1vbnRoOiBtb250aDAgKyAxLFxuICAgIGRheTogZGF5XG4gIH07XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBncmVnb3JpYW5Ub1dlZWsoZ3JlZ09iaikge1xuICB2YXIgeWVhciA9IGdyZWdPYmoueWVhcixcbiAgICAgIG1vbnRoID0gZ3JlZ09iai5tb250aCxcbiAgICAgIGRheSA9IGdyZWdPYmouZGF5LFxuICAgICAgb3JkaW5hbCA9IGNvbXB1dGVPcmRpbmFsKHllYXIsIG1vbnRoLCBkYXkpLFxuICAgICAgd2Vla2RheSA9IGRheU9mV2Vlayh5ZWFyLCBtb250aCwgZGF5KTtcbiAgdmFyIHdlZWtOdW1iZXIgPSBNYXRoLmZsb29yKChvcmRpbmFsIC0gd2Vla2RheSArIDEwKSAvIDcpLFxuICAgICAgd2Vla1llYXI7XG5cbiAgaWYgKHdlZWtOdW1iZXIgPCAxKSB7XG4gICAgd2Vla1llYXIgPSB5ZWFyIC0gMTtcbiAgICB3ZWVrTnVtYmVyID0gd2Vla3NJbldlZWtZZWFyKHdlZWtZZWFyKTtcbiAgfSBlbHNlIGlmICh3ZWVrTnVtYmVyID4gd2Vla3NJbldlZWtZZWFyKHllYXIpKSB7XG4gICAgd2Vla1llYXIgPSB5ZWFyICsgMTtcbiAgICB3ZWVrTnVtYmVyID0gMTtcbiAgfSBlbHNlIHtcbiAgICB3ZWVrWWVhciA9IHllYXI7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHdlZWtZZWFyOiB3ZWVrWWVhcixcbiAgICB3ZWVrTnVtYmVyOiB3ZWVrTnVtYmVyLFxuICAgIHdlZWtkYXk6IHdlZWtkYXlcbiAgfSwgdGltZU9iamVjdChncmVnT2JqKSk7XG59XG5mdW5jdGlvbiB3ZWVrVG9HcmVnb3JpYW4od2Vla0RhdGEpIHtcbiAgdmFyIHdlZWtZZWFyID0gd2Vla0RhdGEud2Vla1llYXIsXG4gICAgICB3ZWVrTnVtYmVyID0gd2Vla0RhdGEud2Vla051bWJlcixcbiAgICAgIHdlZWtkYXkgPSB3ZWVrRGF0YS53ZWVrZGF5LFxuICAgICAgd2Vla2RheU9mSmFuNCA9IGRheU9mV2Vlayh3ZWVrWWVhciwgMSwgNCksXG4gICAgICB5ZWFySW5EYXlzID0gZGF5c0luWWVhcih3ZWVrWWVhcik7XG4gIHZhciBvcmRpbmFsID0gd2Vla051bWJlciAqIDcgKyB3ZWVrZGF5IC0gd2Vla2RheU9mSmFuNCAtIDMsXG4gICAgICB5ZWFyO1xuXG4gIGlmIChvcmRpbmFsIDwgMSkge1xuICAgIHllYXIgPSB3ZWVrWWVhciAtIDE7XG4gICAgb3JkaW5hbCArPSBkYXlzSW5ZZWFyKHllYXIpO1xuICB9IGVsc2UgaWYgKG9yZGluYWwgPiB5ZWFySW5EYXlzKSB7XG4gICAgeWVhciA9IHdlZWtZZWFyICsgMTtcbiAgICBvcmRpbmFsIC09IGRheXNJblllYXIod2Vla1llYXIpO1xuICB9IGVsc2Uge1xuICAgIHllYXIgPSB3ZWVrWWVhcjtcbiAgfVxuXG4gIHZhciBfdW5jb21wdXRlT3JkaW5hbCA9IHVuY29tcHV0ZU9yZGluYWwoeWVhciwgb3JkaW5hbCksXG4gICAgICBtb250aCA9IF91bmNvbXB1dGVPcmRpbmFsLm1vbnRoLFxuICAgICAgZGF5ID0gX3VuY29tcHV0ZU9yZGluYWwuZGF5O1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgeWVhcjogeWVhcixcbiAgICBtb250aDogbW9udGgsXG4gICAgZGF5OiBkYXlcbiAgfSwgdGltZU9iamVjdCh3ZWVrRGF0YSkpO1xufVxuZnVuY3Rpb24gZ3JlZ29yaWFuVG9PcmRpbmFsKGdyZWdEYXRhKSB7XG4gIHZhciB5ZWFyID0gZ3JlZ0RhdGEueWVhcixcbiAgICAgIG1vbnRoID0gZ3JlZ0RhdGEubW9udGgsXG4gICAgICBkYXkgPSBncmVnRGF0YS5kYXk7XG4gIHZhciBvcmRpbmFsID0gY29tcHV0ZU9yZGluYWwoeWVhciwgbW9udGgsIGRheSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgeWVhcjogeWVhcixcbiAgICBvcmRpbmFsOiBvcmRpbmFsXG4gIH0sIHRpbWVPYmplY3QoZ3JlZ0RhdGEpKTtcbn1cbmZ1bmN0aW9uIG9yZGluYWxUb0dyZWdvcmlhbihvcmRpbmFsRGF0YSkge1xuICB2YXIgeWVhciA9IG9yZGluYWxEYXRhLnllYXIsXG4gICAgICBvcmRpbmFsID0gb3JkaW5hbERhdGEub3JkaW5hbDtcblxuICB2YXIgX3VuY29tcHV0ZU9yZGluYWwyID0gdW5jb21wdXRlT3JkaW5hbCh5ZWFyLCBvcmRpbmFsKSxcbiAgICAgIG1vbnRoID0gX3VuY29tcHV0ZU9yZGluYWwyLm1vbnRoLFxuICAgICAgZGF5ID0gX3VuY29tcHV0ZU9yZGluYWwyLmRheTtcblxuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHllYXI6IHllYXIsXG4gICAgbW9udGg6IG1vbnRoLFxuICAgIGRheTogZGF5XG4gIH0sIHRpbWVPYmplY3Qob3JkaW5hbERhdGEpKTtcbn1cbmZ1bmN0aW9uIGhhc0ludmFsaWRXZWVrRGF0YShvYmopIHtcbiAgdmFyIHZhbGlkWWVhciA9IGlzSW50ZWdlcihvYmoud2Vla1llYXIpLFxuICAgICAgdmFsaWRXZWVrID0gaW50ZWdlckJldHdlZW4ob2JqLndlZWtOdW1iZXIsIDEsIHdlZWtzSW5XZWVrWWVhcihvYmoud2Vla1llYXIpKSxcbiAgICAgIHZhbGlkV2Vla2RheSA9IGludGVnZXJCZXR3ZWVuKG9iai53ZWVrZGF5LCAxLCA3KTtcblxuICBpZiAoIXZhbGlkWWVhcikge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIndlZWtZZWFyXCIsIG9iai53ZWVrWWVhcik7XG4gIH0gZWxzZSBpZiAoIXZhbGlkV2Vlaykge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIndlZWtcIiwgb2JqLndlZWspO1xuICB9IGVsc2UgaWYgKCF2YWxpZFdlZWtkYXkpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ3ZWVrZGF5XCIsIG9iai53ZWVrZGF5KTtcbiAgfSBlbHNlIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc0ludmFsaWRPcmRpbmFsRGF0YShvYmopIHtcbiAgdmFyIHZhbGlkWWVhciA9IGlzSW50ZWdlcihvYmoueWVhciksXG4gICAgICB2YWxpZE9yZGluYWwgPSBpbnRlZ2VyQmV0d2VlbihvYmoub3JkaW5hbCwgMSwgZGF5c0luWWVhcihvYmoueWVhcikpO1xuXG4gIGlmICghdmFsaWRZZWFyKSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwieWVhclwiLCBvYmoueWVhcik7XG4gIH0gZWxzZSBpZiAoIXZhbGlkT3JkaW5hbCkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIm9yZGluYWxcIiwgb2JqLm9yZGluYWwpO1xuICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzSW52YWxpZEdyZWdvcmlhbkRhdGEob2JqKSB7XG4gIHZhciB2YWxpZFllYXIgPSBpc0ludGVnZXIob2JqLnllYXIpLFxuICAgICAgdmFsaWRNb250aCA9IGludGVnZXJCZXR3ZWVuKG9iai5tb250aCwgMSwgMTIpLFxuICAgICAgdmFsaWREYXkgPSBpbnRlZ2VyQmV0d2VlbihvYmouZGF5LCAxLCBkYXlzSW5Nb250aChvYmoueWVhciwgb2JqLm1vbnRoKSk7XG5cbiAgaWYgKCF2YWxpZFllYXIpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ5ZWFyXCIsIG9iai55ZWFyKTtcbiAgfSBlbHNlIGlmICghdmFsaWRNb250aCkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIm1vbnRoXCIsIG9iai5tb250aCk7XG4gIH0gZWxzZSBpZiAoIXZhbGlkRGF5KSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwiZGF5XCIsIG9iai5kYXkpO1xuICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzSW52YWxpZFRpbWVEYXRhKG9iaikge1xuICB2YXIgaG91ciA9IG9iai5ob3VyLFxuICAgICAgbWludXRlID0gb2JqLm1pbnV0ZSxcbiAgICAgIHNlY29uZCA9IG9iai5zZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZCA9IG9iai5taWxsaXNlY29uZDtcbiAgdmFyIHZhbGlkSG91ciA9IGludGVnZXJCZXR3ZWVuKGhvdXIsIDAsIDIzKSB8fCBob3VyID09PSAyNCAmJiBtaW51dGUgPT09IDAgJiYgc2Vjb25kID09PSAwICYmIG1pbGxpc2Vjb25kID09PSAwLFxuICAgICAgdmFsaWRNaW51dGUgPSBpbnRlZ2VyQmV0d2VlbihtaW51dGUsIDAsIDU5KSxcbiAgICAgIHZhbGlkU2Vjb25kID0gaW50ZWdlckJldHdlZW4oc2Vjb25kLCAwLCA1OSksXG4gICAgICB2YWxpZE1pbGxpc2Vjb25kID0gaW50ZWdlckJldHdlZW4obWlsbGlzZWNvbmQsIDAsIDk5OSk7XG5cbiAgaWYgKCF2YWxpZEhvdXIpIHtcbiAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJob3VyXCIsIGhvdXIpO1xuICB9IGVsc2UgaWYgKCF2YWxpZE1pbnV0ZSkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIm1pbnV0ZVwiLCBtaW51dGUpO1xuICB9IGVsc2UgaWYgKCF2YWxpZFNlY29uZCkge1xuICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcInNlY29uZFwiLCBzZWNvbmQpO1xuICB9IGVsc2UgaWYgKCF2YWxpZE1pbGxpc2Vjb25kKSB7XG4gICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwibWlsbGlzZWNvbmRcIiwgbWlsbGlzZWNvbmQpO1xuICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgSU5WQUxJRCA9IFwiSW52YWxpZCBEYXRlVGltZVwiO1xudmFyIE1BWF9EQVRFID0gOC42NGUxNTtcblxuZnVuY3Rpb24gdW5zdXBwb3J0ZWRab25lKHpvbmUpIHtcbiAgcmV0dXJuIG5ldyBJbnZhbGlkKFwidW5zdXBwb3J0ZWQgem9uZVwiLCBcInRoZSB6b25lIFxcXCJcIiArIHpvbmUubmFtZSArIFwiXFxcIiBpcyBub3Qgc3VwcG9ydGVkXCIpO1xufSAvLyB3ZSBjYWNoZSB3ZWVrIGRhdGEgb24gdGhlIERUIG9iamVjdCBhbmQgdGhpcyBpbnRlcm1lZGlhdGVzIHRoZSBjYWNoZVxuXG5cbmZ1bmN0aW9uIHBvc3NpYmx5Q2FjaGVkV2Vla0RhdGEoZHQpIHtcbiAgaWYgKGR0LndlZWtEYXRhID09PSBudWxsKSB7XG4gICAgZHQud2Vla0RhdGEgPSBncmVnb3JpYW5Ub1dlZWsoZHQuYyk7XG4gIH1cblxuICByZXR1cm4gZHQud2Vla0RhdGE7XG59IC8vIGNsb25lIHJlYWxseSBtZWFucywgXCJtYWtlIGEgbmV3IG9iamVjdCB3aXRoIHRoZXNlIG1vZGlmaWNhdGlvbnNcIi4gYWxsIFwic2V0dGVyc1wiIHJlYWxseSB1c2UgdGhpc1xuLy8gdG8gY3JlYXRlIGEgbmV3IG9iamVjdCB3aGlsZSBvbmx5IGNoYW5naW5nIHNvbWUgb2YgdGhlIHByb3BlcnRpZXNcblxuXG5mdW5jdGlvbiBjbG9uZShpbnN0LCBhbHRzKSB7XG4gIHZhciBjdXJyZW50ID0ge1xuICAgIHRzOiBpbnN0LnRzLFxuICAgIHpvbmU6IGluc3Quem9uZSxcbiAgICBjOiBpbnN0LmMsXG4gICAgbzogaW5zdC5vLFxuICAgIGxvYzogaW5zdC5sb2MsXG4gICAgaW52YWxpZDogaW5zdC5pbnZhbGlkXG4gIH07XG4gIHJldHVybiBuZXcgRGF0ZVRpbWUoX2V4dGVuZHMoe30sIGN1cnJlbnQsIGFsdHMsIHtcbiAgICBvbGQ6IGN1cnJlbnRcbiAgfSkpO1xufSAvLyBmaW5kIHRoZSByaWdodCBvZmZzZXQgYSBnaXZlbiBsb2NhbCB0aW1lLiBUaGUgbyBpbnB1dCBpcyBvdXIgZ3Vlc3MsIHdoaWNoIGRldGVybWluZXMgd2hpY2hcbi8vIG9mZnNldCB3ZSdsbCBwaWNrIGluIGFtYmlndW91cyBjYXNlcyAoZS5nLiB0aGVyZSBhcmUgdHdvIDMgQU1zIGIvYyBGYWxsYmFjayBEU1QpXG5cblxuZnVuY3Rpb24gZml4T2Zmc2V0KGxvY2FsVFMsIG8sIHR6KSB7XG4gIC8vIE91ciBVVEMgdGltZSBpcyBqdXN0IGEgZ3Vlc3MgYmVjYXVzZSBvdXIgb2Zmc2V0IGlzIGp1c3QgYSBndWVzc1xuICB2YXIgdXRjR3Vlc3MgPSBsb2NhbFRTIC0gbyAqIDYwICogMTAwMDsgLy8gVGVzdCB3aGV0aGVyIHRoZSB6b25lIG1hdGNoZXMgdGhlIG9mZnNldCBmb3IgdGhpcyB0c1xuXG4gIHZhciBvMiA9IHR6Lm9mZnNldCh1dGNHdWVzcyk7IC8vIElmIHNvLCBvZmZzZXQgZGlkbid0IGNoYW5nZSBhbmQgd2UncmUgZG9uZVxuXG4gIGlmIChvID09PSBvMikge1xuICAgIHJldHVybiBbdXRjR3Vlc3MsIG9dO1xuICB9IC8vIElmIG5vdCwgY2hhbmdlIHRoZSB0cyBieSB0aGUgZGlmZmVyZW5jZSBpbiB0aGUgb2Zmc2V0XG5cblxuICB1dGNHdWVzcyAtPSAobzIgLSBvKSAqIDYwICogMTAwMDsgLy8gSWYgdGhhdCBnaXZlcyB1cyB0aGUgbG9jYWwgdGltZSB3ZSB3YW50LCB3ZSdyZSBkb25lXG5cbiAgdmFyIG8zID0gdHoub2Zmc2V0KHV0Y0d1ZXNzKTtcblxuICBpZiAobzIgPT09IG8zKSB7XG4gICAgcmV0dXJuIFt1dGNHdWVzcywgbzJdO1xuICB9IC8vIElmIGl0J3MgZGlmZmVyZW50LCB3ZSdyZSBpbiBhIGhvbGUgdGltZS4gVGhlIG9mZnNldCBoYXMgY2hhbmdlZCwgYnV0IHRoZSB3ZSBkb24ndCBhZGp1c3QgdGhlIHRpbWVcblxuXG4gIHJldHVybiBbbG9jYWxUUyAtIE1hdGgubWluKG8yLCBvMykgKiA2MCAqIDEwMDAsIE1hdGgubWF4KG8yLCBvMyldO1xufSAvLyBjb252ZXJ0IGFuIGVwb2NoIHRpbWVzdGFtcCBpbnRvIGEgY2FsZW5kYXIgb2JqZWN0IHdpdGggdGhlIGdpdmVuIG9mZnNldFxuXG5cbmZ1bmN0aW9uIHRzVG9PYmoodHMsIG9mZnNldCkge1xuICB0cyArPSBvZmZzZXQgKiA2MCAqIDEwMDA7XG4gIHZhciBkID0gbmV3IERhdGUodHMpO1xuICByZXR1cm4ge1xuICAgIHllYXI6IGQuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICBtb250aDogZC5nZXRVVENNb250aCgpICsgMSxcbiAgICBkYXk6IGQuZ2V0VVRDRGF0ZSgpLFxuICAgIGhvdXI6IGQuZ2V0VVRDSG91cnMoKSxcbiAgICBtaW51dGU6IGQuZ2V0VVRDTWludXRlcygpLFxuICAgIHNlY29uZDogZC5nZXRVVENTZWNvbmRzKCksXG4gICAgbWlsbGlzZWNvbmQ6IGQuZ2V0VVRDTWlsbGlzZWNvbmRzKClcbiAgfTtcbn0gLy8gY29udmVydCBhIGNhbGVuZGFyIG9iamVjdCB0byBhIGVwb2NoIHRpbWVzdGFtcFxuXG5cbmZ1bmN0aW9uIG9ialRvVFMob2JqLCBvZmZzZXQsIHpvbmUpIHtcbiAgcmV0dXJuIGZpeE9mZnNldChvYmpUb0xvY2FsVFMob2JqKSwgb2Zmc2V0LCB6b25lKTtcbn0gLy8gY3JlYXRlIGEgbmV3IERUIGluc3RhbmNlIGJ5IGFkZGluZyBhIGR1cmF0aW9uLCBhZGp1c3RpbmcgZm9yIERTVHNcblxuXG5mdW5jdGlvbiBhZGp1c3RUaW1lKGluc3QsIGR1cikge1xuICB2YXIgb1ByZSA9IGluc3QubyxcbiAgICAgIHllYXIgPSBpbnN0LmMueWVhciArIE1hdGgudHJ1bmMoZHVyLnllYXJzKSxcbiAgICAgIG1vbnRoID0gaW5zdC5jLm1vbnRoICsgTWF0aC50cnVuYyhkdXIubW9udGhzKSArIE1hdGgudHJ1bmMoZHVyLnF1YXJ0ZXJzKSAqIDMsXG4gICAgICBjID0gX2V4dGVuZHMoe30sIGluc3QuYywge1xuICAgIHllYXI6IHllYXIsXG4gICAgbW9udGg6IG1vbnRoLFxuICAgIGRheTogTWF0aC5taW4oaW5zdC5jLmRheSwgZGF5c0luTW9udGgoeWVhciwgbW9udGgpKSArIE1hdGgudHJ1bmMoZHVyLmRheXMpICsgTWF0aC50cnVuYyhkdXIud2Vla3MpICogN1xuICB9KSxcbiAgICAgIG1pbGxpc1RvQWRkID0gRHVyYXRpb24uZnJvbU9iamVjdCh7XG4gICAgeWVhcnM6IGR1ci55ZWFycyAtIE1hdGgudHJ1bmMoZHVyLnllYXJzKSxcbiAgICBxdWFydGVyczogZHVyLnF1YXJ0ZXJzIC0gTWF0aC50cnVuYyhkdXIucXVhcnRlcnMpLFxuICAgIG1vbnRoczogZHVyLm1vbnRocyAtIE1hdGgudHJ1bmMoZHVyLm1vbnRocyksXG4gICAgd2Vla3M6IGR1ci53ZWVrcyAtIE1hdGgudHJ1bmMoZHVyLndlZWtzKSxcbiAgICBkYXlzOiBkdXIuZGF5cyAtIE1hdGgudHJ1bmMoZHVyLmRheXMpLFxuICAgIGhvdXJzOiBkdXIuaG91cnMsXG4gICAgbWludXRlczogZHVyLm1pbnV0ZXMsXG4gICAgc2Vjb25kczogZHVyLnNlY29uZHMsXG4gICAgbWlsbGlzZWNvbmRzOiBkdXIubWlsbGlzZWNvbmRzXG4gIH0pLmFzKFwibWlsbGlzZWNvbmRzXCIpLFxuICAgICAgbG9jYWxUUyA9IG9ialRvTG9jYWxUUyhjKTtcblxuICB2YXIgX2ZpeE9mZnNldCA9IGZpeE9mZnNldChsb2NhbFRTLCBvUHJlLCBpbnN0LnpvbmUpLFxuICAgICAgdHMgPSBfZml4T2Zmc2V0WzBdLFxuICAgICAgbyA9IF9maXhPZmZzZXRbMV07XG5cbiAgaWYgKG1pbGxpc1RvQWRkICE9PSAwKSB7XG4gICAgdHMgKz0gbWlsbGlzVG9BZGQ7IC8vIHRoYXQgY291bGQgaGF2ZSBjaGFuZ2VkIHRoZSBvZmZzZXQgYnkgZ29pbmcgb3ZlciBhIERTVCwgYnV0IHdlIHdhbnQgdG8ga2VlcCB0aGUgdHMgdGhlIHNhbWVcblxuICAgIG8gPSBpbnN0LnpvbmUub2Zmc2V0KHRzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHM6IHRzLFxuICAgIG86IG9cbiAgfTtcbn0gLy8gaGVscGVyIHVzZWZ1bCBpbiB0dXJuaW5nIHRoZSByZXN1bHRzIG9mIHBhcnNpbmcgaW50byByZWFsIGRhdGVzXG4vLyBieSBoYW5kbGluZyB0aGUgem9uZSBvcHRpb25zXG5cblxuZnVuY3Rpb24gcGFyc2VEYXRhVG9EYXRlVGltZShwYXJzZWQsIHBhcnNlZFpvbmUsIG9wdHMsIGZvcm1hdCwgdGV4dCwgc3BlY2lmaWNPZmZzZXQpIHtcbiAgdmFyIHNldFpvbmUgPSBvcHRzLnNldFpvbmUsXG4gICAgICB6b25lID0gb3B0cy56b25lO1xuXG4gIGlmIChwYXJzZWQgJiYgT2JqZWN0LmtleXMocGFyc2VkKS5sZW5ndGggIT09IDApIHtcbiAgICB2YXIgaW50ZXJwcmV0YXRpb25ab25lID0gcGFyc2VkWm9uZSB8fCB6b25lLFxuICAgICAgICBpbnN0ID0gRGF0ZVRpbWUuZnJvbU9iamVjdChwYXJzZWQsIF9leHRlbmRzKHt9LCBvcHRzLCB7XG4gICAgICB6b25lOiBpbnRlcnByZXRhdGlvblpvbmUsXG4gICAgICBzcGVjaWZpY09mZnNldDogc3BlY2lmaWNPZmZzZXRcbiAgICB9KSk7XG4gICAgcmV0dXJuIHNldFpvbmUgPyBpbnN0IDogaW5zdC5zZXRab25lKHpvbmUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBEYXRlVGltZS5pbnZhbGlkKG5ldyBJbnZhbGlkKFwidW5wYXJzYWJsZVwiLCBcInRoZSBpbnB1dCBcXFwiXCIgKyB0ZXh0ICsgXCJcXFwiIGNhbid0IGJlIHBhcnNlZCBhcyBcIiArIGZvcm1hdCkpO1xuICB9XG59IC8vIGlmIHlvdSB3YW50IHRvIG91dHB1dCBhIHRlY2huaWNhbCBmb3JtYXQgKGUuZy4gUkZDIDI4MjIpLCB0aGlzIGhlbHBlclxuLy8gaGVscHMgaGFuZGxlIHRoZSBkZXRhaWxzXG5cblxuZnVuY3Rpb24gdG9UZWNoRm9ybWF0KGR0LCBmb3JtYXQsIGFsbG93Wikge1xuICBpZiAoYWxsb3daID09PSB2b2lkIDApIHtcbiAgICBhbGxvd1ogPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGR0LmlzVmFsaWQgPyBGb3JtYXR0ZXIuY3JlYXRlKExvY2FsZS5jcmVhdGUoXCJlbi1VU1wiKSwge1xuICAgIGFsbG93WjogYWxsb3daLFxuICAgIGZvcmNlU2ltcGxlOiB0cnVlXG4gIH0pLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhkdCwgZm9ybWF0KSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIF90b0lTT0RhdGUobywgZXh0ZW5kZWQpIHtcbiAgdmFyIGxvbmdGb3JtYXQgPSBvLmMueWVhciA+IDk5OTkgfHwgby5jLnllYXIgPCAwO1xuICB2YXIgYyA9IFwiXCI7XG4gIGlmIChsb25nRm9ybWF0ICYmIG8uYy55ZWFyID49IDApIGMgKz0gXCIrXCI7XG4gIGMgKz0gcGFkU3RhcnQoby5jLnllYXIsIGxvbmdGb3JtYXQgPyA2IDogNCk7XG5cbiAgaWYgKGV4dGVuZGVkKSB7XG4gICAgYyArPSBcIi1cIjtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5tb250aCk7XG4gICAgYyArPSBcIi1cIjtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5kYXkpO1xuICB9IGVsc2Uge1xuICAgIGMgKz0gcGFkU3RhcnQoby5jLm1vbnRoKTtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5kYXkpO1xuICB9XG5cbiAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIF90b0lTT1RpbWUobywgZXh0ZW5kZWQsIHN1cHByZXNzU2Vjb25kcywgc3VwcHJlc3NNaWxsaXNlY29uZHMsIGluY2x1ZGVPZmZzZXQpIHtcbiAgdmFyIGMgPSBwYWRTdGFydChvLmMuaG91cik7XG5cbiAgaWYgKGV4dGVuZGVkKSB7XG4gICAgYyArPSBcIjpcIjtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5taW51dGUpO1xuXG4gICAgaWYgKG8uYy5zZWNvbmQgIT09IDAgfHwgIXN1cHByZXNzU2Vjb25kcykge1xuICAgICAgYyArPSBcIjpcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYyArPSBwYWRTdGFydChvLmMubWludXRlKTtcbiAgfVxuXG4gIGlmIChvLmMuc2Vjb25kICE9PSAwIHx8ICFzdXBwcmVzc1NlY29uZHMpIHtcbiAgICBjICs9IHBhZFN0YXJ0KG8uYy5zZWNvbmQpO1xuXG4gICAgaWYgKG8uYy5taWxsaXNlY29uZCAhPT0gMCB8fCAhc3VwcHJlc3NNaWxsaXNlY29uZHMpIHtcbiAgICAgIGMgKz0gXCIuXCI7XG4gICAgICBjICs9IHBhZFN0YXJ0KG8uYy5taWxsaXNlY29uZCwgMyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGluY2x1ZGVPZmZzZXQpIHtcbiAgICBpZiAoby5pc09mZnNldEZpeGVkICYmIG8ub2Zmc2V0ID09PSAwKSB7XG4gICAgICBjICs9IFwiWlwiO1xuICAgIH0gZWxzZSBpZiAoby5vIDwgMCkge1xuICAgICAgYyArPSBcIi1cIjtcbiAgICAgIGMgKz0gcGFkU3RhcnQoTWF0aC50cnVuYygtby5vIC8gNjApKTtcbiAgICAgIGMgKz0gXCI6XCI7XG4gICAgICBjICs9IHBhZFN0YXJ0KE1hdGgudHJ1bmMoLW8ubyAlIDYwKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgKz0gXCIrXCI7XG4gICAgICBjICs9IHBhZFN0YXJ0KE1hdGgudHJ1bmMoby5vIC8gNjApKTtcbiAgICAgIGMgKz0gXCI6XCI7XG4gICAgICBjICs9IHBhZFN0YXJ0KE1hdGgudHJ1bmMoby5vICUgNjApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYztcbn0gLy8gZGVmYXVsdHMgZm9yIHVuc3BlY2lmaWVkIHVuaXRzIGluIHRoZSBzdXBwb3J0ZWQgY2FsZW5kYXJzXG5cblxudmFyIGRlZmF1bHRVbml0VmFsdWVzID0ge1xuICBtb250aDogMSxcbiAgZGF5OiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn0sXG4gICAgZGVmYXVsdFdlZWtVbml0VmFsdWVzID0ge1xuICB3ZWVrTnVtYmVyOiAxLFxuICB3ZWVrZGF5OiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn0sXG4gICAgZGVmYXVsdE9yZGluYWxVbml0VmFsdWVzID0ge1xuICBvcmRpbmFsOiAxLFxuICBob3VyOiAwLFxuICBtaW51dGU6IDAsXG4gIHNlY29uZDogMCxcbiAgbWlsbGlzZWNvbmQ6IDBcbn07IC8vIFVuaXRzIGluIHRoZSBzdXBwb3J0ZWQgY2FsZW5kYXJzLCBzb3J0ZWQgYnkgYmlnbmVzc1xuXG52YXIgb3JkZXJlZFVuaXRzID0gW1wieWVhclwiLCBcIm1vbnRoXCIsIFwiZGF5XCIsIFwiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiLCBcIm1pbGxpc2Vjb25kXCJdLFxuICAgIG9yZGVyZWRXZWVrVW5pdHMgPSBbXCJ3ZWVrWWVhclwiLCBcIndlZWtOdW1iZXJcIiwgXCJ3ZWVrZGF5XCIsIFwiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiLCBcIm1pbGxpc2Vjb25kXCJdLFxuICAgIG9yZGVyZWRPcmRpbmFsVW5pdHMgPSBbXCJ5ZWFyXCIsIFwib3JkaW5hbFwiLCBcImhvdXJcIiwgXCJtaW51dGVcIiwgXCJzZWNvbmRcIiwgXCJtaWxsaXNlY29uZFwiXTsgLy8gc3RhbmRhcmRpemUgY2FzZSBhbmQgcGx1cmFsaXR5IGluIHVuaXRzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXQodW5pdCkge1xuICB2YXIgbm9ybWFsaXplZCA9IHtcbiAgICB5ZWFyOiBcInllYXJcIixcbiAgICB5ZWFyczogXCJ5ZWFyXCIsXG4gICAgbW9udGg6IFwibW9udGhcIixcbiAgICBtb250aHM6IFwibW9udGhcIixcbiAgICBkYXk6IFwiZGF5XCIsXG4gICAgZGF5czogXCJkYXlcIixcbiAgICBob3VyOiBcImhvdXJcIixcbiAgICBob3VyczogXCJob3VyXCIsXG4gICAgbWludXRlOiBcIm1pbnV0ZVwiLFxuICAgIG1pbnV0ZXM6IFwibWludXRlXCIsXG4gICAgcXVhcnRlcjogXCJxdWFydGVyXCIsXG4gICAgcXVhcnRlcnM6IFwicXVhcnRlclwiLFxuICAgIHNlY29uZDogXCJzZWNvbmRcIixcbiAgICBzZWNvbmRzOiBcInNlY29uZFwiLFxuICAgIG1pbGxpc2Vjb25kOiBcIm1pbGxpc2Vjb25kXCIsXG4gICAgbWlsbGlzZWNvbmRzOiBcIm1pbGxpc2Vjb25kXCIsXG4gICAgd2Vla2RheTogXCJ3ZWVrZGF5XCIsXG4gICAgd2Vla2RheXM6IFwid2Vla2RheVwiLFxuICAgIHdlZWtudW1iZXI6IFwid2Vla051bWJlclwiLFxuICAgIHdlZWtzbnVtYmVyOiBcIndlZWtOdW1iZXJcIixcbiAgICB3ZWVrbnVtYmVyczogXCJ3ZWVrTnVtYmVyXCIsXG4gICAgd2Vla3llYXI6IFwid2Vla1llYXJcIixcbiAgICB3ZWVreWVhcnM6IFwid2Vla1llYXJcIixcbiAgICBvcmRpbmFsOiBcIm9yZGluYWxcIlxuICB9W3VuaXQudG9Mb3dlckNhc2UoKV07XG4gIGlmICghbm9ybWFsaXplZCkgdGhyb3cgbmV3IEludmFsaWRVbml0RXJyb3IodW5pdCk7XG4gIHJldHVybiBub3JtYWxpemVkO1xufSAvLyB0aGlzIGlzIGEgZHVtYmVkIGRvd24gdmVyc2lvbiBvZiBmcm9tT2JqZWN0KCkgdGhhdCBydW5zIGFib3V0IDYwJSBmYXN0ZXJcbi8vIGJ1dCBkb2Vzbid0IGRvIGFueSB2YWxpZGF0aW9uLCBtYWtlcyBhIGJ1bmNoIG9mIGFzc3VtcHRpb25zIGFib3V0IHdoYXQgdW5pdHNcbi8vIGFyZSBwcmVzZW50LCBhbmQgc28gb24uXG4vLyB0aGlzIGlzIGEgZHVtYmVkIGRvd24gdmVyc2lvbiBvZiBmcm9tT2JqZWN0KCkgdGhhdCBydW5zIGFib3V0IDYwJSBmYXN0ZXJcbi8vIGJ1dCBkb2Vzbid0IGRvIGFueSB2YWxpZGF0aW9uLCBtYWtlcyBhIGJ1bmNoIG9mIGFzc3VtcHRpb25zIGFib3V0IHdoYXQgdW5pdHNcbi8vIGFyZSBwcmVzZW50LCBhbmQgc28gb24uXG5cblxuZnVuY3Rpb24gcXVpY2tEVChvYmosIG9wdHMpIHtcbiAgdmFyIHpvbmUgPSBub3JtYWxpemVab25lKG9wdHMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpLFxuICAgICAgbG9jID0gTG9jYWxlLmZyb21PYmplY3Qob3B0cyksXG4gICAgICB0c05vdyA9IFNldHRpbmdzLm5vdygpO1xuICB2YXIgdHMsIG87IC8vIGFzc3VtZSB3ZSBoYXZlIHRoZSBoaWdoZXItb3JkZXIgdW5pdHNcblxuICBpZiAoIWlzVW5kZWZpbmVkKG9iai55ZWFyKSkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3JkZXJlZFVuaXRzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciB1ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgIGlmIChpc1VuZGVmaW5lZChvYmpbdV0pKSB7XG4gICAgICAgIG9ialt1XSA9IGRlZmF1bHRVbml0VmFsdWVzW3VdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpbnZhbGlkID0gaGFzSW52YWxpZEdyZWdvcmlhbkRhdGEob2JqKSB8fCBoYXNJbnZhbGlkVGltZURhdGEob2JqKTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChpbnZhbGlkKTtcbiAgICB9XG5cbiAgICB2YXIgb2Zmc2V0UHJvdmlzID0gem9uZS5vZmZzZXQodHNOb3cpO1xuXG4gICAgdmFyIF9vYmpUb1RTID0gb2JqVG9UUyhvYmosIG9mZnNldFByb3Zpcywgem9uZSk7XG5cbiAgICB0cyA9IF9vYmpUb1RTWzBdO1xuICAgIG8gPSBfb2JqVG9UU1sxXTtcbiAgfSBlbHNlIHtcbiAgICB0cyA9IHRzTm93O1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEYXRlVGltZSh7XG4gICAgdHM6IHRzLFxuICAgIHpvbmU6IHpvbmUsXG4gICAgbG9jOiBsb2MsXG4gICAgbzogb1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGlmZlJlbGF0aXZlKHN0YXJ0LCBlbmQsIG9wdHMpIHtcbiAgdmFyIHJvdW5kID0gaXNVbmRlZmluZWQob3B0cy5yb3VuZCkgPyB0cnVlIDogb3B0cy5yb3VuZCxcbiAgICAgIGZvcm1hdCA9IGZ1bmN0aW9uIGZvcm1hdChjLCB1bml0KSB7XG4gICAgYyA9IHJvdW5kVG8oYywgcm91bmQgfHwgb3B0cy5jYWxlbmRhcnkgPyAwIDogMiwgdHJ1ZSk7XG4gICAgdmFyIGZvcm1hdHRlciA9IGVuZC5sb2MuY2xvbmUob3B0cykucmVsRm9ybWF0dGVyKG9wdHMpO1xuICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KGMsIHVuaXQpO1xuICB9LFxuICAgICAgZGlmZmVyID0gZnVuY3Rpb24gZGlmZmVyKHVuaXQpIHtcbiAgICBpZiAob3B0cy5jYWxlbmRhcnkpIHtcbiAgICAgIGlmICghZW5kLmhhc1NhbWUoc3RhcnQsIHVuaXQpKSB7XG4gICAgICAgIHJldHVybiBlbmQuc3RhcnRPZih1bml0KS5kaWZmKHN0YXJ0LnN0YXJ0T2YodW5pdCksIHVuaXQpLmdldCh1bml0KTtcbiAgICAgIH0gZWxzZSByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZC5kaWZmKHN0YXJ0LCB1bml0KS5nZXQodW5pdCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChvcHRzLnVuaXQpIHtcbiAgICByZXR1cm4gZm9ybWF0KGRpZmZlcihvcHRzLnVuaXQpLCBvcHRzLnVuaXQpO1xuICB9XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uob3B0cy51bml0cyksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgdmFyIHVuaXQgPSBfc3RlcDIudmFsdWU7XG4gICAgdmFyIGNvdW50ID0gZGlmZmVyKHVuaXQpO1xuXG4gICAgaWYgKE1hdGguYWJzKGNvdW50KSA+PSAxKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGNvdW50LCB1bml0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm9ybWF0KHN0YXJ0ID4gZW5kID8gLTAgOiAwLCBvcHRzLnVuaXRzW29wdHMudW5pdHMubGVuZ3RoIC0gMV0pO1xufVxuXG5mdW5jdGlvbiBsYXN0T3B0cyhhcmdMaXN0KSB7XG4gIHZhciBvcHRzID0ge30sXG4gICAgICBhcmdzO1xuXG4gIGlmIChhcmdMaXN0Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ0xpc3RbYXJnTGlzdC5sZW5ndGggLSAxXSA9PT0gXCJvYmplY3RcIikge1xuICAgIG9wdHMgPSBhcmdMaXN0W2FyZ0xpc3QubGVuZ3RoIC0gMV07XG4gICAgYXJncyA9IEFycmF5LmZyb20oYXJnTGlzdCkuc2xpY2UoMCwgYXJnTGlzdC5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICBhcmdzID0gQXJyYXkuZnJvbShhcmdMaXN0KTtcbiAgfVxuXG4gIHJldHVybiBbb3B0cywgYXJnc107XG59XG4vKipcbiAqIEEgRGF0ZVRpbWUgaXMgYW4gaW1tdXRhYmxlIGRhdGEgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhIHNwZWNpZmljIGRhdGUgYW5kIHRpbWUgYW5kIGFjY29tcGFueWluZyBtZXRob2RzLiBJdCBjb250YWlucyBjbGFzcyBhbmQgaW5zdGFuY2UgbWV0aG9kcyBmb3IgY3JlYXRpbmcsIHBhcnNpbmcsIGludGVycm9nYXRpbmcsIHRyYW5zZm9ybWluZywgYW5kIGZvcm1hdHRpbmcgdGhlbS5cbiAqXG4gKiBBIERhdGVUaW1lIGNvbXByaXNlcyBvZjpcbiAqICogQSB0aW1lc3RhbXAuIEVhY2ggRGF0ZVRpbWUgaW5zdGFuY2UgcmVmZXJzIHRvIGEgc3BlY2lmaWMgbWlsbGlzZWNvbmQgb2YgdGhlIFVuaXggZXBvY2guXG4gKiAqIEEgdGltZSB6b25lLiBFYWNoIGluc3RhbmNlIGlzIGNvbnNpZGVyZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBzcGVjaWZpYyB6b25lIChieSBkZWZhdWx0IHRoZSBsb2NhbCBzeXN0ZW0ncyB6b25lKS5cbiAqICogQ29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIHRoYXQgZWZmZWN0IGhvdyBvdXRwdXQgc3RyaW5ncyBhcmUgZm9ybWF0dGVkLCBzdWNoIGFzIGBsb2NhbGVgLCBgbnVtYmVyaW5nU3lzdGVtYCwgYW5kIGBvdXRwdXRDYWxlbmRhcmAuXG4gKlxuICogSGVyZSBpcyBhIGJyaWVmIG92ZXJ2aWV3IG9mIHRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgZnVuY3Rpb25hbGl0eSBpdCBwcm92aWRlczpcbiAqXG4gKiAqICoqQ3JlYXRpb24qKjogVG8gY3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBpdHMgY29tcG9uZW50cywgdXNlIG9uZSBvZiBpdHMgZmFjdG9yeSBjbGFzcyBtZXRob2RzOiB7QGxpbmsgRGF0ZVRpbWUjbG9jYWx9LCB7QGxpbmsgRGF0ZVRpbWUjdXRjfSwgYW5kIChtb3N0IGZsZXhpYmx5KSB7QGxpbmsgRGF0ZVRpbWUjZnJvbU9iamVjdH0uIFRvIGNyZWF0ZSBvbmUgZnJvbSBhIHN0YW5kYXJkIHN0cmluZyBmb3JtYXQsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjZnJvbUlTT30sIHtAbGluayBEYXRlVGltZSNmcm9tSFRUUH0sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjZnJvbVJGQzI4MjJ9LiBUbyBjcmVhdGUgb25lIGZyb20gYSBjdXN0b20gc3RyaW5nIGZvcm1hdCwgdXNlIHtAbGluayBEYXRlVGltZSNmcm9tRm9ybWF0fS4gVG8gY3JlYXRlIG9uZSBmcm9tIGEgbmF0aXZlIEpTIGRhdGUsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjZnJvbUpTRGF0ZX0uXG4gKiAqICoqR3JlZ29yaWFuIGNhbGVuZGFyIGFuZCB0aW1lKio6IFRvIGV4YW1pbmUgdGhlIEdyZWdvcmlhbiBwcm9wZXJ0aWVzIG9mIGEgRGF0ZVRpbWUgaW5kaXZpZHVhbGx5IChpLmUgYXMgb3Bwb3NlZCB0byBjb2xsZWN0aXZlbHkgdGhyb3VnaCB7QGxpbmsgRGF0ZVRpbWUjdG9PYmplY3R9KSwgdXNlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjeWVhcn0sIHtAbGluayBEYXRlVGltZSNtb250aH0sXG4gKiB7QGxpbmsgRGF0ZVRpbWUjZGF5fSwge0BsaW5rIERhdGVUaW1lI2hvdXJ9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXRlfSwge0BsaW5rIERhdGVUaW1lI3NlY29uZH0sIHtAbGluayBEYXRlVGltZSNtaWxsaXNlY29uZH0gYWNjZXNzb3JzLlxuICogKiAqKldlZWsgY2FsZW5kYXIqKjogRm9yIElTTyB3ZWVrIGNhbGVuZGFyIGF0dHJpYnV0ZXMsIHNlZSB0aGUge0BsaW5rIERhdGVUaW1lI3dlZWtZZWFyfSwge0BsaW5rIERhdGVUaW1lI3dlZWtOdW1iZXJ9LCBhbmQge0BsaW5rIERhdGVUaW1lI3dlZWtkYXl9IGFjY2Vzc29ycy5cbiAqICogKipDb25maWd1cmF0aW9uKiogU2VlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjbG9jYWxlfSBhbmQge0BsaW5rIERhdGVUaW1lI251bWJlcmluZ1N5c3RlbX0gYWNjZXNzb3JzLlxuICogKiAqKlRyYW5zZm9ybWF0aW9uKio6IFRvIHRyYW5zZm9ybSB0aGUgRGF0ZVRpbWUgaW50byBvdGhlciBEYXRlVGltZXMsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjc2V0fSwge0BsaW5rIERhdGVUaW1lI3JlY29uZmlndXJlfSwge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9LCB7QGxpbmsgRGF0ZVRpbWUjc2V0TG9jYWxlfSwge0BsaW5rIERhdGVUaW1lLnBsdXN9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXN9LCB7QGxpbmsgRGF0ZVRpbWUjZW5kT2Z9LCB7QGxpbmsgRGF0ZVRpbWUjc3RhcnRPZn0sIHtAbGluayBEYXRlVGltZSN0b1VUQ30sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbH0uXG4gKiAqICoqT3V0cHV0Kio6IFRvIGNvbnZlcnQgdGhlIERhdGVUaW1lIHRvIG90aGVyIHJlcHJlc2VudGF0aW9ucywgdXNlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjdG9SZWxhdGl2ZX0sIHtAbGluayBEYXRlVGltZSN0b1JlbGF0aXZlQ2FsZW5kYXJ9LCB7QGxpbmsgRGF0ZVRpbWUjdG9KU09OfSwge0BsaW5rIERhdGVUaW1lI3RvSVNPfSwge0BsaW5rIERhdGVUaW1lI3RvSFRUUH0sIHtAbGluayBEYXRlVGltZSN0b09iamVjdH0sIHtAbGluayBEYXRlVGltZSN0b1JGQzI4MjJ9LCB7QGxpbmsgRGF0ZVRpbWUjdG9TdHJpbmd9LCB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9LCB7QGxpbmsgRGF0ZVRpbWUjdG9Gb3JtYXR9LCB7QGxpbmsgRGF0ZVRpbWUjdG9NaWxsaXN9IGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9KU0RhdGV9LlxuICpcbiAqIFRoZXJlJ3MgcGxlbnR5IG90aGVycyBkb2N1bWVudGVkIGJlbG93LiBJbiBhZGRpdGlvbiwgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gc3VidGxlciB0b3BpY3MgbGlrZSBpbnRlcm5hdGlvbmFsaXphdGlvbiwgdGltZSB6b25lcywgYWx0ZXJuYXRpdmUgY2FsZW5kYXJzLCB2YWxpZGl0eSwgYW5kIHNvIG9uLCBzZWUgdGhlIGV4dGVybmFsIGRvY3VtZW50YXRpb24uXG4gKi9cblxuXG52YXIgRGF0ZVRpbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBEYXRlVGltZShjb25maWcpIHtcbiAgICB2YXIgem9uZSA9IGNvbmZpZy56b25lIHx8IFNldHRpbmdzLmRlZmF1bHRab25lO1xuICAgIHZhciBpbnZhbGlkID0gY29uZmlnLmludmFsaWQgfHwgKE51bWJlci5pc05hTihjb25maWcudHMpID8gbmV3IEludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpIDogbnVsbCkgfHwgKCF6b25lLmlzVmFsaWQgPyB1bnN1cHBvcnRlZFpvbmUoem9uZSkgOiBudWxsKTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMudHMgPSBpc1VuZGVmaW5lZChjb25maWcudHMpID8gU2V0dGluZ3Mubm93KCkgOiBjb25maWcudHM7XG4gICAgdmFyIGMgPSBudWxsLFxuICAgICAgICBvID0gbnVsbDtcblxuICAgIGlmICghaW52YWxpZCkge1xuICAgICAgdmFyIHVuY2hhbmdlZCA9IGNvbmZpZy5vbGQgJiYgY29uZmlnLm9sZC50cyA9PT0gdGhpcy50cyAmJiBjb25maWcub2xkLnpvbmUuZXF1YWxzKHpvbmUpO1xuXG4gICAgICBpZiAodW5jaGFuZ2VkKSB7XG4gICAgICAgIHZhciBfcmVmID0gW2NvbmZpZy5vbGQuYywgY29uZmlnLm9sZC5vXTtcbiAgICAgICAgYyA9IF9yZWZbMF07XG4gICAgICAgIG8gPSBfcmVmWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG90ID0gem9uZS5vZmZzZXQodGhpcy50cyk7XG4gICAgICAgIGMgPSB0c1RvT2JqKHRoaXMudHMsIG90KTtcbiAgICAgICAgaW52YWxpZCA9IE51bWJlci5pc05hTihjLnllYXIpID8gbmV3IEludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpIDogbnVsbDtcbiAgICAgICAgYyA9IGludmFsaWQgPyBudWxsIDogYztcbiAgICAgICAgbyA9IGludmFsaWQgPyBudWxsIDogb3Q7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl96b25lID0gem9uZTtcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMubG9jID0gY29uZmlnLmxvYyB8fCBMb2NhbGUuY3JlYXRlKCk7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmludmFsaWQgPSBpbnZhbGlkO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy53ZWVrRGF0YSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICovXG5cbiAgICB0aGlzLmMgPSBjO1xuICAgIC8qKlxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAqL1xuXG4gICAgdGhpcy5vID0gbztcbiAgICAvKipcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKi9cblxuICAgIHRoaXMuaXNMdXhvbkRhdGVUaW1lID0gdHJ1ZTtcbiAgfSAvLyBDT05TVFJVQ1RcblxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZm9yIHRoZSBjdXJyZW50IGluc3RhbnQsIGluIHRoZSBzeXN0ZW0ncyB0aW1lIHpvbmUuXG4gICAqXG4gICAqIFVzZSBTZXR0aW5ncyB0byBvdmVycmlkZSB0aGVzZSBkZWZhdWx0IHZhbHVlcyBpZiBuZWVkZWQuXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKCkgLy9+PiBub3cgaW4gdGhlIElTTyBmb3JtYXRcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuXG5cbiAgRGF0ZVRpbWUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe30pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBsb2NhbCBEYXRlVGltZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3llYXJdIC0gVGhlIGNhbGVuZGFyIHllYXIuIElmIG9taXR0ZWQgKGFzIGluLCBjYWxsIGBsb2NhbCgpYCB3aXRoIG5vIGFyZ3VtZW50cyksIHRoZSBjdXJyZW50IHRpbWUgd2lsbCBiZSB1c2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbW9udGg9MV0gLSBUaGUgbW9udGgsIDEtaW5kZXhlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RheT0xXSAtIFRoZSBkYXkgb2YgdGhlIG1vbnRoLCAxLWluZGV4ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtob3VyPTBdIC0gVGhlIGhvdXIgb2YgdGhlIGRheSwgaW4gMjQtaG91ciB0aW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWludXRlPTBdIC0gVGhlIG1pbnV0ZSBvZiB0aGUgaG91ciwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2Vjb25kPTBdIC0gVGhlIHNlY29uZCBvZiB0aGUgbWludXRlLCBtZWFuaW5nIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgNTlcbiAgICogQHBhcmFtIHtudW1iZXJ9IFttaWxsaXNlY29uZD0wXSAtIFRoZSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kLCBtZWFuaW5nIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgOTk5XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiBub3dcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoeyB6b25lOiBcIkFtZXJpY2EvTmV3X1lvcmtcIiB9KSAgICAgIC8vfj4gbm93LCBpbiBVUyBlYXN0IGNvYXN0IHRpbWVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDEtMDFUMDA6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMykgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMDFUMDA6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIHsgbG9jYWxlOiBcImZyXCIgfSkgICAgIC8vfj4gMjAxNy0wMy0xMlQwMDowMDowMCwgd2l0aCBhIEZyZW5jaCBsb2NhbGVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIDUpICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6MDA6MDBcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIDUsIHsgem9uZTogXCJ1dGNcIiB9KSAgIC8vfj4gMjAxNy0wMy0xMlQwNTowMDowMCwgaW4gVVRDXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSkgICAgICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjAwXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTApICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjEwXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTAsIDc2NSkgICAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjEwLjc2NVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5sb2NhbCA9IGZ1bmN0aW9uIGxvY2FsKCkge1xuICAgIHZhciBfbGFzdE9wdHMgPSBsYXN0T3B0cyhhcmd1bWVudHMpLFxuICAgICAgICBvcHRzID0gX2xhc3RPcHRzWzBdLFxuICAgICAgICBhcmdzID0gX2xhc3RPcHRzWzFdLFxuICAgICAgICB5ZWFyID0gYXJnc1swXSxcbiAgICAgICAgbW9udGggPSBhcmdzWzFdLFxuICAgICAgICBkYXkgPSBhcmdzWzJdLFxuICAgICAgICBob3VyID0gYXJnc1szXSxcbiAgICAgICAgbWludXRlID0gYXJnc1s0XSxcbiAgICAgICAgc2Vjb25kID0gYXJnc1s1XSxcbiAgICAgICAgbWlsbGlzZWNvbmQgPSBhcmdzWzZdO1xuXG4gICAgcmV0dXJuIHF1aWNrRFQoe1xuICAgICAgeWVhcjogeWVhcixcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIGRheTogZGF5LFxuICAgICAgaG91cjogaG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogbWlsbGlzZWNvbmRcbiAgICB9LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgaW4gVVRDXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeWVhcl0gLSBUaGUgY2FsZW5kYXIgeWVhci4gSWYgb21pdHRlZCAoYXMgaW4sIGNhbGwgYHV0YygpYCB3aXRoIG5vIGFyZ3VtZW50cyksIHRoZSBjdXJyZW50IHRpbWUgd2lsbCBiZSB1c2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbW9udGg9MV0gLSBUaGUgbW9udGgsIDEtaW5kZXhlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RheT0xXSAtIFRoZSBkYXkgb2YgdGhlIG1vbnRoXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaG91cj0wXSAtIFRoZSBob3VyIG9mIHRoZSBkYXksIGluIDI0LWhvdXIgdGltZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbnV0ZT0wXSAtIFRoZSBtaW51dGUgb2YgdGhlIGhvdXIsIG1lYW5pbmcgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCA1OVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NlY29uZD0wXSAtIFRoZSBzZWNvbmQgb2YgdGhlIG1pbnV0ZSwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWlsbGlzZWNvbmQ9MF0gLSBUaGUgbWlsbGlzZWNvbmQgb2YgdGhlIHNlY29uZCwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDk5OVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm91dHB1dENhbGVuZGFyXSAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IG5vd1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDEtMDFUMDA6MDA6MDBaXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0wMVQwMDowMDowMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiAyMDE3LTAzLTEyVDAwOjAwOjAwWlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNywgMywgMTIsIDUpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6MDA6MDBaXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUpICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NTowMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyLCA1LCA0NSwgeyBsb2NhbGU6IFwiZnJcIiB9KSAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6NDU6MDBaIHdpdGggYSBGcmVuY2ggbG9jYWxlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUsIDEwKSAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NToxMFpcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTAsIDc2NSwgeyBsb2NhbGU6IFwiZnJcIiB9KSAvL34+IDIwMTctMDMtMTJUMDU6NDU6MTAuNzY1WiB3aXRoIGEgRnJlbmNoIGxvY2FsZVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS51dGMgPSBmdW5jdGlvbiB1dGMoKSB7XG4gICAgdmFyIF9sYXN0T3B0czIgPSBsYXN0T3B0cyhhcmd1bWVudHMpLFxuICAgICAgICBvcHRzID0gX2xhc3RPcHRzMlswXSxcbiAgICAgICAgYXJncyA9IF9sYXN0T3B0czJbMV0sXG4gICAgICAgIHllYXIgPSBhcmdzWzBdLFxuICAgICAgICBtb250aCA9IGFyZ3NbMV0sXG4gICAgICAgIGRheSA9IGFyZ3NbMl0sXG4gICAgICAgIGhvdXIgPSBhcmdzWzNdLFxuICAgICAgICBtaW51dGUgPSBhcmdzWzRdLFxuICAgICAgICBzZWNvbmQgPSBhcmdzWzVdLFxuICAgICAgICBtaWxsaXNlY29uZCA9IGFyZ3NbNl07XG5cbiAgICBvcHRzLnpvbmUgPSBGaXhlZE9mZnNldFpvbmUudXRjSW5zdGFuY2U7XG4gICAgcmV0dXJuIHF1aWNrRFQoe1xuICAgICAgeWVhcjogeWVhcixcbiAgICAgIG1vbnRoOiBtb250aCxcbiAgICAgIGRheTogZGF5LFxuICAgICAgaG91cjogaG91cixcbiAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICBtaWxsaXNlY29uZDogbWlsbGlzZWNvbmRcbiAgICB9LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhIEphdmFTY3JpcHQgRGF0ZSBvYmplY3QuIFVzZXMgdGhlIGRlZmF1bHQgem9uZS5cbiAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gYSBKYXZhU2NyaXB0IERhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21KU0RhdGUgPSBmdW5jdGlvbiBmcm9tSlNEYXRlKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIHRzID0gaXNEYXRlKGRhdGUpID8gZGF0ZS52YWx1ZU9mKCkgOiBOYU47XG5cbiAgICBpZiAoTnVtYmVyLmlzTmFOKHRzKSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJpbnZhbGlkIGlucHV0XCIpO1xuICAgIH1cblxuICAgIHZhciB6b25lVG9Vc2UgPSBub3JtYWxpemVab25lKG9wdGlvbnMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpO1xuXG4gICAgaWYgKCF6b25lVG9Vc2UuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQodW5zdXBwb3J0ZWRab25lKHpvbmVUb1VzZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe1xuICAgICAgdHM6IHRzLFxuICAgICAgem9uZTogem9uZVRvVXNlLFxuICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2ggKG1lYW5pbmcgc2luY2UgMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS4gVXNlcyB0aGUgZGVmYXVsdCB6b25lLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWlsbGlzZWNvbmRzIC0gYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDE5NzAgVVRDXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21NaWxsaXMgPSBmdW5jdGlvbiBmcm9tTWlsbGlzKG1pbGxpc2Vjb25kcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKG1pbGxpc2Vjb25kcykpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcImZyb21NaWxsaXMgcmVxdWlyZXMgYSBudW1lcmljYWwgaW5wdXQsIGJ1dCByZWNlaXZlZCBhIFwiICsgdHlwZW9mIG1pbGxpc2Vjb25kcyArIFwiIHdpdGggdmFsdWUgXCIgKyBtaWxsaXNlY29uZHMpO1xuICAgIH0gZWxzZSBpZiAobWlsbGlzZWNvbmRzIDwgLU1BWF9EQVRFIHx8IG1pbGxpc2Vjb25kcyA+IE1BWF9EQVRFKSB7XG4gICAgICAvLyB0aGlzIGlzbid0IHBlcmZlY3QgYmVjYXVzZSBiZWNhdXNlIHdlIGNhbiBzdGlsbCBlbmQgdXAgb3V0IG9mIHJhbmdlIGJlY2F1c2Ugb2YgYWRkaXRpb25hbCBzaGlmdGluZywgYnV0IGl0J3MgYSBzdGFydFxuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJUaW1lc3RhbXAgb3V0IG9mIHJhbmdlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHtcbiAgICAgICAgdHM6IG1pbGxpc2Vjb25kcyxcbiAgICAgICAgem9uZTogbm9ybWFsaXplWm9uZShvcHRpb25zLnpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKSxcbiAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIHNlY29uZHMgc2luY2UgdGhlIGVwb2NoIChtZWFuaW5nIHNpbmNlIDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuIFVzZXMgdGhlIGRlZmF1bHQgem9uZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgLSBhIG51bWJlciBvZiBzZWNvbmRzIHNpbmNlIDE5NzAgVVRDXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nbG9jYWwnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21TZWNvbmRzID0gZnVuY3Rpb24gZnJvbVNlY29uZHMoc2Vjb25kcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKHNlY29uZHMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJmcm9tU2Vjb25kcyByZXF1aXJlcyBhIG51bWVyaWNhbCBpbnB1dFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZSh7XG4gICAgICAgIHRzOiBzZWNvbmRzICogMTAwMCxcbiAgICAgICAgem9uZTogbm9ybWFsaXplWm9uZShvcHRpb25zLnpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKSxcbiAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXInIGFuZCAnaG91cicgd2l0aCByZWFzb25hYmxlIGRlZmF1bHRzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBjcmVhdGUgdGhlIERhdGVUaW1lIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai55ZWFyIC0gYSB5ZWFyLCBzdWNoIGFzIDE5ODdcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5tb250aCAtIGEgbW9udGgsIDEtMTJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5kYXkgLSBhIGRheSBvZiB0aGUgbW9udGgsIDEtMzEsIGRlcGVuZGluZyBvbiB0aGUgbW9udGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5vcmRpbmFsIC0gZGF5IG9mIHRoZSB5ZWFyLCAxLTM2NSBvciAzNjZcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrWWVhciAtIGFuIElTTyB3ZWVrIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrTnVtYmVyIC0gYW4gSVNPIHdlZWsgbnVtYmVyLCBiZXR3ZWVuIDEgYW5kIDUyIG9yIDUzLCBkZXBlbmRpbmcgb24gdGhlIHllYXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrZGF5IC0gYW4gSVNPIHdlZWtkYXksIDEtNywgd2hlcmUgMSBpcyBNb25kYXkgYW5kIDcgaXMgU3VuZGF5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouaG91ciAtIGhvdXIgb2YgdGhlIGRheSwgMC0yM1xuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm1pbnV0ZSAtIG1pbnV0ZSBvZiB0aGUgaG91ciwgMC01OVxuICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLnNlY29uZCAtIHNlY29uZCBvZiB0aGUgbWludXRlLCAwLTU5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoubWlsbGlzZWNvbmQgLSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kLCAwLTk5OVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoaXMgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGludGVycHJldCB0aGUgbnVtYmVycyBpbiB0aGUgY29udGV4dCBvZiBhIHBhcnRpY3VsYXIgem9uZS4gQ2FuIHRha2UgYW55IHZhbHVlIHRha2VuIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBzZXRab25lKClcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5vdXRwdXRDYWxlbmRhciAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IDE5ODIsIG1vbnRoOiA1LCBkYXk6IDI1fSkudG9JU09EYXRlKCkgLy89PiAnMTk4Mi0wNS0yNSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IDE5ODIgfSkudG9JU09EYXRlKCkgLy89PiAnMTk4Mi0wMS0wMSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IGhvdXI6IDEwLCBtaW51dGU6IDI2LCBzZWNvbmQ6IDYgfSkgLy9+PiB0b2RheSBhdCAxMDoyNjowNlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IHpvbmU6ICd1dGMnIH0pLFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IHpvbmU6ICdsb2NhbCcgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IGhvdXI6IDEwLCBtaW51dGU6IDI2LCBzZWNvbmQ6IDYgfSwgeyB6b25lOiAnQW1lcmljYS9OZXdfWW9yaycgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHdlZWtZZWFyOiAyMDE2LCB3ZWVrTnVtYmVyOiAyLCB3ZWVrZGF5OiAzIH0pLnRvSVNPRGF0ZSgpIC8vPT4gJzIwMTYtMDEtMTMnXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBvYmogPSBvYmogfHwge307XG4gICAgdmFyIHpvbmVUb1VzZSA9IG5vcm1hbGl6ZVpvbmUob3B0cy56b25lLCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XG5cbiAgICBpZiAoIXpvbmVUb1VzZS5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZCh1bnN1cHBvcnRlZFpvbmUoem9uZVRvVXNlKSk7XG4gICAgfVxuXG4gICAgdmFyIHRzTm93ID0gU2V0dGluZ3Mubm93KCksXG4gICAgICAgIG9mZnNldFByb3ZpcyA9ICFpc1VuZGVmaW5lZChvcHRzLnNwZWNpZmljT2Zmc2V0KSA/IG9wdHMuc3BlY2lmaWNPZmZzZXQgOiB6b25lVG9Vc2Uub2Zmc2V0KHRzTm93KSxcbiAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZU9iamVjdChvYmosIG5vcm1hbGl6ZVVuaXQpLFxuICAgICAgICBjb250YWluc09yZGluYWwgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5vcmRpbmFsKSxcbiAgICAgICAgY29udGFpbnNHcmVnb3JZZWFyID0gIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQueWVhciksXG4gICAgICAgIGNvbnRhaW5zR3JlZ29yTUQgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5tb250aCkgfHwgIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQuZGF5KSxcbiAgICAgICAgY29udGFpbnNHcmVnb3IgPSBjb250YWluc0dyZWdvclllYXIgfHwgY29udGFpbnNHcmVnb3JNRCxcbiAgICAgICAgZGVmaW5pdGVXZWVrRGVmID0gbm9ybWFsaXplZC53ZWVrWWVhciB8fCBub3JtYWxpemVkLndlZWtOdW1iZXIsXG4gICAgICAgIGxvYyA9IExvY2FsZS5mcm9tT2JqZWN0KG9wdHMpOyAvLyBjYXNlczpcbiAgICAvLyBqdXN0IGEgd2Vla2RheSAtPiB0aGlzIHdlZWsncyBpbnN0YW5jZSBvZiB0aGF0IHdlZWtkYXksIG5vIHdvcnJpZXNcbiAgICAvLyAoZ3JlZ29yaWFuIGRhdGEgb3Igb3JkaW5hbCkgKyAod2Vla1llYXIgb3Igd2Vla051bWJlcikgLT4gZXJyb3JcbiAgICAvLyAoZ3JlZ29yaWFuIG1vbnRoIG9yIGRheSkgKyBvcmRpbmFsIC0+IGVycm9yXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgdXNlIHdlZWtzIG9yIG9yZGluYWxzIG9yIGdyZWdvcmlhbiwgZGVwZW5kaW5nIG9uIHdoYXQncyBzcGVjaWZpZWRcblxuICAgIGlmICgoY29udGFpbnNHcmVnb3IgfHwgY29udGFpbnNPcmRpbmFsKSAmJiBkZWZpbml0ZVdlZWtEZWYpIHtcbiAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcIkNhbid0IG1peCB3ZWVrWWVhci93ZWVrTnVtYmVyIHVuaXRzIHdpdGggeWVhci9tb250aC9kYXkgb3Igb3JkaW5hbHNcIik7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5zR3JlZ29yTUQgJiYgY29udGFpbnNPcmRpbmFsKSB7XG4gICAgICB0aHJvdyBuZXcgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IoXCJDYW4ndCBtaXggb3JkaW5hbCBkYXRlcyB3aXRoIG1vbnRoL2RheVwiKTtcbiAgICB9XG5cbiAgICB2YXIgdXNlV2Vla0RhdGEgPSBkZWZpbml0ZVdlZWtEZWYgfHwgbm9ybWFsaXplZC53ZWVrZGF5ICYmICFjb250YWluc0dyZWdvcjsgLy8gY29uZmlndXJlIG91cnNlbHZlcyB0byBkZWFsIHdpdGggZ3JlZ29yaWFuIGRhdGVzIG9yIHdlZWsgc3R1ZmZcblxuICAgIHZhciB1bml0cyxcbiAgICAgICAgZGVmYXVsdFZhbHVlcyxcbiAgICAgICAgb2JqTm93ID0gdHNUb09iaih0c05vdywgb2Zmc2V0UHJvdmlzKTtcblxuICAgIGlmICh1c2VXZWVrRGF0YSkge1xuICAgICAgdW5pdHMgPSBvcmRlcmVkV2Vla1VuaXRzO1xuICAgICAgZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRXZWVrVW5pdFZhbHVlcztcbiAgICAgIG9iak5vdyA9IGdyZWdvcmlhblRvV2VlayhvYmpOb3cpO1xuICAgIH0gZWxzZSBpZiAoY29udGFpbnNPcmRpbmFsKSB7XG4gICAgICB1bml0cyA9IG9yZGVyZWRPcmRpbmFsVW5pdHM7XG4gICAgICBkZWZhdWx0VmFsdWVzID0gZGVmYXVsdE9yZGluYWxVbml0VmFsdWVzO1xuICAgICAgb2JqTm93ID0gZ3JlZ29yaWFuVG9PcmRpbmFsKG9iak5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuaXRzID0gb3JkZXJlZFVuaXRzO1xuICAgICAgZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRVbml0VmFsdWVzO1xuICAgIH0gLy8gc2V0IGRlZmF1bHQgdmFsdWVzIGZvciBtaXNzaW5nIHN0dWZmXG5cblxuICAgIHZhciBmb3VuZEZpcnN0ID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh1bml0cyksIF9zdGVwMzsgIShfc3RlcDMgPSBfaXRlcmF0b3IzKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgdSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgIHZhciB2ID0gbm9ybWFsaXplZFt1XTtcblxuICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2KSkge1xuICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZm91bmRGaXJzdCkge1xuICAgICAgICBub3JtYWxpemVkW3VdID0gZGVmYXVsdFZhbHVlc1t1XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbdV0gPSBvYmpOb3dbdV07XG4gICAgICB9XG4gICAgfSAvLyBtYWtlIHN1cmUgdGhlIHZhbHVlcyB3ZSBoYXZlIGFyZSBpbiByYW5nZVxuXG5cbiAgICB2YXIgaGlnaGVyT3JkZXJJbnZhbGlkID0gdXNlV2Vla0RhdGEgPyBoYXNJbnZhbGlkV2Vla0RhdGEobm9ybWFsaXplZCkgOiBjb250YWluc09yZGluYWwgPyBoYXNJbnZhbGlkT3JkaW5hbERhdGEobm9ybWFsaXplZCkgOiBoYXNJbnZhbGlkR3JlZ29yaWFuRGF0YShub3JtYWxpemVkKSxcbiAgICAgICAgaW52YWxpZCA9IGhpZ2hlck9yZGVySW52YWxpZCB8fCBoYXNJbnZhbGlkVGltZURhdGEobm9ybWFsaXplZCk7XG5cbiAgICBpZiAoaW52YWxpZCkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoaW52YWxpZCk7XG4gICAgfSAvLyBjb21wdXRlIHRoZSBhY3R1YWwgdGltZVxuXG5cbiAgICB2YXIgZ3JlZ29yaWFuID0gdXNlV2Vla0RhdGEgPyB3ZWVrVG9HcmVnb3JpYW4obm9ybWFsaXplZCkgOiBjb250YWluc09yZGluYWwgPyBvcmRpbmFsVG9HcmVnb3JpYW4obm9ybWFsaXplZCkgOiBub3JtYWxpemVkLFxuICAgICAgICBfb2JqVG9UUzIgPSBvYmpUb1RTKGdyZWdvcmlhbiwgb2Zmc2V0UHJvdmlzLCB6b25lVG9Vc2UpLFxuICAgICAgICB0c0ZpbmFsID0gX29ialRvVFMyWzBdLFxuICAgICAgICBvZmZzZXRGaW5hbCA9IF9vYmpUb1RTMlsxXSxcbiAgICAgICAgaW5zdCA9IG5ldyBEYXRlVGltZSh7XG4gICAgICB0czogdHNGaW5hbCxcbiAgICAgIHpvbmU6IHpvbmVUb1VzZSxcbiAgICAgIG86IG9mZnNldEZpbmFsLFxuICAgICAgbG9jOiBsb2NcbiAgICB9KTsgLy8gZ3JlZ29yaWFuIGRhdGEgKyB3ZWVrZGF5IHNlcnZlcyBvbmx5IHRvIHZhbGlkYXRlXG5cblxuICAgIGlmIChub3JtYWxpemVkLndlZWtkYXkgJiYgY29udGFpbnNHcmVnb3IgJiYgb2JqLndlZWtkYXkgIT09IGluc3Qud2Vla2RheSkge1xuICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXCJtaXNtYXRjaGVkIHdlZWtkYXlcIiwgXCJ5b3UgY2FuJ3Qgc3BlY2lmeSBib3RoIGEgd2Vla2RheSBvZiBcIiArIG5vcm1hbGl6ZWQud2Vla2RheSArIFwiIGFuZCBhIGRhdGUgb2YgXCIgKyBpbnN0LnRvSVNPKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGFuIElTTyA4NjAxIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBJU08gc3RyaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSB0aW1lIHRvIHRoaXMgem9uZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnNldFpvbmU9ZmFsc2VdIC0gb3ZlcnJpZGUgdGhlIHpvbmUgd2l0aCBhIGZpeGVkLW9mZnNldCB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdzeXN0ZW0ncyBsb2NhbGUnXSAtIGEgbG9jYWxlIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vdXRwdXRDYWxlbmRhcl0gLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW1dIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUlTTygnMjAxNi0wNS0yNVQwOTowODozNC4xMjMnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMyswNjowMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtMDUtMjVUMDk6MDg6MzQuMTIzKzA2OjAwJywge3NldFpvbmU6IHRydWV9KVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMycsIHt6b25lOiAndXRjJ30pXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtVzA1LTQnKVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tSVNPID0gZnVuY3Rpb24gZnJvbUlTTyh0ZXh0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VJU09EYXRlID0gcGFyc2VJU09EYXRlKHRleHQpLFxuICAgICAgICB2YWxzID0gX3BhcnNlSVNPRGF0ZVswXSxcbiAgICAgICAgcGFyc2VkWm9uZSA9IF9wYXJzZUlTT0RhdGVbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIklTTyA4NjAxXCIsIHRleHQpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGFuIFJGQyAyODIyIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBSRkMgMjgyMiBzdHJpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGNvbnZlcnQgdGhlIHRpbWUgdG8gdGhpcyB6b25lLiBTaW5jZSB0aGUgb2Zmc2V0IGlzIGFsd2F5cyBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpdHNlbGYsIHRoaXMgaGFzIG5vIGVmZmVjdCBvbiB0aGUgaW50ZXJwcmV0YXRpb24gb2Ygc3RyaW5nLCBtZXJlbHkgdGhlIHpvbmUgdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpcyBleHByZXNzZWQgaW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc2V0Wm9uZT1mYWxzZV0gLSBvdmVycmlkZSB0aGUgem9uZSB3aXRoIGEgZml4ZWQtb2Zmc2V0IHpvbmUgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaXRzZWxmLCBpZiBpdCBzcGVjaWZpZXMgb25lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J3N5c3RlbSdzIGxvY2FsZSddIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21SRkMyODIyKCcyNSBOb3YgMjAxNiAxMzoyMzoxMiBHTVQnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tUkZDMjgyMignRnJpLCAyNSBOb3YgMjAxNiAxMzoyMzoxMiArMDYwMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21SRkMyODIyKCcyNSBOb3YgMjAxNiAxMzoyMyBaJylcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbVJGQzI4MjIgPSBmdW5jdGlvbiBmcm9tUkZDMjgyMih0ZXh0LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VSRkMyODIyRGF0ZSA9IHBhcnNlUkZDMjgyMkRhdGUodGV4dCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VSRkMyODIyRGF0ZVswXSxcbiAgICAgICAgcGFyc2VkWm9uZSA9IF9wYXJzZVJGQzI4MjJEYXRlWzFdO1xuXG4gICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJSRkMgMjgyMlwiLCB0ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhbiBIVFRQIGhlYWRlciBkYXRlXG4gICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjMy5odG1sI3NlYzMuMy4xXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIEhUVFAgaGVhZGVyIGRhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIGNvbnZlcnQgdGhlIHRpbWUgdG8gdGhpcyB6b25lLiBTaW5jZSBIVFRQIGRhdGVzIGFyZSBhbHdheXMgaW4gVVRDLCB0aGlzIGhhcyBubyBlZmZlY3Qgb24gdGhlIGludGVycHJldGF0aW9uIG9mIHN0cmluZywgbWVyZWx5IHRoZSB6b25lIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaXMgZXhwcmVzc2VkIGluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnNldFpvbmU9ZmFsc2VdIC0gb3ZlcnJpZGUgdGhlIHpvbmUgd2l0aCB0aGUgZml4ZWQtb2Zmc2V0IHpvbmUgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcuIEZvciBIVFRQIGRhdGVzLCB0aGlzIGlzIGFsd2F5cyBVVEMsIHNvIHRoaXMgb3B0aW9uIGlzIGVxdWl2YWxlbnQgdG8gc2V0dGluZyB0aGUgYHpvbmVgIG9wdGlvbiB0byAndXRjJywgYnV0IHRoaXMgb3B0aW9uIGlzIGluY2x1ZGVkIGZvciBjb25zaXN0ZW5jeSB3aXRoIHNpbWlsYXIgbWV0aG9kcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5vdXRwdXRDYWxlbmRhciAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1biwgMDYgTm92IDE5OTQgMDg6NDk6MzcgR01UJylcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1bmRheSwgMDYtTm92LTk0IDA4OjQ5OjM3IEdNVCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21IVFRQKCdTdW4gTm92ICA2IDA4OjQ5OjM3IDE5OTQnKVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tSFRUUCA9IGZ1bmN0aW9uIGZyb21IVFRQKHRleHQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9wYXJzZUhUVFBEYXRlID0gcGFyc2VIVFRQRGF0ZSh0ZXh0KSxcbiAgICAgICAgdmFscyA9IF9wYXJzZUhUVFBEYXRlWzBdLFxuICAgICAgICBwYXJzZWRab25lID0gX3BhcnNlSFRUUERhdGVbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIkhUVFBcIiwgb3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIERhdGVUaW1lIGZyb20gYW4gaW5wdXQgc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nLlxuICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGUuIEZvciBhIHRhYmxlIG9mIHRva2VucyBhbmQgdGhlaXIgaW50ZXJwcmV0YXRpb25zLCBzZWUgW2hlcmVdKGh0dHBzOi8vbW9tZW50LmdpdGh1Yi5pby9sdXhvbi8jL3BhcnNpbmc/aWQ9dGFibGUtb2YtdG9rZW5zKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHRoZSBzdHJpbmcgaXMgZXhwZWN0ZWQgdG8gYmUgaW4gKHNlZSB0aGUgbGluayBiZWxvdyBmb3IgdGhlIGZvcm1hdHMpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSBEYXRlVGltZSB0byB0aGlzIHpvbmVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gYSBsb2NhbGUgc3RyaW5nIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIERhdGVUaW1lIHRvIHRoaXMgbG9jYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIHJlc3VsdGluZyBEYXRlVGltZSB0byB0aGlzIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLmZyb21Gb3JtYXQgPSBmdW5jdGlvbiBmcm9tRm9ybWF0KHRleHQsIGZtdCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQodGV4dCkgfHwgaXNVbmRlZmluZWQoZm10KSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiZnJvbUZvcm1hdCByZXF1aXJlcyBhbiBpbnB1dCBzdHJpbmcgYW5kIGEgZm9ybWF0XCIpO1xuICAgIH1cblxuICAgIHZhciBfb3B0cyA9IG9wdHMsXG4gICAgICAgIF9vcHRzJGxvY2FsZSA9IF9vcHRzLmxvY2FsZSxcbiAgICAgICAgbG9jYWxlID0gX29wdHMkbG9jYWxlID09PSB2b2lkIDAgPyBudWxsIDogX29wdHMkbG9jYWxlLFxuICAgICAgICBfb3B0cyRudW1iZXJpbmdTeXN0ZW0gPSBfb3B0cy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSA9IF9vcHRzJG51bWJlcmluZ1N5c3RlbSA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRzJG51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbG9jYWxlVG9Vc2UgPSBMb2NhbGUuZnJvbU9wdHMoe1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSxcbiAgICAgIGRlZmF1bHRUb0VOOiB0cnVlXG4gICAgfSksXG4gICAgICAgIF9wYXJzZUZyb21Ub2tlbnMgPSBwYXJzZUZyb21Ub2tlbnMobG9jYWxlVG9Vc2UsIHRleHQsIGZtdCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VGcm9tVG9rZW5zWzBdLFxuICAgICAgICBwYXJzZWRab25lID0gX3BhcnNlRnJvbVRva2Vuc1sxXSxcbiAgICAgICAgc3BlY2lmaWNPZmZzZXQgPSBfcGFyc2VGcm9tVG9rZW5zWzJdLFxuICAgICAgICBpbnZhbGlkID0gX3BhcnNlRnJvbVRva2Vuc1szXTtcblxuICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChpbnZhbGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJmb3JtYXQgXCIgKyBmbXQsIHRleHQsIHNwZWNpZmljT2Zmc2V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBmcm9tRm9ybWF0IGluc3RlYWRcbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5mcm9tU3RyaW5nID0gZnVuY3Rpb24gZnJvbVN0cmluZyh0ZXh0LCBmbXQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21Gb3JtYXQodGV4dCwgZm10LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhIFNRTCBkYXRlLCB0aW1lLCBvciBkYXRldGltZVxuICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSBEYXRlVGltZSB0byB0aGlzIHpvbmVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gYSBsb2NhbGUgc3RyaW5nIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIERhdGVUaW1lIHRvIHRoaXMgbG9jYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIHJlc3VsdGluZyBEYXRlVGltZSB0byB0aGlzIG51bWJlcmluZyBzeXN0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0JylcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVNRTCgnMjAxNy0wNS0xNSAwOToxMjozNC4zNDInKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiswNjowMCcpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyIEFtZXJpY2EvTG9zX0FuZ2VsZXMnKVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiBBbWVyaWNhL0xvc19BbmdlbGVzJywgeyBzZXRab25lOiB0cnVlIH0pXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyJywgeyB6b25lOiAnQW1lcmljYS9Mb3NfQW5nZWxlcycgfSlcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVNRTCgnMDk6MTI6MzQuMzQyJylcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbVNRTCA9IGZ1bmN0aW9uIGZyb21TUUwodGV4dCwgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgX3BhcnNlU1FMID0gcGFyc2VTUUwodGV4dCksXG4gICAgICAgIHZhbHMgPSBfcGFyc2VTUUxbMF0sXG4gICAgICAgIHBhcnNlZFpvbmUgPSBfcGFyc2VTUUxbMV07XG5cbiAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIlNRTFwiLCB0ZXh0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuIGludmFsaWQgRGF0ZVRpbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBzaW1wbGUgc3RyaW5nIG9mIHdoeSB0aGlzIERhdGVUaW1lIGlzIGludmFsaWQuIFNob3VsZCBub3QgY29udGFpbiBwYXJhbWV0ZXJzIG9yIGFueXRoaW5nIGVsc2UgZGF0YS1kZXBlbmRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtleHBsYW5hdGlvbj1udWxsXSAtIGxvbmdlciBleHBsYW5hdGlvbiwgbWF5IGluY2x1ZGUgcGFyYW1ldGVycyBhbmQgb3RoZXIgdXNlZnVsIGRlYnVnZ2luZyBpbmZvcm1hdGlvblxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBEYXRlVGltZS5pbnZhbGlkID0gZnVuY3Rpb24gaW52YWxpZChyZWFzb24sIGV4cGxhbmF0aW9uKSB7XG4gICAgaWYgKGV4cGxhbmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGV4cGxhbmF0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXJlYXNvbikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwibmVlZCB0byBzcGVjaWZ5IGEgcmVhc29uIHRoZSBEYXRlVGltZSBpcyBpbnZhbGlkXCIpO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkID0gcmVhc29uIGluc3RhbmNlb2YgSW52YWxpZCA/IHJlYXNvbiA6IG5ldyBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pO1xuXG4gICAgaWYgKFNldHRpbmdzLnRocm93T25JbnZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGVUaW1lRXJyb3IoaW52YWxpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZVRpbWUoe1xuICAgICAgICBpbnZhbGlkOiBpbnZhbGlkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIG9iamVjdCBpcyBhIERhdGVUaW1lLiBXb3JrcyBhY3Jvc3MgY29udGV4dCBib3VuZGFyaWVzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuaXNEYXRlVGltZSA9IGZ1bmN0aW9uIGlzRGF0ZVRpbWUobykge1xuICAgIHJldHVybiBvICYmIG8uaXNMdXhvbkRhdGVUaW1lIHx8IGZhbHNlO1xuICB9IC8vIElORk9cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB1bml0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIGEgdW5pdCBzdWNoIGFzICdtaW51dGUnIG9yICdkYXknXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDcsIDQpLmdldCgnbW9udGgnKTsgLy89PiA3XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDcsIDQpLmdldCgnZGF5Jyk7IC8vPT4gNFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgdmFyIF9wcm90byA9IERhdGVUaW1lLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KHVuaXQpIHtcbiAgICByZXR1cm4gdGhpc1t1bml0XTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBEYXRlVGltZSBpcyB2YWxpZC4gSW52YWxpZCBEYXRlVGltZXMgb2NjdXIgd2hlbjpcbiAgICogKiBUaGUgRGF0ZVRpbWUgd2FzIGNyZWF0ZWQgZnJvbSBpbnZhbGlkIGNhbGVuZGFyIGluZm9ybWF0aW9uLCBzdWNoIGFzIHRoZSAxM3RoIG1vbnRoIG9yIEZlYnJ1YXJ5IDMwXG4gICAqICogVGhlIERhdGVUaW1lIHdhcyBjcmVhdGVkIGJ5IGFuIG9wZXJhdGlvbiBvbiBhbm90aGVyIGludmFsaWQgZGF0ZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVzb2x2ZWQgSW50bCBvcHRpb25zIGZvciB0aGlzIERhdGVUaW1lLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBpbiB1bmRlcnN0YW5kaW5nIHRoZSBiZWhhdmlvciBvZiBmb3JtYXR0aW5nIG1ldGhvZHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSB0aGUgc2FtZSBvcHRpb25zIGFzIHRvTG9jYWxlU3RyaW5nXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIF9wcm90by5yZXNvbHZlZExvY2FsZU9wdGlvbnMgPSBmdW5jdGlvbiByZXNvbHZlZExvY2FsZU9wdGlvbnMob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgX0Zvcm1hdHRlciRjcmVhdGUkcmVzID0gRm9ybWF0dGVyLmNyZWF0ZSh0aGlzLmxvYy5jbG9uZShvcHRzKSwgb3B0cykucmVzb2x2ZWRPcHRpb25zKHRoaXMpLFxuICAgICAgICBsb2NhbGUgPSBfRm9ybWF0dGVyJGNyZWF0ZSRyZXMubG9jYWxlLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfRm9ybWF0dGVyJGNyZWF0ZSRyZXMubnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBjYWxlbmRhciA9IF9Gb3JtYXR0ZXIkY3JlYXRlJHJlcy5jYWxlbmRhcjtcblxuICAgIHJldHVybiB7XG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIG51bWJlcmluZ1N5c3RlbTogbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgb3V0cHV0Q2FsZW5kYXI6IGNhbGVuZGFyXG4gICAgfTtcbiAgfSAvLyBUUkFOU0ZPUk1cblxuICAvKipcbiAgICogXCJTZXRcIiB0aGUgRGF0ZVRpbWUncyB6b25lIHRvIFVUQy4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxuICAgKlxuICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBEYXRlVGltZSNzZXRab25lfSgndXRjJylcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gLSBvcHRpb25hbGx5LCBhbiBvZmZzZXQgZnJvbSBVVEMgaW4gbWludXRlc1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdHM9e31dIC0gb3B0aW9ucyB0byBwYXNzIHRvIGBzZXRab25lKClgXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1VUQyA9IGZ1bmN0aW9uIHRvVVRDKG9mZnNldCwgb3B0cykge1xuICAgIGlmIChvZmZzZXQgPT09IHZvaWQgMCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2V0Wm9uZShGaXhlZE9mZnNldFpvbmUuaW5zdGFuY2Uob2Zmc2V0KSwgb3B0cyk7XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhlIERhdGVUaW1lJ3Mgem9uZSB0byB0aGUgaG9zdCdzIGxvY2FsIHpvbmUuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cbiAgICpcbiAgICogRXF1aXZhbGVudCB0byBgc2V0Wm9uZSgnbG9jYWwnKWBcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvTG9jYWwgPSBmdW5jdGlvbiB0b0xvY2FsKCkge1xuICAgIHJldHVybiB0aGlzLnNldFpvbmUoU2V0dGluZ3MuZGVmYXVsdFpvbmUpO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSBEYXRlVGltZSdzIHpvbmUgdG8gc3BlY2lmaWVkIHpvbmUuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgdGhlIHNldHRlciBrZWVwcyB0aGUgdW5kZXJseWluZyB0aW1lIHRoZSBzYW1lIChhcyBpbiwgdGhlIHNhbWUgdGltZXN0YW1wKSwgYnV0IHRoZSBuZXcgaW5zdGFuY2Ugd2lsbCByZXBvcnQgZGlmZmVyZW50IGxvY2FsIHRpbWVzIGFuZCBjb25zaWRlciBEU1RzIHdoZW4gbWFraW5nIGNvbXB1dGF0aW9ucywgYXMgd2l0aCB7QGxpbmsgRGF0ZVRpbWUjcGx1c30uIFlvdSBtYXkgd2lzaCB0byB1c2Uge0BsaW5rIERhdGVUaW1lI3RvTG9jYWx9IGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9VVEN9IHdoaWNoIHByb3ZpZGUgc2ltcGxlIGNvbnZlbmllbmNlIHdyYXBwZXJzIGZvciBjb21tb25seSB1c2VkIHpvbmVzLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfSBbem9uZT0nbG9jYWwnXSAtIGEgem9uZSBpZGVudGlmaWVyLiBBcyBhIHN0cmluZywgdGhhdCBjYW4gYmUgYW55IElBTkEgem9uZSBzdXBwb3J0ZWQgYnkgdGhlIGhvc3QgZW52aXJvbm1lbnQsIG9yIGEgZml4ZWQtb2Zmc2V0IG5hbWUgb2YgdGhlIGZvcm0gJ1VUQyszJywgb3IgdGhlIHN0cmluZ3MgJ2xvY2FsJyBvciAndXRjJy4gWW91IG1heSBhbHNvIHN1cHBseSBhbiBpbnN0YW5jZSBvZiBhIHtAbGluayBEYXRlVGltZSNab25lfSBjbGFzcy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMua2VlcExvY2FsVGltZT1mYWxzZV0gLSBJZiB0cnVlLCBhZGp1c3QgdGhlIHVuZGVybHlpbmcgdGltZSBzbyB0aGF0IHRoZSBsb2NhbCB0aW1lIHN0YXlzIHRoZSBzYW1lLCBidXQgaW4gdGhlIHRhcmdldCB6b25lLiBZb3Ugc2hvdWxkIHJhcmVseSBuZWVkIHRoaXMuXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRab25lID0gZnVuY3Rpb24gc2V0Wm9uZSh6b25lLCBfdGVtcCkge1xuICAgIHZhciBfcmVmMiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBfcmVmMiRrZWVwTG9jYWxUaW1lID0gX3JlZjIua2VlcExvY2FsVGltZSxcbiAgICAgICAga2VlcExvY2FsVGltZSA9IF9yZWYyJGtlZXBMb2NhbFRpbWUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIka2VlcExvY2FsVGltZSxcbiAgICAgICAgX3JlZjIka2VlcENhbGVuZGFyVGltID0gX3JlZjIua2VlcENhbGVuZGFyVGltZSxcbiAgICAgICAga2VlcENhbGVuZGFyVGltZSA9IF9yZWYyJGtlZXBDYWxlbmRhclRpbSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiRrZWVwQ2FsZW5kYXJUaW07XG5cbiAgICB6b25lID0gbm9ybWFsaXplWm9uZSh6b25lLCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XG5cbiAgICBpZiAoem9uZS5lcXVhbHModGhpcy56b25lKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmICghem9uZS5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZCh1bnN1cHBvcnRlZFpvbmUoem9uZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV3VFMgPSB0aGlzLnRzO1xuXG4gICAgICBpZiAoa2VlcExvY2FsVGltZSB8fCBrZWVwQ2FsZW5kYXJUaW1lKSB7XG4gICAgICAgIHZhciBvZmZzZXRHdWVzcyA9IHpvbmUub2Zmc2V0KHRoaXMudHMpO1xuICAgICAgICB2YXIgYXNPYmogPSB0aGlzLnRvT2JqZWN0KCk7XG5cbiAgICAgICAgdmFyIF9vYmpUb1RTMyA9IG9ialRvVFMoYXNPYmosIG9mZnNldEd1ZXNzLCB6b25lKTtcblxuICAgICAgICBuZXdUUyA9IF9vYmpUb1RTM1swXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsb25lKHRoaXMsIHtcbiAgICAgICAgdHM6IG5ld1RTLFxuICAgICAgICB6b25lOiB6b25lXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhlIGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvciBvdXRwdXRDYWxlbmRhci4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBwcm9wZXJ0aWVzIHRvIHNldFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkucmVjb25maWd1cmUoeyBsb2NhbGU6ICdlbi1HQicgfSlcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlY29uZmlndXJlID0gZnVuY3Rpb24gcmVjb25maWd1cmUoX3RlbXAyKSB7XG4gICAgdmFyIF9yZWYzID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgICAgbG9jYWxlID0gX3JlZjMubG9jYWxlLFxuICAgICAgICBudW1iZXJpbmdTeXN0ZW0gPSBfcmVmMy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIG91dHB1dENhbGVuZGFyID0gX3JlZjMub3V0cHV0Q2FsZW5kYXI7XG5cbiAgICB2YXIgbG9jID0gdGhpcy5sb2MuY2xvbmUoe1xuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSxcbiAgICAgIG91dHB1dENhbGVuZGFyOiBvdXRwdXRDYWxlbmRhclxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZSh0aGlzLCB7XG4gICAgICBsb2M6IGxvY1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSBsb2NhbGUuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cbiAgICogSnVzdCBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIHJlY29uZmlndXJlKHsgbG9jYWxlIH0pXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5zZXRMb2NhbGUoJ2VuLUdCJylcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldExvY2FsZSA9IGZ1bmN0aW9uIHNldExvY2FsZShsb2NhbGUpIHtcbiAgICByZXR1cm4gdGhpcy5yZWNvbmZpZ3VyZSh7XG4gICAgICBsb2NhbGU6IGxvY2FsZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBcIlNldFwiIHRoZSB2YWx1ZXMgb2Ygc3BlY2lmaWVkIHVuaXRzLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXG4gICAqIFlvdSBjYW4gb25seSBzZXQgdW5pdHMgd2l0aCB0aGlzIG1ldGhvZDsgZm9yIFwic2V0dGluZ1wiIG1ldGFkYXRhLCBzZWUge0BsaW5rIERhdGVUaW1lI3JlY29uZmlndXJlfSBhbmQge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9LlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIC0gYSBtYXBwaW5nIG9mIHVuaXRzIHRvIG51bWJlcnNcbiAgICogQGV4YW1wbGUgZHQuc2V0KHsgeWVhcjogMjAxNyB9KVxuICAgKiBAZXhhbXBsZSBkdC5zZXQoeyBob3VyOiA4LCBtaW51dGU6IDMwIH0pXG4gICAqIEBleGFtcGxlIGR0LnNldCh7IHdlZWtkYXk6IDUgfSlcbiAgICogQGV4YW1wbGUgZHQuc2V0KHsgeWVhcjogMjAwNSwgb3JkaW5hbDogMjM0IH0pXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXQgPSBmdW5jdGlvbiBzZXQodmFsdWVzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiB0aGlzO1xuICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplT2JqZWN0KHZhbHVlcywgbm9ybWFsaXplVW5pdCksXG4gICAgICAgIHNldHRpbmdXZWVrU3R1ZmYgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC53ZWVrWWVhcikgfHwgIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQud2Vla051bWJlcikgfHwgIWlzVW5kZWZpbmVkKG5vcm1hbGl6ZWQud2Vla2RheSksXG4gICAgICAgIGNvbnRhaW5zT3JkaW5hbCA9ICFpc1VuZGVmaW5lZChub3JtYWxpemVkLm9yZGluYWwpLFxuICAgICAgICBjb250YWluc0dyZWdvclllYXIgPSAhaXNVbmRlZmluZWQobm9ybWFsaXplZC55ZWFyKSxcbiAgICAgICAgY29udGFpbnNHcmVnb3JNRCA9ICFpc1VuZGVmaW5lZChub3JtYWxpemVkLm1vbnRoKSB8fCAhaXNVbmRlZmluZWQobm9ybWFsaXplZC5kYXkpLFxuICAgICAgICBjb250YWluc0dyZWdvciA9IGNvbnRhaW5zR3JlZ29yWWVhciB8fCBjb250YWluc0dyZWdvck1ELFxuICAgICAgICBkZWZpbml0ZVdlZWtEZWYgPSBub3JtYWxpemVkLndlZWtZZWFyIHx8IG5vcm1hbGl6ZWQud2Vla051bWJlcjtcblxuICAgIGlmICgoY29udGFpbnNHcmVnb3IgfHwgY29udGFpbnNPcmRpbmFsKSAmJiBkZWZpbml0ZVdlZWtEZWYpIHtcbiAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcIkNhbid0IG1peCB3ZWVrWWVhci93ZWVrTnVtYmVyIHVuaXRzIHdpdGggeWVhci9tb250aC9kYXkgb3Igb3JkaW5hbHNcIik7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5zR3JlZ29yTUQgJiYgY29udGFpbnNPcmRpbmFsKSB7XG4gICAgICB0aHJvdyBuZXcgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IoXCJDYW4ndCBtaXggb3JkaW5hbCBkYXRlcyB3aXRoIG1vbnRoL2RheVwiKTtcbiAgICB9XG5cbiAgICB2YXIgbWl4ZWQ7XG5cbiAgICBpZiAoc2V0dGluZ1dlZWtTdHVmZikge1xuICAgICAgbWl4ZWQgPSB3ZWVrVG9HcmVnb3JpYW4oX2V4dGVuZHMoe30sIGdyZWdvcmlhblRvV2Vlayh0aGlzLmMpLCBub3JtYWxpemVkKSk7XG4gICAgfSBlbHNlIGlmICghaXNVbmRlZmluZWQobm9ybWFsaXplZC5vcmRpbmFsKSkge1xuICAgICAgbWl4ZWQgPSBvcmRpbmFsVG9HcmVnb3JpYW4oX2V4dGVuZHMoe30sIGdyZWdvcmlhblRvT3JkaW5hbCh0aGlzLmMpLCBub3JtYWxpemVkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1peGVkID0gX2V4dGVuZHMoe30sIHRoaXMudG9PYmplY3QoKSwgbm9ybWFsaXplZCk7IC8vIGlmIHdlIGRpZG4ndCBzZXQgdGhlIGRheSBidXQgd2UgZW5kZWQgdXAgb24gYW4gb3ZlcmZsb3cgZGF0ZSxcbiAgICAgIC8vIHVzZSB0aGUgbGFzdCBkYXkgb2YgdGhlIHJpZ2h0IG1vbnRoXG5cbiAgICAgIGlmIChpc1VuZGVmaW5lZChub3JtYWxpemVkLmRheSkpIHtcbiAgICAgICAgbWl4ZWQuZGF5ID0gTWF0aC5taW4oZGF5c0luTW9udGgobWl4ZWQueWVhciwgbWl4ZWQubW9udGgpLCBtaXhlZC5kYXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfb2JqVG9UUzQgPSBvYmpUb1RTKG1peGVkLCB0aGlzLm8sIHRoaXMuem9uZSksXG4gICAgICAgIHRzID0gX29ialRvVFM0WzBdLFxuICAgICAgICBvID0gX29ialRvVFM0WzFdO1xuXG4gICAgcmV0dXJuIGNsb25lKHRoaXMsIHtcbiAgICAgIHRzOiB0cyxcbiAgICAgIG86IG9cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgcGVyaW9kIG9mIHRpbWUgdG8gdGhpcyBEYXRlVGltZSBhbmQgcmV0dXJuIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWVcbiAgICpcbiAgICogQWRkaW5nIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBvciBtaWxsaXNlY29uZHMgaW5jcmVhc2VzIHRoZSB0aW1lc3RhbXAgYnkgdGhlIHJpZ2h0IG51bWJlciBvZiBtaWxsaXNlY29uZHMuIEFkZGluZyBkYXlzLCBtb250aHMsIG9yIHllYXJzIHNoaWZ0cyB0aGUgY2FsZW5kYXIsIGFjY291bnRpbmcgZm9yIERTVHMgYW5kIGxlYXAgeWVhcnMgYWxvbmcgdGhlIHdheS4gVGh1cywgYGR0LnBsdXMoeyBob3VyczogMjQgfSlgIG1heSByZXN1bHQgaW4gYSBkaWZmZXJlbnQgdGltZSB0aGFuIGBkdC5wbHVzKHsgZGF5czogMSB9KWAgaWYgdGhlcmUncyBhIERTVCBzaGlmdCBpbiBiZXR3ZWVuLlxuICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdHxudW1iZXJ9IGR1cmF0aW9uIC0gVGhlIGFtb3VudCB0byBhZGQuIEVpdGhlciBhIEx1eG9uIER1cmF0aW9uLCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIHRoZSBvYmplY3QgYXJndW1lbnQgdG8gRHVyYXRpb24uZnJvbU9iamVjdCgpXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoMTIzKSAvL34+IGluIDEyMyBtaWxsaXNlY29uZHNcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IG1pbnV0ZXM6IDE1IH0pIC8vfj4gaW4gMTUgbWludXRlc1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogMSB9KSAvL34+IHRoaXMgdGltZSB0b21vcnJvd1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogLTEgfSkgLy9+PiB0aGlzIHRpbWUgeWVzdGVyZGF5XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBob3VyczogMywgbWludXRlczogMTMgfSkgLy9+PiBpbiAzIGhyLCAxMyBtaW5cbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyhEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDMsIG1pbnV0ZXM6IDEzIH0pKSAvL34+IGluIDMgaHIsIDEzIG1pblxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucGx1cyA9IGZ1bmN0aW9uIHBsdXMoZHVyYXRpb24pIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pO1xuICAgIHJldHVybiBjbG9uZSh0aGlzLCBhZGp1c3RUaW1lKHRoaXMsIGR1cikpO1xuICB9XG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHBlcmlvZCBvZiB0aW1lIHRvIHRoaXMgRGF0ZVRpbWUgYW5kIHJldHVybiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lXG4gICAqIFNlZSB7QGxpbmsgRGF0ZVRpbWUjcGx1c31cbiAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R8bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBhbW91bnQgdG8gc3VidHJhY3QuIEVpdGhlciBhIEx1eG9uIER1cmF0aW9uLCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIHRoZSBvYmplY3QgYXJndW1lbnQgdG8gRHVyYXRpb24uZnJvbU9iamVjdCgpXG4gICBAcmV0dXJuIHtEYXRlVGltZX1cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubWludXMgPSBmdW5jdGlvbiBtaW51cyhkdXJhdGlvbikge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gdGhpcztcbiAgICB2YXIgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbikubmVnYXRlKCk7XG4gICAgcmV0dXJuIGNsb25lKHRoaXMsIGFkanVzdFRpbWUodGhpcywgZHVyKSk7XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhpcyBEYXRlVGltZSB0byB0aGUgYmVnaW5uaW5nIG9mIGEgdW5pdCBvZiB0aW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIFRoZSB1bml0IHRvIGdvIHRvIHRoZSBiZWdpbm5pbmcgb2YuIENhbiBiZSAneWVhcicsICdxdWFydGVyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCcsIG9yICdtaWxsaXNlY29uZCcuXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMpLnN0YXJ0T2YoJ21vbnRoJykudG9JU09EYXRlKCk7IC8vPT4gJzIwMTQtMDMtMDEnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMpLnN0YXJ0T2YoJ3llYXInKS50b0lTT0RhdGUoKTsgLy89PiAnMjAxNC0wMS0wMSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMykuc3RhcnRPZignd2VlaycpLnRvSVNPRGF0ZSgpOyAvLz0+ICcyMDE0LTAzLTAzJywgd2Vla3MgYWx3YXlzIHN0YXJ0IG9uIE1vbmRheXNcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMywgNSwgMzApLnN0YXJ0T2YoJ2RheScpLnRvSVNPVGltZSgpOyAvLz0+ICcwMDowMC4wMDAtMDU6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5zdGFydE9mKCdob3VyJykudG9JU09UaW1lKCk7IC8vPT4gJzA1OjAwOjAwLjAwMC0wNTowMCdcbiAgICogQHJldHVybiB7RGF0ZVRpbWV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0YXJ0T2YgPSBmdW5jdGlvbiBzdGFydE9mKHVuaXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIG8gPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFVuaXQgPSBEdXJhdGlvbi5ub3JtYWxpemVVbml0KHVuaXQpO1xuXG4gICAgc3dpdGNoIChub3JtYWxpemVkVW5pdCkge1xuICAgICAgY2FzZSBcInllYXJzXCI6XG4gICAgICAgIG8ubW9udGggPSAxO1xuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICBjYXNlIFwicXVhcnRlcnNcIjpcbiAgICAgIGNhc2UgXCJtb250aHNcIjpcbiAgICAgICAgby5kYXkgPSAxO1xuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICBjYXNlIFwid2Vla3NcIjpcbiAgICAgIGNhc2UgXCJkYXlzXCI6XG4gICAgICAgIG8uaG91ciA9IDA7XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG5cbiAgICAgIGNhc2UgXCJob3Vyc1wiOlxuICAgICAgICBvLm1pbnV0ZSA9IDA7XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG5cbiAgICAgIGNhc2UgXCJtaW51dGVzXCI6XG4gICAgICAgIG8uc2Vjb25kID0gMDtcbiAgICAgIC8vIGZhbGxzIHRocm91Z2hcblxuICAgICAgY2FzZSBcInNlY29uZHNcIjpcbiAgICAgICAgby5taWxsaXNlY29uZCA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gbm8gZGVmYXVsdCwgaW52YWxpZCB1bml0cyB0aHJvdyBpbiBub3JtYWxpemVVbml0KClcbiAgICB9XG5cbiAgICBpZiAobm9ybWFsaXplZFVuaXQgPT09IFwid2Vla3NcIikge1xuICAgICAgby53ZWVrZGF5ID0gMTtcbiAgICB9XG5cbiAgICBpZiAobm9ybWFsaXplZFVuaXQgPT09IFwicXVhcnRlcnNcIikge1xuICAgICAgdmFyIHEgPSBNYXRoLmNlaWwodGhpcy5tb250aCAvIDMpO1xuICAgICAgby5tb250aCA9IChxIC0gMSkgKiAzICsgMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXQobyk7XG4gIH1cbiAgLyoqXG4gICAqIFwiU2V0XCIgdGhpcyBEYXRlVGltZSB0byB0aGUgZW5kIChtZWFuaW5nIHRoZSBsYXN0IG1pbGxpc2Vjb25kKSBvZiBhIHVuaXQgb2YgdGltZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIFRoZSB1bml0IHRvIGdvIHRvIHRoZSBlbmQgb2YuIENhbiBiZSAneWVhcicsICdxdWFydGVyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCcsIG9yICdtaWxsaXNlY29uZCcuXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMpLmVuZE9mKCdtb250aCcpLnRvSVNPKCk7IC8vPT4gJzIwMTQtMDMtMzFUMjM6NTk6NTkuOTk5LTA1OjAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5lbmRPZigneWVhcicpLnRvSVNPKCk7IC8vPT4gJzIwMTQtMTItMzFUMjM6NTk6NTkuOTk5LTA1OjAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5lbmRPZignd2VlaycpLnRvSVNPKCk7IC8vID0+ICcyMDE0LTAzLTA5VDIzOjU5OjU5Ljk5OS0wNTowMCcsIHdlZWtzIHN0YXJ0IG9uIE1vbmRheXNcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMywgNSwgMzApLmVuZE9mKCdkYXknKS50b0lTTygpOyAvLz0+ICcyMDE0LTAzLTAzVDIzOjU5OjU5Ljk5OS0wNTowMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMywgNSwgMzApLmVuZE9mKCdob3VyJykudG9JU08oKTsgLy89PiAnMjAxNC0wMy0wM1QwNTo1OTo1OS45OTktMDU6MDAnXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5lbmRPZiA9IGZ1bmN0aW9uIGVuZE9mKHVuaXQpIHtcbiAgICB2YXIgX3RoaXMkcGx1cztcblxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnBsdXMoKF90aGlzJHBsdXMgPSB7fSwgX3RoaXMkcGx1c1t1bml0XSA9IDEsIF90aGlzJHBsdXMpKS5zdGFydE9mKHVuaXQpLm1pbnVzKDEpIDogdGhpcztcbiAgfSAvLyBPVVRQVVRcblxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBmb3JtYXQgc3RyaW5nLlxuICAgKiAqKllvdSBtYXkgbm90IHdhbnQgdGhpcy4qKiBTZWUge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3IgYSBtb3JlIGZsZXhpYmxlIGZvcm1hdHRpbmcgdG9vbC4gRm9yIGEgdGFibGUgb2YgdG9rZW5zIGFuZCB0aGVpciBpbnRlcnByZXRhdGlvbnMsIHNlZSBbaGVyZV0oaHR0cHM6Ly9tb21lbnQuZ2l0aHViLmlvL2x1eG9uLyMvZm9ybWF0dGluZz9pZD10YWJsZS1vZi10b2tlbnMpLlxuICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHN0cmluZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdHMgdG8gb3ZlcnJpZGUgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvbiB0aGlzIERhdGVUaW1lXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvRm9ybWF0KCd5eXl5IExMTCBkZCcpIC8vPT4gJzIwMTcgQXByIDIyJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5zZXRMb2NhbGUoJ2ZyJykudG9Gb3JtYXQoJ3l5eXkgTExMIGRkJykgLy89PiAnMjAxNyBhdnIuIDIyJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0Zvcm1hdCgneXl5eSBMTEwgZGQnLCB7IGxvY2FsZTogXCJmclwiIH0pIC8vPT4gJzIwMTcgYXZyLiAyMidcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Gb3JtYXQoXCJISCAnaG91cnMgYW5kJyBtbSAnbWludXRlcydcIikgLy89PiAnMjAgaG91cnMgYW5kIDU1IG1pbnV0ZXMnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9Gb3JtYXQgPSBmdW5jdGlvbiB0b0Zvcm1hdChmbXQsIG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MucmVkZWZhdWx0VG9FTihvcHRzKSkuZm9ybWF0RGF0ZVRpbWVGcm9tU3RyaW5nKHRoaXMsIGZtdCkgOiBJTlZBTElEO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbG9jYWxpemVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhpcyBkYXRlLiBBY2NlcHRzIHRoZSBzYW1lIG9wdGlvbnMgYXMgdGhlIEludGwuRGF0ZVRpbWVGb3JtYXQgY29uc3RydWN0b3IgYW5kIGFueSBwcmVzZXRzIGRlZmluZWQgYnkgTHV4b24sIHN1Y2ggYXMgYERhdGVUaW1lLkRBVEVfRlVMTGAgb3IgYERhdGVUaW1lLlRJTUVfU0lNUExFYC5cbiAgICogVGhlIGV4YWN0IGJlaGF2aW9yIG9mIHRoaXMgbWV0aG9kIGlzIGJyb3dzZXItc3BlY2lmaWMsIGJ1dCBpbiBnZW5lcmFsIGl0IHdpbGwgcmV0dXJuIGFuIGFwcHJvcHJpYXRlIHJlcHJlc2VudGF0aW9uXG4gICAqIG9mIHRoZSBEYXRlVGltZSBpbiB0aGUgYXNzaWduZWQgbG9jYWxlLlxuICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlVGltZUZvcm1hdFxuICAgKiBAcGFyYW0gZm9ybWF0T3B0cyB7T2JqZWN0fSAtIEludGwuRGF0ZVRpbWVGb3JtYXQgY29uc3RydWN0b3Igb3B0aW9ucyBhbmQgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0cyB0byBvdmVycmlkZSB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zIG9uIHRoaXMgRGF0ZVRpbWVcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoKTsgLy89PiA0LzIwLzIwMTdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkuc2V0TG9jYWxlKCdlbi1nYicpLnRvTG9jYWxlU3RyaW5nKCk7IC8vPT4gJzIwLzA0LzIwMTcnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKHsgbG9jYWxlOiAnZW4tZ2InIH0pOyAvLz0+ICcyMC8wNC8yMDE3J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyhEYXRlVGltZS5EQVRFX0ZVTEwpOyAvLz0+ICdBcHJpbCAyMCwgMjAxNydcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoRGF0ZVRpbWUuVElNRV9TSU1QTEUpOyAvLz0+ICcxMTozMiBBTSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoRGF0ZVRpbWUuREFURVRJTUVfU0hPUlQpOyAvLz0+ICc0LzIwLzIwMTcsIDExOjMyIEFNJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyh7IHdlZWtkYXk6ICdsb25nJywgbW9udGg6ICdsb25nJywgZGF5OiAnMi1kaWdpdCcgfSk7IC8vPT4gJ1RodXJzZGF5LCBBcHJpbCAyMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoeyB3ZWVrZGF5OiAnc2hvcnQnLCBtb250aDogJ3Nob3J0JywgZGF5OiAnMi1kaWdpdCcsIGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSk7IC8vPT4gJ1RodSwgQXByIDIwLCAxMToyNyBBTSdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnLCBob3VyQ3ljbGU6ICdoMjMnIH0pOyAvLz0+ICcxMTozMidcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0xvY2FsZVN0cmluZyA9IGZ1bmN0aW9uIHRvTG9jYWxlU3RyaW5nKGZvcm1hdE9wdHMsIG9wdHMpIHtcbiAgICBpZiAoZm9ybWF0T3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXRPcHRzID0gREFURV9TSE9SVDtcbiAgICB9XG5cbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MuY2xvbmUob3B0cyksIGZvcm1hdE9wdHMpLmZvcm1hdERhdGVUaW1lKHRoaXMpIDogSU5WQUxJRDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBmb3JtYXQgXCJwYXJ0c1wiLCBtZWFuaW5nIGluZGl2aWR1YWwgdG9rZW5zIGFsb25nIHdpdGggbWV0YWRhdGEuIFRoaXMgaXMgYWxsb3dzIGNhbGxlcnMgdG8gcG9zdC1wcm9jZXNzIGluZGl2aWR1YWwgc2VjdGlvbnMgb2YgdGhlIGZvcm1hdHRlZCBvdXRwdXQuXG4gICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGVUaW1lRm9ybWF0L2Zvcm1hdFRvUGFydHNcbiAgICogQHBhcmFtIG9wdHMge09iamVjdH0gLSBJbnRsLkRhdGVUaW1lRm9ybWF0IGNvbnN0cnVjdG9yIG9wdGlvbnMsIHNhbWUgYXMgYHRvTG9jYWxlU3RyaW5nYC5cbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVQYXJ0cygpOyAvLz0+IFtcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdkYXknLCB2YWx1ZTogJzI1JyB9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ2xpdGVyYWwnLCB2YWx1ZTogJy8nIH0sXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz0+ICAgeyB0eXBlOiAnbW9udGgnLCB2YWx1ZTogJzA1JyB9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ2xpdGVyYWwnLCB2YWx1ZTogJy8nIH0sXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz0+ICAgeyB0eXBlOiAneWVhcicsIHZhbHVlOiAnMTk4MicgfVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiBdXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvTG9jYWxlUGFydHMgPSBmdW5jdGlvbiB0b0xvY2FsZVBhcnRzKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5sb2MuY2xvbmUob3B0cyksIG9wdHMpLmZvcm1hdERhdGVUaW1lUGFydHModGhpcykgOiBbXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3VwcHJlc3NNaWxsaXNlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBtaWxsaXNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzU2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIHNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVPZmZzZXQ9dHJ1ZV0gLSBpbmNsdWRlIHRoZSBvZmZzZXQsIHN1Y2ggYXMgJ1onIG9yICctMDQ6MDAnXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5mb3JtYXQ9J2V4dGVuZGVkJ10gLSBjaG9vc2UgYmV0d2VlbiB0aGUgYmFzaWMgYW5kIGV4dGVuZGVkIGZvcm1hdFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMTk4MywgNSwgMjUpLnRvSVNPKCkgLy89PiAnMTk4Mi0wNS0yNVQwMDowMDowMC4wMDBaJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0lTTygpIC8vPT4gJzIwMTctMDQtMjJUMjA6NDc6MDUuMzM1LTA0OjAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0lTTyh7IGluY2x1ZGVPZmZzZXQ6IGZhbHNlIH0pIC8vPT4gJzIwMTctMDQtMjJUMjA6NDc6MDUuMzM1J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0lTTyh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcyMDE3MDQyMlQyMDQ3MDUuMzM1LTA0MDAnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU08gPSBmdW5jdGlvbiB0b0lTTyhfdGVtcDMpIHtcbiAgICB2YXIgX3JlZjQgPSBfdGVtcDMgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAzLFxuICAgICAgICBfcmVmNCRmb3JtYXQgPSBfcmVmNC5mb3JtYXQsXG4gICAgICAgIGZvcm1hdCA9IF9yZWY0JGZvcm1hdCA9PT0gdm9pZCAwID8gXCJleHRlbmRlZFwiIDogX3JlZjQkZm9ybWF0LFxuICAgICAgICBfcmVmNCRzdXBwcmVzc1NlY29uZHMgPSBfcmVmNC5zdXBwcmVzc1NlY29uZHMsXG4gICAgICAgIHN1cHByZXNzU2Vjb25kcyA9IF9yZWY0JHN1cHByZXNzU2Vjb25kcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNCRzdXBwcmVzc1NlY29uZHMsXG4gICAgICAgIF9yZWY0JHN1cHByZXNzTWlsbGlzZSA9IF9yZWY0LnN1cHByZXNzTWlsbGlzZWNvbmRzLFxuICAgICAgICBzdXBwcmVzc01pbGxpc2Vjb25kcyA9IF9yZWY0JHN1cHByZXNzTWlsbGlzZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNCRzdXBwcmVzc01pbGxpc2UsXG4gICAgICAgIF9yZWY0JGluY2x1ZGVPZmZzZXQgPSBfcmVmNC5pbmNsdWRlT2Zmc2V0LFxuICAgICAgICBpbmNsdWRlT2Zmc2V0ID0gX3JlZjQkaW5jbHVkZU9mZnNldCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWY0JGluY2x1ZGVPZmZzZXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGV4dCA9IGZvcm1hdCA9PT0gXCJleHRlbmRlZFwiO1xuXG4gICAgdmFyIGMgPSBfdG9JU09EYXRlKHRoaXMsIGV4dCk7XG5cbiAgICBjICs9IFwiVFwiO1xuICAgIGMgKz0gX3RvSVNPVGltZSh0aGlzLCBleHQsIHN1cHByZXNzU2Vjb25kcywgc3VwcHJlc3NNaWxsaXNlY29uZHMsIGluY2x1ZGVPZmZzZXQpO1xuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSdzIGRhdGUgY29tcG9uZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuZm9ybWF0PSdleHRlbmRlZCddIC0gY2hvb3NlIGJldHdlZW4gdGhlIGJhc2ljIGFuZCBleHRlbmRlZCBmb3JtYXRcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDE5ODIsIDUsIDI1KS50b0lTT0RhdGUoKSAvLz0+ICcxOTgyLTA1LTI1J1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMTk4MiwgNSwgMjUpLnRvSVNPRGF0ZSh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcxOTgyMDUyNSdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b0lTT0RhdGUgPSBmdW5jdGlvbiB0b0lTT0RhdGUoX3RlbXA0KSB7XG4gICAgdmFyIF9yZWY1ID0gX3RlbXA0ID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wNCxcbiAgICAgICAgX3JlZjUkZm9ybWF0ID0gX3JlZjUuZm9ybWF0LFxuICAgICAgICBmb3JtYXQgPSBfcmVmNSRmb3JtYXQgPT09IHZvaWQgMCA/IFwiZXh0ZW5kZWRcIiA6IF9yZWY1JGZvcm1hdDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RvSVNPRGF0ZSh0aGlzLCBmb3JtYXQgPT09IFwiZXh0ZW5kZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lJ3Mgd2VlayBkYXRlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygxOTgyLCA1LCAyNSkudG9JU09XZWVrRGF0ZSgpIC8vPT4gJzE5ODItVzIxLTInXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09XZWVrRGF0ZSA9IGZ1bmN0aW9uIHRvSVNPV2Vla0RhdGUoKSB7XG4gICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBcImtra2stJ1cnV1ctY1wiKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUncyB0aW1lIGNvbXBvbmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc01pbGxpc2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIG1pbGxpc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3VwcHJlc3NTZWNvbmRzPWZhbHNlXSAtIGV4Y2x1ZGUgc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZU9mZnNldD10cnVlXSAtIGluY2x1ZGUgdGhlIG9mZnNldCwgc3VjaCBhcyAnWicgb3IgJy0wNDowMCdcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlUHJlZml4PWZhbHNlXSAtIGluY2x1ZGUgdGhlIGBUYCBwcmVmaXhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmZvcm1hdD0nZXh0ZW5kZWQnXSAtIGNob29zZSBiZXR3ZWVuIHRoZSBiYXNpYyBhbmQgZXh0ZW5kZWQgZm9ybWF0XG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQgfSkudG9JU09UaW1lKCkgLy89PiAnMDc6MzQ6MTkuMzYxWidcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkuc2V0KHsgaG91cjogNywgbWludXRlOiAzNCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH0pLnRvSVNPVGltZSh7IHN1cHByZXNzU2Vjb25kczogdHJ1ZSB9KSAvLz0+ICcwNzozNFonXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQgfSkudG9JU09UaW1lKHsgZm9ybWF0OiAnYmFzaWMnIH0pIC8vPT4gJzA3MzQxOS4zNjFaJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKS5zZXQoeyBob3VyOiA3LCBtaW51dGU6IDM0IH0pLnRvSVNPVGltZSh7IGluY2x1ZGVQcmVmaXg6IHRydWUgfSkgLy89PiAnVDA3OjM0OjE5LjM2MVonXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9JU09UaW1lID0gZnVuY3Rpb24gdG9JU09UaW1lKF90ZW1wNSkge1xuICAgIHZhciBfcmVmNiA9IF90ZW1wNSA9PT0gdm9pZCAwID8ge30gOiBfdGVtcDUsXG4gICAgICAgIF9yZWY2JHN1cHByZXNzTWlsbGlzZSA9IF9yZWY2LnN1cHByZXNzTWlsbGlzZWNvbmRzLFxuICAgICAgICBzdXBwcmVzc01pbGxpc2Vjb25kcyA9IF9yZWY2JHN1cHByZXNzTWlsbGlzZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRzdXBwcmVzc01pbGxpc2UsXG4gICAgICAgIF9yZWY2JHN1cHByZXNzU2Vjb25kcyA9IF9yZWY2LnN1cHByZXNzU2Vjb25kcyxcbiAgICAgICAgc3VwcHJlc3NTZWNvbmRzID0gX3JlZjYkc3VwcHJlc3NTZWNvbmRzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY2JHN1cHByZXNzU2Vjb25kcyxcbiAgICAgICAgX3JlZjYkaW5jbHVkZU9mZnNldCA9IF9yZWY2LmluY2x1ZGVPZmZzZXQsXG4gICAgICAgIGluY2x1ZGVPZmZzZXQgPSBfcmVmNiRpbmNsdWRlT2Zmc2V0ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjYkaW5jbHVkZU9mZnNldCxcbiAgICAgICAgX3JlZjYkaW5jbHVkZVByZWZpeCA9IF9yZWY2LmluY2x1ZGVQcmVmaXgsXG4gICAgICAgIGluY2x1ZGVQcmVmaXggPSBfcmVmNiRpbmNsdWRlUHJlZml4ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY2JGluY2x1ZGVQcmVmaXgsXG4gICAgICAgIF9yZWY2JGZvcm1hdCA9IF9yZWY2LmZvcm1hdCxcbiAgICAgICAgZm9ybWF0ID0gX3JlZjYkZm9ybWF0ID09PSB2b2lkIDAgPyBcImV4dGVuZGVkXCIgOiBfcmVmNiRmb3JtYXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGMgPSBpbmNsdWRlUHJlZml4ID8gXCJUXCIgOiBcIlwiO1xuICAgIHJldHVybiBjICsgX3RvSVNPVGltZSh0aGlzLCBmb3JtYXQgPT09IFwiZXh0ZW5kZWRcIiwgc3VwcHJlc3NTZWNvbmRzLCBzdXBwcmVzc01pbGxpc2Vjb25kcywgaW5jbHVkZU9mZnNldCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gUkZDIDI4MjItY29tcGF0aWJsZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZVxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNCwgNywgMTMpLnRvUkZDMjgyMigpIC8vPT4gJ1N1biwgMTMgSnVsIDIwMTQgMDA6MDA6MDAgKzAwMDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDcsIDEzKS50b1JGQzI4MjIoKSAvLz0+ICdTdW4sIDEzIEp1bCAyMDE0IDAwOjAwOjAwIC0wNDAwJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvUkZDMjgyMiA9IGZ1bmN0aW9uIHRvUkZDMjgyMigpIHtcbiAgICByZXR1cm4gdG9UZWNoRm9ybWF0KHRoaXMsIFwiRUVFLCBkZCBMTEwgeXl5eSBISDptbTpzcyBaWlpcIiwgZmFsc2UpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBIVFRQIGhlYWRlcnMuIFRoZSBvdXRwdXQgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiBHTVQuXG4gICAqIFNwZWNpZmljYWxseSwgdGhlIHN0cmluZyBjb25mb3JtcyB0byBSRkMgMTEyMy5cbiAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvUHJvdG9jb2xzL3JmYzI2MTYvcmZjMjYxNi1zZWMzLmh0bWwjc2VjMy4zLjFcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTQsIDcsIDEzKS50b0hUVFAoKSAvLz0+ICdTdW4sIDEzIEp1bCAyMDE0IDAwOjAwOjAwIEdNVCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTQsIDcsIDEzLCAxOSkudG9IVFRQKCkgLy89PiAnU3VuLCAxMyBKdWwgMjAxNCAxOTowMDowMCBHTVQnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9IVFRQID0gZnVuY3Rpb24gdG9IVFRQKCkge1xuICAgIHJldHVybiB0b1RlY2hGb3JtYXQodGhpcy50b1VUQygpLCBcIkVFRSwgZGQgTExMIHl5eXkgSEg6bW06c3MgJ0dNVCdcIik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIFNRTCBEYXRlXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9TUUxEYXRlKCkgLy89PiAnMjAxNC0wNy0xMydcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1NRTERhdGUgPSBmdW5jdGlvbiB0b1NRTERhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfdG9JU09EYXRlKHRoaXMsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBTUUwgVGltZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlWm9uZT1mYWxzZV0gLSBpbmNsdWRlIHRoZSB6b25lLCBzdWNoIGFzICdBbWVyaWNhL05ld19Zb3JrJy4gT3ZlcnJpZGVzIGluY2x1ZGVPZmZzZXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZU9mZnNldD10cnVlXSAtIGluY2x1ZGUgdGhlIG9mZnNldCwgc3VjaCBhcyAnWicgb3IgJy0wNDowMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkudG9TUUwoKSAvLz0+ICcwNToxNToxNi4zNDUnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvU1FMKCkgLy89PiAnMDU6MTU6MTYuMzQ1IC0wNDowMCdcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9TUUwoeyBpbmNsdWRlT2Zmc2V0OiBmYWxzZSB9KSAvLz0+ICcwNToxNToxNi4zNDUnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvU1FMKHsgaW5jbHVkZVpvbmU6IGZhbHNlIH0pIC8vPT4gJzA1OjE1OjE2LjM0NSBBbWVyaWNhL05ld19Zb3JrJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU1FMVGltZSA9IGZ1bmN0aW9uIHRvU1FMVGltZShfdGVtcDYpIHtcbiAgICB2YXIgX3JlZjcgPSBfdGVtcDYgPT09IHZvaWQgMCA/IHt9IDogX3RlbXA2LFxuICAgICAgICBfcmVmNyRpbmNsdWRlT2Zmc2V0ID0gX3JlZjcuaW5jbHVkZU9mZnNldCxcbiAgICAgICAgaW5jbHVkZU9mZnNldCA9IF9yZWY3JGluY2x1ZGVPZmZzZXQgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmNyRpbmNsdWRlT2Zmc2V0LFxuICAgICAgICBfcmVmNyRpbmNsdWRlWm9uZSA9IF9yZWY3LmluY2x1ZGVab25lLFxuICAgICAgICBpbmNsdWRlWm9uZSA9IF9yZWY3JGluY2x1ZGVab25lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY3JGluY2x1ZGVab25lO1xuXG4gICAgdmFyIGZtdCA9IFwiSEg6bW06c3MuU1NTXCI7XG5cbiAgICBpZiAoaW5jbHVkZVpvbmUgfHwgaW5jbHVkZU9mZnNldCkge1xuICAgICAgZm10ICs9IFwiIFwiO1xuXG4gICAgICBpZiAoaW5jbHVkZVpvbmUpIHtcbiAgICAgICAgZm10ICs9IFwielwiO1xuICAgICAgfSBlbHNlIGlmIChpbmNsdWRlT2Zmc2V0KSB7XG4gICAgICAgIGZtdCArPSBcIlpaXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBmbXQsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBTUUwgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZVpvbmU9ZmFsc2VdIC0gaW5jbHVkZSB0aGUgem9uZSwgc3VjaCBhcyAnQW1lcmljYS9OZXdfWW9yaycuIE92ZXJyaWRlcyBpbmNsdWRlT2Zmc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVPZmZzZXQ9dHJ1ZV0gLSBpbmNsdWRlIHRoZSBvZmZzZXQsIHN1Y2ggYXMgJ1onIG9yICctMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9TUUwoKSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCBaJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoKSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCAtMDQ6MDAnXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDcsIDEzKS50b1NRTCh7IGluY2x1ZGVPZmZzZXQ6IGZhbHNlIH0pIC8vPT4gJzIwMTQtMDctMTMgMDA6MDA6MDAuMDAwJ1xuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoeyBpbmNsdWRlWm9uZTogdHJ1ZSB9KSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCBBbWVyaWNhL05ld19Zb3JrJ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU1FMID0gZnVuY3Rpb24gdG9TUUwob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudG9TUUxEYXRlKCkgKyBcIiBcIiArIHRoaXMudG9TUUxUaW1lKG9wdHMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIGRlYnVnZ2luZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudG9JU08oKSA6IElOVkFMSUQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVwb2NoIG1pbGxpc2Vjb25kcyBvZiB0aGlzIERhdGVUaW1lLiBBbGlhcyBvZiB7QGxpbmsgRGF0ZVRpbWUjdG9NaWxsaXN9XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udmFsdWVPZiA9IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9NaWxsaXMoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZXBvY2ggbWlsbGlzZWNvbmRzIG9mIHRoaXMgRGF0ZVRpbWUuXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9NaWxsaXMgPSBmdW5jdGlvbiB0b01pbGxpcygpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy50cyA6IE5hTjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZXBvY2ggc2Vjb25kcyBvZiB0aGlzIERhdGVUaW1lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU2Vjb25kcyA9IGZ1bmN0aW9uIHRvU2Vjb25kcygpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy50cyAvIDEwMDAgOiBOYU47XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gSVNPIDg2MDEgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIEpTT04uXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnRvSVNPKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBCU09OIHNlcmlhbGl6YWJsZSBlcXVpdmFsZW50IHRvIHRoaXMgRGF0ZVRpbWUuXG4gICAqIEByZXR1cm4ge0RhdGV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvQlNPTiA9IGZ1bmN0aW9uIHRvQlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy50b0pTRGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCB0aGlzIERhdGVUaW1lJ3MgeWVhciwgbW9udGgsIGRheSwgYW5kIHNvIG9uLlxuICAgKiBAcGFyYW0gb3B0cyAtIG9wdGlvbnMgZm9yIGdlbmVyYXRpbmcgdGhlIG9iamVjdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmluY2x1ZGVDb25maWc9ZmFsc2VdIC0gaW5jbHVkZSBjb25maWd1cmF0aW9uIGF0dHJpYnV0ZXMgaW4gdGhlIG91dHB1dFxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b09iamVjdCgpIC8vPT4geyB5ZWFyOiAyMDE3LCBtb250aDogNCwgZGF5OiAyMiwgaG91cjogMjAsIG1pbnV0ZTogNDksIHNlY29uZDogNDIsIG1pbGxpc2Vjb25kOiAyNjggfVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3Qob3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIGJhc2UgPSBfZXh0ZW5kcyh7fSwgdGhpcy5jKTtcblxuICAgIGlmIChvcHRzLmluY2x1ZGVDb25maWcpIHtcbiAgICAgIGJhc2Uub3V0cHV0Q2FsZW5kYXIgPSB0aGlzLm91dHB1dENhbGVuZGFyO1xuICAgICAgYmFzZS5udW1iZXJpbmdTeXN0ZW0gPSB0aGlzLmxvYy5udW1iZXJpbmdTeXN0ZW07XG4gICAgICBiYXNlLmxvY2FsZSA9IHRoaXMubG9jLmxvY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIEphdmFTY3JpcHQgRGF0ZSBlcXVpdmFsZW50IHRvIHRoaXMgRGF0ZVRpbWUuXG4gICAqIEByZXR1cm4ge0RhdGV9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvSlNEYXRlID0gZnVuY3Rpb24gdG9KU0RhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuaXNWYWxpZCA/IHRoaXMudHMgOiBOYU4pO1xuICB9IC8vIENPTVBBUkVcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIERhdGVUaW1lcyBhcyBhIER1cmF0aW9uLlxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBvdGhlckRhdGVUaW1lIC0gdGhlIERhdGVUaW1lIHRvIGNvbXBhcmUgdGhpcyBvbmUgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFt1bml0PVsnbWlsbGlzZWNvbmRzJ11dIC0gdGhlIHVuaXQgb3IgYXJyYXkgb2YgdW5pdHMgKHN1Y2ggYXMgJ2hvdXJzJyBvciAnZGF5cycpIHRvIGluY2x1ZGUgaW4gdGhlIGR1cmF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdGhhdCBhZmZlY3QgdGhlIGNyZWF0aW9uIG9mIHRoZSBEdXJhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuY29udmVyc2lvbkFjY3VyYWN5PSdjYXN1YWwnXSAtIHRoZSBjb252ZXJzaW9uIHN5c3RlbSB0byB1c2VcbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGkxID0gRGF0ZVRpbWUuZnJvbUlTTygnMTk4Mi0wNS0yNVQwOTo0NScpLFxuICAgKiAgICAgaTIgPSBEYXRlVGltZS5mcm9tSVNPKCcxOTgzLTEwLTE0VDEwOjMwJyk7XG4gICAqIGkyLmRpZmYoaTEpLnRvT2JqZWN0KCkgLy89PiB7IG1pbGxpc2Vjb25kczogNDM4MDc1MDAwMDAgfVxuICAgKiBpMi5kaWZmKGkxLCAnaG91cnMnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTIxNjguNzUgfVxuICAgKiBpMi5kaWZmKGkxLCBbJ21vbnRocycsICdkYXlzJ10pLnRvT2JqZWN0KCkgLy89PiB7IG1vbnRoczogMTYsIGRheXM6IDE5LjAzMTI1IH1cbiAgICogaTIuZGlmZihpMSwgWydtb250aHMnLCAnZGF5cycsICdob3VycyddKS50b09iamVjdCgpIC8vPT4geyBtb250aHM6IDE2LCBkYXlzOiAxOSwgaG91cnM6IDAuNzUgfVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGlmZiA9IGZ1bmN0aW9uIGRpZmYob3RoZXJEYXRlVGltZSwgdW5pdCwgb3B0cykge1xuICAgIGlmICh1bml0ID09PSB2b2lkIDApIHtcbiAgICAgIHVuaXQgPSBcIm1pbGxpc2Vjb25kc1wiO1xuICAgIH1cblxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCB8fCAhb3RoZXJEYXRlVGltZS5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gRHVyYXRpb24uaW52YWxpZChcImNyZWF0ZWQgYnkgZGlmZmluZyBhbiBpbnZhbGlkIERhdGVUaW1lXCIpO1xuICAgIH1cblxuICAgIHZhciBkdXJPcHRzID0gX2V4dGVuZHMoe1xuICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZSxcbiAgICAgIG51bWJlcmluZ1N5c3RlbTogdGhpcy5udW1iZXJpbmdTeXN0ZW1cbiAgICB9LCBvcHRzKTtcblxuICAgIHZhciB1bml0cyA9IG1heWJlQXJyYXkodW5pdCkubWFwKER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQpLFxuICAgICAgICBvdGhlcklzTGF0ZXIgPSBvdGhlckRhdGVUaW1lLnZhbHVlT2YoKSA+IHRoaXMudmFsdWVPZigpLFxuICAgICAgICBlYXJsaWVyID0gb3RoZXJJc0xhdGVyID8gdGhpcyA6IG90aGVyRGF0ZVRpbWUsXG4gICAgICAgIGxhdGVyID0gb3RoZXJJc0xhdGVyID8gb3RoZXJEYXRlVGltZSA6IHRoaXMsXG4gICAgICAgIGRpZmZlZCA9IF9kaWZmKGVhcmxpZXIsIGxhdGVyLCB1bml0cywgZHVyT3B0cyk7XG5cbiAgICByZXR1cm4gb3RoZXJJc0xhdGVyID8gZGlmZmVkLm5lZ2F0ZSgpIDogZGlmZmVkO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGlzIERhdGVUaW1lIGFuZCByaWdodCBub3cuXG4gICAqIFNlZSB7QGxpbmsgRGF0ZVRpbWUjZGlmZn1cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFt1bml0PVsnbWlsbGlzZWNvbmRzJ11dIC0gdGhlIHVuaXQgb3IgdW5pdHMgdW5pdHMgKHN1Y2ggYXMgJ2hvdXJzJyBvciAnZGF5cycpIHRvIGluY2x1ZGUgaW4gdGhlIGR1cmF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgY3JlYXRpb24gb2YgdGhlIER1cmF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGlmZk5vdyA9IGZ1bmN0aW9uIGRpZmZOb3codW5pdCwgb3B0cykge1xuICAgIGlmICh1bml0ID09PSB2b2lkIDApIHtcbiAgICAgIHVuaXQgPSBcIm1pbGxpc2Vjb25kc1wiO1xuICAgIH1cblxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kaWZmKERhdGVUaW1lLm5vdygpLCB1bml0LCBvcHRzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIEludGVydmFsIHNwYW5uaW5nIGJldHdlZW4gdGhpcyBEYXRlVGltZSBhbmQgYW5vdGhlciBEYXRlVGltZVxuICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBvdGhlckRhdGVUaW1lIC0gdGhlIG90aGVyIGVuZCBwb2ludCBvZiB0aGUgSW50ZXJ2YWxcbiAgICogQHJldHVybiB7SW50ZXJ2YWx9XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVudGlsID0gZnVuY3Rpb24gdW50aWwob3RoZXJEYXRlVGltZSkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHRoaXMsIG90aGVyRGF0ZVRpbWUpIDogdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBEYXRlVGltZSBpcyBpbiB0aGUgc2FtZSB1bml0IG9mIHRpbWUgYXMgYW5vdGhlciBEYXRlVGltZS5cbiAgICogSGlnaGVyLW9yZGVyIHVuaXRzIG11c3QgYWxzbyBiZSBpZGVudGljYWwgZm9yIHRoaXMgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYC5cbiAgICogTm90ZSB0aGF0IHRpbWUgem9uZXMgYXJlICoqaWdub3JlZCoqIGluIHRoaXMgY29tcGFyaXNvbiwgd2hpY2ggY29tcGFyZXMgdGhlICoqbG9jYWwqKiBjYWxlbmRhciB0aW1lLiBVc2Uge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9IHRvIGNvbnZlcnQgb25lIG9mIHRoZSBkYXRlcyBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IG90aGVyRGF0ZVRpbWUgLSB0aGUgb3RoZXIgRGF0ZVRpbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSB0aGUgdW5pdCBvZiB0aW1lIHRvIGNoZWNrIHNhbWVuZXNzIG9uXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLmhhc1NhbWUob3RoZXJEVCwgJ2RheScpOyAvL34+IHRydWUgaWYgb3RoZXJEVCBpcyBpbiB0aGUgc2FtZSBjdXJyZW50IGNhbGVuZGFyIGRheVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5oYXNTYW1lID0gZnVuY3Rpb24gaGFzU2FtZShvdGhlckRhdGVUaW1lLCB1bml0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgaW5wdXRNcyA9IG90aGVyRGF0ZVRpbWUudmFsdWVPZigpO1xuICAgIHZhciBhZGp1c3RlZFRvWm9uZSA9IHRoaXMuc2V0Wm9uZShvdGhlckRhdGVUaW1lLnpvbmUsIHtcbiAgICAgIGtlZXBMb2NhbFRpbWU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gYWRqdXN0ZWRUb1pvbmUuc3RhcnRPZih1bml0KSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gYWRqdXN0ZWRUb1pvbmUuZW5kT2YodW5pdCk7XG4gIH1cbiAgLyoqXG4gICAqIEVxdWFsaXR5IGNoZWNrXG4gICAqIFR3byBEYXRlVGltZXMgYXJlIGVxdWFsIGlmZiB0aGV5IHJlcHJlc2VudCB0aGUgc2FtZSBtaWxsaXNlY29uZCwgaGF2ZSB0aGUgc2FtZSB6b25lIGFuZCBsb2NhdGlvbiwgYW5kIGFyZSBib3RoIHZhbGlkLlxuICAgKiBUbyBjb21wYXJlIGp1c3QgdGhlIG1pbGxpc2Vjb25kIHZhbHVlcywgdXNlIGArZHQxID09PSArZHQyYC5cbiAgICogQHBhcmFtIHtEYXRlVGltZX0gb3RoZXIgLSB0aGUgb3RoZXIgRGF0ZVRpbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCAmJiBvdGhlci5pc1ZhbGlkICYmIHRoaXMudmFsdWVPZigpID09PSBvdGhlci52YWx1ZU9mKCkgJiYgdGhpcy56b25lLmVxdWFscyhvdGhlci56b25lKSAmJiB0aGlzLmxvYy5lcXVhbHMob3RoZXIubG9jKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHRoaXMgdGltZSByZWxhdGl2ZSB0byBub3csIHN1Y2ggYXMgXCJpbiB0d28gZGF5c1wiLiBDYW4gb25seSBpbnRlcm5hdGlvbmFsaXplIGlmIHlvdXJcbiAgICogcGxhdGZvcm0gc3VwcG9ydHMgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQuIFJvdW5kcyBkb3duIGJ5IGRlZmF1bHQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgb3V0cHV0XG4gICAqIEBwYXJhbSB7RGF0ZVRpbWV9IFtvcHRpb25zLmJhc2U9RGF0ZVRpbWUubm93KCldIC0gdGhlIERhdGVUaW1lIHRvIHVzZSBhcyB0aGUgYmFzaXMgdG8gd2hpY2ggdGhpcyB0aW1lIGlzIGNvbXBhcmVkLiBEZWZhdWx0cyB0byBub3cuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zdHlsZT1cImxvbmdcIl0gLSB0aGUgc3R5bGUgb2YgdW5pdHMsIG11c3QgYmUgXCJsb25nXCIsIFwic2hvcnRcIiwgb3IgXCJuYXJyb3dcIlxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gb3B0aW9ucy51bml0IC0gdXNlIGEgc3BlY2lmaWMgdW5pdCBvciBhcnJheSBvZiB1bml0czsgaWYgb21pdHRlZCwgb3IgYW4gYXJyYXksIHRoZSBtZXRob2Qgd2lsbCBwaWNrIHRoZSBiZXN0IHVuaXQuIFVzZSBhbiBhcnJheSBvciBvbmUgb2YgXCJ5ZWFyc1wiLCBcInF1YXJ0ZXJzXCIsIFwibW9udGhzXCIsIFwid2Vla3NcIiwgXCJkYXlzXCIsIFwiaG91cnNcIiwgXCJtaW51dGVzXCIsIG9yIFwic2Vjb25kc1wiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmQ9dHJ1ZV0gLSB3aGV0aGVyIHRvIHJvdW5kIHRoZSBudW1iZXJzIGluIHRoZSBvdXRwdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRkaW5nPTBdIC0gcGFkZGluZyBpbiBtaWxsaXNlY29uZHMuIFRoaXMgYWxsb3dzIHlvdSB0byByb3VuZCB1cCB0aGUgcmVzdWx0IGlmIGl0IGZpdHMgaW5zaWRlIHRoZSB0aHJlc2hvbGQuIERvbid0IHVzZSBpbiBjb21iaW5hdGlvbiB3aXRoIHtyb3VuZDogZmFsc2V9IGJlY2F1c2UgdGhlIGRlY2ltYWwgb3V0cHV0IHdpbGwgaW5jbHVkZSB0aGUgcGFkZGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubG9jYWxlIC0gb3ZlcnJpZGUgdGhlIGxvY2FsZSBvZiB0aGlzIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm51bWJlcmluZ1N5c3RlbSAtIG92ZXJyaWRlIHRoZSBudW1iZXJpbmdTeXN0ZW0gb2YgdGhpcyBEYXRlVGltZS4gVGhlIEludGwgc3lzdGVtIG1heSBjaG9vc2Ugbm90IHRvIGhvbm9yIHRoaXNcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkudG9SZWxhdGl2ZSgpIC8vPT4gXCJpbiAxIGRheVwiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnNldExvY2FsZShcImVzXCIpLnRvUmVsYXRpdmUoeyBkYXlzOiAxIH0pIC8vPT4gXCJkZW50cm8gZGUgMSBkw61hXCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkudG9SZWxhdGl2ZSh7IGxvY2FsZTogXCJmclwiIH0pIC8vPT4gXCJkYW5zIDIzIGhldXJlc1wiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLm1pbnVzKHsgZGF5czogMiB9KS50b1JlbGF0aXZlKCkgLy89PiBcIjIgZGF5cyBhZ29cIlxuICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5taW51cyh7IGRheXM6IDIgfSkudG9SZWxhdGl2ZSh7IHVuaXQ6IFwiaG91cnNcIiB9KSAvLz0+IFwiNDggaG91cnMgYWdvXCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkubWludXMoeyBob3VyczogMzYgfSkudG9SZWxhdGl2ZSh7IHJvdW5kOiBmYWxzZSB9KSAvLz0+IFwiMS41IGRheXMgYWdvXCJcbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9SZWxhdGl2ZSA9IGZ1bmN0aW9uIHRvUmVsYXRpdmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGJhc2UgPSBvcHRpb25zLmJhc2UgfHwgRGF0ZVRpbWUuZnJvbU9iamVjdCh7fSwge1xuICAgICAgem9uZTogdGhpcy56b25lXG4gICAgfSksXG4gICAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcgPyB0aGlzIDwgYmFzZSA/IC1vcHRpb25zLnBhZGRpbmcgOiBvcHRpb25zLnBhZGRpbmcgOiAwO1xuICAgIHZhciB1bml0cyA9IFtcInllYXJzXCIsIFwibW9udGhzXCIsIFwiZGF5c1wiLCBcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIl07XG4gICAgdmFyIHVuaXQgPSBvcHRpb25zLnVuaXQ7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLnVuaXQpKSB7XG4gICAgICB1bml0cyA9IG9wdGlvbnMudW5pdDtcbiAgICAgIHVuaXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZSZWxhdGl2ZShiYXNlLCB0aGlzLnBsdXMocGFkZGluZyksIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBudW1lcmljOiBcImFsd2F5c1wiLFxuICAgICAgdW5pdHM6IHVuaXRzLFxuICAgICAgdW5pdDogdW5pdFxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGRhdGUgcmVsYXRpdmUgdG8gdG9kYXksIHN1Y2ggYXMgXCJ5ZXN0ZXJkYXlcIiBvciBcIm5leHQgbW9udGhcIi5cbiAgICogT25seSBpbnRlcm5hdGlvbmFsaXplcyBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0cyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHRoYXQgYWZmZWN0IHRoZSBvdXRwdXRcbiAgICogQHBhcmFtIHtEYXRlVGltZX0gW29wdGlvbnMuYmFzZT1EYXRlVGltZS5ub3coKV0gLSB0aGUgRGF0ZVRpbWUgdG8gdXNlIGFzIHRoZSBiYXNpcyB0byB3aGljaCB0aGlzIHRpbWUgaXMgY29tcGFyZWQuIERlZmF1bHRzIHRvIG5vdy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubG9jYWxlIC0gb3ZlcnJpZGUgdGhlIGxvY2FsZSBvZiB0aGlzIERhdGVUaW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnVuaXQgLSB1c2UgYSBzcGVjaWZpYyB1bml0OyBpZiBvbWl0dGVkLCB0aGUgbWV0aG9kIHdpbGwgcGljayB0aGUgdW5pdC4gVXNlIG9uZSBvZiBcInllYXJzXCIsIFwicXVhcnRlcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBvciBcImRheXNcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5udW1iZXJpbmdTeXN0ZW0gLSBvdmVycmlkZSB0aGUgbnVtYmVyaW5nU3lzdGVtIG9mIHRoaXMgRGF0ZVRpbWUuIFRoZSBJbnRsIHN5c3RlbSBtYXkgY2hvb3NlIG5vdCB0byBob25vciB0aGlzXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmVDYWxlbmRhcigpIC8vPT4gXCJ0b21vcnJvd1wiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnNldExvY2FsZShcImVzXCIpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmUoKSAvLz0+IFwiXCJtYcOxYW5hXCJcbiAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkudG9SZWxhdGl2ZUNhbGVuZGFyKHsgbG9jYWxlOiBcImZyXCIgfSkgLy89PiBcImRlbWFpblwiXG4gICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLm1pbnVzKHsgZGF5czogMiB9KS50b1JlbGF0aXZlQ2FsZW5kYXIoKSAvLz0+IFwiMiBkYXlzIGFnb1wiXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvUmVsYXRpdmVDYWxlbmRhciA9IGZ1bmN0aW9uIHRvUmVsYXRpdmVDYWxlbmRhcihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gZGlmZlJlbGF0aXZlKG9wdGlvbnMuYmFzZSB8fCBEYXRlVGltZS5mcm9tT2JqZWN0KHt9LCB7XG4gICAgICB6b25lOiB0aGlzLnpvbmVcbiAgICB9KSwgdGhpcywgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIG51bWVyaWM6IFwiYXV0b1wiLFxuICAgICAgdW5pdHM6IFtcInllYXJzXCIsIFwibW9udGhzXCIsIFwiZGF5c1wiXSxcbiAgICAgIGNhbGVuZGFyeTogdHJ1ZVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtaW4gb2Ygc2V2ZXJhbCBkYXRlIHRpbWVzXG4gICAqIEBwYXJhbSB7Li4uRGF0ZVRpbWV9IGRhdGVUaW1lcyAtIHRoZSBEYXRlVGltZXMgZnJvbSB3aGljaCB0byBjaG9vc2UgdGhlIG1pbmltdW1cbiAgICogQHJldHVybiB7RGF0ZVRpbWV9IHRoZSBtaW4gRGF0ZVRpbWUsIG9yIHVuZGVmaW5lZCBpZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudFxuICAgKi9cbiAgO1xuXG4gIERhdGVUaW1lLm1pbiA9IGZ1bmN0aW9uIG1pbigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0ZVRpbWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgZGF0ZVRpbWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmICghZGF0ZVRpbWVzLmV2ZXJ5KERhdGVUaW1lLmlzRGF0ZVRpbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJtaW4gcmVxdWlyZXMgYWxsIGFyZ3VtZW50cyBiZSBEYXRlVGltZXNcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RCeShkYXRlVGltZXMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaS52YWx1ZU9mKCk7XG4gICAgfSwgTWF0aC5taW4pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1heCBvZiBzZXZlcmFsIGRhdGUgdGltZXNcbiAgICogQHBhcmFtIHsuLi5EYXRlVGltZX0gZGF0ZVRpbWVzIC0gdGhlIERhdGVUaW1lcyBmcm9tIHdoaWNoIHRvIGNob29zZSB0aGUgbWF4aW11bVxuICAgKiBAcmV0dXJuIHtEYXRlVGltZX0gdGhlIG1heCBEYXRlVGltZSwgb3IgdW5kZWZpbmVkIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUubWF4ID0gZnVuY3Rpb24gbWF4KCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0ZVRpbWVzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBkYXRlVGltZXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGVUaW1lcy5ldmVyeShEYXRlVGltZS5pc0RhdGVUaW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwibWF4IHJlcXVpcmVzIGFsbCBhcmd1bWVudHMgYmUgRGF0ZVRpbWVzXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBiZXN0QnkoZGF0ZVRpbWVzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkudmFsdWVPZigpO1xuICAgIH0sIE1hdGgubWF4KTtcbiAgfSAvLyBNSVNDXG5cbiAgLyoqXG4gICAqIEV4cGxhaW4gaG93IGEgc3RyaW5nIHdvdWxkIGJlIHBhcnNlZCBieSBmcm9tRm9ybWF0KClcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHRoZSBzdHJpbmcgaXMgZXhwZWN0ZWQgdG8gYmUgaW4gKHNlZSBkZXNjcmlwdGlvbilcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHRha2VuIGJ5IGZyb21Gb3JtYXQoKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbUZvcm1hdEV4cGxhaW4gPSBmdW5jdGlvbiBmcm9tRm9ybWF0RXhwbGFpbih0ZXh0LCBmbXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgICAgX29wdGlvbnMkbG9jYWxlID0gX29wdGlvbnMubG9jYWxlLFxuICAgICAgICBsb2NhbGUgPSBfb3B0aW9ucyRsb2NhbGUgPT09IHZvaWQgMCA/IG51bGwgOiBfb3B0aW9ucyRsb2NhbGUsXG4gICAgICAgIF9vcHRpb25zJG51bWJlcmluZ1N5cyA9IF9vcHRpb25zLm51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtID0gX29wdGlvbnMkbnVtYmVyaW5nU3lzID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkbnVtYmVyaW5nU3lzLFxuICAgICAgICBsb2NhbGVUb1VzZSA9IExvY2FsZS5mcm9tT3B0cyh7XG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIG51bWJlcmluZ1N5c3RlbTogbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgZGVmYXVsdFRvRU46IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZXhwbGFpbkZyb21Ub2tlbnMobG9jYWxlVG9Vc2UsIHRleHQsIGZtdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHVzZSBmcm9tRm9ybWF0RXhwbGFpbiBpbnN0ZWFkXG4gICAqL1xuICA7XG5cbiAgRGF0ZVRpbWUuZnJvbVN0cmluZ0V4cGxhaW4gPSBmdW5jdGlvbiBmcm9tU3RyaW5nRXhwbGFpbih0ZXh0LCBmbXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21Gb3JtYXRFeHBsYWluKHRleHQsIGZtdCwgb3B0aW9ucyk7XG4gIH0gLy8gRk9STUFUIFBSRVNFVFNcblxuICAvKipcbiAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAxMC8xNC8xOTgzXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICA7XG5cbiAgX2NyZWF0ZUNsYXNzKERhdGVUaW1lLCBbe1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZhbGlkID09PSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVycm9yIGNvZGUgaWYgdGhpcyBEYXRlVGltZSBpcyBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBEYXRlVGltZSBpcyB2YWxpZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbnZhbGlkUmVhc29uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnZhbGlkID8gdGhpcy5pbnZhbGlkLnJlYXNvbiA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZXhwbGFuYXRpb24gb2Ygd2h5IHRoaXMgRGF0ZVRpbWUgYmVjYW1lIGludmFsaWQsIG9yIG51bGwgaWYgdGhlIERhdGVUaW1lIGlzIHZhbGlkXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImludmFsaWRFeHBsYW5hdGlvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZCA/IHRoaXMuaW52YWxpZC5leHBsYW5hdGlvbiA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbG9jYWxlIG9mIGEgRGF0ZVRpbWUsIHN1Y2ggJ2VuLUdCJy4gVGhlIGxvY2FsZSBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRGF0ZVRpbWVcbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2NhbGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmxvYy5sb2NhbGUgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlcmluZyBzeXN0ZW0gb2YgYSBEYXRlVGltZSwgc3VjaCAnYmVuZycuIFRoZSBudW1iZXJpbmcgc3lzdGVtIGlzIHVzZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBEYXRlVGltZVxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm51bWJlcmluZ1N5c3RlbVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMubG9jLm51bWJlcmluZ1N5c3RlbSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3V0cHV0IGNhbGVuZGFyIG9mIGEgRGF0ZVRpbWUsIHN1Y2ggJ2lzbGFtaWMnLiBUaGUgb3V0cHV0IGNhbGVuZGFyIGlzIHVzZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBEYXRlVGltZVxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm91dHB1dENhbGVuZGFyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5sb2Mub3V0cHV0Q2FsZW5kYXIgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpbWUgem9uZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBEYXRlVGltZS5cbiAgICAgKiBAdHlwZSB7Wm9uZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInpvbmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl96b25lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG5hbWUgb2YgdGhlIHRpbWUgem9uZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiem9uZU5hbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnpvbmUubmFtZSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgeWVhclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS55ZWFyIC8vPT4gMjAxN1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ5ZWFyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLnllYXIgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcXVhcnRlclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5xdWFydGVyIC8vPT4gMlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWFydGVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gTWF0aC5jZWlsKHRoaXMuYy5tb250aCAvIDMpIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1vbnRoICgxLTEyKS5cbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkubW9udGggLy89PiA1XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1vbnRoXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLm1vbnRoIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRheSBvZiB0aGUgbW9udGggKDEtMzBpc2gpLlxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5kYXkgLy89PiAyNVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkYXlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmMuZGF5IDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGhvdXIgb2YgdGhlIGRheSAoMC0yMykuXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUsIDkpLmhvdXIgLy89PiA5XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhvdXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLmMuaG91ciA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW51dGUgb2YgdGhlIGhvdXIgKDAtNTkpLlxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1LCA5LCAzMCkubWludXRlIC8vPT4gMzBcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWludXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLm1pbnV0ZSA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZWNvbmQgb2YgdGhlIG1pbnV0ZSAoMC01OSkuXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUsIDksIDMwLCA1Mikuc2Vjb25kIC8vPT4gNTJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2Vjb25kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5jLnNlY29uZCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kICgwLTk5OSkuXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUsIDksIDMwLCA1MiwgNjU0KS5taWxsaXNlY29uZCAvLz0+IDY1NFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtaWxsaXNlY29uZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuYy5taWxsaXNlY29uZCA6IE5hTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB3ZWVrIHllYXJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAxMiwgMzEpLndlZWtZZWFyIC8vPT4gMjAxNVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3ZWVrWWVhclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHBvc3NpYmx5Q2FjaGVkV2Vla0RhdGEodGhpcykud2Vla1llYXIgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2VlayBudW1iZXIgb2YgdGhlIHdlZWsgeWVhciAoMS01MmlzaCkuXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLndlZWtOdW1iZXIgLy89PiAyMVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3ZWVrTnVtYmVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gcG9zc2libHlDYWNoZWRXZWVrRGF0YSh0aGlzKS53ZWVrTnVtYmVyIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRheSBvZiB0aGUgd2Vlay5cbiAgICAgKiAxIGlzIE1vbmRheSBhbmQgNyBpcyBTdW5kYXlcbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAxMSwgMzEpLndlZWtkYXkgLy89PiA0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndlZWtkYXlcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBwb3NzaWJseUNhY2hlZFdlZWtEYXRhKHRoaXMpLndlZWtkYXkgOiBOYU47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb3JkaW5hbCAobWVhbmluZyB0aGUgZGF5IG9mIHRoZSB5ZWFyKVxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5vcmRpbmFsIC8vPT4gMTQ1XG4gICAgICogQHR5cGUge251bWJlcnxEYXRlVGltZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9yZGluYWxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBncmVnb3JpYW5Ub09yZGluYWwodGhpcy5jKS5vcmRpbmFsIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGh1bWFuIHJlYWRhYmxlIHNob3J0IG1vbnRoIG5hbWUsIHN1Y2ggYXMgJ09jdCcuXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMTAsIDMwKS5tb250aFNob3J0IC8vPT4gT2N0XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1vbnRoU2hvcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBJbmZvLm1vbnRocyhcInNob3J0XCIsIHtcbiAgICAgICAgbG9jT2JqOiB0aGlzLmxvY1xuICAgICAgfSlbdGhpcy5tb250aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBsb25nIG1vbnRoIG5hbWUsIHN1Y2ggYXMgJ09jdG9iZXInLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDEwLCAzMCkubW9udGhMb25nIC8vPT4gT2N0b2JlclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtb250aExvbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBJbmZvLm1vbnRocyhcImxvbmdcIiwge1xuICAgICAgICBsb2NPYmo6IHRoaXMubG9jXG4gICAgICB9KVt0aGlzLm1vbnRoIC0gMV0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGh1bWFuIHJlYWRhYmxlIHNob3J0IHdlZWtkYXksIHN1Y2ggYXMgJ01vbicuXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMTAsIDMwKS53ZWVrZGF5U2hvcnQgLy89PiBNb25cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2Vla2RheVNob3J0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby53ZWVrZGF5cyhcInNob3J0XCIsIHtcbiAgICAgICAgbG9jT2JqOiB0aGlzLmxvY1xuICAgICAgfSlbdGhpcy53ZWVrZGF5IC0gMV0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGh1bWFuIHJlYWRhYmxlIGxvbmcgd2Vla2RheSwgc3VjaCBhcyAnTW9uZGF5Jy5cbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAxMCwgMzApLndlZWtkYXlMb25nIC8vPT4gTW9uZGF5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndlZWtkYXlMb25nXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby53ZWVrZGF5cyhcImxvbmdcIiwge1xuICAgICAgICBsb2NPYmo6IHRoaXMubG9jXG4gICAgICB9KVt0aGlzLndlZWtkYXkgLSAxXSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgVVRDIG9mZnNldCBvZiB0aGlzIERhdGVUaW1lIGluIG1pbnV0ZXNcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5vZmZzZXQgLy89PiAtMjQwXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkub2Zmc2V0IC8vPT4gMFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZzZXRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyArdGhpcy5vIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNob3J0IGh1bWFuIG5hbWUgZm9yIHRoZSB6b25lJ3MgY3VycmVudCBvZmZzZXQsIGZvciBleGFtcGxlIFwiRVNUXCIgb3IgXCJFRFRcIi5cbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2Zmc2V0TmFtZVNob3J0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnpvbmUub2Zmc2V0TmFtZSh0aGlzLnRzLCB7XG4gICAgICAgICAgZm9ybWF0OiBcInNob3J0XCIsXG4gICAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxvbmcgaHVtYW4gbmFtZSBmb3IgdGhlIHpvbmUncyBjdXJyZW50IG9mZnNldCwgZm9yIGV4YW1wbGUgXCJFYXN0ZXJuIFN0YW5kYXJkIFRpbWVcIiBvciBcIkVhc3Rlcm4gRGF5bGlnaHQgVGltZVwiLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZzZXROYW1lTG9uZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuaXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy56b25lLm9mZnNldE5hbWUodGhpcy50cywge1xuICAgICAgICAgIGZvcm1hdDogXCJsb25nXCIsXG4gICAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGlzIHpvbmUncyBvZmZzZXQgZXZlciBjaGFuZ2VzLCBhcyBpbiBhIERTVC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzT2Zmc2V0Rml4ZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnpvbmUuaXNVbml2ZXJzYWwgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGUgRGF0ZVRpbWUgaXMgaW4gYSBEU1QuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0luRFNUXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAodGhpcy5pc09mZnNldEZpeGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldCA+IHRoaXMuc2V0KHtcbiAgICAgICAgICBtb250aDogMVxuICAgICAgICB9KS5vZmZzZXQgfHwgdGhpcy5vZmZzZXQgPiB0aGlzLnNldCh7XG4gICAgICAgICAgbW9udGg6IDVcbiAgICAgICAgfSkub2Zmc2V0O1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBEYXRlVGltZSBpcyBpbiBhIGxlYXAgeWVhciwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNikuaXNJbkxlYXBZZWFyIC8vPT4gdHJ1ZVxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTMpLmlzSW5MZWFwWWVhciAvLz0+IGZhbHNlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0luTGVhcFllYXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBkYXlzIGluIHRoaXMgRGF0ZVRpbWUncyBtb250aFxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTYsIDIpLmRheXNJbk1vbnRoIC8vPT4gMjlcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE2LCAzKS5kYXlzSW5Nb250aCAvLz0+IDMxXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRheXNJbk1vbnRoXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyLCB0aGlzLm1vbnRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRheXMgaW4gdGhpcyBEYXRlVGltZSdzIHllYXJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE2KS5kYXlzSW5ZZWFyIC8vPT4gMzY2XG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxMykuZGF5c0luWWVhciAvLz0+IDM2NVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkYXlzSW5ZZWFyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gZGF5c0luWWVhcih0aGlzLnllYXIpIDogTmFOO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygd2Vla3MgaW4gdGhpcyBEYXRlVGltZSdzIHllYXJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDA0KS53ZWVrc0luV2Vla1llYXIgLy89PiA1M1xuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTMpLndlZWtzSW5XZWVrWWVhciAvLz0+IDUyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndlZWtzSW5XZWVrWWVhclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHdlZWtzSW5XZWVrWWVhcih0aGlzLndlZWtZZWFyKSA6IE5hTjtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJEQVRFX1NIT1JUXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURV9TSE9SVDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0IDE0LCAxOTgzJ1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFX01FRFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVfTUVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdGcmksIE9jdCAxNCwgMTk4MydcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURV9NRURfV0lUSF9XRUVLREFZXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURV9NRURfV0lUSF9XRUVLREFZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3RvYmVyIDE0LCAxOTgzJ1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFX0ZVTExcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFX0ZVTEw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ1R1ZXNkYXksIE9jdG9iZXIgMTQsIDE5ODMnXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVfSFVHRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVfSFVHRTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzAgQU0nLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiVElNRV9TSU1QTEVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBUSU1FX1NJTVBMRTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzA6MjMgQU0nLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiVElNRV9XSVRIX1NFQ09ORFNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBUSU1FX1dJVEhfU0VDT05EUztcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzA6MjMgQU0gRURUJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIlRJTUVfV0lUSF9TSE9SVF9PRkZTRVRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBUSU1FX1dJVEhfU0hPUlRfT0ZGU0VUO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBBTSBFYXN0ZXJuIERheWxpZ2h0IFRpbWUnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiVElNRV9XSVRIX0xPTkdfT0ZGU0VUXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gVElNRV9XSVRIX0xPTkdfT0ZGU0VUO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMCcsIGFsd2F5cyAyNC1ob3VyLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FXzI0X1NJTVBMRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfMjRfU0lNUExFO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMycsIGFsd2F5cyAyNC1ob3VyLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FXzI0X1dJVEhfU0VDT05EU1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfMjRfV0lUSF9TRUNPTkRTO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBFRFQnLCBhbHdheXMgMjQtaG91ci5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiVElNRV8yNF9XSVRIX1NIT1JUX09GRlNFVFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFRJTUVfMjRfV0lUSF9TSE9SVF9PRkZTRVQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwOjIzIEVhc3Rlcm4gRGF5bGlnaHQgVGltZScsIGFsd2F5cyAyNC1ob3VyLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJUSU1FXzI0X1dJVEhfTE9OR19PRkZTRVRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBUSU1FXzI0X1dJVEhfTE9OR19PRkZTRVQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzEwLzE0LzE5ODMsIDk6MzAgQU0nLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURVRJTUVfU0hPUlRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9TSE9SVDtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMTAvMTQvMTk4MywgOTozMDozMyBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9TSE9SVF9XSVRIX1NFQ09ORFNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9TSE9SVF9XSVRIX1NFQ09ORFM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdCAxNCwgMTk4MywgOTozMCBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9NRURcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9NRUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdCAxNCwgMTk4MywgOTozMDozMyBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUztcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnRnJpLCAxNCBPY3QgMTk4MywgOTozMCBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJEQVRFVElNRV9NRURfV0lUSF9XRUVLREFZXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURVRJTUVfTUVEX1dJVEhfV0VFS0RBWTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0b2JlciAxNCwgMTk4MywgOTozMCBBTSBFRFQnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURVRJTUVfRlVMTFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX0ZVTEw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdG9iZXIgMTQsIDE5ODMsIDk6MzA6MzMgQU0gRURUJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIkRBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gREFURVRJTUVfRlVMTF9XSVRIX1NFQ09ORFM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ0ZyaWRheSwgT2N0b2JlciAxNCwgMTk4MywgOTozMCBBTSBFYXN0ZXJuIERheWxpZ2h0IFRpbWUnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURVRJTUVfSFVHRVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIERBVEVUSU1FX0hVR0U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ0ZyaWRheSwgT2N0b2JlciAxNCwgMTk4MywgOTozMDozMyBBTSBFYXN0ZXJuIERheWxpZ2h0IFRpbWUnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBEQVRFVElNRV9IVUdFX1dJVEhfU0VDT05EUztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGF0ZVRpbWU7XG59KCk7XG5mdW5jdGlvbiBmcmllbmRseURhdGVUaW1lKGRhdGVUaW1laXNoKSB7XG4gIGlmIChEYXRlVGltZS5pc0RhdGVUaW1lKGRhdGVUaW1laXNoKSkge1xuICAgIHJldHVybiBkYXRlVGltZWlzaDtcbiAgfSBlbHNlIGlmIChkYXRlVGltZWlzaCAmJiBkYXRlVGltZWlzaC52YWx1ZU9mICYmIGlzTnVtYmVyKGRhdGVUaW1laXNoLnZhbHVlT2YoKSkpIHtcbiAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbUpTRGF0ZShkYXRlVGltZWlzaCk7XG4gIH0gZWxzZSBpZiAoZGF0ZVRpbWVpc2ggJiYgdHlwZW9mIGRhdGVUaW1laXNoID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21PYmplY3QoZGF0ZVRpbWVpc2gpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcIlVua25vd24gZGF0ZXRpbWUgYXJndW1lbnQ6IFwiICsgZGF0ZVRpbWVpc2ggKyBcIiwgb2YgdHlwZSBcIiArIHR5cGVvZiBkYXRlVGltZWlzaCk7XG4gIH1cbn1cblxudmFyIFZFUlNJT04gPSBcIjIuMy4wXCI7XG5cbmV4cG9ydHMuRGF0ZVRpbWUgPSBEYXRlVGltZTtcbmV4cG9ydHMuRHVyYXRpb24gPSBEdXJhdGlvbjtcbmV4cG9ydHMuRml4ZWRPZmZzZXRab25lID0gRml4ZWRPZmZzZXRab25lO1xuZXhwb3J0cy5JQU5BWm9uZSA9IElBTkFab25lO1xuZXhwb3J0cy5JbmZvID0gSW5mbztcbmV4cG9ydHMuSW50ZXJ2YWwgPSBJbnRlcnZhbDtcbmV4cG9ydHMuSW52YWxpZFpvbmUgPSBJbnZhbGlkWm9uZTtcbmV4cG9ydHMuU2V0dGluZ3MgPSBTZXR0aW5ncztcbmV4cG9ydHMuU3lzdGVtWm9uZSA9IFN5c3RlbVpvbmU7XG5leHBvcnRzLlZFUlNJT04gPSBWRVJTSU9OO1xuZXhwb3J0cy5ab25lID0gWm9uZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWx1eG9uLmpzLm1hcFxuIiwiaW1wb3J0IHsgRGF0ZVRpbWUsIElBTkFab25lIH0gZnJvbSBcImx1eG9uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVGltZXpvbmUoem9uZTogc3RyaW5nKSB7XG4gIHJldHVybiBJQU5BWm9uZS5pc1ZhbGlkWm9uZSh6b25lKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHNsb3QgRGF0ZVxuICogQHBhcmFtIHpvbmUgc3RyaW5nXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWVTbG90KHNsb3Q6IERhdGUsIHpvbmU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHVuZm9ybWF0dGVkVGltZVNsb3QgPSBEYXRlVGltZS5mcm9tSlNEYXRlKHNsb3QpXG4gICAgLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLlRJTUVfU0lNUExFKVxuICAgIC5yZXBsYWNlKC9cXC4vZywgXCJcIik7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0ZVRpbWVTbG90ID0gRGF0ZVRpbWUuZnJvbUpTRGF0ZShzbG90LCB7IHpvbmUgfSk7XG4gICAgaWYgKFxuICAgICAgIWRhdGVUaW1lU2xvdC5pc1ZhbGlkICYmXG4gICAgICAoZGF0ZVRpbWVTbG90LmludmFsaWRSZWFzb24gPT09IFwidW5zdXBwb3J0ZWQgem9uZVwiIHx8ICF6b25lKVxuICAgICkge1xuICAgICAgcmV0dXJuIHVuZm9ybWF0dGVkVGltZVNsb3Q7XG4gICAgfVxuICAgIHJldHVybiBkYXRlVGltZVNsb3QudG9Mb2NhbGVTdHJpbmcoRGF0ZVRpbWUuVElNRV9TSU1QTEUpLnJlcGxhY2UoL1xcLi9nLCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVuZm9ybWF0dGVkVGltZVNsb3Q7XG4gIH1cbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHNsb3QgRGF0ZVxuICogQHBhcmFtIHpvbmUgc3RyaW5nXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVab25lT2Zmc2V0KHNsb3Q6IERhdGUsIHpvbmU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBkYXRlVGltZVNsb3QgPSBEYXRlVGltZS5mcm9tSlNEYXRlKHNsb3QsIHsgem9uZSB9KTtcbiAgaWYgKFxuICAgICh6b25lICYmICFpc1ZhbGlkVGltZXpvbmUoem9uZSkpIHx8XG4gICAgKCFkYXRlVGltZVNsb3QuaXNWYWxpZCAmJlxuICAgICAgKGRhdGVUaW1lU2xvdC5pbnZhbGlkUmVhc29uID09PSBcInVuc3VwcG9ydGVkIHpvbmVcIiB8fCAhem9uZSkpXG4gICkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBkYXRlVGltZVNsb3Qub2Zmc2V0TmFtZVNob3J0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB6b25lIHN0cmluZ1xuICogQHJldHVybnMgbnVtYmVyIChpbiBtaWxsaXNlY29uZHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGVjaWZpZWRUaW1lWm9uZU9mZnNldCh6b25lPzogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKCF6b25lIHx8ICFpc1ZhbGlkVGltZXpvbmUoem9uZSkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBkdCA9IERhdGVUaW1lLm5vdygpO1xuICBjb25zdCBkdHogPSBEYXRlVGltZS5ub3coKS5zZXRab25lKHpvbmUsIHsga2VlcExvY2FsVGltZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGR0LmRpZmYoZHR6KS5taWxsaXNlY29uZHM7XG59XG5cbi8qKlxuICogQHBhcmFtIHpvbmUgc3RyaW5nXG4gKiBAcmV0dXJucyBzdHJpbmcgKFVUQyBPZmZzZXQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGVjaWZpZWRUaW1lWm9uZU9mZnNldE5hbWUoem9uZT86IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghem9uZSB8fCAhaXNWYWxpZFRpbWV6b25lKHpvbmUpKSB7XG4gICAgcmV0dXJuIERhdGVUaW1lLm5vdygpLm9mZnNldE5hbWVTaG9ydDtcbiAgfVxuICBjb25zdCBkdCA9IERhdGVUaW1lLm5vdygpLnNldFpvbmUoem9uZSk7XG4gIHJldHVybiBkdC5vZmZzZXROYW1lU2hvcnQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBkYXRlIERhdGVcbiAqIEBwYXJhbSB6b25lIHN0cmluZ1xuICogQHJldHVybnMgbnVtYmVyIChpbiBtaWxsaXNlY29uZHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lSW5UaW1lem9uZShkYXRlOiBEYXRlLCB6b25lPzogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgdGltZVZhbHVlID0gZGF0ZS5nZXRUaW1lKCk7XG4gIHJldHVybiB0aW1lVmFsdWUgKyBnZXRTcGVjaWZpZWRUaW1lWm9uZU9mZnNldCh6b25lKTtcbn1cbiIsInZhciB0MCA9IG5ldyBEYXRlLFxuICAgIHQxID0gbmV3IERhdGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5ld0ludGVydmFsKGZsb29yaSwgb2Zmc2V0aSwgY291bnQsIGZpZWxkKSB7XG5cbiAgZnVuY3Rpb24gaW50ZXJ2YWwoZGF0ZSkge1xuICAgIHJldHVybiBmbG9vcmkoZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyBuZXcgRGF0ZSA6IG5ldyBEYXRlKCtkYXRlKSksIGRhdGU7XG4gIH1cblxuICBpbnRlcnZhbC5mbG9vciA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gZmxvb3JpKGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSkpLCBkYXRlO1xuICB9O1xuXG4gIGludGVydmFsLmNlaWwgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuIGZsb29yaShkYXRlID0gbmV3IERhdGUoZGF0ZSAtIDEpKSwgb2Zmc2V0aShkYXRlLCAxKSwgZmxvb3JpKGRhdGUpLCBkYXRlO1xuICB9O1xuXG4gIGludGVydmFsLnJvdW5kID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciBkMCA9IGludGVydmFsKGRhdGUpLFxuICAgICAgICBkMSA9IGludGVydmFsLmNlaWwoZGF0ZSk7XG4gICAgcmV0dXJuIGRhdGUgLSBkMCA8IGQxIC0gZGF0ZSA/IGQwIDogZDE7XG4gIH07XG5cbiAgaW50ZXJ2YWwub2Zmc2V0ID0gZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgIHJldHVybiBvZmZzZXRpKGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSksIHN0ZXAgPT0gbnVsbCA/IDEgOiBNYXRoLmZsb29yKHN0ZXApKSwgZGF0ZTtcbiAgfTtcblxuICBpbnRlcnZhbC5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgdmFyIHJhbmdlID0gW10sIHByZXZpb3VzO1xuICAgIHN0YXJ0ID0gaW50ZXJ2YWwuY2VpbChzdGFydCk7XG4gICAgc3RlcCA9IHN0ZXAgPT0gbnVsbCA/IDEgOiBNYXRoLmZsb29yKHN0ZXApO1xuICAgIGlmICghKHN0YXJ0IDwgc3RvcCkgfHwgIShzdGVwID4gMCkpIHJldHVybiByYW5nZTsgLy8gYWxzbyBoYW5kbGVzIEludmFsaWQgRGF0ZVxuICAgIGRvIHJhbmdlLnB1c2gocHJldmlvdXMgPSBuZXcgRGF0ZSgrc3RhcnQpKSwgb2Zmc2V0aShzdGFydCwgc3RlcCksIGZsb29yaShzdGFydCk7XG4gICAgd2hpbGUgKHByZXZpb3VzIDwgc3RhcnQgJiYgc3RhcnQgPCBzdG9wKTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgaW50ZXJ2YWwuZmlsdGVyID0gZnVuY3Rpb24odGVzdCkge1xuICAgIHJldHVybiBuZXdJbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgICBpZiAoZGF0ZSA+PSBkYXRlKSB3aGlsZSAoZmxvb3JpKGRhdGUpLCAhdGVzdChkYXRlKSkgZGF0ZS5zZXRUaW1lKGRhdGUgLSAxKTtcbiAgICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgICBpZiAoZGF0ZSA+PSBkYXRlKSB7XG4gICAgICAgIGlmIChzdGVwIDwgMCkgd2hpbGUgKCsrc3RlcCA8PSAwKSB7XG4gICAgICAgICAgd2hpbGUgKG9mZnNldGkoZGF0ZSwgLTEpLCAhdGVzdChkYXRlKSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICB9IGVsc2Ugd2hpbGUgKC0tc3RlcCA+PSAwKSB7XG4gICAgICAgICAgd2hpbGUgKG9mZnNldGkoZGF0ZSwgKzEpLCAhdGVzdChkYXRlKSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKGNvdW50KSB7XG4gICAgaW50ZXJ2YWwuY291bnQgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB0MC5zZXRUaW1lKCtzdGFydCksIHQxLnNldFRpbWUoK2VuZCk7XG4gICAgICBmbG9vcmkodDApLCBmbG9vcmkodDEpO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoY291bnQodDAsIHQxKSk7XG4gICAgfTtcblxuICAgIGludGVydmFsLmV2ZXJ5ID0gZnVuY3Rpb24oc3RlcCkge1xuICAgICAgc3RlcCA9IE1hdGguZmxvb3Ioc3RlcCk7XG4gICAgICByZXR1cm4gIWlzRmluaXRlKHN0ZXApIHx8ICEoc3RlcCA+IDApID8gbnVsbFxuICAgICAgICAgIDogIShzdGVwID4gMSkgPyBpbnRlcnZhbFxuICAgICAgICAgIDogaW50ZXJ2YWwuZmlsdGVyKGZpZWxkXG4gICAgICAgICAgICAgID8gZnVuY3Rpb24oZCkgeyByZXR1cm4gZmllbGQoZCkgJSBzdGVwID09PSAwOyB9XG4gICAgICAgICAgICAgIDogZnVuY3Rpb24oZCkgeyByZXR1cm4gaW50ZXJ2YWwuY291bnQoMCwgZCkgJSBzdGVwID09PSAwOyB9KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGludGVydmFsO1xufVxuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciBtaWxsaXNlY29uZCA9IGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAvLyBub29wXG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kIC0gc3RhcnQ7XG59KTtcblxuLy8gQW4gb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGZvciB0aGlzIHNpbXBsZSBjYXNlLlxubWlsbGlzZWNvbmQuZXZlcnkgPSBmdW5jdGlvbihrKSB7XG4gIGsgPSBNYXRoLmZsb29yKGspO1xuICBpZiAoIWlzRmluaXRlKGspIHx8ICEoayA+IDApKSByZXR1cm4gbnVsbDtcbiAgaWYgKCEoayA+IDEpKSByZXR1cm4gbWlsbGlzZWNvbmQ7XG4gIHJldHVybiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXRUaW1lKE1hdGguZmxvb3IoZGF0ZSAvIGspICogayk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogayk7XG4gIH0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGs7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWlsbGlzZWNvbmQ7XG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kLnJhbmdlO1xuIiwiZXhwb3J0IGNvbnN0IGR1cmF0aW9uU2Vjb25kID0gMTAwMDtcbmV4cG9ydCBjb25zdCBkdXJhdGlvbk1pbnV0ZSA9IGR1cmF0aW9uU2Vjb25kICogNjA7XG5leHBvcnQgY29uc3QgZHVyYXRpb25Ib3VyID0gZHVyYXRpb25NaW51dGUgKiA2MDtcbmV4cG9ydCBjb25zdCBkdXJhdGlvbkRheSA9IGR1cmF0aW9uSG91ciAqIDI0O1xuZXhwb3J0IGNvbnN0IGR1cmF0aW9uV2VlayA9IGR1cmF0aW9uRGF5ICogNztcbmV4cG9ydCBjb25zdCBkdXJhdGlvbk1vbnRoID0gZHVyYXRpb25EYXkgKiAzMDtcbmV4cG9ydCBjb25zdCBkdXJhdGlvblllYXIgPSBkdXJhdGlvbkRheSAqIDM2NTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvblNlY29uZH0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIHNlY29uZCA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRUaW1lKGRhdGUgLSBkYXRlLmdldE1pbGxpc2Vjb25kcygpKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRUaW1lKCtkYXRlICsgc3RlcCAqIGR1cmF0aW9uU2Vjb25kKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvblNlY29uZDtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHNlY29uZDtcbmV4cG9ydCB2YXIgc2Vjb25kcyA9IHNlY29uZC5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbk1pbnV0ZSwgZHVyYXRpb25TZWNvbmR9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbnZhciBtaW51dGUgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VGltZShkYXRlIC0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAtIGRhdGUuZ2V0U2Vjb25kcygpICogZHVyYXRpb25TZWNvbmQpO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25NaW51dGUpO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uTWludXRlO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRNaW51dGVzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbWludXRlO1xuZXhwb3J0IHZhciBtaW51dGVzID0gbWludXRlLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uSG91ciwgZHVyYXRpb25NaW51dGUsIGR1cmF0aW9uU2Vjb25kfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgaG91ciA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRUaW1lKGRhdGUgLSBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC0gZGF0ZS5nZXRTZWNvbmRzKCkgKiBkdXJhdGlvblNlY29uZCAtIGRhdGUuZ2V0TWludXRlcygpICogZHVyYXRpb25NaW51dGUpO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25Ib3VyKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbkhvdXI7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgaG91cjtcbmV4cG9ydCB2YXIgaG91cnMgPSBob3VyLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uRGF5LCBkdXJhdGlvbk1pbnV0ZX0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIGRheSA9IGludGVydmFsKFxuICBkYXRlID0+IGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCksXG4gIChkYXRlLCBzdGVwKSA9PiBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBzdGVwKSxcbiAgKHN0YXJ0LCBlbmQpID0+IChlbmQgLSBzdGFydCAtIChlbmQuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogZHVyYXRpb25NaW51dGUpIC8gZHVyYXRpb25EYXksXG4gIGRhdGUgPT4gZGF0ZS5nZXREYXRlKCkgLSAxXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBkYXk7XG5leHBvcnQgdmFyIGRheXMgPSBkYXkucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25NaW51dGUsIGR1cmF0aW9uV2Vla30gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxuZnVuY3Rpb24gd2Vla2RheShpKSB7XG4gIHJldHVybiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gKGRhdGUuZ2V0RGF5KCkgKyA3IC0gaSkgJSA3KTtcbiAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgc3RlcCAqIDcpO1xuICB9LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIChlbmQgLSBzdGFydCAtIChlbmQuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogZHVyYXRpb25NaW51dGUpIC8gZHVyYXRpb25XZWVrO1xuICB9KTtcbn1cblxuZXhwb3J0IHZhciBzdW5kYXkgPSB3ZWVrZGF5KDApO1xuZXhwb3J0IHZhciBtb25kYXkgPSB3ZWVrZGF5KDEpO1xuZXhwb3J0IHZhciB0dWVzZGF5ID0gd2Vla2RheSgyKTtcbmV4cG9ydCB2YXIgd2VkbmVzZGF5ID0gd2Vla2RheSgzKTtcbmV4cG9ydCB2YXIgdGh1cnNkYXkgPSB3ZWVrZGF5KDQpO1xuZXhwb3J0IHZhciBmcmlkYXkgPSB3ZWVrZGF5KDUpO1xuZXhwb3J0IHZhciBzYXR1cmRheSA9IHdlZWtkYXkoNik7XG5cbmV4cG9ydCB2YXIgc3VuZGF5cyA9IHN1bmRheS5yYW5nZTtcbmV4cG9ydCB2YXIgbW9uZGF5cyA9IG1vbmRheS5yYW5nZTtcbmV4cG9ydCB2YXIgdHVlc2RheXMgPSB0dWVzZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB3ZWRuZXNkYXlzID0gd2VkbmVzZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB0aHVyc2RheXMgPSB0aHVyc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgZnJpZGF5cyA9IGZyaWRheS5yYW5nZTtcbmV4cG9ydCB2YXIgc2F0dXJkYXlzID0gc2F0dXJkYXkucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcblxudmFyIG1vbnRoID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldERhdGUoMSk7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBlbmQuZ2V0TW9udGgoKSAtIHN0YXJ0LmdldE1vbnRoKCkgKyAoZW5kLmdldEZ1bGxZZWFyKCkgLSBzdGFydC5nZXRGdWxsWWVhcigpKSAqIDEyO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbnRoO1xuZXhwb3J0IHZhciBtb250aHMgPSBtb250aC5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuXG52YXIgeWVhciA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRNb250aCgwLCAxKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIGVuZC5nZXRGdWxsWWVhcigpIC0gc3RhcnQuZ2V0RnVsbFllYXIoKTtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKTtcbn0pO1xuXG4vLyBBbiBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb24gZm9yIHRoaXMgc2ltcGxlIGNhc2UuXG55ZWFyLmV2ZXJ5ID0gZnVuY3Rpb24oaykge1xuICByZXR1cm4gIWlzRmluaXRlKGsgPSBNYXRoLmZsb29yKGspKSB8fCAhKGsgPiAwKSA/IG51bGwgOiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXRGdWxsWWVhcihNYXRoLmZsb29yKGRhdGUuZ2V0RnVsbFllYXIoKSAvIGspICogayk7XG4gICAgZGF0ZS5zZXRNb250aCgwLCAxKTtcbiAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwICogayk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeWVhcjtcbmV4cG9ydCB2YXIgeWVhcnMgPSB5ZWFyLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uRGF5fSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgdXRjRGF5ID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbkRheTtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDRGF0ZSgpIC0gMTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1dGNEYXk7XG5leHBvcnQgdmFyIHV0Y0RheXMgPSB1dGNEYXkucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25XZWVrfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG5mdW5jdGlvbiB1dGNXZWVrZGF5KGkpIHtcbiAgcmV0dXJuIGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgLSAoZGF0ZS5nZXRVVENEYXkoKSArIDcgLSBpKSAlIDcpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyBzdGVwICogNyk7XG4gIH0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uV2VlaztcbiAgfSk7XG59XG5cbmV4cG9ydCB2YXIgdXRjU3VuZGF5ID0gdXRjV2Vla2RheSgwKTtcbmV4cG9ydCB2YXIgdXRjTW9uZGF5ID0gdXRjV2Vla2RheSgxKTtcbmV4cG9ydCB2YXIgdXRjVHVlc2RheSA9IHV0Y1dlZWtkYXkoMik7XG5leHBvcnQgdmFyIHV0Y1dlZG5lc2RheSA9IHV0Y1dlZWtkYXkoMyk7XG5leHBvcnQgdmFyIHV0Y1RodXJzZGF5ID0gdXRjV2Vla2RheSg0KTtcbmV4cG9ydCB2YXIgdXRjRnJpZGF5ID0gdXRjV2Vla2RheSg1KTtcbmV4cG9ydCB2YXIgdXRjU2F0dXJkYXkgPSB1dGNXZWVrZGF5KDYpO1xuXG5leHBvcnQgdmFyIHV0Y1N1bmRheXMgPSB1dGNTdW5kYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y01vbmRheXMgPSB1dGNNb25kYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1R1ZXNkYXlzID0gdXRjVHVlc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgdXRjV2VkbmVzZGF5cyA9IHV0Y1dlZG5lc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgdXRjVGh1cnNkYXlzID0gdXRjVGh1cnNkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y0ZyaWRheXMgPSB1dGNGcmlkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1NhdHVyZGF5cyA9IHV0Y1NhdHVyZGF5LnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciB1dGNZZWFyID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ01vbnRoKDAsIDEpO1xuICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kLmdldFVUQ0Z1bGxZZWFyKCkgLSBzdGFydC5nZXRVVENGdWxsWWVhcigpO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xufSk7XG5cbi8vIEFuIG9wdGltaXplZCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBzaW1wbGUgY2FzZS5cbnV0Y1llYXIuZXZlcnkgPSBmdW5jdGlvbihrKSB7XG4gIHJldHVybiAhaXNGaW5pdGUoayA9IE1hdGguZmxvb3IoaykpIHx8ICEoayA+IDApID8gbnVsbCA6IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKE1hdGguZmxvb3IoZGF0ZS5nZXRVVENGdWxsWWVhcigpIC8gaykgKiBrKTtcbiAgICBkYXRlLnNldFVUQ01vbnRoKDAsIDEpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArIHN0ZXAgKiBrKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1dGNZZWFyO1xuZXhwb3J0IHZhciB1dGNZZWFycyA9IHV0Y1llYXIucmFuZ2U7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA9PSBudWxsIHx8IGIgPT0gbnVsbCA/IE5hTiA6IGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiBhID49IGIgPyAwIDogTmFOO1xufVxuIiwiaW1wb3J0IGFzY2VuZGluZyBmcm9tIFwiLi9hc2NlbmRpbmcuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmlzZWN0b3IoZikge1xuICBsZXQgZGVsdGEgPSBmO1xuICBsZXQgY29tcGFyZTEgPSBmO1xuICBsZXQgY29tcGFyZTIgPSBmO1xuXG4gIGlmIChmLmxlbmd0aCAhPT0gMikge1xuICAgIGRlbHRhID0gKGQsIHgpID0+IGYoZCkgLSB4O1xuICAgIGNvbXBhcmUxID0gYXNjZW5kaW5nO1xuICAgIGNvbXBhcmUyID0gKGQsIHgpID0+IGFzY2VuZGluZyhmKGQpLCB4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlZnQoYSwgeCwgbG8gPSAwLCBoaSA9IGEubGVuZ3RoKSB7XG4gICAgaWYgKGxvIDwgaGkpIHtcbiAgICAgIGlmIChjb21wYXJlMSh4LCB4KSAhPT0gMCkgcmV0dXJuIGhpO1xuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBtaWQgPSAobG8gKyBoaSkgPj4+IDE7XG4gICAgICAgIGlmIChjb21wYXJlMihhW21pZF0sIHgpIDwgMCkgbG8gPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIGhpID0gbWlkO1xuICAgICAgfSB3aGlsZSAobG8gPCBoaSk7XG4gICAgfVxuICAgIHJldHVybiBsbztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJpZ2h0KGEsIHgsIGxvID0gMCwgaGkgPSBhLmxlbmd0aCkge1xuICAgIGlmIChsbyA8IGhpKSB7XG4gICAgICBpZiAoY29tcGFyZTEoeCwgeCkgIT09IDApIHJldHVybiBoaTtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbWlkID0gKGxvICsgaGkpID4+PiAxO1xuICAgICAgICBpZiAoY29tcGFyZTIoYVttaWRdLCB4KSA8PSAwKSBsbyA9IG1pZCArIDE7XG4gICAgICAgIGVsc2UgaGkgPSBtaWQ7XG4gICAgICB9IHdoaWxlIChsbyA8IGhpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvO1xuICB9XG5cbiAgZnVuY3Rpb24gY2VudGVyKGEsIHgsIGxvID0gMCwgaGkgPSBhLmxlbmd0aCkge1xuICAgIGNvbnN0IGkgPSBsZWZ0KGEsIHgsIGxvLCBoaSAtIDEpO1xuICAgIHJldHVybiBpID4gbG8gJiYgZGVsdGEoYVtpIC0gMV0sIHgpID4gLWRlbHRhKGFbaV0sIHgpID8gaSAtIDEgOiBpO1xuICB9XG5cbiAgcmV0dXJuIHtsZWZ0LCBjZW50ZXIsIHJpZ2h0fTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gIHJldHVybiB4ID09PSBudWxsID8gTmFOIDogK3g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHtcbiAgaWYgKHZhbHVlb2YgPT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICBpZiAoKHZhbHVlID0gdmFsdWVvZih2YWx1ZSwgKytpbmRleCwgdmFsdWVzKSkgIT0gbnVsbCAmJiAodmFsdWUgPSArdmFsdWUpID49IHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGFzY2VuZGluZyBmcm9tIFwiLi9hc2NlbmRpbmcuanNcIjtcbmltcG9ydCBiaXNlY3RvciBmcm9tIFwiLi9iaXNlY3Rvci5qc1wiO1xuaW1wb3J0IG51bWJlciBmcm9tIFwiLi9udW1iZXIuanNcIjtcblxuY29uc3QgYXNjZW5kaW5nQmlzZWN0ID0gYmlzZWN0b3IoYXNjZW5kaW5nKTtcbmV4cG9ydCBjb25zdCBiaXNlY3RSaWdodCA9IGFzY2VuZGluZ0Jpc2VjdC5yaWdodDtcbmV4cG9ydCBjb25zdCBiaXNlY3RMZWZ0ID0gYXNjZW5kaW5nQmlzZWN0LmxlZnQ7XG5leHBvcnQgY29uc3QgYmlzZWN0Q2VudGVyID0gYmlzZWN0b3IobnVtYmVyKS5jZW50ZXI7XG5leHBvcnQgZGVmYXVsdCBiaXNlY3RSaWdodDtcbiIsInZhciBlMTAgPSBNYXRoLnNxcnQoNTApLFxuICAgIGU1ID0gTWF0aC5zcXJ0KDEwKSxcbiAgICBlMiA9IE1hdGguc3FydCgyKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGlja3Moc3RhcnQsIHN0b3AsIGNvdW50KSB7XG4gIHZhciByZXZlcnNlLFxuICAgICAgaSA9IC0xLFxuICAgICAgbixcbiAgICAgIHRpY2tzLFxuICAgICAgc3RlcDtcblxuICBzdG9wID0gK3N0b3AsIHN0YXJ0ID0gK3N0YXJ0LCBjb3VudCA9ICtjb3VudDtcbiAgaWYgKHN0YXJ0ID09PSBzdG9wICYmIGNvdW50ID4gMCkgcmV0dXJuIFtzdGFydF07XG4gIGlmIChyZXZlcnNlID0gc3RvcCA8IHN0YXJ0KSBuID0gc3RhcnQsIHN0YXJ0ID0gc3RvcCwgc3RvcCA9IG47XG4gIGlmICgoc3RlcCA9IHRpY2tJbmNyZW1lbnQoc3RhcnQsIHN0b3AsIGNvdW50KSkgPT09IDAgfHwgIWlzRmluaXRlKHN0ZXApKSByZXR1cm4gW107XG5cbiAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgbGV0IHIwID0gTWF0aC5yb3VuZChzdGFydCAvIHN0ZXApLCByMSA9IE1hdGgucm91bmQoc3RvcCAvIHN0ZXApO1xuICAgIGlmIChyMCAqIHN0ZXAgPCBzdGFydCkgKytyMDtcbiAgICBpZiAocjEgKiBzdGVwID4gc3RvcCkgLS1yMTtcbiAgICB0aWNrcyA9IG5ldyBBcnJheShuID0gcjEgLSByMCArIDEpO1xuICAgIHdoaWxlICgrK2kgPCBuKSB0aWNrc1tpXSA9IChyMCArIGkpICogc3RlcDtcbiAgfSBlbHNlIHtcbiAgICBzdGVwID0gLXN0ZXA7XG4gICAgbGV0IHIwID0gTWF0aC5yb3VuZChzdGFydCAqIHN0ZXApLCByMSA9IE1hdGgucm91bmQoc3RvcCAqIHN0ZXApO1xuICAgIGlmIChyMCAvIHN0ZXAgPCBzdGFydCkgKytyMDtcbiAgICBpZiAocjEgLyBzdGVwID4gc3RvcCkgLS1yMTtcbiAgICB0aWNrcyA9IG5ldyBBcnJheShuID0gcjEgLSByMCArIDEpO1xuICAgIHdoaWxlICgrK2kgPCBuKSB0aWNrc1tpXSA9IChyMCArIGkpIC8gc3RlcDtcbiAgfVxuXG4gIGlmIChyZXZlcnNlKSB0aWNrcy5yZXZlcnNlKCk7XG5cbiAgcmV0dXJuIHRpY2tzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGlja0luY3JlbWVudChzdGFydCwgc3RvcCwgY291bnQpIHtcbiAgdmFyIHN0ZXAgPSAoc3RvcCAtIHN0YXJ0KSAvIE1hdGgubWF4KDAsIGNvdW50KSxcbiAgICAgIHBvd2VyID0gTWF0aC5mbG9vcihNYXRoLmxvZyhzdGVwKSAvIE1hdGguTE4xMCksXG4gICAgICBlcnJvciA9IHN0ZXAgLyBNYXRoLnBvdygxMCwgcG93ZXIpO1xuICByZXR1cm4gcG93ZXIgPj0gMFxuICAgICAgPyAoZXJyb3IgPj0gZTEwID8gMTAgOiBlcnJvciA+PSBlNSA/IDUgOiBlcnJvciA+PSBlMiA/IDIgOiAxKSAqIE1hdGgucG93KDEwLCBwb3dlcilcbiAgICAgIDogLU1hdGgucG93KDEwLCAtcG93ZXIpIC8gKGVycm9yID49IGUxMCA/IDEwIDogZXJyb3IgPj0gZTUgPyA1IDogZXJyb3IgPj0gZTIgPyAyIDogMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aWNrU3RlcChzdGFydCwgc3RvcCwgY291bnQpIHtcbiAgdmFyIHN0ZXAwID0gTWF0aC5hYnMoc3RvcCAtIHN0YXJ0KSAvIE1hdGgubWF4KDAsIGNvdW50KSxcbiAgICAgIHN0ZXAxID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoTWF0aC5sb2coc3RlcDApIC8gTWF0aC5MTjEwKSksXG4gICAgICBlcnJvciA9IHN0ZXAwIC8gc3RlcDE7XG4gIGlmIChlcnJvciA+PSBlMTApIHN0ZXAxICo9IDEwO1xuICBlbHNlIGlmIChlcnJvciA+PSBlNSkgc3RlcDEgKj0gNTtcbiAgZWxzZSBpZiAoZXJyb3IgPj0gZTIpIHN0ZXAxICo9IDI7XG4gIHJldHVybiBzdG9wIDwgc3RhcnQgPyAtc3RlcDEgOiBzdGVwMTtcbn1cbiIsImltcG9ydCB7YmlzZWN0b3IsIHRpY2tTdGVwfSBmcm9tIFwiZDMtYXJyYXlcIjtcbmltcG9ydCB7ZHVyYXRpb25EYXksIGR1cmF0aW9uSG91ciwgZHVyYXRpb25NaW51dGUsIGR1cmF0aW9uTW9udGgsIGR1cmF0aW9uU2Vjb25kLCBkdXJhdGlvbldlZWssIGR1cmF0aW9uWWVhcn0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcbmltcG9ydCBtaWxsaXNlY29uZCBmcm9tIFwiLi9taWxsaXNlY29uZC5qc1wiO1xuaW1wb3J0IHNlY29uZCBmcm9tIFwiLi9zZWNvbmQuanNcIjtcbmltcG9ydCBtaW51dGUgZnJvbSBcIi4vbWludXRlLmpzXCI7XG5pbXBvcnQgaG91ciBmcm9tIFwiLi9ob3VyLmpzXCI7XG5pbXBvcnQgZGF5IGZyb20gXCIuL2RheS5qc1wiO1xuaW1wb3J0IHtzdW5kYXkgYXMgd2Vla30gZnJvbSBcIi4vd2Vlay5qc1wiO1xuaW1wb3J0IG1vbnRoIGZyb20gXCIuL21vbnRoLmpzXCI7XG5pbXBvcnQgeWVhciBmcm9tIFwiLi95ZWFyLmpzXCI7XG5pbXBvcnQgdXRjTWludXRlIGZyb20gXCIuL3V0Y01pbnV0ZS5qc1wiO1xuaW1wb3J0IHV0Y0hvdXIgZnJvbSBcIi4vdXRjSG91ci5qc1wiO1xuaW1wb3J0IHV0Y0RheSBmcm9tIFwiLi91dGNEYXkuanNcIjtcbmltcG9ydCB7dXRjU3VuZGF5IGFzIHV0Y1dlZWt9IGZyb20gXCIuL3V0Y1dlZWsuanNcIjtcbmltcG9ydCB1dGNNb250aCBmcm9tIFwiLi91dGNNb250aC5qc1wiO1xuaW1wb3J0IHV0Y1llYXIgZnJvbSBcIi4vdXRjWWVhci5qc1wiO1xuXG5mdW5jdGlvbiB0aWNrZXIoeWVhciwgbW9udGgsIHdlZWssIGRheSwgaG91ciwgbWludXRlKSB7XG5cbiAgY29uc3QgdGlja0ludGVydmFscyA9IFtcbiAgICBbc2Vjb25kLCAgMSwgICAgICBkdXJhdGlvblNlY29uZF0sXG4gICAgW3NlY29uZCwgIDUsICA1ICogZHVyYXRpb25TZWNvbmRdLFxuICAgIFtzZWNvbmQsIDE1LCAxNSAqIGR1cmF0aW9uU2Vjb25kXSxcbiAgICBbc2Vjb25kLCAzMCwgMzAgKiBkdXJhdGlvblNlY29uZF0sXG4gICAgW21pbnV0ZSwgIDEsICAgICAgZHVyYXRpb25NaW51dGVdLFxuICAgIFttaW51dGUsICA1LCAgNSAqIGR1cmF0aW9uTWludXRlXSxcbiAgICBbbWludXRlLCAxNSwgMTUgKiBkdXJhdGlvbk1pbnV0ZV0sXG4gICAgW21pbnV0ZSwgMzAsIDMwICogZHVyYXRpb25NaW51dGVdLFxuICAgIFsgIGhvdXIsICAxLCAgICAgIGR1cmF0aW9uSG91ciAgXSxcbiAgICBbICBob3VyLCAgMywgIDMgKiBkdXJhdGlvbkhvdXIgIF0sXG4gICAgWyAgaG91ciwgIDYsICA2ICogZHVyYXRpb25Ib3VyICBdLFxuICAgIFsgIGhvdXIsIDEyLCAxMiAqIGR1cmF0aW9uSG91ciAgXSxcbiAgICBbICAgZGF5LCAgMSwgICAgICBkdXJhdGlvbkRheSAgIF0sXG4gICAgWyAgIGRheSwgIDIsICAyICogZHVyYXRpb25EYXkgICBdLFxuICAgIFsgIHdlZWssICAxLCAgICAgIGR1cmF0aW9uV2VlayAgXSxcbiAgICBbIG1vbnRoLCAgMSwgICAgICBkdXJhdGlvbk1vbnRoIF0sXG4gICAgWyBtb250aCwgIDMsICAzICogZHVyYXRpb25Nb250aCBdLFxuICAgIFsgIHllYXIsICAxLCAgICAgIGR1cmF0aW9uWWVhciAgXVxuICBdO1xuXG4gIGZ1bmN0aW9uIHRpY2tzKHN0YXJ0LCBzdG9wLCBjb3VudCkge1xuICAgIGNvbnN0IHJldmVyc2UgPSBzdG9wIDwgc3RhcnQ7XG4gICAgaWYgKHJldmVyc2UpIFtzdGFydCwgc3RvcF0gPSBbc3RvcCwgc3RhcnRdO1xuICAgIGNvbnN0IGludGVydmFsID0gY291bnQgJiYgdHlwZW9mIGNvdW50LnJhbmdlID09PSBcImZ1bmN0aW9uXCIgPyBjb3VudCA6IHRpY2tJbnRlcnZhbChzdGFydCwgc3RvcCwgY291bnQpO1xuICAgIGNvbnN0IHRpY2tzID0gaW50ZXJ2YWwgPyBpbnRlcnZhbC5yYW5nZShzdGFydCwgK3N0b3AgKyAxKSA6IFtdOyAvLyBpbmNsdXNpdmUgc3RvcFxuICAgIHJldHVybiByZXZlcnNlID8gdGlja3MucmV2ZXJzZSgpIDogdGlja3M7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrSW50ZXJ2YWwoc3RhcnQsIHN0b3AsIGNvdW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gTWF0aC5hYnMoc3RvcCAtIHN0YXJ0KSAvIGNvdW50O1xuICAgIGNvbnN0IGkgPSBiaXNlY3RvcigoWywsIHN0ZXBdKSA9PiBzdGVwKS5yaWdodCh0aWNrSW50ZXJ2YWxzLCB0YXJnZXQpO1xuICAgIGlmIChpID09PSB0aWNrSW50ZXJ2YWxzLmxlbmd0aCkgcmV0dXJuIHllYXIuZXZlcnkodGlja1N0ZXAoc3RhcnQgLyBkdXJhdGlvblllYXIsIHN0b3AgLyBkdXJhdGlvblllYXIsIGNvdW50KSk7XG4gICAgaWYgKGkgPT09IDApIHJldHVybiBtaWxsaXNlY29uZC5ldmVyeShNYXRoLm1heCh0aWNrU3RlcChzdGFydCwgc3RvcCwgY291bnQpLCAxKSk7XG4gICAgY29uc3QgW3QsIHN0ZXBdID0gdGlja0ludGVydmFsc1t0YXJnZXQgLyB0aWNrSW50ZXJ2YWxzW2kgLSAxXVsyXSA8IHRpY2tJbnRlcnZhbHNbaV1bMl0gLyB0YXJnZXQgPyBpIC0gMSA6IGldO1xuICAgIHJldHVybiB0LmV2ZXJ5KHN0ZXApO1xuICB9XG5cbiAgcmV0dXJuIFt0aWNrcywgdGlja0ludGVydmFsXTtcbn1cblxuY29uc3QgW3V0Y1RpY2tzLCB1dGNUaWNrSW50ZXJ2YWxdID0gdGlja2VyKHV0Y1llYXIsIHV0Y01vbnRoLCB1dGNXZWVrLCB1dGNEYXksIHV0Y0hvdXIsIHV0Y01pbnV0ZSk7XG5jb25zdCBbdGltZVRpY2tzLCB0aW1lVGlja0ludGVydmFsXSA9IHRpY2tlcih5ZWFyLCBtb250aCwgd2VlaywgZGF5LCBob3VyLCBtaW51dGUpO1xuXG5leHBvcnQge3V0Y1RpY2tzLCB1dGNUaWNrSW50ZXJ2YWwsIHRpbWVUaWNrcywgdGltZVRpY2tJbnRlcnZhbH07XG4iLCJleHBvcnQgZnVuY3Rpb24gaW5pdFJhbmdlKGRvbWFpbiwgcmFuZ2UpIHtcbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiBicmVhaztcbiAgICBjYXNlIDE6IHRoaXMucmFuZ2UoZG9tYWluKTsgYnJlYWs7XG4gICAgZGVmYXVsdDogdGhpcy5yYW5nZShyYW5nZSkuZG9tYWluKGRvbWFpbik7IGJyZWFrO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEludGVycG9sYXRvcihkb21haW4sIGludGVycG9sYXRvcikge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IGJyZWFrO1xuICAgIGNhc2UgMToge1xuICAgICAgaWYgKHR5cGVvZiBkb21haW4gPT09IFwiZnVuY3Rpb25cIikgdGhpcy5pbnRlcnBvbGF0b3IoZG9tYWluKTtcbiAgICAgIGVsc2UgdGhpcy5yYW5nZShkb21haW4pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRoaXMuZG9tYWluKGRvbWFpbik7XG4gICAgICBpZiAodHlwZW9mIGludGVycG9sYXRvciA9PT0gXCJmdW5jdGlvblwiKSB0aGlzLmludGVycG9sYXRvcihpbnRlcnBvbGF0b3IpO1xuICAgICAgZWxzZSB0aGlzLnJhbmdlKGludGVycG9sYXRvcik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT9cXFxcZCpcXFxcLj9cXFxcZCsoPzpbZUVdWystXT9cXFxcZCspPylcXFxccypcIixcbiAgICByZVAgPSBcIlxcXFxzKihbKy1dP1xcXFxkKlxcXFwuP1xcXFxkKyg/OltlRV1bKy1dP1xcXFxkKyk/KSVcXFxccypcIixcbiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLFxuICAgIHJlUmdiSW50ZWdlciA9IG5ldyBSZWdFeHAoXCJecmdiXFxcXChcIiArIFtyZUksIHJlSSwgcmVJXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlUmdiUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJecmdiXFxcXChcIiArIFtyZVAsIHJlUCwgcmVQXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKFwiXnJnYmFcXFxcKFwiICsgW3JlSSwgcmVJLCByZUksIHJlTl0gKyBcIlxcXFwpJFwiKSxcbiAgICByZVJnYmFQZXJjZW50ID0gbmV3IFJlZ0V4cChcIl5yZ2JhXFxcXChcIiArIFtyZVAsIHJlUCwgcmVQLCByZU5dICsgXCJcXFxcKSRcIiksXG4gICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChcIl5oc2xcXFxcKFwiICsgW3JlTiwgcmVQLCByZVBdICsgXCJcXFxcKSRcIiksXG4gICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJeaHNsYVxcXFwoXCIgKyBbcmVOLCByZVAsIHJlUCwgcmVOXSArIFwiXFxcXCkkXCIpO1xuXG52YXIgbmFtZWQgPSB7XG4gIGFsaWNlYmx1ZTogMHhmMGY4ZmYsXG4gIGFudGlxdWV3aGl0ZTogMHhmYWViZDcsXG4gIGFxdWE6IDB4MDBmZmZmLFxuICBhcXVhbWFyaW5lOiAweDdmZmZkNCxcbiAgYXp1cmU6IDB4ZjBmZmZmLFxuICBiZWlnZTogMHhmNWY1ZGMsXG4gIGJpc3F1ZTogMHhmZmU0YzQsXG4gIGJsYWNrOiAweDAwMDAwMCxcbiAgYmxhbmNoZWRhbG1vbmQ6IDB4ZmZlYmNkLFxuICBibHVlOiAweDAwMDBmZixcbiAgYmx1ZXZpb2xldDogMHg4YTJiZTIsXG4gIGJyb3duOiAweGE1MmEyYSxcbiAgYnVybHl3b29kOiAweGRlYjg4NyxcbiAgY2FkZXRibHVlOiAweDVmOWVhMCxcbiAgY2hhcnRyZXVzZTogMHg3ZmZmMDAsXG4gIGNob2NvbGF0ZTogMHhkMjY5MWUsXG4gIGNvcmFsOiAweGZmN2Y1MCxcbiAgY29ybmZsb3dlcmJsdWU6IDB4NjQ5NWVkLFxuICBjb3Juc2lsazogMHhmZmY4ZGMsXG4gIGNyaW1zb246IDB4ZGMxNDNjLFxuICBjeWFuOiAweDAwZmZmZixcbiAgZGFya2JsdWU6IDB4MDAwMDhiLFxuICBkYXJrY3lhbjogMHgwMDhiOGIsXG4gIGRhcmtnb2xkZW5yb2Q6IDB4Yjg4NjBiLFxuICBkYXJrZ3JheTogMHhhOWE5YTksXG4gIGRhcmtncmVlbjogMHgwMDY0MDAsXG4gIGRhcmtncmV5OiAweGE5YTlhOSxcbiAgZGFya2toYWtpOiAweGJkYjc2YixcbiAgZGFya21hZ2VudGE6IDB4OGIwMDhiLFxuICBkYXJrb2xpdmVncmVlbjogMHg1NTZiMmYsXG4gIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLFxuICBkYXJrb3JjaGlkOiAweDk5MzJjYyxcbiAgZGFya3JlZDogMHg4YjAwMDAsXG4gIGRhcmtzYWxtb246IDB4ZTk5NjdhLFxuICBkYXJrc2VhZ3JlZW46IDB4OGZiYzhmLFxuICBkYXJrc2xhdGVibHVlOiAweDQ4M2Q4YixcbiAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsXG4gIGRhcmtzbGF0ZWdyZXk6IDB4MmY0ZjRmLFxuICBkYXJrdHVycXVvaXNlOiAweDAwY2VkMSxcbiAgZGFya3Zpb2xldDogMHg5NDAwZDMsXG4gIGRlZXBwaW5rOiAweGZmMTQ5MyxcbiAgZGVlcHNreWJsdWU6IDB4MDBiZmZmLFxuICBkaW1ncmF5OiAweDY5Njk2OSxcbiAgZGltZ3JleTogMHg2OTY5NjksXG4gIGRvZGdlcmJsdWU6IDB4MWU5MGZmLFxuICBmaXJlYnJpY2s6IDB4YjIyMjIyLFxuICBmbG9yYWx3aGl0ZTogMHhmZmZhZjAsXG4gIGZvcmVzdGdyZWVuOiAweDIyOGIyMixcbiAgZnVjaHNpYTogMHhmZjAwZmYsXG4gIGdhaW5zYm9ybzogMHhkY2RjZGMsXG4gIGdob3N0d2hpdGU6IDB4ZjhmOGZmLFxuICBnb2xkOiAweGZmZDcwMCxcbiAgZ29sZGVucm9kOiAweGRhYTUyMCxcbiAgZ3JheTogMHg4MDgwODAsXG4gIGdyZWVuOiAweDAwODAwMCxcbiAgZ3JlZW55ZWxsb3c6IDB4YWRmZjJmLFxuICBncmV5OiAweDgwODA4MCxcbiAgaG9uZXlkZXc6IDB4ZjBmZmYwLFxuICBob3RwaW5rOiAweGZmNjliNCxcbiAgaW5kaWFucmVkOiAweGNkNWM1YyxcbiAgaW5kaWdvOiAweDRiMDA4MixcbiAgaXZvcnk6IDB4ZmZmZmYwLFxuICBraGFraTogMHhmMGU2OGMsXG4gIGxhdmVuZGVyOiAweGU2ZTZmYSxcbiAgbGF2ZW5kZXJibHVzaDogMHhmZmYwZjUsXG4gIGxhd25ncmVlbjogMHg3Y2ZjMDAsXG4gIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsXG4gIGxpZ2h0Ymx1ZTogMHhhZGQ4ZTYsXG4gIGxpZ2h0Y29yYWw6IDB4ZjA4MDgwLFxuICBsaWdodGN5YW46IDB4ZTBmZmZmLFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogMHhmYWZhZDIsXG4gIGxpZ2h0Z3JheTogMHhkM2QzZDMsXG4gIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLFxuICBsaWdodGdyZXk6IDB4ZDNkM2QzLFxuICBsaWdodHBpbms6IDB4ZmZiNmMxLFxuICBsaWdodHNhbG1vbjogMHhmZmEwN2EsXG4gIGxpZ2h0c2VhZ3JlZW46IDB4MjBiMmFhLFxuICBsaWdodHNreWJsdWU6IDB4ODdjZWZhLFxuICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksXG4gIGxpZ2h0c2xhdGVncmV5OiAweDc3ODg5OSxcbiAgbGlnaHRzdGVlbGJsdWU6IDB4YjBjNGRlLFxuICBsaWdodHllbGxvdzogMHhmZmZmZTAsXG4gIGxpbWU6IDB4MDBmZjAwLFxuICBsaW1lZ3JlZW46IDB4MzJjZDMyLFxuICBsaW5lbjogMHhmYWYwZTYsXG4gIG1hZ2VudGE6IDB4ZmYwMGZmLFxuICBtYXJvb246IDB4ODAwMDAwLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSxcbiAgbWVkaXVtYmx1ZTogMHgwMDAwY2QsXG4gIG1lZGl1bW9yY2hpZDogMHhiYTU1ZDMsXG4gIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsXG4gIG1lZGl1bXNlYWdyZWVuOiAweDNjYjM3MSxcbiAgbWVkaXVtc2xhdGVibHVlOiAweDdiNjhlZSxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLFxuICBtZWRpdW10dXJxdW9pc2U6IDB4NDhkMWNjLFxuICBtZWRpdW12aW9sZXRyZWQ6IDB4YzcxNTg1LFxuICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLFxuICBtaW50Y3JlYW06IDB4ZjVmZmZhLFxuICBtaXN0eXJvc2U6IDB4ZmZlNGUxLFxuICBtb2NjYXNpbjogMHhmZmU0YjUsXG4gIG5hdmFqb3doaXRlOiAweGZmZGVhZCxcbiAgbmF2eTogMHgwMDAwODAsXG4gIG9sZGxhY2U6IDB4ZmRmNWU2LFxuICBvbGl2ZTogMHg4MDgwMDAsXG4gIG9saXZlZHJhYjogMHg2YjhlMjMsXG4gIG9yYW5nZTogMHhmZmE1MDAsXG4gIG9yYW5nZXJlZDogMHhmZjQ1MDAsXG4gIG9yY2hpZDogMHhkYTcwZDYsXG4gIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLFxuICBwYWxlZ3JlZW46IDB4OThmYjk4LFxuICBwYWxldHVycXVvaXNlOiAweGFmZWVlZSxcbiAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsXG4gIHBhcGF5YXdoaXA6IDB4ZmZlZmQ1LFxuICBwZWFjaHB1ZmY6IDB4ZmZkYWI5LFxuICBwZXJ1OiAweGNkODUzZixcbiAgcGluazogMHhmZmMwY2IsXG4gIHBsdW06IDB4ZGRhMGRkLFxuICBwb3dkZXJibHVlOiAweGIwZTBlNixcbiAgcHVycGxlOiAweDgwMDA4MCxcbiAgcmViZWNjYXB1cnBsZTogMHg2NjMzOTksXG4gIHJlZDogMHhmZjAwMDAsXG4gIHJvc3licm93bjogMHhiYzhmOGYsXG4gIHJveWFsYmx1ZTogMHg0MTY5ZTEsXG4gIHNhZGRsZWJyb3duOiAweDhiNDUxMyxcbiAgc2FsbW9uOiAweGZhODA3MixcbiAgc2FuZHlicm93bjogMHhmNGE0NjAsXG4gIHNlYWdyZWVuOiAweDJlOGI1NyxcbiAgc2Vhc2hlbGw6IDB4ZmZmNWVlLFxuICBzaWVubmE6IDB4YTA1MjJkLFxuICBzaWx2ZXI6IDB4YzBjMGMwLFxuICBza3libHVlOiAweDg3Y2VlYixcbiAgc2xhdGVibHVlOiAweDZhNWFjZCxcbiAgc2xhdGVncmF5OiAweDcwODA5MCxcbiAgc2xhdGVncmV5OiAweDcwODA5MCxcbiAgc25vdzogMHhmZmZhZmEsXG4gIHNwcmluZ2dyZWVuOiAweDAwZmY3ZixcbiAgc3RlZWxibHVlOiAweDQ2ODJiNCxcbiAgdGFuOiAweGQyYjQ4YyxcbiAgdGVhbDogMHgwMDgwODAsXG4gIHRoaXN0bGU6IDB4ZDhiZmQ4LFxuICB0b21hdG86IDB4ZmY2MzQ3LFxuICB0dXJxdW9pc2U6IDB4NDBlMGQwLFxuICB2aW9sZXQ6IDB4ZWU4MmVlLFxuICB3aGVhdDogMHhmNWRlYjMsXG4gIHdoaXRlOiAweGZmZmZmZixcbiAgd2hpdGVzbW9rZTogMHhmNWY1ZjUsXG4gIHllbGxvdzogMHhmZmZmMDAsXG4gIHllbGxvd2dyZWVuOiAweDlhY2QzMlxufTtcblxuZGVmaW5lKENvbG9yLCBjb2xvciwge1xuICBjb3B5OiBmdW5jdGlvbihjaGFubmVscykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyB0aGlzLmNvbnN0cnVjdG9yLCB0aGlzLCBjaGFubmVscyk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhzbCgpIHtcbiAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0UmdiKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbG9yKGZvcm1hdCkge1xuICB2YXIgbSwgbDtcbiAgZm9ybWF0ID0gKGZvcm1hdCArIFwiXCIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKG0gPSByZUhleC5leGVjKGZvcm1hdCkpID8gKGwgPSBtWzFdLmxlbmd0aCwgbSA9IHBhcnNlSW50KG1bMV0sIDE2KSwgbCA9PT0gNiA/IHJnYm4obSkgLy8gI2ZmMDAwMFxuICAgICAgOiBsID09PSAzID8gbmV3IFJnYigobSA+PiA4ICYgMHhmKSB8IChtID4+IDQgJiAweGYwKSwgKG0gPj4gNCAmIDB4ZikgfCAobSAmIDB4ZjApLCAoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpLCAxKSAvLyAjZjAwXG4gICAgICA6IGwgPT09IDggPyByZ2JhKG0gPj4gMjQgJiAweGZmLCBtID4+IDE2ICYgMHhmZiwgbSA+PiA4ICYgMHhmZiwgKG0gJiAweGZmKSAvIDB4ZmYpIC8vICNmZjAwMDAwMFxuICAgICAgOiBsID09PSA0ID8gcmdiYSgobSA+PiAxMiAmIDB4ZikgfCAobSA+PiA4ICYgMHhmMCksIChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpKSAvIDB4ZmYpIC8vICNmMDAwXG4gICAgICA6IG51bGwpIC8vIGludmFsaWQgaGV4XG4gICAgICA6IChtID0gcmVSZ2JJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0sIG1bMl0sIG1bM10sIDEpIC8vIHJnYigyNTUsIDAsIDApXG4gICAgICA6IChtID0gcmVSZ2JQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIDEpIC8vIHJnYigxMDAlLCAwJSwgMCUpXG4gICAgICA6IChtID0gcmVSZ2JhSW50ZWdlci5leGVjKGZvcm1hdCkpID8gcmdiYShtWzFdLCBtWzJdLCBtWzNdLCBtWzRdKSAvLyByZ2JhKDI1NSwgMCwgMCwgMSlcbiAgICAgIDogKG0gPSByZVJnYmFQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIG1bNF0pIC8vIHJnYigxMDAlLCAwJSwgMCUsIDEpXG4gICAgICA6IChtID0gcmVIc2xQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBoc2xhKG1bMV0sIG1bMl0gLyAxMDAsIG1bM10gLyAxMDAsIDEpIC8vIGhzbCgxMjAsIDUwJSwgNTAlKVxuICAgICAgOiAobSA9IHJlSHNsYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgbVs0XSkgLy8gaHNsYSgxMjAsIDUwJSwgNTAlLCAxKVxuICAgICAgOiBuYW1lZC5oYXNPd25Qcm9wZXJ0eShmb3JtYXQpID8gcmdibihuYW1lZFtmb3JtYXRdKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgOiBmb3JtYXQgPT09IFwidHJhbnNwYXJlbnRcIiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMClcbiAgICAgIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcmdibihuKSB7XG4gIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7XG59XG5cbmZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkge1xuICBpZiAoYSA8PSAwKSByID0gZyA9IGIgPSBOYU47XG4gIHJldHVybiBuZXcgUmdiKHIsIGcsIGIsIGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmdiQ29udmVydChvKSB7XG4gIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTtcbiAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYjtcbiAgbyA9IG8ucmdiKCk7XG4gIHJldHVybiBuZXcgUmdiKG8uciwgby5nLCBvLmIsIG8ub3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IHJnYkNvbnZlcnQocikgOiBuZXcgUmdiKHIsIGcsIGIsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHRoaXMuciA9ICtyO1xuICB0aGlzLmcgPSArZztcbiAgdGhpcy5iID0gK2I7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoUmdiLCByZ2IsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcjogZnVuY3Rpb24oaykge1xuICAgIGsgPSBrID09IG51bGwgPyBicmlnaHRlciA6IE1hdGgucG93KGJyaWdodGVyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXI6IGZ1bmN0aW9uKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBkaXNwbGF5YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRSZ2I6IHJnYl9mb3JtYXRSZ2IsXG4gIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiXG59KSk7XG5cbmZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7XG4gIHJldHVybiBcIiNcIiArIGhleCh0aGlzLnIpICsgaGV4KHRoaXMuZykgKyBoZXgodGhpcy5iKTtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgdmFyIGEgPSB0aGlzLm9wYWNpdHk7IGEgPSBpc05hTihhKSA/IDEgOiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBhKSk7XG4gIHJldHVybiAoYSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwiKVxuICAgICAgKyBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQodGhpcy5yKSB8fCAwKSkgKyBcIiwgXCJcbiAgICAgICsgTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHRoaXMuZykgfHwgMCkpICsgXCIsIFwiXG4gICAgICArIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh0aGlzLmIpIHx8IDApKVxuICAgICAgKyAoYSA9PT0gMSA/IFwiKVwiIDogXCIsIFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gaGV4KHZhbHVlKSB7XG4gIHZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7XG4gIHJldHVybiAodmFsdWUgPCAxNiA/IFwiMFwiIDogXCJcIikgKyB2YWx1ZS50b1N0cmluZygxNik7XG59XG5cbmZ1bmN0aW9uIGhzbGEoaCwgcywgbCwgYSkge1xuICBpZiAoYSA8PSAwKSBoID0gcyA9IGwgPSBOYU47XG4gIGVsc2UgaWYgKGwgPD0gMCB8fCBsID49IDEpIGggPSBzID0gTmFOO1xuICBlbHNlIGlmIChzIDw9IDApIGggPSBOYU47XG4gIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7XG4gIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbmV3IEhzbChvLmgsIG8ucywgby5sLCBvLm9wYWNpdHkpO1xuICBpZiAoIShvIGluc3RhbmNlb2YgQ29sb3IpKSBvID0gY29sb3Iobyk7XG4gIGlmICghbykgcmV0dXJuIG5ldyBIc2w7XG4gIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbztcbiAgbyA9IG8ucmdiKCk7XG4gIHZhciByID0gby5yIC8gMjU1LFxuICAgICAgZyA9IG8uZyAvIDI1NSxcbiAgICAgIGIgPSBvLmIgLyAyNTUsXG4gICAgICBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKSxcbiAgICAgIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLFxuICAgICAgaCA9IE5hTixcbiAgICAgIHMgPSBtYXggLSBtaW4sXG4gICAgICBsID0gKG1heCArIG1pbikgLyAyO1xuICBpZiAocykge1xuICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O1xuICAgIGVsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtcbiAgICBlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7XG4gICAgcyAvPSBsIDwgMC41ID8gbWF4ICsgbWluIDogMiAtIG1heCAtIG1pbjtcbiAgICBoICo9IDYwO1xuICB9IGVsc2Uge1xuICAgIHMgPSBsID4gMCAmJiBsIDwgMSA/IDAgOiBoO1xuICB9XG4gIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoc2woaCwgcywgbCwgb3BhY2l0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTtcbn1cblxuZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgdGhpcy5oID0gK2g7XG4gIHRoaXMucyA9ICtzO1xuICB0aGlzLmwgPSArbDtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShIc2wsIGhzbCwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyOiBmdW5jdGlvbihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXI6IGZ1bmN0aW9uKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgcmdiOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMuaCAlIDM2MCArICh0aGlzLmggPCAwKSAqIDM2MCxcbiAgICAgICAgcyA9IGlzTmFOKGgpIHx8IGlzTmFOKHRoaXMucykgPyAwIDogdGhpcy5zLFxuICAgICAgICBsID0gdGhpcy5sLFxuICAgICAgICBtMiA9IGwgKyAobCA8IDAuNSA/IGwgOiAxIC0gbCkgKiBzLFxuICAgICAgICBtMSA9IDIgKiBsIC0gbTI7XG4gICAgcmV0dXJuIG5ldyBSZ2IoXG4gICAgICBoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksXG4gICAgICBoc2wycmdiKGgsIG0xLCBtMiksXG4gICAgICBoc2wycmdiKGggPCAxMjAgPyBoICsgMjQwIDogaCAtIDEyMCwgbTEsIG0yKSxcbiAgICAgIHRoaXMub3BhY2l0eVxuICAgICk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKDAgPD0gdGhpcy5zICYmIHRoaXMucyA8PSAxIHx8IGlzTmFOKHRoaXMucykpXG4gICAgICAgICYmICgwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxKTtcbiAgfSxcbiAgZm9ybWF0SHNsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYSA9IHRoaXMub3BhY2l0eTsgYSA9IGlzTmFOKGEpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGEpKTtcbiAgICByZXR1cm4gKGEgPT09IDEgPyBcImhzbChcIiA6IFwiaHNsYShcIilcbiAgICAgICAgKyAodGhpcy5oIHx8IDApICsgXCIsIFwiXG4gICAgICAgICsgKHRoaXMucyB8fCAwKSAqIDEwMCArIFwiJSwgXCJcbiAgICAgICAgKyAodGhpcy5sIHx8IDApICogMTAwICsgXCIlXCJcbiAgICAgICAgKyAoYSA9PT0gMSA/IFwiKVwiIDogXCIsIFwiICsgYSArIFwiKVwiKTtcbiAgfVxufSkpO1xuXG4vKiBGcm9tIEZ2RCAxMy4zNywgQ1NTIENvbG9yIE1vZHVsZSBMZXZlbCAzICovXG5mdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikge1xuICByZXR1cm4gKGggPCA2MCA/IG0xICsgKG0yIC0gbTEpICogaCAvIDYwXG4gICAgICA6IGggPCAxODAgPyBtMlxuICAgICAgOiBoIDwgMjQwID8gbTEgKyAobTIgLSBtMSkgKiAoMjQwIC0gaCkgLyA2MFxuICAgICAgOiBtMSkgKiAyNTU7XG59XG4iLCJleHBvcnQgZGVmYXVsdCB4ID0+ICgpID0+IHg7XG4iLCJpbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gbGluZWFyKGEsIGQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSArIHQgKiBkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7XG4gIHJldHVybiBhID0gTWF0aC5wb3coYSwgeSksIGIgPSBNYXRoLnBvdyhiLCB5KSAtIGEsIHkgPSAxIC8geSwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCA+IDE4MCB8fCBkIDwgLTE4MCA/IGQgLSAzNjAgKiBNYXRoLnJvdW5kKGQgLyAzNjApIDogZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdhbW1hKHkpIHtcbiAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYiAtIGEgPyBleHBvbmVudGlhbChhLCBiLCB5KSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cbiIsImltcG9ydCB7cmdiIGFzIGNvbG9yUmdifSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCBiYXNpcyBmcm9tIFwiLi9iYXNpcy5qc1wiO1xuaW1wb3J0IGJhc2lzQ2xvc2VkIGZyb20gXCIuL2Jhc2lzQ2xvc2VkLmpzXCI7XG5pbXBvcnQgbm9nYW1tYSwge2dhbW1hfSBmcm9tIFwiLi9jb2xvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gcmdiR2FtbWEoeSkge1xuICB2YXIgY29sb3IgPSBnYW1tYSh5KTtcblxuICBmdW5jdGlvbiByZ2Ioc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gY29sb3IoKHN0YXJ0ID0gY29sb3JSZ2Ioc3RhcnQpKS5yLCAoZW5kID0gY29sb3JSZ2IoZW5kKSkuciksXG4gICAgICAgIGcgPSBjb2xvcihzdGFydC5nLCBlbmQuZyksXG4gICAgICAgIGIgPSBjb2xvcihzdGFydC5iLCBlbmQuYiksXG4gICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgc3RhcnQuciA9IHIodCk7XG4gICAgICBzdGFydC5nID0gZyh0KTtcbiAgICAgIHN0YXJ0LmIgPSBiKHQpO1xuICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7XG4gICAgICByZXR1cm4gc3RhcnQgKyBcIlwiO1xuICAgIH07XG4gIH1cblxuICByZ2IuZ2FtbWEgPSByZ2JHYW1tYTtcblxuICByZXR1cm4gcmdiO1xufSkoMSk7XG5cbmZ1bmN0aW9uIHJnYlNwbGluZShzcGxpbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbG9ycykge1xuICAgIHZhciBuID0gY29sb3JzLmxlbmd0aCxcbiAgICAgICAgciA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgZyA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgYiA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgaSwgY29sb3I7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgY29sb3IgPSBjb2xvclJnYihjb2xvcnNbaV0pO1xuICAgICAgcltpXSA9IGNvbG9yLnIgfHwgMDtcbiAgICAgIGdbaV0gPSBjb2xvci5nIHx8IDA7XG4gICAgICBiW2ldID0gY29sb3IuYiB8fCAwO1xuICAgIH1cbiAgICByID0gc3BsaW5lKHIpO1xuICAgIGcgPSBzcGxpbmUoZyk7XG4gICAgYiA9IHNwbGluZShiKTtcbiAgICBjb2xvci5vcGFjaXR5ID0gMTtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgY29sb3IuciA9IHIodCk7XG4gICAgICBjb2xvci5nID0gZyh0KTtcbiAgICAgIGNvbG9yLmIgPSBiKHQpO1xuICAgICAgcmV0dXJuIGNvbG9yICsgXCJcIjtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgdmFyIHJnYkJhc2lzID0gcmdiU3BsaW5lKGJhc2lzKTtcbmV4cG9ydCB2YXIgcmdiQmFzaXNDbG9zZWQgPSByZ2JTcGxpbmUoYmFzaXNDbG9zZWQpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICBpZiAoIWIpIGIgPSBbXTtcbiAgdmFyIG4gPSBhID8gTWF0aC5taW4oYi5sZW5ndGgsIGEubGVuZ3RoKSA6IDAsXG4gICAgICBjID0gYi5zbGljZSgpLFxuICAgICAgaTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSBjW2ldID0gYVtpXSAqICgxIC0gdCkgKyBiW2ldICogdDtcbiAgICByZXR1cm4gYztcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyQXJyYXkoeCkge1xuICByZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHgpICYmICEoeCBpbnN0YW5jZW9mIERhdGFWaWV3KTtcbn1cbiIsImltcG9ydCB2YWx1ZSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuaW1wb3J0IG51bWJlckFycmF5LCB7aXNOdW1iZXJBcnJheX0gZnJvbSBcIi4vbnVtYmVyQXJyYXkuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gKGlzTnVtYmVyQXJyYXkoYikgPyBudW1iZXJBcnJheSA6IGdlbmVyaWNBcnJheSkoYSwgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmljQXJyYXkoYSwgYikge1xuICB2YXIgbmIgPSBiID8gYi5sZW5ndGggOiAwLFxuICAgICAgbmEgPSBhID8gTWF0aC5taW4obmIsIGEubGVuZ3RoKSA6IDAsXG4gICAgICB4ID0gbmV3IEFycmF5KG5hKSxcbiAgICAgIGMgPSBuZXcgQXJyYXkobmIpLFxuICAgICAgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbmE7ICsraSkgeFtpXSA9IHZhbHVlKGFbaV0sIGJbaV0pO1xuICBmb3IgKDsgaSA8IG5iOyArK2kpIGNbaV0gPSBiW2ldO1xuXG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgZm9yIChpID0gMDsgaSA8IG5hOyArK2kpIGNbaV0gPSB4W2ldKHQpO1xuICAgIHJldHVybiBjO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgZCA9IG5ldyBEYXRlO1xuICByZXR1cm4gYSA9ICthLCBiID0gK2IsIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gZC5zZXRUaW1lKGEgKiAoMSAtIHQpICsgYiAqIHQpLCBkO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9ICthLCBiID0gK2IsIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDtcbiAgfTtcbn1cbiIsImltcG9ydCB2YWx1ZSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBpID0ge30sXG4gICAgICBjID0ge30sXG4gICAgICBrO1xuXG4gIGlmIChhID09PSBudWxsIHx8IHR5cGVvZiBhICE9PSBcIm9iamVjdFwiKSBhID0ge307XG4gIGlmIChiID09PSBudWxsIHx8IHR5cGVvZiBiICE9PSBcIm9iamVjdFwiKSBiID0ge307XG5cbiAgZm9yIChrIGluIGIpIHtcbiAgICBpZiAoayBpbiBhKSB7XG4gICAgICBpW2tdID0gdmFsdWUoYVtrXSwgYltrXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNba10gPSBiW2tdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgZm9yIChrIGluIGkpIGNba10gPSBpW2tdKHQpO1xuICAgIHJldHVybiBjO1xuICB9O1xufVxuIiwiaW1wb3J0IG51bWJlciBmcm9tIFwiLi9udW1iZXIuanNcIjtcblxudmFyIHJlQSA9IC9bLStdPyg/OlxcZCtcXC4/XFxkKnxcXC4/XFxkKykoPzpbZUVdWy0rXT9cXGQrKT8vZyxcbiAgICByZUIgPSBuZXcgUmVnRXhwKHJlQS5zb3VyY2UsIFwiZ1wiKTtcblxuZnVuY3Rpb24gemVybyhiKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25lKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYih0KSArIFwiXCI7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLCAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiXG4gICAgICBhbSwgLy8gY3VycmVudCBtYXRjaCBpbiBhXG4gICAgICBibSwgLy8gY3VycmVudCBtYXRjaCBpbiBiXG4gICAgICBicywgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnlcbiAgICAgIGkgPSAtMSwgLy8gaW5kZXggaW4gc1xuICAgICAgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnNcblxuICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuXG4gIGEgPSBhICsgXCJcIiwgYiA9IGIgKyBcIlwiO1xuXG4gIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuXG4gIHdoaWxlICgoYW0gPSByZUEuZXhlYyhhKSlcbiAgICAgICYmIChibSA9IHJlQi5leGVjKGIpKSkge1xuICAgIGlmICgoYnMgPSBibS5pbmRleCkgPiBiaSkgeyAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYlxuICAgICAgYnMgPSBiLnNsaWNlKGJpLCBicyk7XG4gICAgICBpZiAoc1tpXSkgc1tpXSArPSBiczsgLy8gY29hbGVzY2Ugd2l0aCBwcmV2aW91cyBzdHJpbmdcbiAgICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gICAgfVxuICAgIGlmICgoYW0gPSBhbVswXSkgPT09IChibSA9IGJtWzBdKSkgeyAvLyBudW1iZXJzIGluIGEgJiBiIG1hdGNoXG4gICAgICBpZiAoc1tpXSkgc1tpXSArPSBibTsgLy8gY29hbGVzY2Ugd2l0aCBwcmV2aW91cyBzdHJpbmdcbiAgICAgIGVsc2Ugc1srK2ldID0gYm07XG4gICAgfSBlbHNlIHsgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnNcbiAgICAgIHNbKytpXSA9IG51bGw7XG4gICAgICBxLnB1c2goe2k6IGksIHg6IG51bWJlcihhbSwgYm0pfSk7XG4gICAgfVxuICAgIGJpID0gcmVCLmxhc3RJbmRleDtcbiAgfVxuXG4gIC8vIEFkZCByZW1haW5zIG9mIGIuXG4gIGlmIChiaSA8IGIubGVuZ3RoKSB7XG4gICAgYnMgPSBiLnNsaWNlKGJpKTtcbiAgICBpZiAoc1tpXSkgc1tpXSArPSBiczsgLy8gY29hbGVzY2Ugd2l0aCBwcmV2aW91cyBzdHJpbmdcbiAgICBlbHNlIHNbKytpXSA9IGJzO1xuICB9XG5cbiAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guXG4gIC8vIE90aGVyd2lzZSwgaW50ZXJwb2xhdGUgZWFjaCBvZiB0aGUgbnVtYmVycyBhbmQgcmVqb2luIHRoZSBzdHJpbmcuXG4gIHJldHVybiBzLmxlbmd0aCA8IDIgPyAocVswXVxuICAgICAgPyBvbmUocVswXS54KVxuICAgICAgOiB6ZXJvKGIpKVxuICAgICAgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG87IGkgPCBiOyArK2kpIHNbKG8gPSBxW2ldKS5pXSA9IG8ueCh0KTtcbiAgICAgICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgICAgICB9KTtcbn1cbiIsImltcG9ydCB7Y29sb3J9IGZyb20gXCJkMy1jb2xvclwiO1xuaW1wb3J0IHJnYiBmcm9tIFwiLi9yZ2IuanNcIjtcbmltcG9ydCB7Z2VuZXJpY0FycmF5fSBmcm9tIFwiLi9hcnJheS5qc1wiO1xuaW1wb3J0IGRhdGUgZnJvbSBcIi4vZGF0ZS5qc1wiO1xuaW1wb3J0IG51bWJlciBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCBvYmplY3QgZnJvbSBcIi4vb2JqZWN0LmpzXCI7XG5pbXBvcnQgc3RyaW5nIGZyb20gXCIuL3N0cmluZy5qc1wiO1xuaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5pbXBvcnQgbnVtYmVyQXJyYXksIHtpc051bWJlckFycmF5fSBmcm9tIFwiLi9udW1iZXJBcnJheS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciB0ID0gdHlwZW9mIGIsIGM7XG4gIHJldHVybiBiID09IG51bGwgfHwgdCA9PT0gXCJib29sZWFuXCIgPyBjb25zdGFudChiKVxuICAgICAgOiAodCA9PT0gXCJudW1iZXJcIiA/IG51bWJlclxuICAgICAgOiB0ID09PSBcInN0cmluZ1wiID8gKChjID0gY29sb3IoYikpID8gKGIgPSBjLCByZ2IpIDogc3RyaW5nKVxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyByZ2JcbiAgICAgIDogYiBpbnN0YW5jZW9mIERhdGUgPyBkYXRlXG4gICAgICA6IGlzTnVtYmVyQXJyYXkoYikgPyBudW1iZXJBcnJheVxuICAgICAgOiBBcnJheS5pc0FycmF5KGIpID8gZ2VuZXJpY0FycmF5XG4gICAgICA6IHR5cGVvZiBiLnZhbHVlT2YgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgYi50b1N0cmluZyAhPT0gXCJmdW5jdGlvblwiIHx8IGlzTmFOKGIpID8gb2JqZWN0XG4gICAgICA6IG51bWJlcikoYSwgYik7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID0gK2EsIGIgPSArYiwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGEgKiAoMSAtIHQpICsgYiAqIHQpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29uc3RhbnRzKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbnVtYmVyKHgpIHtcbiAgcmV0dXJuICt4O1xufVxuIiwiaW1wb3J0IHtiaXNlY3R9IGZyb20gXCJkMy1hcnJheVwiO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZSBhcyBpbnRlcnBvbGF0ZVZhbHVlLCBpbnRlcnBvbGF0ZU51bWJlciwgaW50ZXJwb2xhdGVSb3VuZH0gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5pbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcbmltcG9ydCBudW1iZXIgZnJvbSBcIi4vbnVtYmVyLmpzXCI7XG5cbnZhciB1bml0ID0gWzAsIDFdO1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKGEsIGIpIHtcbiAgcmV0dXJuIChiIC09IChhID0gK2EpKVxuICAgICAgPyBmdW5jdGlvbih4KSB7IHJldHVybiAoeCAtIGEpIC8gYjsgfVxuICAgICAgOiBjb25zdGFudChpc05hTihiKSA/IE5hTiA6IDAuNSk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wZXIoYSwgYikge1xuICB2YXIgdDtcbiAgaWYgKGEgPiBiKSB0ID0gYSwgYSA9IGIsIGIgPSB0O1xuICByZXR1cm4gZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5tYXgoYSwgTWF0aC5taW4oYiwgeCkpOyB9O1xufVxuXG4vLyBub3JtYWxpemUoYSwgYikoeCkgdGFrZXMgYSBkb21haW4gdmFsdWUgeCBpbiBbYSxiXSBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwYXJhbWV0ZXIgdCBpbiBbMCwxXS5cbi8vIGludGVycG9sYXRlKGEsIGIpKHQpIHRha2VzIGEgcGFyYW1ldGVyIHQgaW4gWzAsMV0gYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmFuZ2UgdmFsdWUgeCBpbiBbYSxiXS5cbmZ1bmN0aW9uIGJpbWFwKGRvbWFpbiwgcmFuZ2UsIGludGVycG9sYXRlKSB7XG4gIHZhciBkMCA9IGRvbWFpblswXSwgZDEgPSBkb21haW5bMV0sIHIwID0gcmFuZ2VbMF0sIHIxID0gcmFuZ2VbMV07XG4gIGlmIChkMSA8IGQwKSBkMCA9IG5vcm1hbGl6ZShkMSwgZDApLCByMCA9IGludGVycG9sYXRlKHIxLCByMCk7XG4gIGVsc2UgZDAgPSBub3JtYWxpemUoZDAsIGQxKSwgcjAgPSBpbnRlcnBvbGF0ZShyMCwgcjEpO1xuICByZXR1cm4gZnVuY3Rpb24oeCkgeyByZXR1cm4gcjAoZDAoeCkpOyB9O1xufVxuXG5mdW5jdGlvbiBwb2x5bWFwKGRvbWFpbiwgcmFuZ2UsIGludGVycG9sYXRlKSB7XG4gIHZhciBqID0gTWF0aC5taW4oZG9tYWluLmxlbmd0aCwgcmFuZ2UubGVuZ3RoKSAtIDEsXG4gICAgICBkID0gbmV3IEFycmF5KGopLFxuICAgICAgciA9IG5ldyBBcnJheShqKSxcbiAgICAgIGkgPSAtMTtcblxuICAvLyBSZXZlcnNlIGRlc2NlbmRpbmcgZG9tYWlucy5cbiAgaWYgKGRvbWFpbltqXSA8IGRvbWFpblswXSkge1xuICAgIGRvbWFpbiA9IGRvbWFpbi5zbGljZSgpLnJldmVyc2UoKTtcbiAgICByYW5nZSA9IHJhbmdlLnNsaWNlKCkucmV2ZXJzZSgpO1xuICB9XG5cbiAgd2hpbGUgKCsraSA8IGopIHtcbiAgICBkW2ldID0gbm9ybWFsaXplKGRvbWFpbltpXSwgZG9tYWluW2kgKyAxXSk7XG4gICAgcltpXSA9IGludGVycG9sYXRlKHJhbmdlW2ldLCByYW5nZVtpICsgMV0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICB2YXIgaSA9IGJpc2VjdChkb21haW4sIHgsIDEsIGopIC0gMTtcbiAgICByZXR1cm4gcltpXShkW2ldKHgpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkoc291cmNlLCB0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldFxuICAgICAgLmRvbWFpbihzb3VyY2UuZG9tYWluKCkpXG4gICAgICAucmFuZ2Uoc291cmNlLnJhbmdlKCkpXG4gICAgICAuaW50ZXJwb2xhdGUoc291cmNlLmludGVycG9sYXRlKCkpXG4gICAgICAuY2xhbXAoc291cmNlLmNsYW1wKCkpXG4gICAgICAudW5rbm93bihzb3VyY2UudW5rbm93bigpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybWVyKCkge1xuICB2YXIgZG9tYWluID0gdW5pdCxcbiAgICAgIHJhbmdlID0gdW5pdCxcbiAgICAgIGludGVycG9sYXRlID0gaW50ZXJwb2xhdGVWYWx1ZSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHVudHJhbnNmb3JtLFxuICAgICAgdW5rbm93bixcbiAgICAgIGNsYW1wID0gaWRlbnRpdHksXG4gICAgICBwaWVjZXdpc2UsXG4gICAgICBvdXRwdXQsXG4gICAgICBpbnB1dDtcblxuICBmdW5jdGlvbiByZXNjYWxlKCkge1xuICAgIHZhciBuID0gTWF0aC5taW4oZG9tYWluLmxlbmd0aCwgcmFuZ2UubGVuZ3RoKTtcbiAgICBpZiAoY2xhbXAgIT09IGlkZW50aXR5KSBjbGFtcCA9IGNsYW1wZXIoZG9tYWluWzBdLCBkb21haW5bbiAtIDFdKTtcbiAgICBwaWVjZXdpc2UgPSBuID4gMiA/IHBvbHltYXAgOiBiaW1hcDtcbiAgICBvdXRwdXQgPSBpbnB1dCA9IG51bGw7XG4gICAgcmV0dXJuIHNjYWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NhbGUoeCkge1xuICAgIHJldHVybiB4ID09IG51bGwgfHwgaXNOYU4oeCA9ICt4KSA/IHVua25vd24gOiAob3V0cHV0IHx8IChvdXRwdXQgPSBwaWVjZXdpc2UoZG9tYWluLm1hcCh0cmFuc2Zvcm0pLCByYW5nZSwgaW50ZXJwb2xhdGUpKSkodHJhbnNmb3JtKGNsYW1wKHgpKSk7XG4gIH1cblxuICBzY2FsZS5pbnZlcnQgPSBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIGNsYW1wKHVudHJhbnNmb3JtKChpbnB1dCB8fCAoaW5wdXQgPSBwaWVjZXdpc2UocmFuZ2UsIGRvbWFpbi5tYXAodHJhbnNmb3JtKSwgaW50ZXJwb2xhdGVOdW1iZXIpKSkoeSkpKTtcbiAgfTtcblxuICBzY2FsZS5kb21haW4gPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZG9tYWluID0gQXJyYXkuZnJvbShfLCBudW1iZXIpLCByZXNjYWxlKCkpIDogZG9tYWluLnNsaWNlKCk7XG4gIH07XG5cbiAgc2NhbGUucmFuZ2UgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocmFuZ2UgPSBBcnJheS5mcm9tKF8pLCByZXNjYWxlKCkpIDogcmFuZ2Uuc2xpY2UoKTtcbiAgfTtcblxuICBzY2FsZS5yYW5nZVJvdW5kID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiByYW5nZSA9IEFycmF5LmZyb20oXyksIGludGVycG9sYXRlID0gaW50ZXJwb2xhdGVSb3VuZCwgcmVzY2FsZSgpO1xuICB9O1xuXG4gIHNjYWxlLmNsYW1wID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGNsYW1wID0gXyA/IHRydWUgOiBpZGVudGl0eSwgcmVzY2FsZSgpKSA6IGNsYW1wICE9PSBpZGVudGl0eTtcbiAgfTtcblxuICBzY2FsZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChpbnRlcnBvbGF0ZSA9IF8sIHJlc2NhbGUoKSkgOiBpbnRlcnBvbGF0ZTtcbiAgfTtcblxuICBzY2FsZS51bmtub3duID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHVua25vd24gPSBfLCBzY2FsZSkgOiB1bmtub3duO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbih0LCB1KSB7XG4gICAgdHJhbnNmb3JtID0gdCwgdW50cmFuc2Zvcm0gPSB1O1xuICAgIHJldHVybiByZXNjYWxlKCk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnRpbnVvdXMoKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1lcigpKGlkZW50aXR5LCBpZGVudGl0eSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4KSB7XG4gIHJldHVybiBNYXRoLmFicyh4ID0gTWF0aC5yb3VuZCh4KSkgPj0gMWUyMVxuICAgICAgPyB4LnRvTG9jYWxlU3RyaW5nKFwiZW5cIikucmVwbGFjZSgvLC9nLCBcIlwiKVxuICAgICAgOiB4LnRvU3RyaW5nKDEwKTtcbn1cblxuLy8gQ29tcHV0ZXMgdGhlIGRlY2ltYWwgY29lZmZpY2llbnQgYW5kIGV4cG9uZW50IG9mIHRoZSBzcGVjaWZpZWQgbnVtYmVyIHggd2l0aFxuLy8gc2lnbmlmaWNhbnQgZGlnaXRzIHAsIHdoZXJlIHggaXMgcG9zaXRpdmUgYW5kIHAgaXMgaW4gWzEsIDIxXSBvciB1bmRlZmluZWQuXG4vLyBGb3IgZXhhbXBsZSwgZm9ybWF0RGVjaW1hbFBhcnRzKDEuMjMpIHJldHVybnMgW1wiMTIzXCIsIDBdLlxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERlY2ltYWxQYXJ0cyh4LCBwKSB7XG4gIGlmICgoaSA9ICh4ID0gcCA/IHgudG9FeHBvbmVudGlhbChwIC0gMSkgOiB4LnRvRXhwb25lbnRpYWwoKSkuaW5kZXhPZihcImVcIikpIDwgMCkgcmV0dXJuIG51bGw7IC8vIE5hTiwgwrFJbmZpbml0eVxuICB2YXIgaSwgY29lZmZpY2llbnQgPSB4LnNsaWNlKDAsIGkpO1xuXG4gIC8vIFRoZSBzdHJpbmcgcmV0dXJuZWQgYnkgdG9FeHBvbmVudGlhbCBlaXRoZXIgaGFzIHRoZSBmb3JtIFxcZFxcLlxcZCtlWy0rXVxcZCtcbiAgLy8gKGUuZy4sIDEuMmUrMykgb3IgdGhlIGZvcm0gXFxkZVstK11cXGQrIChlLmcuLCAxZSszKS5cbiAgcmV0dXJuIFtcbiAgICBjb2VmZmljaWVudC5sZW5ndGggPiAxID8gY29lZmZpY2llbnRbMF0gKyBjb2VmZmljaWVudC5zbGljZSgyKSA6IGNvZWZmaWNpZW50LFxuICAgICt4LnNsaWNlKGkgKyAxKVxuICBdO1xufVxuIiwiaW1wb3J0IHtmb3JtYXREZWNpbWFsUGFydHN9IGZyb20gXCIuL2Zvcm1hdERlY2ltYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4geCA9IGZvcm1hdERlY2ltYWxQYXJ0cyhNYXRoLmFicyh4KSksIHggPyB4WzFdIDogTmFOO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZ3JvdXBpbmcsIHRob3VzYW5kcykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIHdpZHRoKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgIHQgPSBbXSxcbiAgICAgICAgaiA9IDAsXG4gICAgICAgIGcgPSBncm91cGluZ1swXSxcbiAgICAgICAgbGVuZ3RoID0gMDtcblxuICAgIHdoaWxlIChpID4gMCAmJiBnID4gMCkge1xuICAgICAgaWYgKGxlbmd0aCArIGcgKyAxID4gd2lkdGgpIGcgPSBNYXRoLm1heCgxLCB3aWR0aCAtIGxlbmd0aCk7XG4gICAgICB0LnB1c2godmFsdWUuc3Vic3RyaW5nKGkgLT0gZywgaSArIGcpKTtcbiAgICAgIGlmICgobGVuZ3RoICs9IGcgKyAxKSA+IHdpZHRoKSBicmVhaztcbiAgICAgIGcgPSBncm91cGluZ1tqID0gKGogKyAxKSAlIGdyb3VwaW5nLmxlbmd0aF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHQucmV2ZXJzZSgpLmpvaW4odGhvdXNhbmRzKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG51bWVyYWxzKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bMC05XS9nLCBmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gbnVtZXJhbHNbK2ldO1xuICAgIH0pO1xuICB9O1xufVxuIiwiLy8gW1tmaWxsXWFsaWduXVtzaWduXVtzeW1ib2xdWzBdW3dpZHRoXVssXVsucHJlY2lzaW9uXVt+XVt0eXBlXVxudmFyIHJlID0gL14oPzooLik/KFs8Pj1eXSkpPyhbK1xcLSggXSk/KFskI10pPygwKT8oXFxkKyk/KCwpPyhcXC5cXGQrKT8ofik/KFthLXolXSk/JC9pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRTcGVjaWZpZXIoc3BlY2lmaWVyKSB7XG4gIGlmICghKG1hdGNoID0gcmUuZXhlYyhzcGVjaWZpZXIpKSkgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb3JtYXQ6IFwiICsgc3BlY2lmaWVyKTtcbiAgdmFyIG1hdGNoO1xuICByZXR1cm4gbmV3IEZvcm1hdFNwZWNpZmllcih7XG4gICAgZmlsbDogbWF0Y2hbMV0sXG4gICAgYWxpZ246IG1hdGNoWzJdLFxuICAgIHNpZ246IG1hdGNoWzNdLFxuICAgIHN5bWJvbDogbWF0Y2hbNF0sXG4gICAgemVybzogbWF0Y2hbNV0sXG4gICAgd2lkdGg6IG1hdGNoWzZdLFxuICAgIGNvbW1hOiBtYXRjaFs3XSxcbiAgICBwcmVjaXNpb246IG1hdGNoWzhdICYmIG1hdGNoWzhdLnNsaWNlKDEpLFxuICAgIHRyaW06IG1hdGNoWzldLFxuICAgIHR5cGU6IG1hdGNoWzEwXVxuICB9KTtcbn1cblxuZm9ybWF0U3BlY2lmaWVyLnByb3RvdHlwZSA9IEZvcm1hdFNwZWNpZmllci5wcm90b3R5cGU7IC8vIGluc3RhbmNlb2ZcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpIHtcbiAgdGhpcy5maWxsID0gc3BlY2lmaWVyLmZpbGwgPT09IHVuZGVmaW5lZCA/IFwiIFwiIDogc3BlY2lmaWVyLmZpbGwgKyBcIlwiO1xuICB0aGlzLmFsaWduID0gc3BlY2lmaWVyLmFsaWduID09PSB1bmRlZmluZWQgPyBcIj5cIiA6IHNwZWNpZmllci5hbGlnbiArIFwiXCI7XG4gIHRoaXMuc2lnbiA9IHNwZWNpZmllci5zaWduID09PSB1bmRlZmluZWQgPyBcIi1cIiA6IHNwZWNpZmllci5zaWduICsgXCJcIjtcbiAgdGhpcy5zeW1ib2wgPSBzcGVjaWZpZXIuc3ltYm9sID09PSB1bmRlZmluZWQgPyBcIlwiIDogc3BlY2lmaWVyLnN5bWJvbCArIFwiXCI7XG4gIHRoaXMuemVybyA9ICEhc3BlY2lmaWVyLnplcm87XG4gIHRoaXMud2lkdGggPSBzcGVjaWZpZXIud2lkdGggPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICtzcGVjaWZpZXIud2lkdGg7XG4gIHRoaXMuY29tbWEgPSAhIXNwZWNpZmllci5jb21tYTtcbiAgdGhpcy5wcmVjaXNpb24gPSBzcGVjaWZpZXIucHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiArc3BlY2lmaWVyLnByZWNpc2lvbjtcbiAgdGhpcy50cmltID0gISFzcGVjaWZpZXIudHJpbTtcbiAgdGhpcy50eXBlID0gc3BlY2lmaWVyLnR5cGUgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBzcGVjaWZpZXIudHlwZSArIFwiXCI7XG59XG5cbkZvcm1hdFNwZWNpZmllci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmlsbFxuICAgICAgKyB0aGlzLmFsaWduXG4gICAgICArIHRoaXMuc2lnblxuICAgICAgKyB0aGlzLnN5bWJvbFxuICAgICAgKyAodGhpcy56ZXJvID8gXCIwXCIgOiBcIlwiKVxuICAgICAgKyAodGhpcy53aWR0aCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IE1hdGgubWF4KDEsIHRoaXMud2lkdGggfCAwKSlcbiAgICAgICsgKHRoaXMuY29tbWEgPyBcIixcIiA6IFwiXCIpXG4gICAgICArICh0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IFwiLlwiICsgTWF0aC5tYXgoMCwgdGhpcy5wcmVjaXNpb24gfCAwKSlcbiAgICAgICsgKHRoaXMudHJpbSA/IFwiflwiIDogXCJcIilcbiAgICAgICsgdGhpcy50eXBlO1xufTtcbiIsIi8vIFRyaW1zIGluc2lnbmlmaWNhbnQgemVyb3MsIGUuZy4sIHJlcGxhY2VzIDEuMjAwMGsgd2l0aCAxLjJrLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocykge1xuICBvdXQ6IGZvciAodmFyIG4gPSBzLmxlbmd0aCwgaSA9IDEsIGkwID0gLTEsIGkxOyBpIDwgbjsgKytpKSB7XG4gICAgc3dpdGNoIChzW2ldKSB7XG4gICAgICBjYXNlIFwiLlwiOiBpMCA9IGkxID0gaTsgYnJlYWs7XG4gICAgICBjYXNlIFwiMFwiOiBpZiAoaTAgPT09IDApIGkwID0gaTsgaTEgPSBpOyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IGlmICghK3NbaV0pIGJyZWFrIG91dDsgaWYgKGkwID4gMCkgaTAgPSAwOyBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGkwID4gMCA/IHMuc2xpY2UoMCwgaTApICsgcy5zbGljZShpMSArIDEpIDogcztcbn1cbiIsImltcG9ydCB7Zm9ybWF0RGVjaW1hbFBhcnRzfSBmcm9tIFwiLi9mb3JtYXREZWNpbWFsLmpzXCI7XG5cbmV4cG9ydCB2YXIgcHJlZml4RXhwb25lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHApIHtcbiAgdmFyIGQgPSBmb3JtYXREZWNpbWFsUGFydHMoeCwgcCk7XG4gIGlmICghZCkgcmV0dXJuIHggKyBcIlwiO1xuICB2YXIgY29lZmZpY2llbnQgPSBkWzBdLFxuICAgICAgZXhwb25lbnQgPSBkWzFdLFxuICAgICAgaSA9IGV4cG9uZW50IC0gKHByZWZpeEV4cG9uZW50ID0gTWF0aC5tYXgoLTgsIE1hdGgubWluKDgsIE1hdGguZmxvb3IoZXhwb25lbnQgLyAzKSkpICogMykgKyAxLFxuICAgICAgbiA9IGNvZWZmaWNpZW50Lmxlbmd0aDtcbiAgcmV0dXJuIGkgPT09IG4gPyBjb2VmZmljaWVudFxuICAgICAgOiBpID4gbiA/IGNvZWZmaWNpZW50ICsgbmV3IEFycmF5KGkgLSBuICsgMSkuam9pbihcIjBcIilcbiAgICAgIDogaSA+IDAgPyBjb2VmZmljaWVudC5zbGljZSgwLCBpKSArIFwiLlwiICsgY29lZmZpY2llbnQuc2xpY2UoaSlcbiAgICAgIDogXCIwLlwiICsgbmV3IEFycmF5KDEgLSBpKS5qb2luKFwiMFwiKSArIGZvcm1hdERlY2ltYWxQYXJ0cyh4LCBNYXRoLm1heCgwLCBwICsgaSAtIDEpKVswXTsgLy8gbGVzcyB0aGFuIDF5IVxufVxuIiwiaW1wb3J0IHtmb3JtYXREZWNpbWFsUGFydHN9IGZyb20gXCIuL2Zvcm1hdERlY2ltYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCwgcCkge1xuICB2YXIgZCA9IGZvcm1hdERlY2ltYWxQYXJ0cyh4LCBwKTtcbiAgaWYgKCFkKSByZXR1cm4geCArIFwiXCI7XG4gIHZhciBjb2VmZmljaWVudCA9IGRbMF0sXG4gICAgICBleHBvbmVudCA9IGRbMV07XG4gIHJldHVybiBleHBvbmVudCA8IDAgPyBcIjAuXCIgKyBuZXcgQXJyYXkoLWV4cG9uZW50KS5qb2luKFwiMFwiKSArIGNvZWZmaWNpZW50XG4gICAgICA6IGNvZWZmaWNpZW50Lmxlbmd0aCA+IGV4cG9uZW50ICsgMSA/IGNvZWZmaWNpZW50LnNsaWNlKDAsIGV4cG9uZW50ICsgMSkgKyBcIi5cIiArIGNvZWZmaWNpZW50LnNsaWNlKGV4cG9uZW50ICsgMSlcbiAgICAgIDogY29lZmZpY2llbnQgKyBuZXcgQXJyYXkoZXhwb25lbnQgLSBjb2VmZmljaWVudC5sZW5ndGggKyAyKS5qb2luKFwiMFwiKTtcbn1cbiIsImltcG9ydCBmb3JtYXREZWNpbWFsIGZyb20gXCIuL2Zvcm1hdERlY2ltYWwuanNcIjtcbmltcG9ydCBmb3JtYXRQcmVmaXhBdXRvIGZyb20gXCIuL2Zvcm1hdFByZWZpeEF1dG8uanNcIjtcbmltcG9ydCBmb3JtYXRSb3VuZGVkIGZyb20gXCIuL2Zvcm1hdFJvdW5kZWQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBcIiVcIjogKHgsIHApID0+ICh4ICogMTAwKS50b0ZpeGVkKHApLFxuICBcImJcIjogKHgpID0+IE1hdGgucm91bmQoeCkudG9TdHJpbmcoMiksXG4gIFwiY1wiOiAoeCkgPT4geCArIFwiXCIsXG4gIFwiZFwiOiBmb3JtYXREZWNpbWFsLFxuICBcImVcIjogKHgsIHApID0+IHgudG9FeHBvbmVudGlhbChwKSxcbiAgXCJmXCI6ICh4LCBwKSA9PiB4LnRvRml4ZWQocCksXG4gIFwiZ1wiOiAoeCwgcCkgPT4geC50b1ByZWNpc2lvbihwKSxcbiAgXCJvXCI6ICh4KSA9PiBNYXRoLnJvdW5kKHgpLnRvU3RyaW5nKDgpLFxuICBcInBcIjogKHgsIHApID0+IGZvcm1hdFJvdW5kZWQoeCAqIDEwMCwgcCksXG4gIFwiclwiOiBmb3JtYXRSb3VuZGVkLFxuICBcInNcIjogZm9ybWF0UHJlZml4QXV0byxcbiAgXCJYXCI6ICh4KSA9PiBNYXRoLnJvdW5kKHgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLFxuICBcInhcIjogKHgpID0+IE1hdGgucm91bmQoeCkudG9TdHJpbmcoMTYpXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cbiIsImltcG9ydCBleHBvbmVudCBmcm9tIFwiLi9leHBvbmVudC5qc1wiO1xuaW1wb3J0IGZvcm1hdEdyb3VwIGZyb20gXCIuL2Zvcm1hdEdyb3VwLmpzXCI7XG5pbXBvcnQgZm9ybWF0TnVtZXJhbHMgZnJvbSBcIi4vZm9ybWF0TnVtZXJhbHMuanNcIjtcbmltcG9ydCBmb3JtYXRTcGVjaWZpZXIgZnJvbSBcIi4vZm9ybWF0U3BlY2lmaWVyLmpzXCI7XG5pbXBvcnQgZm9ybWF0VHJpbSBmcm9tIFwiLi9mb3JtYXRUcmltLmpzXCI7XG5pbXBvcnQgZm9ybWF0VHlwZXMgZnJvbSBcIi4vZm9ybWF0VHlwZXMuanNcIjtcbmltcG9ydCB7cHJlZml4RXhwb25lbnR9IGZyb20gXCIuL2Zvcm1hdFByZWZpeEF1dG8uanNcIjtcbmltcG9ydCBpZGVudGl0eSBmcm9tIFwiLi9pZGVudGl0eS5qc1wiO1xuXG52YXIgbWFwID0gQXJyYXkucHJvdG90eXBlLm1hcCxcbiAgICBwcmVmaXhlcyA9IFtcInlcIixcInpcIixcImFcIixcImZcIixcInBcIixcIm5cIixcIsK1XCIsXCJtXCIsXCJcIixcImtcIixcIk1cIixcIkdcIixcIlRcIixcIlBcIixcIkVcIixcIlpcIixcIllcIl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxvY2FsZSkge1xuICB2YXIgZ3JvdXAgPSBsb2NhbGUuZ3JvdXBpbmcgPT09IHVuZGVmaW5lZCB8fCBsb2NhbGUudGhvdXNhbmRzID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IGZvcm1hdEdyb3VwKG1hcC5jYWxsKGxvY2FsZS5ncm91cGluZywgTnVtYmVyKSwgbG9jYWxlLnRob3VzYW5kcyArIFwiXCIpLFxuICAgICAgY3VycmVuY3lQcmVmaXggPSBsb2NhbGUuY3VycmVuY3kgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBsb2NhbGUuY3VycmVuY3lbMF0gKyBcIlwiLFxuICAgICAgY3VycmVuY3lTdWZmaXggPSBsb2NhbGUuY3VycmVuY3kgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBsb2NhbGUuY3VycmVuY3lbMV0gKyBcIlwiLFxuICAgICAgZGVjaW1hbCA9IGxvY2FsZS5kZWNpbWFsID09PSB1bmRlZmluZWQgPyBcIi5cIiA6IGxvY2FsZS5kZWNpbWFsICsgXCJcIixcbiAgICAgIG51bWVyYWxzID0gbG9jYWxlLm51bWVyYWxzID09PSB1bmRlZmluZWQgPyBpZGVudGl0eSA6IGZvcm1hdE51bWVyYWxzKG1hcC5jYWxsKGxvY2FsZS5udW1lcmFscywgU3RyaW5nKSksXG4gICAgICBwZXJjZW50ID0gbG9jYWxlLnBlcmNlbnQgPT09IHVuZGVmaW5lZCA/IFwiJVwiIDogbG9jYWxlLnBlcmNlbnQgKyBcIlwiLFxuICAgICAgbWludXMgPSBsb2NhbGUubWludXMgPT09IHVuZGVmaW5lZCA/IFwi4oiSXCIgOiBsb2NhbGUubWludXMgKyBcIlwiLFxuICAgICAgbmFuID0gbG9jYWxlLm5hbiA9PT0gdW5kZWZpbmVkID8gXCJOYU5cIiA6IGxvY2FsZS5uYW4gKyBcIlwiO1xuXG4gIGZ1bmN0aW9uIG5ld0Zvcm1hdChzcGVjaWZpZXIpIHtcbiAgICBzcGVjaWZpZXIgPSBmb3JtYXRTcGVjaWZpZXIoc3BlY2lmaWVyKTtcblxuICAgIHZhciBmaWxsID0gc3BlY2lmaWVyLmZpbGwsXG4gICAgICAgIGFsaWduID0gc3BlY2lmaWVyLmFsaWduLFxuICAgICAgICBzaWduID0gc3BlY2lmaWVyLnNpZ24sXG4gICAgICAgIHN5bWJvbCA9IHNwZWNpZmllci5zeW1ib2wsXG4gICAgICAgIHplcm8gPSBzcGVjaWZpZXIuemVybyxcbiAgICAgICAgd2lkdGggPSBzcGVjaWZpZXIud2lkdGgsXG4gICAgICAgIGNvbW1hID0gc3BlY2lmaWVyLmNvbW1hLFxuICAgICAgICBwcmVjaXNpb24gPSBzcGVjaWZpZXIucHJlY2lzaW9uLFxuICAgICAgICB0cmltID0gc3BlY2lmaWVyLnRyaW0sXG4gICAgICAgIHR5cGUgPSBzcGVjaWZpZXIudHlwZTtcblxuICAgIC8vIFRoZSBcIm5cIiB0eXBlIGlzIGFuIGFsaWFzIGZvciBcIixnXCIuXG4gICAgaWYgKHR5cGUgPT09IFwiblwiKSBjb21tYSA9IHRydWUsIHR5cGUgPSBcImdcIjtcblxuICAgIC8vIFRoZSBcIlwiIHR5cGUsIGFuZCBhbnkgaW52YWxpZCB0eXBlLCBpcyBhbiBhbGlhcyBmb3IgXCIuMTJ+Z1wiLlxuICAgIGVsc2UgaWYgKCFmb3JtYXRUeXBlc1t0eXBlXSkgcHJlY2lzaW9uID09PSB1bmRlZmluZWQgJiYgKHByZWNpc2lvbiA9IDEyKSwgdHJpbSA9IHRydWUsIHR5cGUgPSBcImdcIjtcblxuICAgIC8vIElmIHplcm8gZmlsbCBpcyBzcGVjaWZpZWQsIHBhZGRpbmcgZ29lcyBhZnRlciBzaWduIGFuZCBiZWZvcmUgZGlnaXRzLlxuICAgIGlmICh6ZXJvIHx8IChmaWxsID09PSBcIjBcIiAmJiBhbGlnbiA9PT0gXCI9XCIpKSB6ZXJvID0gdHJ1ZSwgZmlsbCA9IFwiMFwiLCBhbGlnbiA9IFwiPVwiO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgcHJlZml4IGFuZCBzdWZmaXguXG4gICAgLy8gRm9yIFNJLXByZWZpeCwgdGhlIHN1ZmZpeCBpcyBsYXppbHkgY29tcHV0ZWQuXG4gICAgdmFyIHByZWZpeCA9IHN5bWJvbCA9PT0gXCIkXCIgPyBjdXJyZW5jeVByZWZpeCA6IHN5bWJvbCA9PT0gXCIjXCIgJiYgL1tib3hYXS8udGVzdCh0eXBlKSA/IFwiMFwiICsgdHlwZS50b0xvd2VyQ2FzZSgpIDogXCJcIixcbiAgICAgICAgc3VmZml4ID0gc3ltYm9sID09PSBcIiRcIiA/IGN1cnJlbmN5U3VmZml4IDogL1slcF0vLnRlc3QodHlwZSkgPyBwZXJjZW50IDogXCJcIjtcblxuICAgIC8vIFdoYXQgZm9ybWF0IGZ1bmN0aW9uIHNob3VsZCB3ZSB1c2U/XG4gICAgLy8gSXMgdGhpcyBhbiBpbnRlZ2VyIHR5cGU/XG4gICAgLy8gQ2FuIHRoaXMgdHlwZSBnZW5lcmF0ZSBleHBvbmVudGlhbCBub3RhdGlvbj9cbiAgICB2YXIgZm9ybWF0VHlwZSA9IGZvcm1hdFR5cGVzW3R5cGVdLFxuICAgICAgICBtYXliZVN1ZmZpeCA9IC9bZGVmZ3BycyVdLy50ZXN0KHR5cGUpO1xuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IHByZWNpc2lvbiBpZiBub3Qgc3BlY2lmaWVkLFxuICAgIC8vIG9yIGNsYW1wIHRoZSBzcGVjaWZpZWQgcHJlY2lzaW9uIHRvIHRoZSBzdXBwb3J0ZWQgcmFuZ2UuXG4gICAgLy8gRm9yIHNpZ25pZmljYW50IHByZWNpc2lvbiwgaXQgbXVzdCBiZSBpbiBbMSwgMjFdLlxuICAgIC8vIEZvciBmaXhlZCBwcmVjaXNpb24sIGl0IG11c3QgYmUgaW4gWzAsIDIwXS5cbiAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/IDZcbiAgICAgICAgOiAvW2dwcnNdLy50ZXN0KHR5cGUpID8gTWF0aC5tYXgoMSwgTWF0aC5taW4oMjEsIHByZWNpc2lvbikpXG4gICAgICAgIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMjAsIHByZWNpc2lvbikpO1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XG4gICAgICB2YXIgdmFsdWVQcmVmaXggPSBwcmVmaXgsXG4gICAgICAgICAgdmFsdWVTdWZmaXggPSBzdWZmaXgsXG4gICAgICAgICAgaSwgbiwgYztcblxuICAgICAgaWYgKHR5cGUgPT09IFwiY1wiKSB7XG4gICAgICAgIHZhbHVlU3VmZml4ID0gZm9ybWF0VHlwZSh2YWx1ZSkgKyB2YWx1ZVN1ZmZpeDtcbiAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBzaWduLiAtMCBpcyBub3QgbGVzcyB0aGFuIDAsIGJ1dCAxIC8gLTAgaXMhXG4gICAgICAgIHZhciB2YWx1ZU5lZ2F0aXZlID0gdmFsdWUgPCAwIHx8IDEgLyB2YWx1ZSA8IDA7XG5cbiAgICAgICAgLy8gUGVyZm9ybSB0aGUgaW5pdGlhbCBmb3JtYXR0aW5nLlxuICAgICAgICB2YWx1ZSA9IGlzTmFOKHZhbHVlKSA/IG5hbiA6IGZvcm1hdFR5cGUoTWF0aC5hYnModmFsdWUpLCBwcmVjaXNpb24pO1xuXG4gICAgICAgIC8vIFRyaW0gaW5zaWduaWZpY2FudCB6ZXJvcy5cbiAgICAgICAgaWYgKHRyaW0pIHZhbHVlID0gZm9ybWF0VHJpbSh2YWx1ZSk7XG5cbiAgICAgICAgLy8gSWYgYSBuZWdhdGl2ZSB2YWx1ZSByb3VuZHMgdG8gemVybyBhZnRlciBmb3JtYXR0aW5nLCBhbmQgbm8gZXhwbGljaXQgcG9zaXRpdmUgc2lnbiBpcyByZXF1ZXN0ZWQsIGhpZGUgdGhlIHNpZ24uXG4gICAgICAgIGlmICh2YWx1ZU5lZ2F0aXZlICYmICt2YWx1ZSA9PT0gMCAmJiBzaWduICE9PSBcIitcIikgdmFsdWVOZWdhdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIHByZWZpeCBhbmQgc3VmZml4LlxuICAgICAgICB2YWx1ZVByZWZpeCA9ICh2YWx1ZU5lZ2F0aXZlID8gKHNpZ24gPT09IFwiKFwiID8gc2lnbiA6IG1pbnVzKSA6IHNpZ24gPT09IFwiLVwiIHx8IHNpZ24gPT09IFwiKFwiID8gXCJcIiA6IHNpZ24pICsgdmFsdWVQcmVmaXg7XG4gICAgICAgIHZhbHVlU3VmZml4ID0gKHR5cGUgPT09IFwic1wiID8gcHJlZml4ZXNbOCArIHByZWZpeEV4cG9uZW50IC8gM10gOiBcIlwiKSArIHZhbHVlU3VmZml4ICsgKHZhbHVlTmVnYXRpdmUgJiYgc2lnbiA9PT0gXCIoXCIgPyBcIilcIiA6IFwiXCIpO1xuXG4gICAgICAgIC8vIEJyZWFrIHRoZSBmb3JtYXR0ZWQgdmFsdWUgaW50byB0aGUgaW50ZWdlciDigJx2YWx1ZeKAnSBwYXJ0IHRoYXQgY2FuIGJlXG4gICAgICAgIC8vIGdyb3VwZWQsIGFuZCBmcmFjdGlvbmFsIG9yIGV4cG9uZW50aWFsIOKAnHN1ZmZpeOKAnSBwYXJ0IHRoYXQgaXMgbm90LlxuICAgICAgICBpZiAobWF5YmVTdWZmaXgpIHtcbiAgICAgICAgICBpID0gLTEsIG4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgICAgICAgIGlmIChjID0gdmFsdWUuY2hhckNvZGVBdChpKSwgNDggPiBjIHx8IGMgPiA1Nykge1xuICAgICAgICAgICAgICB2YWx1ZVN1ZmZpeCA9IChjID09PSA0NiA/IGRlY2ltYWwgKyB2YWx1ZS5zbGljZShpICsgMSkgOiB2YWx1ZS5zbGljZShpKSkgKyB2YWx1ZVN1ZmZpeDtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBmaWxsIGNoYXJhY3RlciBpcyBub3QgXCIwXCIsIGdyb3VwaW5nIGlzIGFwcGxpZWQgYmVmb3JlIHBhZGRpbmcuXG4gICAgICBpZiAoY29tbWEgJiYgIXplcm8pIHZhbHVlID0gZ3JvdXAodmFsdWUsIEluZmluaXR5KTtcblxuICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFkZGluZy5cbiAgICAgIHZhciBsZW5ndGggPSB2YWx1ZVByZWZpeC5sZW5ndGggKyB2YWx1ZS5sZW5ndGggKyB2YWx1ZVN1ZmZpeC5sZW5ndGgsXG4gICAgICAgICAgcGFkZGluZyA9IGxlbmd0aCA8IHdpZHRoID8gbmV3IEFycmF5KHdpZHRoIC0gbGVuZ3RoICsgMSkuam9pbihmaWxsKSA6IFwiXCI7XG5cbiAgICAgIC8vIElmIHRoZSBmaWxsIGNoYXJhY3RlciBpcyBcIjBcIiwgZ3JvdXBpbmcgaXMgYXBwbGllZCBhZnRlciBwYWRkaW5nLlxuICAgICAgaWYgKGNvbW1hICYmIHplcm8pIHZhbHVlID0gZ3JvdXAocGFkZGluZyArIHZhbHVlLCBwYWRkaW5nLmxlbmd0aCA/IHdpZHRoIC0gdmFsdWVTdWZmaXgubGVuZ3RoIDogSW5maW5pdHkpLCBwYWRkaW5nID0gXCJcIjtcblxuICAgICAgLy8gUmVjb25zdHJ1Y3QgdGhlIGZpbmFsIG91dHB1dCBiYXNlZCBvbiB0aGUgZGVzaXJlZCBhbGlnbm1lbnQuXG4gICAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgXCI8XCI6IHZhbHVlID0gdmFsdWVQcmVmaXggKyB2YWx1ZSArIHZhbHVlU3VmZml4ICsgcGFkZGluZzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCI9XCI6IHZhbHVlID0gdmFsdWVQcmVmaXggKyBwYWRkaW5nICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeDsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJeXCI6IHZhbHVlID0gcGFkZGluZy5zbGljZSgwLCBsZW5ndGggPSBwYWRkaW5nLmxlbmd0aCA+PiAxKSArIHZhbHVlUHJlZml4ICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeCArIHBhZGRpbmcuc2xpY2UobGVuZ3RoKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHZhbHVlID0gcGFkZGluZyArIHZhbHVlUHJlZml4ICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeDsgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudW1lcmFscyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZm9ybWF0LnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3BlY2lmaWVyICsgXCJcIjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFByZWZpeChzcGVjaWZpZXIsIHZhbHVlKSB7XG4gICAgdmFyIGYgPSBuZXdGb3JtYXQoKHNwZWNpZmllciA9IGZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpLCBzcGVjaWZpZXIudHlwZSA9IFwiZlwiLCBzcGVjaWZpZXIpKSxcbiAgICAgICAgZSA9IE1hdGgubWF4KC04LCBNYXRoLm1pbig4LCBNYXRoLmZsb29yKGV4cG9uZW50KHZhbHVlKSAvIDMpKSkgKiAzLFxuICAgICAgICBrID0gTWF0aC5wb3coMTAsIC1lKSxcbiAgICAgICAgcHJlZml4ID0gcHJlZml4ZXNbOCArIGUgLyAzXTtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmKGsgKiB2YWx1ZSkgKyBwcmVmaXg7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZm9ybWF0OiBuZXdGb3JtYXQsXG4gICAgZm9ybWF0UHJlZml4OiBmb3JtYXRQcmVmaXhcbiAgfTtcbn1cbiIsImltcG9ydCBmb3JtYXRMb2NhbGUgZnJvbSBcIi4vbG9jYWxlLmpzXCI7XG5cbnZhciBsb2NhbGU7XG5leHBvcnQgdmFyIGZvcm1hdDtcbmV4cG9ydCB2YXIgZm9ybWF0UHJlZml4O1xuXG5kZWZhdWx0TG9jYWxlKHtcbiAgdGhvdXNhbmRzOiBcIixcIixcbiAgZ3JvdXBpbmc6IFszXSxcbiAgY3VycmVuY3k6IFtcIiRcIiwgXCJcIl1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0TG9jYWxlKGRlZmluaXRpb24pIHtcbiAgbG9jYWxlID0gZm9ybWF0TG9jYWxlKGRlZmluaXRpb24pO1xuICBmb3JtYXQgPSBsb2NhbGUuZm9ybWF0O1xuICBmb3JtYXRQcmVmaXggPSBsb2NhbGUuZm9ybWF0UHJlZml4O1xuICByZXR1cm4gbG9jYWxlO1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ZXApIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIC1leHBvbmVudChNYXRoLmFicyhzdGVwKSkpO1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ZXAsIHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1heCgtOCwgTWF0aC5taW4oOCwgTWF0aC5mbG9vcihleHBvbmVudCh2YWx1ZSkgLyAzKSkpICogMyAtIGV4cG9uZW50KE1hdGguYWJzKHN0ZXApKSk7XG59XG4iLCJpbXBvcnQgZXhwb25lbnQgZnJvbSBcIi4vZXhwb25lbnQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RlcCwgbWF4KSB7XG4gIHN0ZXAgPSBNYXRoLmFicyhzdGVwKSwgbWF4ID0gTWF0aC5hYnMobWF4KSAtIHN0ZXA7XG4gIHJldHVybiBNYXRoLm1heCgwLCBleHBvbmVudChtYXgpIC0gZXhwb25lbnQoc3RlcCkpICsgMTtcbn1cbiIsImltcG9ydCB7dGlja1N0ZXB9IGZyb20gXCJkMy1hcnJheVwiO1xuaW1wb3J0IHtmb3JtYXQsIGZvcm1hdFByZWZpeCwgZm9ybWF0U3BlY2lmaWVyLCBwcmVjaXNpb25GaXhlZCwgcHJlY2lzaW9uUHJlZml4LCBwcmVjaXNpb25Sb3VuZH0gZnJvbSBcImQzLWZvcm1hdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aWNrRm9ybWF0KHN0YXJ0LCBzdG9wLCBjb3VudCwgc3BlY2lmaWVyKSB7XG4gIHZhciBzdGVwID0gdGlja1N0ZXAoc3RhcnQsIHN0b3AsIGNvdW50KSxcbiAgICAgIHByZWNpc2lvbjtcbiAgc3BlY2lmaWVyID0gZm9ybWF0U3BlY2lmaWVyKHNwZWNpZmllciA9PSBudWxsID8gXCIsZlwiIDogc3BlY2lmaWVyKTtcbiAgc3dpdGNoIChzcGVjaWZpZXIudHlwZSkge1xuICAgIGNhc2UgXCJzXCI6IHtcbiAgICAgIHZhciB2YWx1ZSA9IE1hdGgubWF4KE1hdGguYWJzKHN0YXJ0KSwgTWF0aC5hYnMoc3RvcCkpO1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uUHJlZml4KHN0ZXAsIHZhbHVlKSkpIHNwZWNpZmllci5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgICByZXR1cm4gZm9ybWF0UHJlZml4KHNwZWNpZmllciwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiXCI6XG4gICAgY2FzZSBcImVcIjpcbiAgICBjYXNlIFwiZ1wiOlxuICAgIGNhc2UgXCJwXCI6XG4gICAgY2FzZSBcInJcIjoge1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uUm91bmQoc3RlcCwgTWF0aC5tYXgoTWF0aC5hYnMoc3RhcnQpLCBNYXRoLmFicyhzdG9wKSkpKSkgc3BlY2lmaWVyLnByZWNpc2lvbiA9IHByZWNpc2lvbiAtIChzcGVjaWZpZXIudHlwZSA9PT0gXCJlXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJmXCI6XG4gICAgY2FzZSBcIiVcIjoge1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uRml4ZWQoc3RlcCkpKSBzcGVjaWZpZXIucHJlY2lzaW9uID0gcHJlY2lzaW9uIC0gKHNwZWNpZmllci50eXBlID09PSBcIiVcIikgKiAyO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb3JtYXQoc3BlY2lmaWVyKTtcbn1cbiIsImltcG9ydCB7dGlja3MsIHRpY2tJbmNyZW1lbnR9IGZyb20gXCJkMy1hcnJheVwiO1xuaW1wb3J0IGNvbnRpbnVvdXMsIHtjb3B5fSBmcm9tIFwiLi9jb250aW51b3VzLmpzXCI7XG5pbXBvcnQge2luaXRSYW5nZX0gZnJvbSBcIi4vaW5pdC5qc1wiO1xuaW1wb3J0IHRpY2tGb3JtYXQgZnJvbSBcIi4vdGlja0Zvcm1hdC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyaXNoKHNjYWxlKSB7XG4gIHZhciBkb21haW4gPSBzY2FsZS5kb21haW47XG5cbiAgc2NhbGUudGlja3MgPSBmdW5jdGlvbihjb3VudCkge1xuICAgIHZhciBkID0gZG9tYWluKCk7XG4gICAgcmV0dXJuIHRpY2tzKGRbMF0sIGRbZC5sZW5ndGggLSAxXSwgY291bnQgPT0gbnVsbCA/IDEwIDogY291bnQpO1xuICB9O1xuXG4gIHNjYWxlLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihjb3VudCwgc3BlY2lmaWVyKSB7XG4gICAgdmFyIGQgPSBkb21haW4oKTtcbiAgICByZXR1cm4gdGlja0Zvcm1hdChkWzBdLCBkW2QubGVuZ3RoIC0gMV0sIGNvdW50ID09IG51bGwgPyAxMCA6IGNvdW50LCBzcGVjaWZpZXIpO1xuICB9O1xuXG4gIHNjYWxlLm5pY2UgPSBmdW5jdGlvbihjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsKSBjb3VudCA9IDEwO1xuXG4gICAgdmFyIGQgPSBkb21haW4oKTtcbiAgICB2YXIgaTAgPSAwO1xuICAgIHZhciBpMSA9IGQubGVuZ3RoIC0gMTtcbiAgICB2YXIgc3RhcnQgPSBkW2kwXTtcbiAgICB2YXIgc3RvcCA9IGRbaTFdO1xuICAgIHZhciBwcmVzdGVwO1xuICAgIHZhciBzdGVwO1xuICAgIHZhciBtYXhJdGVyID0gMTA7XG5cbiAgICBpZiAoc3RvcCA8IHN0YXJ0KSB7XG4gICAgICBzdGVwID0gc3RhcnQsIHN0YXJ0ID0gc3RvcCwgc3RvcCA9IHN0ZXA7XG4gICAgICBzdGVwID0gaTAsIGkwID0gaTEsIGkxID0gc3RlcDtcbiAgICB9XG4gICAgXG4gICAgd2hpbGUgKG1heEl0ZXItLSA+IDApIHtcbiAgICAgIHN0ZXAgPSB0aWNrSW5jcmVtZW50KHN0YXJ0LCBzdG9wLCBjb3VudCk7XG4gICAgICBpZiAoc3RlcCA9PT0gcHJlc3RlcCkge1xuICAgICAgICBkW2kwXSA9IHN0YXJ0XG4gICAgICAgIGRbaTFdID0gc3RvcFxuICAgICAgICByZXR1cm4gZG9tYWluKGQpO1xuICAgICAgfSBlbHNlIGlmIChzdGVwID4gMCkge1xuICAgICAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICAgIHN0b3AgPSBNYXRoLmNlaWwoc3RvcCAvIHN0ZXApICogc3RlcDtcbiAgICAgIH0gZWxzZSBpZiAoc3RlcCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSBNYXRoLmNlaWwoc3RhcnQgKiBzdGVwKSAvIHN0ZXA7XG4gICAgICAgIHN0b3AgPSBNYXRoLmZsb29yKHN0b3AgKiBzdGVwKSAvIHN0ZXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHByZXN0ZXAgPSBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiBzY2FsZTtcbiAgfTtcblxuICByZXR1cm4gc2NhbGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpbmVhcigpIHtcbiAgdmFyIHNjYWxlID0gY29udGludW91cygpO1xuXG4gIHNjYWxlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29weShzY2FsZSwgbGluZWFyKCkpO1xuICB9O1xuXG4gIGluaXRSYW5nZS5hcHBseShzY2FsZSwgYXJndW1lbnRzKTtcblxuICByZXR1cm4gbGluZWFyaXNoKHNjYWxlKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5pY2UoZG9tYWluLCBpbnRlcnZhbCkge1xuICBkb21haW4gPSBkb21haW4uc2xpY2UoKTtcblxuICB2YXIgaTAgPSAwLFxuICAgICAgaTEgPSBkb21haW4ubGVuZ3RoIC0gMSxcbiAgICAgIHgwID0gZG9tYWluW2kwXSxcbiAgICAgIHgxID0gZG9tYWluW2kxXSxcbiAgICAgIHQ7XG5cbiAgaWYgKHgxIDwgeDApIHtcbiAgICB0ID0gaTAsIGkwID0gaTEsIGkxID0gdDtcbiAgICB0ID0geDAsIHgwID0geDEsIHgxID0gdDtcbiAgfVxuXG4gIGRvbWFpbltpMF0gPSBpbnRlcnZhbC5mbG9vcih4MCk7XG4gIGRvbWFpbltpMV0gPSBpbnRlcnZhbC5jZWlsKHgxKTtcbiAgcmV0dXJuIGRvbWFpbjtcbn1cbiIsImltcG9ydCB7XG4gIHRpbWVEYXksXG4gIHRpbWVTdW5kYXksXG4gIHRpbWVNb25kYXksXG4gIHRpbWVUaHVyc2RheSxcbiAgdGltZVllYXIsXG4gIHV0Y0RheSxcbiAgdXRjU3VuZGF5LFxuICB1dGNNb25kYXksXG4gIHV0Y1RodXJzZGF5LFxuICB1dGNZZWFyXG59IGZyb20gXCJkMy10aW1lXCI7XG5cbmZ1bmN0aW9uIGxvY2FsRGF0ZShkKSB7XG4gIGlmICgwIDw9IGQueSAmJiBkLnkgPCAxMDApIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKC0xLCBkLm0sIGQuZCwgZC5ILCBkLk0sIGQuUywgZC5MKTtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKGQueSk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGQueSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCk7XG59XG5cbmZ1bmN0aW9uIHV0Y0RhdGUoZCkge1xuICBpZiAoMCA8PSBkLnkgJiYgZC55IDwgMTAwKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQygtMSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCkpO1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoZC55KTtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZC55LCBkLm0sIGQuZCwgZC5ILCBkLk0sIGQuUywgZC5MKSk7XG59XG5cbmZ1bmN0aW9uIG5ld0RhdGUoeSwgbSwgZCkge1xuICByZXR1cm4ge3k6IHksIG06IG0sIGQ6IGQsIEg6IDAsIE06IDAsIFM6IDAsIEw6IDB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRMb2NhbGUobG9jYWxlKSB7XG4gIHZhciBsb2NhbGVfZGF0ZVRpbWUgPSBsb2NhbGUuZGF0ZVRpbWUsXG4gICAgICBsb2NhbGVfZGF0ZSA9IGxvY2FsZS5kYXRlLFxuICAgICAgbG9jYWxlX3RpbWUgPSBsb2NhbGUudGltZSxcbiAgICAgIGxvY2FsZV9wZXJpb2RzID0gbG9jYWxlLnBlcmlvZHMsXG4gICAgICBsb2NhbGVfd2Vla2RheXMgPSBsb2NhbGUuZGF5cyxcbiAgICAgIGxvY2FsZV9zaG9ydFdlZWtkYXlzID0gbG9jYWxlLnNob3J0RGF5cyxcbiAgICAgIGxvY2FsZV9tb250aHMgPSBsb2NhbGUubW9udGhzLFxuICAgICAgbG9jYWxlX3Nob3J0TW9udGhzID0gbG9jYWxlLnNob3J0TW9udGhzO1xuXG4gIHZhciBwZXJpb2RSZSA9IGZvcm1hdFJlKGxvY2FsZV9wZXJpb2RzKSxcbiAgICAgIHBlcmlvZExvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfcGVyaW9kcyksXG4gICAgICB3ZWVrZGF5UmUgPSBmb3JtYXRSZShsb2NhbGVfd2Vla2RheXMpLFxuICAgICAgd2Vla2RheUxvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfd2Vla2RheXMpLFxuICAgICAgc2hvcnRXZWVrZGF5UmUgPSBmb3JtYXRSZShsb2NhbGVfc2hvcnRXZWVrZGF5cyksXG4gICAgICBzaG9ydFdlZWtkYXlMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX3Nob3J0V2Vla2RheXMpLFxuICAgICAgbW9udGhSZSA9IGZvcm1hdFJlKGxvY2FsZV9tb250aHMpLFxuICAgICAgbW9udGhMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX21vbnRocyksXG4gICAgICBzaG9ydE1vbnRoUmUgPSBmb3JtYXRSZShsb2NhbGVfc2hvcnRNb250aHMpLFxuICAgICAgc2hvcnRNb250aExvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfc2hvcnRNb250aHMpO1xuXG4gIHZhciBmb3JtYXRzID0ge1xuICAgIFwiYVwiOiBmb3JtYXRTaG9ydFdlZWtkYXksXG4gICAgXCJBXCI6IGZvcm1hdFdlZWtkYXksXG4gICAgXCJiXCI6IGZvcm1hdFNob3J0TW9udGgsXG4gICAgXCJCXCI6IGZvcm1hdE1vbnRoLFxuICAgIFwiY1wiOiBudWxsLFxuICAgIFwiZFwiOiBmb3JtYXREYXlPZk1vbnRoLFxuICAgIFwiZVwiOiBmb3JtYXREYXlPZk1vbnRoLFxuICAgIFwiZlwiOiBmb3JtYXRNaWNyb3NlY29uZHMsXG4gICAgXCJnXCI6IGZvcm1hdFllYXJJU08sXG4gICAgXCJHXCI6IGZvcm1hdEZ1bGxZZWFySVNPLFxuICAgIFwiSFwiOiBmb3JtYXRIb3VyMjQsXG4gICAgXCJJXCI6IGZvcm1hdEhvdXIxMixcbiAgICBcImpcIjogZm9ybWF0RGF5T2ZZZWFyLFxuICAgIFwiTFwiOiBmb3JtYXRNaWxsaXNlY29uZHMsXG4gICAgXCJtXCI6IGZvcm1hdE1vbnRoTnVtYmVyLFxuICAgIFwiTVwiOiBmb3JtYXRNaW51dGVzLFxuICAgIFwicFwiOiBmb3JtYXRQZXJpb2QsXG4gICAgXCJxXCI6IGZvcm1hdFF1YXJ0ZXIsXG4gICAgXCJRXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXAsXG4gICAgXCJzXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXBTZWNvbmRzLFxuICAgIFwiU1wiOiBmb3JtYXRTZWNvbmRzLFxuICAgIFwidVwiOiBmb3JtYXRXZWVrZGF5TnVtYmVyTW9uZGF5LFxuICAgIFwiVVwiOiBmb3JtYXRXZWVrTnVtYmVyU3VuZGF5LFxuICAgIFwiVlwiOiBmb3JtYXRXZWVrTnVtYmVySVNPLFxuICAgIFwid1wiOiBmb3JtYXRXZWVrZGF5TnVtYmVyU3VuZGF5LFxuICAgIFwiV1wiOiBmb3JtYXRXZWVrTnVtYmVyTW9uZGF5LFxuICAgIFwieFwiOiBudWxsLFxuICAgIFwiWFwiOiBudWxsLFxuICAgIFwieVwiOiBmb3JtYXRZZWFyLFxuICAgIFwiWVwiOiBmb3JtYXRGdWxsWWVhcixcbiAgICBcIlpcIjogZm9ybWF0Wm9uZSxcbiAgICBcIiVcIjogZm9ybWF0TGl0ZXJhbFBlcmNlbnRcbiAgfTtcblxuICB2YXIgdXRjRm9ybWF0cyA9IHtcbiAgICBcImFcIjogZm9ybWF0VVRDU2hvcnRXZWVrZGF5LFxuICAgIFwiQVwiOiBmb3JtYXRVVENXZWVrZGF5LFxuICAgIFwiYlwiOiBmb3JtYXRVVENTaG9ydE1vbnRoLFxuICAgIFwiQlwiOiBmb3JtYXRVVENNb250aCxcbiAgICBcImNcIjogbnVsbCxcbiAgICBcImRcIjogZm9ybWF0VVRDRGF5T2ZNb250aCxcbiAgICBcImVcIjogZm9ybWF0VVRDRGF5T2ZNb250aCxcbiAgICBcImZcIjogZm9ybWF0VVRDTWljcm9zZWNvbmRzLFxuICAgIFwiZ1wiOiBmb3JtYXRVVENZZWFySVNPLFxuICAgIFwiR1wiOiBmb3JtYXRVVENGdWxsWWVhcklTTyxcbiAgICBcIkhcIjogZm9ybWF0VVRDSG91cjI0LFxuICAgIFwiSVwiOiBmb3JtYXRVVENIb3VyMTIsXG4gICAgXCJqXCI6IGZvcm1hdFVUQ0RheU9mWWVhcixcbiAgICBcIkxcIjogZm9ybWF0VVRDTWlsbGlzZWNvbmRzLFxuICAgIFwibVwiOiBmb3JtYXRVVENNb250aE51bWJlcixcbiAgICBcIk1cIjogZm9ybWF0VVRDTWludXRlcyxcbiAgICBcInBcIjogZm9ybWF0VVRDUGVyaW9kLFxuICAgIFwicVwiOiBmb3JtYXRVVENRdWFydGVyLFxuICAgIFwiUVwiOiBmb3JtYXRVbml4VGltZXN0YW1wLFxuICAgIFwic1wiOiBmb3JtYXRVbml4VGltZXN0YW1wU2Vjb25kcyxcbiAgICBcIlNcIjogZm9ybWF0VVRDU2Vjb25kcyxcbiAgICBcInVcIjogZm9ybWF0VVRDV2Vla2RheU51bWJlck1vbmRheSxcbiAgICBcIlVcIjogZm9ybWF0VVRDV2Vla051bWJlclN1bmRheSxcbiAgICBcIlZcIjogZm9ybWF0VVRDV2Vla051bWJlcklTTyxcbiAgICBcIndcIjogZm9ybWF0VVRDV2Vla2RheU51bWJlclN1bmRheSxcbiAgICBcIldcIjogZm9ybWF0VVRDV2Vla051bWJlck1vbmRheSxcbiAgICBcInhcIjogbnVsbCxcbiAgICBcIlhcIjogbnVsbCxcbiAgICBcInlcIjogZm9ybWF0VVRDWWVhcixcbiAgICBcIllcIjogZm9ybWF0VVRDRnVsbFllYXIsXG4gICAgXCJaXCI6IGZvcm1hdFVUQ1pvbmUsXG4gICAgXCIlXCI6IGZvcm1hdExpdGVyYWxQZXJjZW50XG4gIH07XG5cbiAgdmFyIHBhcnNlcyA9IHtcbiAgICBcImFcIjogcGFyc2VTaG9ydFdlZWtkYXksXG4gICAgXCJBXCI6IHBhcnNlV2Vla2RheSxcbiAgICBcImJcIjogcGFyc2VTaG9ydE1vbnRoLFxuICAgIFwiQlwiOiBwYXJzZU1vbnRoLFxuICAgIFwiY1wiOiBwYXJzZUxvY2FsZURhdGVUaW1lLFxuICAgIFwiZFwiOiBwYXJzZURheU9mTW9udGgsXG4gICAgXCJlXCI6IHBhcnNlRGF5T2ZNb250aCxcbiAgICBcImZcIjogcGFyc2VNaWNyb3NlY29uZHMsXG4gICAgXCJnXCI6IHBhcnNlWWVhcixcbiAgICBcIkdcIjogcGFyc2VGdWxsWWVhcixcbiAgICBcIkhcIjogcGFyc2VIb3VyMjQsXG4gICAgXCJJXCI6IHBhcnNlSG91cjI0LFxuICAgIFwialwiOiBwYXJzZURheU9mWWVhcixcbiAgICBcIkxcIjogcGFyc2VNaWxsaXNlY29uZHMsXG4gICAgXCJtXCI6IHBhcnNlTW9udGhOdW1iZXIsXG4gICAgXCJNXCI6IHBhcnNlTWludXRlcyxcbiAgICBcInBcIjogcGFyc2VQZXJpb2QsXG4gICAgXCJxXCI6IHBhcnNlUXVhcnRlcixcbiAgICBcIlFcIjogcGFyc2VVbml4VGltZXN0YW1wLFxuICAgIFwic1wiOiBwYXJzZVVuaXhUaW1lc3RhbXBTZWNvbmRzLFxuICAgIFwiU1wiOiBwYXJzZVNlY29uZHMsXG4gICAgXCJ1XCI6IHBhcnNlV2Vla2RheU51bWJlck1vbmRheSxcbiAgICBcIlVcIjogcGFyc2VXZWVrTnVtYmVyU3VuZGF5LFxuICAgIFwiVlwiOiBwYXJzZVdlZWtOdW1iZXJJU08sXG4gICAgXCJ3XCI6IHBhcnNlV2Vla2RheU51bWJlclN1bmRheSxcbiAgICBcIldcIjogcGFyc2VXZWVrTnVtYmVyTW9uZGF5LFxuICAgIFwieFwiOiBwYXJzZUxvY2FsZURhdGUsXG4gICAgXCJYXCI6IHBhcnNlTG9jYWxlVGltZSxcbiAgICBcInlcIjogcGFyc2VZZWFyLFxuICAgIFwiWVwiOiBwYXJzZUZ1bGxZZWFyLFxuICAgIFwiWlwiOiBwYXJzZVpvbmUsXG4gICAgXCIlXCI6IHBhcnNlTGl0ZXJhbFBlcmNlbnRcbiAgfTtcblxuICAvLyBUaGVzZSByZWN1cnNpdmUgZGlyZWN0aXZlIGRlZmluaXRpb25zIG11c3QgYmUgZGVmZXJyZWQuXG4gIGZvcm1hdHMueCA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZSwgZm9ybWF0cyk7XG4gIGZvcm1hdHMuWCA9IG5ld0Zvcm1hdChsb2NhbGVfdGltZSwgZm9ybWF0cyk7XG4gIGZvcm1hdHMuYyA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZVRpbWUsIGZvcm1hdHMpO1xuICB1dGNGb3JtYXRzLnggPSBuZXdGb3JtYXQobG9jYWxlX2RhdGUsIHV0Y0Zvcm1hdHMpO1xuICB1dGNGb3JtYXRzLlggPSBuZXdGb3JtYXQobG9jYWxlX3RpbWUsIHV0Y0Zvcm1hdHMpO1xuICB1dGNGb3JtYXRzLmMgPSBuZXdGb3JtYXQobG9jYWxlX2RhdGVUaW1lLCB1dGNGb3JtYXRzKTtcblxuICBmdW5jdGlvbiBuZXdGb3JtYXQoc3BlY2lmaWVyLCBmb3JtYXRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBzdHJpbmcgPSBbXSxcbiAgICAgICAgICBpID0gLTEsXG4gICAgICAgICAgaiA9IDAsXG4gICAgICAgICAgbiA9IHNwZWNpZmllci5sZW5ndGgsXG4gICAgICAgICAgYyxcbiAgICAgICAgICBwYWQsXG4gICAgICAgICAgZm9ybWF0O1xuXG4gICAgICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSk7XG5cbiAgICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICAgIGlmIChzcGVjaWZpZXIuY2hhckNvZGVBdChpKSA9PT0gMzcpIHtcbiAgICAgICAgICBzdHJpbmcucHVzaChzcGVjaWZpZXIuc2xpY2UoaiwgaSkpO1xuICAgICAgICAgIGlmICgocGFkID0gcGFkc1tjID0gc3BlY2lmaWVyLmNoYXJBdCgrK2kpXSkgIT0gbnVsbCkgYyA9IHNwZWNpZmllci5jaGFyQXQoKytpKTtcbiAgICAgICAgICBlbHNlIHBhZCA9IGMgPT09IFwiZVwiID8gXCIgXCIgOiBcIjBcIjtcbiAgICAgICAgICBpZiAoZm9ybWF0ID0gZm9ybWF0c1tjXSkgYyA9IGZvcm1hdChkYXRlLCBwYWQpO1xuICAgICAgICAgIHN0cmluZy5wdXNoKGMpO1xuICAgICAgICAgIGogPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdHJpbmcucHVzaChzcGVjaWZpZXIuc2xpY2UoaiwgaSkpO1xuICAgICAgcmV0dXJuIHN0cmluZy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBuZXdQYXJzZShzcGVjaWZpZXIsIFopIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgZCA9IG5ld0RhdGUoMTkwMCwgdW5kZWZpbmVkLCAxKSxcbiAgICAgICAgICBpID0gcGFyc2VTcGVjaWZpZXIoZCwgc3BlY2lmaWVyLCBzdHJpbmcgKz0gXCJcIiwgMCksXG4gICAgICAgICAgd2VlaywgZGF5O1xuICAgICAgaWYgKGkgIT0gc3RyaW5nLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICAgIC8vIElmIGEgVU5JWCB0aW1lc3RhbXAgaXMgc3BlY2lmaWVkLCByZXR1cm4gaXQuXG4gICAgICBpZiAoXCJRXCIgaW4gZCkgcmV0dXJuIG5ldyBEYXRlKGQuUSk7XG4gICAgICBpZiAoXCJzXCIgaW4gZCkgcmV0dXJuIG5ldyBEYXRlKGQucyAqIDEwMDAgKyAoXCJMXCIgaW4gZCA/IGQuTCA6IDApKTtcblxuICAgICAgLy8gSWYgdGhpcyBpcyB1dGNQYXJzZSwgbmV2ZXIgdXNlIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAgICAgIGlmIChaICYmICEoXCJaXCIgaW4gZCkpIGQuWiA9IDA7XG5cbiAgICAgIC8vIFRoZSBhbS1wbSBmbGFnIGlzIDAgZm9yIEFNLCBhbmQgMSBmb3IgUE0uXG4gICAgICBpZiAoXCJwXCIgaW4gZCkgZC5IID0gZC5IICUgMTIgKyBkLnAgKiAxMjtcblxuICAgICAgLy8gSWYgdGhlIG1vbnRoIHdhcyBub3Qgc3BlY2lmaWVkLCBpbmhlcml0IGZyb20gdGhlIHF1YXJ0ZXIuXG4gICAgICBpZiAoZC5tID09PSB1bmRlZmluZWQpIGQubSA9IFwicVwiIGluIGQgPyBkLnEgOiAwO1xuXG4gICAgICAvLyBDb252ZXJ0IGRheS1vZi13ZWVrIGFuZCB3ZWVrLW9mLXllYXIgdG8gZGF5LW9mLXllYXIuXG4gICAgICBpZiAoXCJWXCIgaW4gZCkge1xuICAgICAgICBpZiAoZC5WIDwgMSB8fCBkLlYgPiA1MykgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghKFwid1wiIGluIGQpKSBkLncgPSAxO1xuICAgICAgICBpZiAoXCJaXCIgaW4gZCkge1xuICAgICAgICAgIHdlZWsgPSB1dGNEYXRlKG5ld0RhdGUoZC55LCAwLCAxKSksIGRheSA9IHdlZWsuZ2V0VVRDRGF5KCk7XG4gICAgICAgICAgd2VlayA9IGRheSA+IDQgfHwgZGF5ID09PSAwID8gdXRjTW9uZGF5LmNlaWwod2VlaykgOiB1dGNNb25kYXkod2Vlayk7XG4gICAgICAgICAgd2VlayA9IHV0Y0RheS5vZmZzZXQod2VlaywgKGQuViAtIDEpICogNyk7XG4gICAgICAgICAgZC55ID0gd2Vlay5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICAgIGQubSA9IHdlZWsuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICBkLmQgPSB3ZWVrLmdldFVUQ0RhdGUoKSArIChkLncgKyA2KSAlIDc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2VlayA9IGxvY2FsRGF0ZShuZXdEYXRlKGQueSwgMCwgMSkpLCBkYXkgPSB3ZWVrLmdldERheSgpO1xuICAgICAgICAgIHdlZWsgPSBkYXkgPiA0IHx8IGRheSA9PT0gMCA/IHRpbWVNb25kYXkuY2VpbCh3ZWVrKSA6IHRpbWVNb25kYXkod2Vlayk7XG4gICAgICAgICAgd2VlayA9IHRpbWVEYXkub2Zmc2V0KHdlZWssIChkLlYgLSAxKSAqIDcpO1xuICAgICAgICAgIGQueSA9IHdlZWsuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICBkLm0gPSB3ZWVrLmdldE1vbnRoKCk7XG4gICAgICAgICAgZC5kID0gd2Vlay5nZXREYXRlKCkgKyAoZC53ICsgNikgJSA3O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFwiV1wiIGluIGQgfHwgXCJVXCIgaW4gZCkge1xuICAgICAgICBpZiAoIShcIndcIiBpbiBkKSkgZC53ID0gXCJ1XCIgaW4gZCA/IGQudSAlIDcgOiBcIldcIiBpbiBkID8gMSA6IDA7XG4gICAgICAgIGRheSA9IFwiWlwiIGluIGQgPyB1dGNEYXRlKG5ld0RhdGUoZC55LCAwLCAxKSkuZ2V0VVRDRGF5KCkgOiBsb2NhbERhdGUobmV3RGF0ZShkLnksIDAsIDEpKS5nZXREYXkoKTtcbiAgICAgICAgZC5tID0gMDtcbiAgICAgICAgZC5kID0gXCJXXCIgaW4gZCA/IChkLncgKyA2KSAlIDcgKyBkLlcgKiA3IC0gKGRheSArIDUpICUgNyA6IGQudyArIGQuVSAqIDcgLSAoZGF5ICsgNikgJSA3O1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhIHRpbWUgem9uZSBpcyBzcGVjaWZpZWQsIGFsbCBmaWVsZHMgYXJlIGludGVycHJldGVkIGFzIFVUQyBhbmQgdGhlblxuICAgICAgLy8gb2Zmc2V0IGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHRpbWUgem9uZS5cbiAgICAgIGlmIChcIlpcIiBpbiBkKSB7XG4gICAgICAgIGQuSCArPSBkLlogLyAxMDAgfCAwO1xuICAgICAgICBkLk0gKz0gZC5aICUgMTAwO1xuICAgICAgICByZXR1cm4gdXRjRGF0ZShkKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlLCBhbGwgZmllbGRzIGFyZSBpbiBsb2NhbCB0aW1lLlxuICAgICAgcmV0dXJuIGxvY2FsRGF0ZShkKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VTcGVjaWZpZXIoZCwgc3BlY2lmaWVyLCBzdHJpbmcsIGopIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIG4gPSBzcGVjaWZpZXIubGVuZ3RoLFxuICAgICAgICBtID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgYyxcbiAgICAgICAgcGFyc2U7XG5cbiAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgIGlmIChqID49IG0pIHJldHVybiAtMTtcbiAgICAgIGMgPSBzcGVjaWZpZXIuY2hhckNvZGVBdChpKyspO1xuICAgICAgaWYgKGMgPT09IDM3KSB7XG4gICAgICAgIGMgPSBzcGVjaWZpZXIuY2hhckF0KGkrKyk7XG4gICAgICAgIHBhcnNlID0gcGFyc2VzW2MgaW4gcGFkcyA/IHNwZWNpZmllci5jaGFyQXQoaSsrKSA6IGNdO1xuICAgICAgICBpZiAoIXBhcnNlIHx8ICgoaiA9IHBhcnNlKGQsIHN0cmluZywgaikpIDwgMCkpIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoYyAhPSBzdHJpbmcuY2hhckNvZGVBdChqKyspKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gajtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlUGVyaW9kKGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gcGVyaW9kUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQucCA9IHBlcmlvZExvb2t1cC5nZXQoblswXS50b0xvd2VyQ2FzZSgpKSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VTaG9ydFdlZWtkYXkoZCwgc3RyaW5nLCBpKSB7XG4gICAgdmFyIG4gPSBzaG9ydFdlZWtkYXlSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gICAgcmV0dXJuIG4gPyAoZC53ID0gc2hvcnRXZWVrZGF5TG9va3VwLmdldChuWzBdLnRvTG93ZXJDYXNlKCkpLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoZCwgc3RyaW5nLCBpKSB7XG4gICAgdmFyIG4gPSB3ZWVrZGF5UmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQudyA9IHdlZWtkYXlMb29rdXAuZ2V0KG5bMF0udG9Mb3dlckNhc2UoKSksIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlU2hvcnRNb250aChkLCBzdHJpbmcsIGkpIHtcbiAgICB2YXIgbiA9IHNob3J0TW9udGhSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gICAgcmV0dXJuIG4gPyAoZC5tID0gc2hvcnRNb250aExvb2t1cC5nZXQoblswXS50b0xvd2VyQ2FzZSgpKSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VNb250aChkLCBzdHJpbmcsIGkpIHtcbiAgICB2YXIgbiA9IG1vbnRoUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQubSA9IG1vbnRoTG9va3VwLmdldChuWzBdLnRvTG93ZXJDYXNlKCkpLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxvY2FsZURhdGVUaW1lKGQsIHN0cmluZywgaSkge1xuICAgIHJldHVybiBwYXJzZVNwZWNpZmllcihkLCBsb2NhbGVfZGF0ZVRpbWUsIHN0cmluZywgaSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxvY2FsZURhdGUoZCwgc3RyaW5nLCBpKSB7XG4gICAgcmV0dXJuIHBhcnNlU3BlY2lmaWVyKGQsIGxvY2FsZV9kYXRlLCBzdHJpbmcsIGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMb2NhbGVUaW1lKGQsIHN0cmluZywgaSkge1xuICAgIHJldHVybiBwYXJzZVNwZWNpZmllcihkLCBsb2NhbGVfdGltZSwgc3RyaW5nLCBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFNob3J0V2Vla2RheShkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9zaG9ydFdlZWtkYXlzW2QuZ2V0RGF5KCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0V2Vla2RheShkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV93ZWVrZGF5c1tkLmdldERheSgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFNob3J0TW9udGgoZCkge1xuICAgIHJldHVybiBsb2NhbGVfc2hvcnRNb250aHNbZC5nZXRNb250aCgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdE1vbnRoKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX21vbnRoc1tkLmdldE1vbnRoKCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0UGVyaW9kKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3BlcmlvZHNbKyhkLmdldEhvdXJzKCkgPj0gMTIpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFF1YXJ0ZXIoZCkge1xuICAgIHJldHVybiAxICsgfn4oZC5nZXRNb250aCgpIC8gMyk7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENTaG9ydFdlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfc2hvcnRXZWVrZGF5c1tkLmdldFVUQ0RheSgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfd2Vla2RheXNbZC5nZXRVVENEYXkoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENTaG9ydE1vbnRoKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3Nob3J0TW9udGhzW2QuZ2V0VVRDTW9udGgoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENNb250aChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9tb250aHNbZC5nZXRVVENNb250aCgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFVUQ1BlcmlvZChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9wZXJpb2RzWysoZC5nZXRVVENIb3VycygpID49IDEyKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENRdWFydGVyKGQpIHtcbiAgICByZXR1cm4gMSArIH5+KGQuZ2V0VVRDTW9udGgoKSAvIDMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uKHNwZWNpZmllcikge1xuICAgICAgdmFyIGYgPSBuZXdGb3JtYXQoc3BlY2lmaWVyICs9IFwiXCIsIGZvcm1hdHMpO1xuICAgICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICB2YXIgcCA9IG5ld1BhcnNlKHNwZWNpZmllciArPSBcIlwiLCBmYWxzZSk7XG4gICAgICBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBzcGVjaWZpZXI7IH07XG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuICAgIHV0Y0Zvcm1hdDogZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICB2YXIgZiA9IG5ld0Zvcm1hdChzcGVjaWZpZXIgKz0gXCJcIiwgdXRjRm9ybWF0cyk7XG4gICAgICBmLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBzcGVjaWZpZXI7IH07XG4gICAgICByZXR1cm4gZjtcbiAgICB9LFxuICAgIHV0Y1BhcnNlOiBmdW5jdGlvbihzcGVjaWZpZXIpIHtcbiAgICAgIHZhciBwID0gbmV3UGFyc2Uoc3BlY2lmaWVyICs9IFwiXCIsIHRydWUpO1xuICAgICAgcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcGFkcyA9IHtcIi1cIjogXCJcIiwgXCJfXCI6IFwiIFwiLCBcIjBcIjogXCIwXCJ9LFxuICAgIG51bWJlclJlID0gL15cXHMqXFxkKy8sIC8vIG5vdGU6IGlnbm9yZXMgbmV4dCBkaXJlY3RpdmVcbiAgICBwZXJjZW50UmUgPSAvXiUvLFxuICAgIHJlcXVvdGVSZSA9IC9bXFxcXF4kKis/fFtcXF0oKS57fV0vZztcblxuZnVuY3Rpb24gcGFkKHZhbHVlLCBmaWxsLCB3aWR0aCkge1xuICB2YXIgc2lnbiA9IHZhbHVlIDwgMCA/IFwiLVwiIDogXCJcIixcbiAgICAgIHN0cmluZyA9IChzaWduID8gLXZhbHVlIDogdmFsdWUpICsgXCJcIixcbiAgICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gIHJldHVybiBzaWduICsgKGxlbmd0aCA8IHdpZHRoID8gbmV3IEFycmF5KHdpZHRoIC0gbGVuZ3RoICsgMSkuam9pbihmaWxsKSArIHN0cmluZyA6IHN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIHJlcXVvdGUocykge1xuICByZXR1cm4gcy5yZXBsYWNlKHJlcXVvdGVSZSwgXCJcXFxcJCZcIik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlKG5hbWVzKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKFwiXig/OlwiICsgbmFtZXMubWFwKHJlcXVvdGUpLmpvaW4oXCJ8XCIpICsgXCIpXCIsIFwiaVwiKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TG9va3VwKG5hbWVzKSB7XG4gIHJldHVybiBuZXcgTWFwKG5hbWVzLm1hcCgobmFtZSwgaSkgPT4gW25hbWUudG9Mb3dlckNhc2UoKSwgaV0pKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5TnVtYmVyU3VuZGF5KGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gKGQudyA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheU51bWJlck1vbmRheShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMSkpO1xuICByZXR1cm4gbiA/IChkLnUgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVdlZWtOdW1iZXJTdW5kYXkoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5VID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VXZWVrTnVtYmVySVNPKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuViA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla051bWJlck1vbmRheShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLlcgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZ1bGxZZWFyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA0KSk7XG4gIHJldHVybiBuID8gKGQueSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWWVhcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLnkgPSArblswXSArICgrblswXSA+IDY4ID8gMTkwMCA6IDIwMDApLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWm9uZShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSAvXihaKXwoWystXVxcZFxcZCkoPzo6PyhcXGRcXGQpKT8vLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA2KSk7XG4gIHJldHVybiBuID8gKGQuWiA9IG5bMV0gPyAwIDogLShuWzJdICsgKG5bM10gfHwgXCIwMFwiKSksIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VRdWFydGVyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gKGQucSA9IG5bMF0gKiAzIC0gMywgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1vbnRoTnVtYmVyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQubSA9IG5bMF0gLSAxLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF5T2ZNb250aChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLmQgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZURheU9mWWVhcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMykpO1xuICByZXR1cm4gbiA/IChkLm0gPSAwLCBkLmQgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZUhvdXIyNChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLkggPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1pbnV0ZXMoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5NID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuUyA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWlsbGlzZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAzKSk7XG4gIHJldHVybiBuID8gKGQuTCA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWljcm9zZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA2KSk7XG4gIHJldHVybiBuID8gKGQuTCA9IE1hdGguZmxvb3IoblswXSAvIDEwMDApLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTGl0ZXJhbFBlcmNlbnQoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gcGVyY2VudFJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gaSArIG5bMF0ubGVuZ3RoIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVW5peFRpbWVzdGFtcChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gIHJldHVybiBuID8gKGQuUSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVW5peFRpbWVzdGFtcFNlY29uZHMoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICByZXR1cm4gbiA/IChkLnMgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXlPZk1vbnRoKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldERhdGUoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhvdXIyNChkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRIb3VycygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0SG91cjEyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldEhvdXJzKCkgJSAxMiB8fCAxMiwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERheU9mWWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoMSArIHRpbWVEYXkuY291bnQodGltZVllYXIoZCksIGQpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWlsbGlzZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldE1pbGxpc2Vjb25kcygpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWljcm9zZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIGZvcm1hdE1pbGxpc2Vjb25kcyhkLCBwKSArIFwiMDAwXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1vbnRoTnVtYmVyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldE1vbnRoKCkgKyAxLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWludXRlcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRNaW51dGVzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRTZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFNlY29uZHMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtkYXlOdW1iZXJNb25kYXkoZCkge1xuICB2YXIgZGF5ID0gZC5nZXREYXkoKTtcbiAgcmV0dXJuIGRheSA9PT0gMCA/IDcgOiBkYXk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtOdW1iZXJTdW5kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHRpbWVTdW5kYXkuY291bnQodGltZVllYXIoZCkgLSAxLCBkKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGRJU08oZCkge1xuICB2YXIgZGF5ID0gZC5nZXREYXkoKTtcbiAgcmV0dXJuIChkYXkgPj0gNCB8fCBkYXkgPT09IDApID8gdGltZVRodXJzZGF5KGQpIDogdGltZVRodXJzZGF5LmNlaWwoZCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtOdW1iZXJJU08oZCwgcCkge1xuICBkID0gZElTTyhkKTtcbiAgcmV0dXJuIHBhZCh0aW1lVGh1cnNkYXkuY291bnQodGltZVllYXIoZCksIGQpICsgKHRpbWVZZWFyKGQpLmdldERheSgpID09PSA0KSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtkYXlOdW1iZXJTdW5kYXkoZCkge1xuICByZXR1cm4gZC5nZXREYXkoKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0V2Vla051bWJlck1vbmRheShkLCBwKSB7XG4gIHJldHVybiBwYWQodGltZU1vbmRheS5jb3VudCh0aW1lWWVhcihkKSAtIDEsIGQpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0WWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRGdWxsWWVhcigpICUgMTAwLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0WWVhcklTTyhkLCBwKSB7XG4gIGQgPSBkSVNPKGQpO1xuICByZXR1cm4gcGFkKGQuZ2V0RnVsbFllYXIoKSAlIDEwMCwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEZ1bGxZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldEZ1bGxZZWFyKCkgJSAxMDAwMCwgcCwgNCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEZ1bGxZZWFySVNPKGQsIHApIHtcbiAgdmFyIGRheSA9IGQuZ2V0RGF5KCk7XG4gIGQgPSAoZGF5ID49IDQgfHwgZGF5ID09PSAwKSA/IHRpbWVUaHVyc2RheShkKSA6IHRpbWVUaHVyc2RheS5jZWlsKGQpO1xuICByZXR1cm4gcGFkKGQuZ2V0RnVsbFllYXIoKSAlIDEwMDAwLCBwLCA0KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Wm9uZShkKSB7XG4gIHZhciB6ID0gZC5nZXRUaW1lem9uZU9mZnNldCgpO1xuICByZXR1cm4gKHogPiAwID8gXCItXCIgOiAoeiAqPSAtMSwgXCIrXCIpKVxuICAgICAgKyBwYWQoeiAvIDYwIHwgMCwgXCIwXCIsIDIpXG4gICAgICArIHBhZCh6ICUgNjAsIFwiMFwiLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDRGF5T2ZNb250aChkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENEYXRlKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENIb3VyMjQoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDSG91cnMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ0hvdXIxMihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENIb3VycygpICUgMTIgfHwgMTIsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENEYXlPZlllYXIoZCwgcCkge1xuICByZXR1cm4gcGFkKDEgKyB1dGNEYXkuY291bnQodXRjWWVhcihkKSwgZCksIHAsIDMpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENNaWxsaXNlY29uZHMoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDTWlsbGlzZWNvbmRzKCksIHAsIDMpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENNaWNyb3NlY29uZHMoZCwgcCkge1xuICByZXR1cm4gZm9ybWF0VVRDTWlsbGlzZWNvbmRzKGQsIHApICsgXCIwMDBcIjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDTW9udGhOdW1iZXIoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDTW9udGgoKSArIDEsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENNaW51dGVzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ01pbnV0ZXMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1NlY29uZHMoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDU2Vjb25kcygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDV2Vla2RheU51bWJlck1vbmRheShkKSB7XG4gIHZhciBkb3cgPSBkLmdldFVUQ0RheSgpO1xuICByZXR1cm4gZG93ID09PSAwID8gNyA6IGRvdztcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDV2Vla051bWJlclN1bmRheShkLCBwKSB7XG4gIHJldHVybiBwYWQodXRjU3VuZGF5LmNvdW50KHV0Y1llYXIoZCkgLSAxLCBkKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIFVUQ2RJU08oZCkge1xuICB2YXIgZGF5ID0gZC5nZXRVVENEYXkoKTtcbiAgcmV0dXJuIChkYXkgPj0gNCB8fCBkYXkgPT09IDApID8gdXRjVGh1cnNkYXkoZCkgOiB1dGNUaHVyc2RheS5jZWlsKGQpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrTnVtYmVySVNPKGQsIHApIHtcbiAgZCA9IFVUQ2RJU08oZCk7XG4gIHJldHVybiBwYWQodXRjVGh1cnNkYXkuY291bnQodXRjWWVhcihkKSwgZCkgKyAodXRjWWVhcihkKS5nZXRVVENEYXkoKSA9PT0gNCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrZGF5TnVtYmVyU3VuZGF5KGQpIHtcbiAgcmV0dXJuIGQuZ2V0VVRDRGF5KCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtOdW1iZXJNb25kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHV0Y01vbmRheS5jb3VudCh1dGNZZWFyKGQpIC0gMSwgZCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0Z1bGxZZWFyKCkgJSAxMDAsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENZZWFySVNPKGQsIHApIHtcbiAgZCA9IFVUQ2RJU08oZCk7XG4gIHJldHVybiBwYWQoZC5nZXRVVENGdWxsWWVhcigpICUgMTAwLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDRnVsbFllYXIoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDRnVsbFllYXIoKSAlIDEwMDAwLCBwLCA0KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDRnVsbFllYXJJU08oZCwgcCkge1xuICB2YXIgZGF5ID0gZC5nZXRVVENEYXkoKTtcbiAgZCA9IChkYXkgPj0gNCB8fCBkYXkgPT09IDApID8gdXRjVGh1cnNkYXkoZCkgOiB1dGNUaHVyc2RheS5jZWlsKGQpO1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDRnVsbFllYXIoKSAlIDEwMDAwLCBwLCA0KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDWm9uZSgpIHtcbiAgcmV0dXJuIFwiKzAwMDBcIjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TGl0ZXJhbFBlcmNlbnQoKSB7XG4gIHJldHVybiBcIiVcIjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VW5peFRpbWVzdGFtcChkKSB7XG4gIHJldHVybiArZDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VW5peFRpbWVzdGFtcFNlY29uZHMoZCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigrZCAvIDEwMDApO1xufVxuIiwiaW1wb3J0IGZvcm1hdExvY2FsZSBmcm9tIFwiLi9sb2NhbGUuanNcIjtcblxudmFyIGxvY2FsZTtcbmV4cG9ydCB2YXIgdGltZUZvcm1hdDtcbmV4cG9ydCB2YXIgdGltZVBhcnNlO1xuZXhwb3J0IHZhciB1dGNGb3JtYXQ7XG5leHBvcnQgdmFyIHV0Y1BhcnNlO1xuXG5kZWZhdWx0TG9jYWxlKHtcbiAgZGF0ZVRpbWU6IFwiJXgsICVYXCIsXG4gIGRhdGU6IFwiJS1tLyUtZC8lWVwiLFxuICB0aW1lOiBcIiUtSTolTTolUyAlcFwiLFxuICBwZXJpb2RzOiBbXCJBTVwiLCBcIlBNXCJdLFxuICBkYXlzOiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXSxcbiAgc2hvcnREYXlzOiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sXG4gIG1vbnRoczogW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl0sXG4gIHNob3J0TW9udGhzOiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0TG9jYWxlKGRlZmluaXRpb24pIHtcbiAgbG9jYWxlID0gZm9ybWF0TG9jYWxlKGRlZmluaXRpb24pO1xuICB0aW1lRm9ybWF0ID0gbG9jYWxlLmZvcm1hdDtcbiAgdGltZVBhcnNlID0gbG9jYWxlLnBhcnNlO1xuICB1dGNGb3JtYXQgPSBsb2NhbGUudXRjRm9ybWF0O1xuICB1dGNQYXJzZSA9IGxvY2FsZS51dGNQYXJzZTtcbiAgcmV0dXJuIGxvY2FsZTtcbn1cbiIsImltcG9ydCB7dGltZVllYXIsIHRpbWVNb250aCwgdGltZVdlZWssIHRpbWVEYXksIHRpbWVIb3VyLCB0aW1lTWludXRlLCB0aW1lU2Vjb25kLCB0aW1lVGlja3MsIHRpbWVUaWNrSW50ZXJ2YWx9IGZyb20gXCJkMy10aW1lXCI7XG5pbXBvcnQge3RpbWVGb3JtYXR9IGZyb20gXCJkMy10aW1lLWZvcm1hdFwiO1xuaW1wb3J0IGNvbnRpbnVvdXMsIHtjb3B5fSBmcm9tIFwiLi9jb250aW51b3VzLmpzXCI7XG5pbXBvcnQge2luaXRSYW5nZX0gZnJvbSBcIi4vaW5pdC5qc1wiO1xuaW1wb3J0IG5pY2UgZnJvbSBcIi4vbmljZS5qc1wiO1xuXG5mdW5jdGlvbiBkYXRlKHQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKHQpO1xufVxuXG5mdW5jdGlvbiBudW1iZXIodCkge1xuICByZXR1cm4gdCBpbnN0YW5jZW9mIERhdGUgPyArdCA6ICtuZXcgRGF0ZSgrdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxlbmRhcih0aWNrcywgdGlja0ludGVydmFsLCB5ZWFyLCBtb250aCwgd2VlaywgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZm9ybWF0KSB7XG4gIHZhciBzY2FsZSA9IGNvbnRpbnVvdXMoKSxcbiAgICAgIGludmVydCA9IHNjYWxlLmludmVydCxcbiAgICAgIGRvbWFpbiA9IHNjYWxlLmRvbWFpbjtcblxuICB2YXIgZm9ybWF0TWlsbGlzZWNvbmQgPSBmb3JtYXQoXCIuJUxcIiksXG4gICAgICBmb3JtYXRTZWNvbmQgPSBmb3JtYXQoXCI6JVNcIiksXG4gICAgICBmb3JtYXRNaW51dGUgPSBmb3JtYXQoXCIlSTolTVwiKSxcbiAgICAgIGZvcm1hdEhvdXIgPSBmb3JtYXQoXCIlSSAlcFwiKSxcbiAgICAgIGZvcm1hdERheSA9IGZvcm1hdChcIiVhICVkXCIpLFxuICAgICAgZm9ybWF0V2VlayA9IGZvcm1hdChcIiViICVkXCIpLFxuICAgICAgZm9ybWF0TW9udGggPSBmb3JtYXQoXCIlQlwiKSxcbiAgICAgIGZvcm1hdFllYXIgPSBmb3JtYXQoXCIlWVwiKTtcblxuICBmdW5jdGlvbiB0aWNrRm9ybWF0KGRhdGUpIHtcbiAgICByZXR1cm4gKHNlY29uZChkYXRlKSA8IGRhdGUgPyBmb3JtYXRNaWxsaXNlY29uZFxuICAgICAgICA6IG1pbnV0ZShkYXRlKSA8IGRhdGUgPyBmb3JtYXRTZWNvbmRcbiAgICAgICAgOiBob3VyKGRhdGUpIDwgZGF0ZSA/IGZvcm1hdE1pbnV0ZVxuICAgICAgICA6IGRheShkYXRlKSA8IGRhdGUgPyBmb3JtYXRIb3VyXG4gICAgICAgIDogbW9udGgoZGF0ZSkgPCBkYXRlID8gKHdlZWsoZGF0ZSkgPCBkYXRlID8gZm9ybWF0RGF5IDogZm9ybWF0V2VlaylcbiAgICAgICAgOiB5ZWFyKGRhdGUpIDwgZGF0ZSA/IGZvcm1hdE1vbnRoXG4gICAgICAgIDogZm9ybWF0WWVhcikoZGF0ZSk7XG4gIH1cblxuICBzY2FsZS5pbnZlcnQgPSBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGludmVydCh5KSk7XG4gIH07XG5cbiAgc2NhbGUuZG9tYWluID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gZG9tYWluKEFycmF5LmZyb20oXywgbnVtYmVyKSkgOiBkb21haW4oKS5tYXAoZGF0ZSk7XG4gIH07XG5cbiAgc2NhbGUudGlja3MgPSBmdW5jdGlvbihpbnRlcnZhbCkge1xuICAgIHZhciBkID0gZG9tYWluKCk7XG4gICAgcmV0dXJuIHRpY2tzKGRbMF0sIGRbZC5sZW5ndGggLSAxXSwgaW50ZXJ2YWwgPT0gbnVsbCA/IDEwIDogaW50ZXJ2YWwpO1xuICB9O1xuXG4gIHNjYWxlLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihjb3VudCwgc3BlY2lmaWVyKSB7XG4gICAgcmV0dXJuIHNwZWNpZmllciA9PSBudWxsID8gdGlja0Zvcm1hdCA6IGZvcm1hdChzcGVjaWZpZXIpO1xuICB9O1xuXG4gIHNjYWxlLm5pY2UgPSBmdW5jdGlvbihpbnRlcnZhbCkge1xuICAgIHZhciBkID0gZG9tYWluKCk7XG4gICAgaWYgKCFpbnRlcnZhbCB8fCB0eXBlb2YgaW50ZXJ2YWwucmFuZ2UgIT09IFwiZnVuY3Rpb25cIikgaW50ZXJ2YWwgPSB0aWNrSW50ZXJ2YWwoZFswXSwgZFtkLmxlbmd0aCAtIDFdLCBpbnRlcnZhbCA9PSBudWxsID8gMTAgOiBpbnRlcnZhbCk7XG4gICAgcmV0dXJuIGludGVydmFsID8gZG9tYWluKG5pY2UoZCwgaW50ZXJ2YWwpKSA6IHNjYWxlO1xuICB9O1xuXG4gIHNjYWxlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29weShzY2FsZSwgY2FsZW5kYXIodGlja3MsIHRpY2tJbnRlcnZhbCwgeWVhciwgbW9udGgsIHdlZWssIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIGZvcm1hdCkpO1xuICB9O1xuXG4gIHJldHVybiBzY2FsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGltZSgpIHtcbiAgcmV0dXJuIGluaXRSYW5nZS5hcHBseShjYWxlbmRhcih0aW1lVGlja3MsIHRpbWVUaWNrSW50ZXJ2YWwsIHRpbWVZZWFyLCB0aW1lTW9udGgsIHRpbWVXZWVrLCB0aW1lRGF5LCB0aW1lSG91ciwgdGltZU1pbnV0ZSwgdGltZVNlY29uZCwgdGltZUZvcm1hdCkuZG9tYWluKFtuZXcgRGF0ZSgyMDAwLCAwLCAxKSwgbmV3IERhdGUoMjAwMCwgMCwgMildKSwgYXJndW1lbnRzKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBsaWdodGVuSGV4Q29sb3VyKEg6IHN0cmluZywgbGlnaHRuZXNzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoIUgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIC8vIENvbnZlcnQgaGV4IHRvIFJHQiBmaXJzdFxuICBsZXQgcjogYW55ID0gMCxcbiAgICBnOiBhbnkgPSAwLFxuICAgIGI6IGFueSA9IDA7XG4gIGlmIChILmxlbmd0aCA9PSA0KSB7XG4gICAgciA9IFwiMHhcIiArIEhbMV0gKyBIWzFdO1xuICAgIGcgPSBcIjB4XCIgKyBIWzJdICsgSFsyXTtcbiAgICBiID0gXCIweFwiICsgSFszXSArIEhbM107XG4gIH0gZWxzZSB7XG4gICAgciA9IFwiMHhcIiArIEhbMV0gKyBIWzJdO1xuICAgIGcgPSBcIjB4XCIgKyBIWzNdICsgSFs0XTtcbiAgICBiID0gXCIweFwiICsgSFs1XSArIEhbNl07XG4gIH1cbiAgLy8gVGhlbiB0byBIU0xcbiAgciAvPSAyNTU7XG4gIGcgLz0gMjU1O1xuICBiIC89IDI1NTtcblxuICBjb25zdCBjbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgY21heCA9IE1hdGgubWF4KHIsIGcsIGIpLFxuICAgIGRlbHRhID0gY21heCAtIGNtaW47XG5cbiAgbGV0IGggPSAwLFxuICAgIHMgPSAwLFxuICAgIGwgPSAwO1xuXG4gIGlmIChkZWx0YSA9PSAwKSBoID0gMDtcbiAgZWxzZSBpZiAoY21heCA9PSByKSBoID0gKChnIC0gYikgLyBkZWx0YSkgJSA2O1xuICBlbHNlIGlmIChjbWF4ID09IGcpIGggPSAoYiAtIHIpIC8gZGVsdGEgKyAyO1xuICBlbHNlIGggPSAociAtIGcpIC8gZGVsdGEgKyA0O1xuXG4gIGggPSBNYXRoLnJvdW5kKGggKiA2MCk7XG5cbiAgaWYgKGggPCAwKSBoICs9IDM2MDtcblxuICBsID0gKGNtYXggKyBjbWluKSAvIDI7XG4gIHMgPSBkZWx0YSA9PSAwID8gMCA6IGRlbHRhIC8gKDEgLSBNYXRoLmFicygyICogbCAtIDEpKTtcbiAgcyA9ICsocyAqIDEwMCkudG9GaXhlZCgxKTtcbiAgbCA9ICsobCAqIDEwMCkudG9GaXhlZCgxKTtcblxuICByZXR1cm4gXCJoc2woXCIgKyBoICsgXCIsXCIgKyBzIC8gMiArIFwiJSxcIiArIGxpZ2h0bmVzcyArIFwiJSlcIjtcbn1cbiIsImV4cG9ydCBlbnVtIEF2YWlsYWJpbGl0eVN0YXR1cyB7XG4gIEZSRUUgPSBcImZyZWVcIixcbiAgQlVTWSA9IFwiYnVzeVwiLFxuICBQQVJUSUFMID0gXCJwYXJ0aWFsXCIsXG4gIENMT1NFRCA9IFwiY2xvc2VkXCIsXG59XG5cbmV4cG9ydCBlbnVtIFNlbGVjdGlvblN0YXR1cyB7XG4gIFVOU0VMRUNURUQgPSBcInVuc2VsZWN0ZWRcIixcbiAgU0VMRUNURUQgPSBcInNlbGVjdGVkXCIsXG59XG5cbmV4cG9ydCBlbnVtIENsaWNrQWN0aW9uIHtcbiAgVkVSSUZZID0gXCJ2ZXJpZnlcIixcbiAgQ0hPT1NFID0gXCJjaG9vc2VcIixcbn1cbiIsIjxzdmVsdGU6b3B0aW9ucyB0YWc9XCJueWxhcy1jb250YWN0LWltYWdlXCIgLz5cblxuPHNjcmlwdD5cbiAgaW1wb3J0IHsgQ29udGFjdEF2YXRhclN0b3JlIH0gZnJvbSBcIkBjb21tb25zXCI7XG4gIGltcG9ydCB7IGJlZm9yZVVwZGF0ZSB9IGZyb20gXCJzdmVsdGUvaW50ZXJuYWxcIjtcblxuICBleHBvcnQgbGV0IGNvbnRhY3Q7XG4gIGV4cG9ydCBsZXQgY29udGFjdF9xdWVyeTtcbiAgZXhwb3J0IGxldCBoZWlnaHQgPSBcIjMycHhcIjtcbiAgZXhwb3J0IGxldCB3aWR0aCA9IFwiMzJweFwiO1xuICAkOiBpbWFnZSA9IG51bGw7XG5cbiAgYmVmb3JlVXBkYXRlKGFzeW5jICgpID0+IHtcbiAgICBpZiAoY29udGFjdCAmJiBjb250YWN0LnBpY3R1cmVfdXJsKSB7XG4gICAgICBpbWFnZSA9IGF3YWl0IENvbnRhY3RBdmF0YXJTdG9yZS5nZXRDb250YWN0QXZhdGFyKFxuICAgICAgICBjb250YWN0X3F1ZXJ5LFxuICAgICAgICBjb250YWN0LmlkLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1hZ2UgPSBudWxsO1xuICAgIH1cbiAgfSk7XG48L3NjcmlwdD5cblxueyNpZiBpbWFnZX1cbiAgPGltZ1xuICAgIGFsdD1cIlwiXG4gICAgc3R5bGU9XCJoZWlnaHQ6IHtoZWlnaHR9OyB3aWR0aDoge3dpZHRofTsgYm9yZGVyLXJhZGl1czogNTAlO1wiXG4gICAgc3JjPVwiZGF0YTppbWFnZS9qcGc7YmFzZTY0LHtpbWFnZX1cIlxuICAvPlxuezplbHNlIGlmIGNvbnRhY3R9XG4gIDxwIHN0eWxlPVwibWFyZ2luOiAwO1wiPlxuICAgIHtjb250YWN0LmdpdmVuX25hbWUgJiYgY29udGFjdC5zdXJuYW1lXG4gICAgICA/IGNvbnRhY3QuZ2l2ZW5fbmFtZS5jaGFyQXQoMCkgKyBjb250YWN0LnN1cm5hbWUuY2hhckF0KDApXG4gICAgICA6IGNvbnRhY3QubmFtZVxuICAgICAgPyBjb250YWN0Lm5hbWUuY2hhckF0KDApXG4gICAgICA6IGNvbnRhY3QuZW1haWxcbiAgICAgID8gY29udGFjdC5lbWFpbC5jaGFyQXQoMClcbiAgICAgIDogXCI/XCJ9XG4gIDwvcD5cbnsvaWZ9XG4iLCI8c3ZlbHRlOm9wdGlvbnMgdGFnPVwibnlsYXMtbWVzc2FnZS1lcnJvclwiIC8+XG5cbjxzY3JpcHQ+XG4gIGV4cG9ydCBsZXQgZXJyb3JfbWVzc2FnZSA9IFwiVWggb2ghIExvb2tzIGxpa2UgYW4gZXJyb3Igb2NjdXJyZWRcIjtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIj5cbiAgQGltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvdGhlbWluZy9yZXNldC5zY3NzXCI7XG4gIEBpbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL3RoZW1pbmcvdmFyaWFibGVzLnNjc3NcIjtcblxuICBkaXYge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXJlZC1saWdodGVyKTtcbiAgICBib3R0b206IDA7XG4gICAgY29sb3I6IHZhcigtLXJlZCk7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgIG1pbi1oZWlnaHQ6IDg1cHg7XG4gICAgcGFkZGluZzogMjBweCAyNHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMDtcbiAgICBtaW4td2lkdGg6IDI0MHB4O1xuICAgIHotaW5kZXg6IDI7XG4gIH1cblxuICBidXR0b24ge1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIGNvbG9yOiB2YXIoLS1ibHVlKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gIH1cbjwvc3R5bGU+XG5cbjxkaXY+XG4gIDxwPntlcnJvcl9tZXNzYWdlfTwvcD5cbiAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb246Y2xpY2s9eygpID0+IGxvY2F0aW9uLnJlbG9hZCgpfT5cbiAgICBSZWZyZXNoIHlvdXIgcGFnZVxuICA8L2J1dHRvbj5cbjwvZGl2PlxuIiwiPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG48cGF0aCBkPVwiTTE0IDE2TDkuNzc2MTIgMTIuMDAxNEwxNCA4XCIgc3Ryb2tlPVwiIzZBNzI4NVwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIi8+XG48L3N2Zz5cbiIsIjxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuPHBhdGggZD1cIk0xMCA4TDE0LjIyMzkgMTEuOTk4NkwxMCAxNlwiIHN0cm9rZT1cIiM2QTcyODVcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIvPlxuPC9zdmc+XG4iLCJpbXBvcnQgeyBBdmFpbGFiaWxpdHlTdGF0dXMgfSBmcm9tIFwiQGNvbW1vbnMvZW51bXMvQXZhaWxhYmlsaXR5XCI7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdGFibGVTbG90IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0F2YWlsYWJpbGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBdmFpbGFibGUoc2xvdDogU2VsZWN0YWJsZVNsb3QpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBzbG90LmF2YWlsYWJpbGl0eSAhPT0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1kgJiZcbiAgICBzbG90LmF2YWlsYWJpbGl0eSAhPT0gQXZhaWxhYmlsaXR5U3RhdHVzLkNMT1NFRFxuICApO1xufVxuIiwiaW1wb3J0IHR5cGUgeyBFdmVudERlZmluaXRpb24gfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvU2NoZWR1bGVFZGl0b3JcIjtcbmltcG9ydCB0eXBlIHsgQXZhaWxhYmlsaXR5UnVsZSwgT3BlbkhvdXJzIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0F2YWlsYWJpbGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEhvdXJBc3N1bXB0aW9uc1RvT3BlbkhvdXJzKFxuICBzdGFydEhvdXI6IG51bWJlcixcbiAgZW5kSG91cjogbnVtYmVyLFxuICBldmVudHM6IEV2ZW50RGVmaW5pdGlvbltdLFxuKTogT3BlbkhvdXJzW10ge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGVtYWlsczogZXZlbnRzLmZsYXRNYXAoKGV2ZW50KSA9PiBldmVudC5wYXJ0aWNpcGFudEVtYWlscyksXG4gICAgICBkYXlzOiBbLi4uQXJyYXkoNykua2V5cygpXSxcbiAgICAgIHN0YXJ0OiBgJHtzdGFydEhvdXJ9OjAwYCxcbiAgICAgIGVuZDogY29lcmNlRW5kVGltZSh7IGhvdXI6IGVuZEhvdXIgfSksXG4gICAgICB0aW1lem9uZTogSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lLFxuICAgICAgb2JqZWN0X3R5cGU6IFwib3Blbl9ob3Vyc1wiLFxuICAgIH0sXG4gIF07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZTogbnVtYmVyKSB7XG4gIGlmICghdGltZSkge1xuICAgIHJldHVybiBcIjAwXCI7XG4gIH1cblxuICByZXR1cm4gdGltZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbn1cblxuLyoqXG4gKiBDbG91ZCBjb3JlIGV4cGVjdHMgZW5kIHRpbWUgcmFuZ2UgWzAsIDIzKVxuICogU28gYSB0aW1lIHJhbmdlIDA6MDAgLSAyNDowMCAodGhlIGZ1bGwgZGF5KSxcbiAqIHdoaWNoIGEgdXNlciBtaWdodCB0aGluayBpcyBhIHZhbGlkIHJhbmdlIHRocm93cyBhbiBlcnJvci5cbiAqXG4gKiBUaGUgYWN0dWFsIHJhbmdlIHNob3VsZCBiZSAwOjAwIC0gMjM6NTkuXG4gKi9cbmZ1bmN0aW9uIGNvZXJjZUVuZFRpbWUoe1xuICBob3VyLFxuICBtaW51dGUgPSAwLFxufToge1xuICBob3VyOiBudW1iZXI7XG4gIG1pbnV0ZT86IG51bWJlcjtcbn0pIHtcbiAgaWYgKGhvdXIgPj0gMjQpIHtcbiAgICByZXR1cm4gYCR7Zm9ybWF0VGltZSgyMyl9OiR7Zm9ybWF0VGltZSg1OSl9YDtcbiAgfVxuXG4gIHJldHVybiBgJHtmb3JtYXRUaW1lKGhvdXIpfToke2Zvcm1hdFRpbWUobWludXRlKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRPcGVuSG91cnMoXG4gIG9wZW5Ib3VyczogQXZhaWxhYmlsaXR5UnVsZVtdLFxuICBldmVudHM6IEV2ZW50RGVmaW5pdGlvbltdLFxuKTogT3BlbkhvdXJzW10ge1xuICByZXR1cm4gb3BlbkhvdXJzLm1hcCgocnVsZSkgPT4gKHtcbiAgICBlbWFpbHM6IGV2ZW50cy5mbGF0TWFwKChldmVudCkgPT4gZXZlbnQucGFydGljaXBhbnRFbWFpbHMpLFxuICAgIGRheXM6IFtydWxlLnN0YXJ0V2Vla2RheSA9PT0gMCA/IDYgOiBydWxlLnN0YXJ0V2Vla2RheSAtIDFdLCAvLyBUT0RPIC0gaW5jbHVkZSBlbmRXZWVrZGF5XG4gICAgc3RhcnQ6IGAke2Zvcm1hdFRpbWUocnVsZS5zdGFydEhvdXIpfToke2Zvcm1hdFRpbWUocnVsZS5zdGFydE1pbnV0ZSl9YCxcbiAgICBlbmQ6IGNvZXJjZUVuZFRpbWUoeyBob3VyOiBydWxlLmVuZEhvdXIsIG1pbnV0ZTogcnVsZS5lbmRNaW51dGUgfSksXG4gICAgdGltZXpvbmU6IHJ1bGUudGltZVpvbmUgPz8gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lLFxuICAgIG9iamVjdF90eXBlOiBcIm9wZW5faG91cnNcIixcbiAgfSkpO1xufVxuIiwiaW1wb3J0IHtcbiAgU2VsZWN0aW9uU3RhdHVzLFxuICBBdmFpbGFiaWxpdHlTdGF0dXMsXG59IGZyb20gXCJAY29tbW9ucy9lbnVtcy9BdmFpbGFiaWxpdHlcIjtcbmltcG9ydCB7IHRpbWVEYXksIHRpbWVIb3VyLCB0aW1lTWludXRlIH0gZnJvbSBcImQzLXRpbWVcIjtcbmltcG9ydCB7IHNjYWxlVGltZSB9IGZyb20gXCJkMy1zY2FsZVwiO1xuaW1wb3J0IHR5cGUgeyBUaW1lSW50ZXJ2YWwgfSBmcm9tIFwiZDMtdGltZVwiO1xuaW1wb3J0IHR5cGUgeyBNYW5pZmVzdCwgVGltZVNsb3QgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQXZhaWxhYmlsaXR5XCI7XG5pbXBvcnQgeyBhcnJheUNvbnRhaW5zQXJyYXkgfSBmcm9tIFwiQGNvbW1vbnMvbWV0aG9kcy9jb21wb25lbnRcIjtcbmltcG9ydCB0eXBlIHsgQ29uc2VjdXRpdmVFdmVudCB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9Cb29raW5nXCI7XG5cbi8vIG1hcCBvdmVyIHRoZSB0aWNrcygpIG9mIHRoZSB0aW1lIHNjYWxlIGJldHdlZW4geW91ciBzdGFydCBkYXkgYW5kIGVuZCBkYXlcbi8vIHBvcHVsYXRlIHRoZW0gd2l0aCBhcyBtYW55IHNsb3RzIGFzIHlvdXIgc3RhcnRfaG91ciwgZW5kX2hvdXIsIGFuZCBzbG90X3NpemUgZGljdGF0ZVxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRGF5U2xvdHMgPSAoXG4gIHRpbWVzdGFtcDogRGF0ZSxcbiAgYWxsQ2FsZW5kYXJzOiBhbnlbXSxcbiAgcmVxdWlyZWRQYXJ0aWNpcGFudHM6IHN0cmluZ1tdLFxuICBjb25zZWN1dGl2ZU9wdGlvbnM6IENvbnNlY3V0aXZlRXZlbnRbXVtdLFxuICBjb25zZWN1dGl2ZVBhcnRpY2lwYW50czogc3RyaW5nW10sXG4gIGludGVybmFsUHJvcHM6IE1hbmlmZXN0LFxuKTogYW55W10gPT4ge1xuICBjb25zdCBkYXlTdGFydCA9IHRpbWVIb3VyKFxuICAgIG5ldyBEYXRlKG5ldyBEYXRlKHRpbWVzdGFtcCkuc2V0SG91cnMoaW50ZXJuYWxQcm9wcy5zdGFydF9ob3VyKSksXG4gICk7XG4gIGNvbnN0IGRheUVuZCA9IHRpbWVIb3VyKFxuICAgIG5ldyBEYXRlKG5ldyBEYXRlKHRpbWVzdGFtcCkuc2V0SG91cnMoaW50ZXJuYWxQcm9wcy5lbmRfaG91cikpLFxuICApO1xuICByZXR1cm4gc2NhbGVUaW1lKClcbiAgICAuZG9tYWluKFtkYXlTdGFydCwgZGF5RW5kXSlcbiAgICAudGlja3ModGltZU1pbnV0ZS5ldmVyeShpbnRlcm5hbFByb3BzLnNsb3Rfc2l6ZSkgYXMgVGltZUludGVydmFsKVxuICAgIC5zbGljZSgwLCAtMSkgLy8gZG9udCBzaG93IHRoZSAyNXRoIGhvdXJcbiAgICAubWFwKCh0aW1lOiBEYXRlKSA9PiB7XG4gICAgICBjb25zdCBlbmRUaW1lID0gdGltZU1pbnV0ZS5vZmZzZXQodGltZSwgaW50ZXJuYWxQcm9wcy5zbG90X3NpemUpO1xuICAgICAgY29uc3QgZnJlZUNhbGVuZGFyczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGxldCBhdmFpbGFiaWxpdHkgPSBBdmFpbGFiaWxpdHlTdGF0dXMuRlJFRTsgLy8gZGVmYXVsdFxuICAgICAgaWYgKGFsbENhbGVuZGFycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNsb3Q6IFRpbWVTbG90ID0ge1xuICAgICAgICAgIHN0YXJ0X3RpbWU6IHRpbWUsXG4gICAgICAgICAgZW5kX3RpbWU6IGVuZFRpbWUsXG4gICAgICAgICAgYXZhaWxhYmxlX2NhbGVuZGFyczogW10sXG4gICAgICAgICAgZXhwaXJ5U2VsZWN0aW9uOiBcIlwiLFxuICAgICAgICAgIHJlY3VycmVuY2VfY2FkZW5jZTogXCJcIixcbiAgICAgICAgICByZWN1cnJlbmNlX2V4cGlyeTogXCJcIixcbiAgICAgICAgICBmYWxsc1dpdGhpbkFsbG93ZWRUaW1lUmFuZ2U6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGVuZGFyIG9mIGFsbENhbGVuZGFycykge1xuICAgICAgICAgIC8vIEFkanVzdCBjYWxlbmRhci50aW1lc2xvdHMgZm9yIGJ1ZmZlcnNcbiAgICAgICAgICBjb25zdCB0aW1lc2xvdHMgPVxuICAgICAgICAgICAgY2FsZW5kYXIuYXZhaWxhYmlsaXR5ID09PSBBdmFpbGFiaWxpdHlTdGF0dXMuQlVTWVxuICAgICAgICAgICAgICA/IGNhbGVuZGFyLnRpbWVzbG90cy5tYXAoKHNsb3Q6IFRpbWVTbG90KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZTogdGltZU1pbnV0ZS5vZmZzZXQoXG4gICAgICAgICAgICAgICAgICAgIHNsb3Quc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICAgICAgLWludGVybmFsUHJvcHMuZXZlbnRfYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIGVuZF90aW1lOiB0aW1lTWludXRlLm9mZnNldChcbiAgICAgICAgICAgICAgICAgICAgc2xvdC5lbmRfdGltZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxQcm9wcy5ldmVudF9idWZmZXIsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICA6IGNhbGVuZGFyLnRpbWVzbG90cy5tYXAoKHNsb3Q6IFRpbWVTbG90KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYXBwbHkgc3RhcnQtYnVmZmVyIHRvIHRoZSBmaXJzdCB0aW1lc2xvdCwgbm9yIGVuZC1idWZmZXIgdG8gdGhlIGxhc3QgdGltZXNsb3QuXG4gICAgICAgICAgICAgICAgICAvLyBXb3JrcyBhY3Jvc3MgbXVsdGlwbGUgZGF5czsgeW91IHdvbid0IGdldCBhIHJhbmRvbSBidWZmZXIgYXQgMTE6NTAgLyAwMDoxMFxuICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZTogdGltZU1pbnV0ZS5vZmZzZXQoXG4gICAgICAgICAgICAgICAgICAgIHNsb3Quc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICAgICAgc2xvdCA9PT0gY2FsZW5kYXIudGltZXNsb3RzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICAgICAgOiBpbnRlcm5hbFByb3BzLmV2ZW50X2J1ZmZlcixcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBlbmRfdGltZTogdGltZU1pbnV0ZS5vZmZzZXQoXG4gICAgICAgICAgICAgICAgICAgIHNsb3QuZW5kX3RpbWUsXG4gICAgICAgICAgICAgICAgICAgIHNsb3QgPT09IGNhbGVuZGFyLnRpbWVzbG90c1tjYWxlbmRhci50aW1lc2xvdHMubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgICA6IC1pbnRlcm5hbFByb3BzLmV2ZW50X2J1ZmZlcixcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgbGV0IGNvbmN1cnJlbnRTbG90RXZlbnRzRm9yVXNlciA9IDA7XG4gICAgICAgICAgaWYgKGNhbGVuZGFyLmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1kpIHtcbiAgICAgICAgICAgIC8vIEZvciBCdXN5IGNhbGVuZGFycywgYSB0aW1lc2xvdCBpcyBjb25zaWRlcmVkIGF2YWlsYWJsZSBpZiBpdHMgY2FsZW5kYXIgaGFzIG5vIG92ZXJsYXBwaW5nIGV2ZW50c1xuICAgICAgICAgICAgY29uY3VycmVudFNsb3RFdmVudHNGb3JVc2VyID0gb3ZlcmxhcCh0aW1lc2xvdHMsIGN1cnJlbnRTbG90KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyLmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLkZSRUUpIHtcbiAgICAgICAgICAgIC8vIEZvciBGcmVlIGNhbGVuZGFycywgYSB0aW1lc2xvdCBpcyBjb25zaWRlcmVkIGF2YWlsYWJsZSBpZiBpdHMgY2FsZW5kYXIgaGFzIGEgdGltZSB0aGF0IGZ1bGx5IGVudmVsb3BzIGl0LlxuICAgICAgICAgICAgY29uY3VycmVudFNsb3RFdmVudHNGb3JVc2VyID0gdGltZXNsb3RzLnNvbWUoXG4gICAgICAgICAgICAgIChibG9iOiBUaW1lU2xvdCkgPT5cbiAgICAgICAgICAgICAgICBjdXJyZW50U2xvdC5zdGFydF90aW1lID49IGJsb2Iuc3RhcnRfdGltZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbG90LmVuZF90aW1lIDw9IGJsb2IuZW5kX3RpbWUsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICAvLyBzbG90IGF2YWlsYWJpbGl0eSBpcyB3aGVuIGEgZ2l2ZW4gdGltZXNsb3QgaGFzIGFsbCBvZiBpdHMgbWludXRlcyByZXByZXNlbnRlZCBpbiBjYWxlbmRhci5mcmVlIHRpbWVzbG90c1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2FsZW5kYXIuYXZhaWxhYmlsaXR5ID09PSBBdmFpbGFiaWxpdHlTdGF0dXMuQlVTWSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbnRlcm5hbFByb3BzLmNhcGFjaXR5ICYmXG4gICAgICAgICAgICAgIGludGVybmFsUHJvcHMuY2FwYWNpdHkgPj0gMSAmJlxuICAgICAgICAgICAgICBjb25jdXJyZW50U2xvdEV2ZW50c0ZvclVzZXIgPCBpbnRlcm5hbFByb3BzLmNhcGFjaXR5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZnJlZUNhbGVuZGFycy5wdXNoKGNhbGVuZGFyPy5lbWFpbEFkZHJlc3MgfHwgXCJcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFjb25jdXJyZW50U2xvdEV2ZW50c0ZvclVzZXIpIHtcbiAgICAgICAgICAgICAgZnJlZUNhbGVuZGFycy5wdXNoKGNhbGVuZGFyPy5lbWFpbEFkZHJlc3MgfHwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNhbGVuZGFyLmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLkZSRUUgfHxcbiAgICAgICAgICAgICFjYWxlbmRhci5hdmFpbGFiaWxpdHlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGlmIGEgY2FsZW5kYXIgaXMgcGFzc2VkIGluIHdpdGhvdXQgYXZhaWxhYmlsaXR5LCBhc3N1bWUgdGhlIHRpbWVzbG90cyBhcmUgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKGNvbmN1cnJlbnRTbG90RXZlbnRzRm9yVXNlcikge1xuICAgICAgICAgICAgICBmcmVlQ2FsZW5kYXJzLnB1c2goY2FsZW5kYXI/LmVtYWlsQWRkcmVzcyB8fCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJlZUNhbGVuZGFycy5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZnJlZUNhbGVuZGFycy5sZW5ndGggPT09IGFsbENhbGVuZGFycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGF2YWlsYWJpbGl0eSA9IEF2YWlsYWJpbGl0eVN0YXR1cy5GUkVFO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdmFpbGFiaWxpdHkgPSBBdmFpbGFiaWxpdHlTdGF0dXMuUEFSVElBTDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhaWxhYmlsaXR5ID0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1k7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgYXZhaWxhYmlsaXR5IGlzIHBhcnRpYWwgKG5vdCAxMDAlIG9mIGNhbGVuZGFycyksIGFuZCB0aGF0IHJhdGlvIGlzIGxlc3MgdGhhbiBwYXJ0aWFsX2Jvb2thYmxlX3JhdGlvLFxuICAgICAgLy8gbWFyayB0aGUgc2xvdCBhcyBidXN5XG4gICAgICBpZiAoXG4gICAgICAgIGF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLlBBUlRJQUwgJiZcbiAgICAgICAgZnJlZUNhbGVuZGFycy5sZW5ndGggPFxuICAgICAgICAgIGFsbENhbGVuZGFycy5sZW5ndGggKiBpbnRlcm5hbFByb3BzLnBhcnRpYWxfYm9va2FibGVfcmF0aW9cbiAgICAgICkge1xuICAgICAgICBhdmFpbGFiaWxpdHkgPSBBdmFpbGFiaWxpdHlTdGF0dXMuQlVTWTtcbiAgICAgIH1cblxuICAgICAgLy8gQWxsb3dzIHVzZXJzIHRvIGJvb2sgb3ZlciBidXN5IHNsb3RzIGlmIHBhcnRpYWxfYm9va2FibGVfcmF0aW8gaXMgMFxuICAgICAgaWYgKFxuICAgICAgICBhdmFpbGFiaWxpdHkgPT09IEF2YWlsYWJpbGl0eVN0YXR1cy5CVVNZICYmXG4gICAgICAgIGludGVybmFsUHJvcHMucGFydGlhbF9ib29rYWJsZV9yYXRpbyA9PT0gMFxuICAgICAgKSB7XG4gICAgICAgIGF2YWlsYWJpbGl0eSA9IEF2YWlsYWJpbGl0eVN0YXR1cy5QQVJUSUFMO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhdmFpbGFiaWxpdHkgaXMgcGFydGlhbCwgYnV0IGEgcmVxdWlyZWQgcGFydGljaXBhbnQgaXMgdW5hdmFpbGJsZSwgdGhlIHNsb3QgYmVjb21lcyBCdXN5XG4gICAgICBpZiAoXG4gICAgICAgIGF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLlBBUlRJQUwgJiZcbiAgICAgICAgaW50ZXJuYWxQcm9wcy5yZXF1aXJlZF9wYXJ0aWNpcGFudHMubGVuZ3RoXG4gICAgICApIHtcbiAgICAgICAgLy9DaGVjayBpZiBldmVyeSBwYXJ0aWNpcGFudHMgaXMgaW5jbHVkZWQgaW4gdGhlIGF2YWlsYWJsZSBjYWxlbmRhclxuICAgICAgICBpZiAoIWFycmF5Q29udGFpbnNBcnJheShyZXF1aXJlZFBhcnRpY2lwYW50cywgZnJlZUNhbGVuZGFycykpIHtcbiAgICAgICAgICBhdmFpbGFiaWxpdHkgPSBBdmFpbGFiaWxpdHlTdGF0dXMuQlVTWTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBtYW5kYXRlX3RvcF9vZl9ob3VyLCBjaGFuZ2UgYW55IHN0YXR1cyB0byBcImJ1c3lcIiBpZiBpdCdzIG5vdCBhdCA6MDBcbiAgICAgIGlmIChpbnRlcm5hbFByb3BzLm1hbmRhdGVfdG9wX29mX2hvdXIgJiYgdGltZS5nZXRNaW51dGVzKCkgIT09IDApIHtcbiAgICAgICAgYXZhaWxhYmlsaXR5ID0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1k7XG4gICAgICAgIGZyZWVDYWxlbmRhcnMubGVuZ3RoID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlIFwib3Blbl9ob3Vyc1wiIHByb3BlcnR5IGhhcyBydWxlcywgYWRoZXJlIHRvIHRoZW0gYWJvdmUgYW55IG90aGVyIGV2ZW50LWJhc2VkIGZyZWUvYnVzeSBzdGF0dXNlc1xuICAgICAgLy8gKE1hcmsgdGhlIHNsb3QgYnVzeSBpZiBpdCBmYWxscyBvdXRzaWRlIHRoZSBvcGVuX2hvdXJzKVxuICAgICAgaWYgKGludGVybmFsUHJvcHMub3Blbl9ob3Vycy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGF2YWlsYWJpbGl0eSAhPT0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1kpIHtcbiAgICAgICAgICBsZXQgZGF5UmVsZXZhbnRSdWxlcyA9IFtdO1xuICAgICAgICAgIGRheVJlbGV2YW50UnVsZXMgPSBpbnRlcm5hbFByb3BzLm9wZW5faG91cnMuZmlsdGVyKFxuICAgICAgICAgICAgKHJ1bGUpID0+XG4gICAgICAgICAgICAgICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocnVsZSwgXCJzdGFydFdlZWtkYXlcIikgfHxcbiAgICAgICAgICAgICAgcnVsZS5zdGFydFdlZWtkYXkgPT09IHRpbWUuZ2V0RGF5KCkgfHxcbiAgICAgICAgICAgICAgcnVsZS5lbmRXZWVrZGF5ID09PSB0aW1lLmdldERheSgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc2xvdEV4aXN0c0luT3BlbkhvdXJzID0gZGF5UmVsZXZhbnRSdWxlcy5zb21lKChydWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBydWxlU3RhcnRBcHBsaWVkRGF0ZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgICAgXCJzdGFydFdlZWtkYXlcIixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgPyB0aW1lRGF5Lm9mZnNldChcbiAgICAgICAgICAgICAgICAgIHRpbWUsXG4gICAgICAgICAgICAgICAgICAocnVsZS5zdGFydFdlZWtkYXkgYXMgbnVtYmVyKSAtIHRpbWUuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IG5ldyBEYXRlKHRpbWUpO1xuICAgICAgICAgICAgcnVsZVN0YXJ0QXBwbGllZERhdGUuc2V0SG91cnMocnVsZS5zdGFydEhvdXIpO1xuICAgICAgICAgICAgcnVsZVN0YXJ0QXBwbGllZERhdGUuc2V0TWludXRlcyhydWxlLnN0YXJ0TWludXRlKTtcblxuICAgICAgICAgICAgY29uc3QgcnVsZUVuZEFwcGxpZWREYXRlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgICBydWxlLFxuICAgICAgICAgICAgICBcInN0YXJ0V2Vla2RheVwiLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA/IHRpbWVEYXkub2Zmc2V0KFxuICAgICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgICAgIChydWxlLmVuZFdlZWtkYXkgYXMgbnVtYmVyKSAtIHRpbWUuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IG5ldyBEYXRlKHRpbWUpO1xuICAgICAgICAgICAgcnVsZUVuZEFwcGxpZWREYXRlLnNldEhvdXJzKHJ1bGUuZW5kSG91cik7XG4gICAgICAgICAgICBydWxlRW5kQXBwbGllZERhdGUuc2V0TWludXRlcyhydWxlLmVuZE1pbnV0ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHRpbWUgPj0gcnVsZVN0YXJ0QXBwbGllZERhdGUgJiYgZW5kVGltZSA8PSBydWxlRW5kQXBwbGllZERhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFzbG90RXhpc3RzSW5PcGVuSG91cnMpIHtcbiAgICAgICAgICAgIGF2YWlsYWJpbGl0eSA9IEF2YWlsYWJpbGl0eVN0YXR1cy5DTE9TRUQ7XG4gICAgICAgICAgICBmcmVlQ2FsZW5kYXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSB0aGUgQ29uc2VjdXRpdmUgRXZlbnRzIG1vZGVsLCB3aGVyZSBhIHNsb3QgaWYgYnVzeSBpZiBpdCBmYWxscyB3aXRoaW4gYSBjb25zZWN1dGl2ZSB0aW1lc2xvdC5cbiAgICAgIC8vIE5vbmUgb2YgdGhlIG90aGVyIGFib3ZlIHJ1bGVzIHNob3VsZCBhcHBseSwgZXhjZXB0IChtYXliZSEpIEJ1ZmZlciBhbmQgT3BlbiBIb3Vycy5cbiAgICAgIGlmIChpbnRlcm5hbFByb3BzLmV2ZW50cz8ubGVuZ3RoID4gMSAmJiBjb25zZWN1dGl2ZU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0c1dpdGhpbkNvbnNlY3V0aXZlQmxvY2sgPSBjb25zZWN1dGl2ZU9wdGlvbnMuc29tZShcbiAgICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHRpbWUgPj0gZXZlbnRbMF0uc3RhcnRfdGltZSAmJlxuICAgICAgICAgICAgICBlbmRUaW1lIDw9IGV2ZW50W2V2ZW50Lmxlbmd0aCAtIDFdLmVuZF90aW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIGlmIChleGlzdHNXaXRoaW5Db25zZWN1dGl2ZUJsb2NrKSB7XG4gICAgICAgICAgYXZhaWxhYmlsaXR5ID0gQXZhaWxhYmlsaXR5U3RhdHVzLkZSRUU7XG4gICAgICAgICAgZnJlZUNhbGVuZGFycy5sZW5ndGggPSBjb25zZWN1dGl2ZVBhcnRpY2lwYW50cy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhaWxhYmlsaXR5ID0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1k7XG4gICAgICAgICAgZnJlZUNhbGVuZGFycy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUobmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKSkuZ2V0VGltZSgpO1xuICAgICAgY29uc3QgZGF5T2Zmc2V0ID1cbiAgICAgICAgKG5ldyBEYXRlKHRpbWVzdGFtcCkuZ2V0VGltZSgpIC0gdG9kYXkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpO1xuXG4gICAgICBjb25zdCB0aW1lT2Zmc2V0ID1cbiAgICAgICAgKG5ldyBEYXRlKHRpbWUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAvXG4gICAgICAgICgxMDAwICogNjAgKiA2MCAqIDI0KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2VsZWN0aW9uU3RhdHVzOiBTZWxlY3Rpb25TdGF0dXMuVU5TRUxFQ1RFRCxcbiAgICAgICAgYXZhaWxhYmlsaXR5OiBhdmFpbGFiaWxpdHksXG4gICAgICAgIGF2YWlsYWJsZV9jYWxlbmRhcnM6IGZyZWVDYWxlbmRhcnMsXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRpbWUsXG4gICAgICAgIGVuZF90aW1lOiBlbmRUaW1lLFxuICAgICAgICBmYWxsc1dpdGhpbkFsbG93ZWRUaW1lUmFuZ2U6XG4gICAgICAgICAgdGltZU9mZnNldCA+PSAwICYmXG4gICAgICAgICAgZGF5T2Zmc2V0ID49IGludGVybmFsUHJvcHMubWluX2Jvb2tfYWhlYWRfZGF5cyAmJlxuICAgICAgICAgIGRheU9mZnNldCA8PSBpbnRlcm5hbFByb3BzLm1heF9ib29rX2FoZWFkX2RheXMsXG4gICAgICB9O1xuICAgIH0pO1xufTtcblxuLy8gaHR0cHM6Ly9kZXJpY2tiYWlsZXkuY29tLzIwMTUvMDkvMDcvY2hlY2stZm9yLWRhdGUtcmFuZ2Utb3ZlcmxhcC13aXRoLWphdmFzY3JpcHQtYXJyYXlzLXNvcnRpbmctYW5kLXJlZHVjaW5nL1xuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXAoZXZlbnRzOiBUaW1lU2xvdFtdLCBzbG90OiBUaW1lU2xvdCk6IG51bWJlciB7XG4gIHJldHVybiBldmVudHMucmVkdWNlKChyZXN1bHQsIGN1cnJlbnQpID0+IHtcbiAgICBjb25zdCBvdmVybGFwID1cbiAgICAgIHNsb3Quc3RhcnRfdGltZSA8IGN1cnJlbnQuZW5kX3RpbWUgJiYgY3VycmVudC5zdGFydF90aW1lIDwgc2xvdC5lbmRfdGltZTtcblxuICAgIGlmIChvdmVybGFwKSB7XG4gICAgICAvLyBzdG9yZSB0aGUgYW1vdW50IG9mIG92ZXJsYXBcbiAgICAgIHJlc3VsdCsrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCAwKTtcbn1cbiIsIjxzdmVsdGU6b3B0aW9ucyB0YWc9XCJueWxhcy1hdmFpbGFiaWxpdHlcIiAvPlxuXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQge1xuICAgIGZvcm1hdFRpbWVTbG90LFxuICAgIGlzVmFsaWRUaW1lem9uZSxcbiAgICBzZXRUaW1lWm9uZU9mZnNldCxcbiAgfSBmcm9tIFwiQGNvbW1vbnMvbWV0aG9kcy9jb252ZXJ0RGF0ZVRpbWVab25lXCI7XG4gIGltcG9ydCB7XG4gICAgTWFuaWZlc3RTdG9yZSxcbiAgICBBdmFpbGFiaWxpdHlTdG9yZSxcbiAgICBFcnJvclN0b3JlLFxuICAgIENvbnNlY3V0aXZlQXZhaWxhYmlsaXR5U3RvcmUsXG4gIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbnMvc3JjXCI7XG4gIGltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSBcIkBjb21tb25zL21ldGhvZHMvYXBpXCI7XG4gIGltcG9ydCB7IG9uTW91bnQsIHRpY2sgfSBmcm9tIFwic3ZlbHRlXCI7XG4gIGltcG9ydCB7IGdldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gXCJzdmVsdGUvaW50ZXJuYWxcIjtcblxuICBpbXBvcnQge1xuICAgIGdldEV2ZW50RGlzcGF0Y2hlcixcbiAgICBidWlsZEludGVybmFsUHJvcHMsXG4gICAgYXJyYXlDb250YWluc0FycmF5LFxuICB9IGZyb20gXCJAY29tbW9ucy9tZXRob2RzL2NvbXBvbmVudFwiO1xuICBpbXBvcnQgdHlwZSB7IFRpbWVJbnRlcnZhbCB9IGZyb20gXCJkMy10aW1lXCI7XG4gIGltcG9ydCB7IHRpbWVXZWVrLCB0aW1lRGF5LCB0aW1lSG91ciwgdGltZU1pbnV0ZSB9IGZyb20gXCJkMy10aW1lXCI7XG4gIGltcG9ydCB7IHNjYWxlVGltZSwgc2NhbGVMaW5lYXIgfSBmcm9tIFwiZDMtc2NhbGVcIjtcbiAgaW1wb3J0IHsgbGlnaHRlbkhleENvbG91ciB9IGZyb20gXCJAY29tbW9ucy9tZXRob2RzL2NvbG91clwiO1xuICBpbXBvcnQge1xuICAgIFNlbGVjdGlvblN0YXR1cyxcbiAgICBBdmFpbGFiaWxpdHlTdGF0dXMsXG4gIH0gZnJvbSBcIkBjb21tb25zL2VudW1zL0F2YWlsYWJpbGl0eVwiO1xuXG4gIGltcG9ydCB0eXBlIHtcbiAgICBNYW5pZmVzdCxcbiAgICBUaW1lU2xvdCxcbiAgICBTZWxlY3RhYmxlU2xvdCxcbiAgICBBdmFpbGFiaWxpdHlRdWVyeSxcbiAgICBBdmFpbGFiaWxpdHlSdWxlLFxuICAgIERheSxcbiAgICBQcmVEYXRlZFRpbWVTbG90LFxuICAgIE9wZW5Ib3VycyxcbiAgICBBdmFpbGFiaWxpdHlSZXNwb25zZSxcbiAgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQXZhaWxhYmlsaXR5XCI7XG4gIGltcG9ydCBcIkBjb21tb25zL2NvbXBvbmVudHMvQ29udGFjdEltYWdlL0NvbnRhY3RJbWFnZS5zdmVsdGVcIjtcbiAgaW1wb3J0IFwiQGNvbW1vbnMvY29tcG9uZW50cy9FcnJvck1lc3NhZ2Uuc3ZlbHRlXCI7XG4gIGltcG9ydCB7XG4gICAgZ2V0VGltZVN0cmluZyxcbiAgICBnZXRDb25kZW5zZWRUaW1lU3RyaW5nLFxuICAgIHNob3dEYXRlUmFuZ2UsXG4gIH0gZnJvbSBcIkBjb21tb25zL21ldGhvZHMvZGF0ZXRpbWVcIjtcbiAgaW1wb3J0IEJhY2tJY29uIGZyb20gXCIuL2Fzc2V0cy9sZWZ0LWFycm93LnN2Z1wiO1xuICBpbXBvcnQgTmV4dEljb24gZnJvbSBcIi4vYXNzZXRzL3JpZ2h0LWFycm93LnN2Z1wiO1xuICBpbXBvcnQgeyBpc0F2YWlsYWJsZSB9IGZyb20gXCIuL21ldGhvZC9zbG90XCI7XG4gIGltcG9ydCB7XG4gICAgYnVpbGRPcGVuSG91cnMsXG4gICAgY29udmVydEhvdXJBc3N1bXB0aW9uc1RvT3BlbkhvdXJzLFxuICB9IGZyb20gXCIuL21ldGhvZC9vcGVuaG91cnNcIjtcbiAgaW1wb3J0IHR5cGUgeyBFdmVudERlZmluaXRpb24gfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvU2NoZWR1bGVFZGl0b3JcIjtcbiAgaW1wb3J0IHR5cGUgeyBDb25zZWN1dGl2ZUV2ZW50IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0Jvb2tpbmdcIjtcbiAgaW1wb3J0IHsgZ2VuZXJhdGVEYXlTbG90cyB9IGZyb20gXCIuL21ldGhvZC9hdmFpbGFiaWxpdHlVdGlsc1wiO1xuXG4gIC8vI3JlZ2lvbiBwcm9wc1xuICBleHBvcnQgbGV0IGlkOiBzdHJpbmcgPSBcIlwiO1xuICBleHBvcnQgbGV0IGFjY2Vzc190b2tlbjogc3RyaW5nID0gXCJcIjtcblxuICBleHBvcnQgbGV0IGV2ZW50X3RvX2hvdmVyOiBDb25zZWN1dGl2ZUV2ZW50W10gfCBudWxsID0gbnVsbDtcbiAgZXhwb3J0IGxldCBldmVudF90b19zZWxlY3Q6IENvbnNlY3V0aXZlRXZlbnRbXSB8IG51bGwgPSBudWxsO1xuXG4gIGV4cG9ydCBsZXQgYWxsb3dfYm9va2luZzogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCBhbGxvd19kYXRlX2NoYW5nZTogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCBhdHRlbmRlZXNfdG9fc2hvdzogbnVtYmVyO1xuICBleHBvcnQgbGV0IGF2YWlsYWJpbGl0eTogQXZhaWxhYmlsaXR5UmVzcG9uc2U7XG4gIGV4cG9ydCBsZXQgYm9va2luZ19vcHRpb25zOiBDb25zZWN1dGl2ZUV2ZW50W11bXTtcbiAgZXhwb3J0IGxldCBib29raW5nX3VzZXJfZW1haWw6IHN0cmluZztcbiAgZXhwb3J0IGxldCBib29raW5nX3VzZXJfdG9rZW46IHN0cmluZztcbiAgZXhwb3J0IGxldCBidXN5X2NvbG9yOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgY2FwYWNpdHk6IG51bWJlciB8IG51bGw7XG4gIGV4cG9ydCBsZXQgY2xvc2VkX2NvbG9yOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgZGF0ZV9mb3JtYXQ6IFwid2Vla2RheVwiIHwgXCJkYXRlXCIgfCBcImZ1bGxcIiB8IFwibm9uZVwiO1xuICBleHBvcnQgbGV0IGRhdGVzX3RvX3Nob3c6IG51bWJlcjtcbiAgZXhwb3J0IGxldCBlbmRfaG91cjogbnVtYmVyO1xuICBleHBvcnQgbGV0IGV2ZW50X2J1ZmZlcjogbnVtYmVyO1xuICBleHBvcnQgbGV0IGZyZWVfY29sb3I6IHN0cmluZztcbiAgZXhwb3J0IGxldCBtYW5kYXRlX3RvcF9vZl9ob3VyOiBib29sZWFuO1xuICBleHBvcnQgbGV0IG1heF9ib29rX2FoZWFkX2RheXM6IG51bWJlcjtcbiAgZXhwb3J0IGxldCBtaW5fYm9va19haGVhZF9kYXlzOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgb3Blbl9ob3VyczogQXZhaWxhYmlsaXR5UnVsZVtdO1xuICBleHBvcnQgbGV0IG92ZXJib29rZWRfdGhyZXNob2xkOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgcGFydGlhbF9ib29rYWJsZV9yYXRpbzogbnVtYmVyO1xuICBleHBvcnQgbGV0IHBhcnRpYWxfY29sb3I6IHN0cmluZztcbiAgZXhwb3J0IGxldCByZXF1aXJlZF9wYXJ0aWNpcGFudHM6IHN0cmluZ1tdO1xuICBleHBvcnQgbGV0IHNlbGVjdGVkX2NvbG9yOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgc2hvd19hc193ZWVrOiBib29sZWFuO1xuICBleHBvcnQgbGV0IHNob3dfaGVhZGVyOiBib29sZWFuO1xuICBleHBvcnQgbGV0IHNob3dfaG9zdHM6IFwic2hvd1wiIHwgXCJoaWRlXCI7XG4gIGV4cG9ydCBsZXQgc2hvd190aWNrczogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCBzaG93X3dlZWtlbmRzOiBib29sZWFuO1xuICBleHBvcnQgbGV0IHNsb3Rfc2l6ZTogbnVtYmVyOyAvLyBpbiBtaW51dGVzXG4gIGV4cG9ydCBsZXQgc3RhcnRfZGF0ZTogRGF0ZSB8IG51bGw7XG4gIGV4cG9ydCBsZXQgc3RhcnRfaG91cjogbnVtYmVyO1xuICBleHBvcnQgbGV0IHRpbWV6b25lOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgdmlld19hczogXCJzY2hlZHVsZVwiIHwgXCJsaXN0XCI7XG4gIGV4cG9ydCBsZXQgdW5hdmFpbGFibGVfY29sb3I6IHN0cmluZztcbiAgZXhwb3J0IGxldCBldmVudHM6IEV2ZW50RGVmaW5pdGlvbltdO1xuXG4gIGNvbnN0IGRlZmF1bHRWYWx1ZU1hcDogUGFydGlhbDxNYW5pZmVzdD4gPSB7XG4gICAgYWxsb3dfYm9va2luZzogZmFsc2UsXG4gICAgYWxsb3dfZGF0ZV9jaGFuZ2U6IHRydWUsXG4gICAgYXR0ZW5kZWVzX3RvX3Nob3c6IDUsXG4gICAgYnVzeV9jb2xvcjogXCIjRUUzMjQ4Y2NcIixcbiAgICBjYWxlbmRhcnM6IFtdLFxuICAgIGNsb3NlZF9jb2xvcjogXCIjRUUzMjQ4Y2NcIixcbiAgICBkYXRlX2Zvcm1hdDogXCJmdWxsXCIsXG4gICAgZGF0ZXNfdG9fc2hvdzogMSxcbiAgICBlbmRfaG91cjogMjQsXG4gICAgZXZlbnRfYnVmZmVyOiAwLFxuICAgIGZyZWVfY29sb3I6IFwiIzA3ODM1MWNjXCIsXG4gICAgbWFuZGF0ZV90b3Bfb2ZfaG91cjogZmFsc2UsXG4gICAgbWF4X2Jvb2tfYWhlYWRfZGF5czogMzAsXG4gICAgbWluX2Jvb2tfYWhlYWRfZGF5czogMCxcbiAgICBvcGVuX2hvdXJzOiBbXSxcbiAgICBvdmVyYm9va2VkX3RocmVzaG9sZDogMTAwLFxuICAgIHBhcnRpYWxfYm9va2FibGVfcmF0aW86IDAuMDEsXG4gICAgcGFydGlhbF9jb2xvcjogXCIjRkVDQTdDY2NcIixcbiAgICByZXF1aXJlZF9wYXJ0aWNpcGFudHM6IFtdLFxuICAgIHNlbGVjdGVkX2NvbG9yOiBcIiMwMDJkYjRcIixcbiAgICBzaG93X2FzX3dlZWs6IGZhbHNlLFxuICAgIHNob3dfaGVhZGVyOiB0cnVlLFxuICAgIHNob3dfaG9zdHM6IFwic2hvd1wiLFxuICAgIHNob3dfdGlja3M6IHRydWUsXG4gICAgc2hvd193ZWVrZW5kczogdHJ1ZSxcbiAgICBzbG90X3NpemU6IDE1LFxuICAgIHN0YXJ0X2RhdGU6IG5ldyBEYXRlKCksXG4gICAgc3RhcnRfaG91cjogMCxcbiAgICB0aW1lem9uZTogXCJcIixcbiAgICB2aWV3X2FzOiBcInNjaGVkdWxlXCIsXG4gICAgdW5hdmFpbGFibGVfY29sb3I6IFwiI0RERFwiLFxuICAgIGV2ZW50czogW10sXG4gIH07XG5cbiAgJDogaGFzRXJyb3IgPSBPYmplY3Qua2V5cygkRXJyb3JTdG9yZSkubGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xuICAvKipcbiAgICogUmUtbG9hZHMgYXZhaWxhYmlsaXR5IGRhdGEgZnJvbSB0aGUgTnlsYXMgQVBJLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyU2VsZWN0aW9uIFVzZWQgdG8gaW5kaWNhdGUgd2hldGhlciBhbnkgY3VycmVudGx5IHNlbGVjdGVkIHRpbWVzbG90cyBzaG91bGQgYmUgY2xlYXJlZC4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2xvdHNCb29rZWQgVXNlZCB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBjb21wb25lbnQgc2hvdWxkIGFzc3VtZSB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCBzbG90cyB3ZXJlIGJvb2tlZC4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqL1xuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVsb2FkKGNsZWFyU2VsZWN0aW9uID0gZmFsc2UsIHNsb3RzQm9va2VkID0gZmFsc2UpIHtcbiAgICBhd2FpdCBnZXRBdmFpbGFiaWxpdHkodHJ1ZSk7XG5cbiAgICBpZiAoc2xvdHNCb29rZWQpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkU2xvdHM6IGFueSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBkYXkgb2YgZGF5cykge1xuICAgICAgICAvLyBUT0RPOiB2ZXJpZnkgdGhhdCB0aGlzIHdvcmtzIG5vdyB0aGF0IEFQSS1mZXRjaGVkIGF2YWlsYWJpbGl0eSBpcyBvZiB0eXBlIFwiZnJlZVwiIHJhdGhlciB0aGFuIFwiYnVzeVwiIChzZWUgc3RhdHVzPVwiYnVzeVwiIGluIHNlbGVjdGVkIHNsb3RzIGJlbG93KVxuICAgICAgICBzZWxlY3RlZFNsb3RzLnB1c2goXG4gICAgICAgICAgLi4uZGF5Py5zbG90c1xuICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgKHNsb3Q6IGFueSkgPT4gc2xvdC5zZWxlY3Rpb25TdGF0dXMgPT09IFNlbGVjdGlvblN0YXR1cy5TRUxFQ1RFRCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5tYXAoKHNsb3Q6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcImJ1c3lcIixcbiAgICAgICAgICAgICAgc3RhcnRfdGltZTogbmV3IERhdGUoc2xvdC5zdGFydF90aW1lKS5nZXRUaW1lKCkgLyAxMDAwLFxuICAgICAgICAgICAgICBlbmRfdGltZTogbmV3IERhdGUoc2xvdC5lbmRfdGltZSkuZ2V0VGltZSgpIC8gMTAwMCxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBjYWxlbmRhciBvZiBhbGxDYWxlbmRhcnMpIHtcbiAgICAgICAgY2FsZW5kYXIudGltZXNsb3RzLnB1c2goLi4uc2VsZWN0ZWRTbG90cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNsZWFyU2VsZWN0aW9uICYmIEFycmF5LmlzQXJyYXkoZGF5cykpIHtcbiAgICAgIGZvciAoY29uc3QgZGF5IG9mIGRheXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBzbG90IG9mIGRheS5zbG90cykge1xuICAgICAgICAgIHNsb3Quc2VsZWN0aW9uU3RhdHVzID0gU2VsZWN0aW9uU3RhdHVzLlVOU0VMRUNURUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRheXMgPSBbLi4uZGF5c107XG4gICAgfVxuICB9XG5cbiAgLy8jZW5kcmVnaW9uIHByb3BzXG5cbiAgdHlwZSBTbG90UmVmcyA9IFJlY29yZDxzdHJpbmcsIEFycmF5PEhUTUxFbGVtZW50IHwgbnVsbD4+O1xuXG4gIC8vI3JlZ2lvbiBtb3VudCBhbmQgcHJvcCBpbml0aWFsaXphdGlvblxuICBsZXQgX3RoaXMgPSA8TWFuaWZlc3Q+YnVpbGRJbnRlcm5hbFByb3BzKHt9LCB7fSwgZGVmYXVsdFZhbHVlTWFwKTtcbiAgbGV0IG1hbmlmZXN0OiBQYXJ0aWFsPE1hbmlmZXN0PiA9IHt9O1xuICBsZXQgbG9hZGluZzogYm9vbGVhbjtcbiAgbGV0IGRheVJlZjogSFRNTEVsZW1lbnRbXSA9IFtdO1xuICBsZXQgc2xvdFJlZjogU2xvdFJlZnMgPSB7fTsgLy8gbWFwcGluZyBvZiBkYXRlcyB0byBzbG90IGJ1dHRvbiBET00gbm9kZXNcbiAgbGV0IGRheU9yZGVyOiBzdHJpbmdbXSA9IFtdOyAvLyBtYWludGFpbnMgb3JkZXIgb2YgZGlzcGxheWVkIGRhdGVzXG5cbiAgJDoge1xuICAgIGlmIChcbiAgICAgIF90aGlzLmRhdGVzX3RvX3Nob3cgfHxcbiAgICAgIF90aGlzLnNob3dfdGlja3MgfHxcbiAgICAgIF90aGlzLnNob3dfYXNfd2VlayB8fFxuICAgICAgX3RoaXMuc2hvd193ZWVrZW5kc1xuICAgICkge1xuICAgICAgLy8gQ2hhbmdlcyB0byB0aGVzZSBwcm9wcyB3aWxsIHJlc2l6ZSB0aGUgd2lkdGggb2YgZGF5IGNvbnRhaW5lclxuICAgICAgZGF5UmVmID0gZGF5UmVmLmZpbHRlcigoZGF5KSA9PiAhIWRheSk7XG4gICAgfVxuICB9XG5cbiAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGljaygpO1xuICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgIGNsaWVudEhlaWdodCA9IG1haW4/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICBkYXlDb250YWluZXJXaWR0aCA9IG1haW4/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICBjb25zdCBzdG9yZUtleSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGNvbXBvbmVudF9pZDogaWQsXG4gICAgICBhY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG4gICAgbWFuaWZlc3QgPSAoYXdhaXQgJE1hbmlmZXN0U3RvcmVbc3RvcmVLZXldKSB8fCB7fTtcblxuICAgIF90aGlzID0gYnVpbGRJbnRlcm5hbFByb3BzKCQkcHJvcHMsIG1hbmlmZXN0LCBkZWZhdWx0VmFsdWVNYXApIGFzIE1hbmlmZXN0O1xuICAgIHRyYW5zZm9ybVByb3BlcnR5VmFsdWVzKCk7XG5cbiAgICBsb2FkaW5nID0gZmFsc2U7XG4gIH0pO1xuXG4gIGxldCBwcmV2aW91c1Byb3BzID0gJCRwcm9wcztcbiAgJDoge1xuICAgIC8vIFRPRE8gLSBVc2UgYSBsaWJyYXJ5IHRvIGNhbGN1bGF0ZSB0aGUgZGlmZiBiZXR3ZWVuIHByb3BzIHNvIHRoYXRcbiAgICAvLyBvbmx5IHVwZGF0ZWQgcHJvcHMgYXJlIHJlYXNzaWduZWQgaW5zdGVhZCBvZiByZWJ1aWxkaW5nIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgaWYgKFxuICAgICAgKCQkcHJvcHMuZXZlbnRfdG9faG92ZXIgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBwcmV2aW91c1Byb3BzLmV2ZW50X3RvX2hvdmVyID09PSAkJHByb3BzLmV2ZW50X3RvX2hvdmVyKSAmJlxuICAgICAgSlNPTi5zdHJpbmdpZnkocHJldmlvdXNQcm9wcykgIT09IEpTT04uc3RyaW5naWZ5KCQkcHJvcHMpXG4gICAgKSB7XG4gICAgICBfdGhpcyA9IGJ1aWxkSW50ZXJuYWxQcm9wcyhcbiAgICAgICAgJCRwcm9wcyxcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIGRlZmF1bHRWYWx1ZU1hcCxcbiAgICAgICkgYXMgTWFuaWZlc3Q7XG4gICAgICBwcmV2aW91c1Byb3BzID0gJCRwcm9wcztcbiAgICAgIHRyYW5zZm9ybVByb3BlcnR5VmFsdWVzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJvcGVydGllcyByZXF1aXJpbmcgZnVydGhlciBtYW5pcHVsYXRpb246XG4gIGZ1bmN0aW9uIHRyYW5zZm9ybVByb3BlcnR5VmFsdWVzKCkge1xuICAgIGlmICghX3RoaXMuc3RhcnRfZGF0ZSkge1xuICAgICAgX3RoaXMuc3RhcnRfZGF0ZSA9IGRlZmF1bHRWYWx1ZU1hcC5zdGFydF9kYXRlO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy50aW1lem9uZSkge1xuICAgICAgaWYgKCFpc1ZhbGlkVGltZXpvbmUoX3RoaXMudGltZXpvbmUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBJQU5BIHRpbWUgem9uZTogJHtfdGhpcy50aW1lem9uZX1gKTtcbiAgICAgICAgX3RoaXMudGltZXpvbmUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBfdGhpcy50aW1lem9uZSA9PT0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lXG4gICAgICApIHtcbiAgICAgICAgX3RoaXMudGltZXpvbmUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgJDogKGFzeW5jICgpID0+IHtcbiAgICBpZiAoX3RoaXMuYm9va2luZ19vcHRpb25zKSB7XG4gICAgICBjb25zZWN1dGl2ZU9wdGlvbnMgPSBfdGhpcy5ib29raW5nX29wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgICFsb2FkaW5nICYmXG4gICAgICBpZCAmJlxuICAgICAgQXJyYXkuaXNBcnJheShfdGhpcy5ldmVudHMpICYmXG4gICAgICBkYXlSYW5nZS5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICBhd2FpdCBidWlsZENvbnNlY3V0aXZlT3B0aW9ucygpO1xuICAgIH1cbiAgICBidWlsZERhaWx5Q29uc2VjdXRpdmVPcHRpb25zKCk7XG4gIH0pKCk7XG5cbiAgLy8jZW5kcmVnaW9uIG1vdW50IGFuZCBwcm9wIGluaXRpYWxpemF0aW9uXG5cbiAgY29uc3QgZGlzcGF0Y2hFdmVudCA9IGdldEV2ZW50RGlzcGF0Y2hlcihnZXRfY3VycmVudF9jb21wb25lbnQoKSk7XG5cbiAgJDogaWYgKE9iamVjdC5rZXlzKCRFcnJvclN0b3JlKS5sZW5ndGgpIHtcbiAgICBkaXNwYXRjaEV2ZW50KFwib25FcnJvclwiLCAkRXJyb3JTdG9yZSk7XG4gIH1cblxuICAvLyNyZWdpb24gbGF5b3V0XG5cbiAgbGV0IG1haW46IEhUTUxFbGVtZW50O1xuICBsZXQgdGlja0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGxldCBkYXlDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBsZXQgZGF5Q29udGFpbmVyV2lkdGg6IG51bWJlciA9IDA7XG4gIGxldCBjbGllbnRIZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdCBNSU5JTVVNX0RBWV9XSURUSCA9IDEwMDtcblxuICAvLyBJbnRlcm5hbGx5LXNldHRhYmxlIHJlYWN0aXZlLXRvLWV4dGVybmFsLXByb3BzIHZhcmlhYmxlXG4gIGxldCBkYXRlc1RvU2hvdzogbnVtYmVyO1xuXG4gICQ6IG9wdGltYWxEYXRlc1RvU2hvdyA9XG4gICAgTWF0aC5mbG9vcihkYXlDb250YWluZXJXaWR0aCAvIE1JTklNVU1fREFZX1dJRFRIKSB8fCAxO1xuICAkOiBkYXRlc1RvU2hvdyA9XG4gICAgb3B0aW1hbERhdGVzVG9TaG93IDwgX3RoaXMuZGF0ZXNfdG9fc2hvdyB8fCBfdGhpcy5zaG93X2FzX3dlZWtcbiAgICAgID8gb3B0aW1hbERhdGVzVG9TaG93XG4gICAgICA6IF90aGlzLmRhdGVzX3RvX3Nob3c7XG5cbiAgJDogdG9vU21hbGxGb3JXZWVrID0gX3RoaXMuc2hvd19hc193ZWVrICYmIG9wdGltYWxEYXRlc1RvU2hvdyA8IDc7XG5cbiAgLy8jZW5kcmVnaW9uIGxheW91dFxuXG4gIC8vI3JlZ2lvbiBkYXRhIGdlbmVyYXRpb25cblxuICAvLyBZb3UgY2FuIGhhdmUgYXMgZmV3IGFzIDEsIGFuZCBhcyBtYW55IGFzIDcsIGRheXMgc2hvd25cbiAgLy8gc3RhcnRfZGF0ZSBhbmQgZGF0ZXNUb1Nob3cgZ2V0IG92ZXJydWxlZCBieSBzaG93X2FzX3dlZWsgKGFsd2F5cyBzaG93cyA1IG9yIDcgZGF0ZXMgdGhhdCBpbmNsdWRlIHlvdXIgc3RhcnRfZGF0ZSBpbnN0ZWFkKVxuICBsZXQgc3RhcnREYXk6IERhdGU7IC8vIHRoZSBmaXJzdCBkYXkgY29sdW1uIHNob3duOyBkZXBlbmRzIG9uIHNob3dfYXNfd2Vla1xuICBsZXQgZW5kRGF5OiBEYXRlO1xuXG4gICQ6IGRheVJhbmdlID0gKCgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgKF90aGlzLnNob3dfd2Vla2VuZHMgfHwgIV90aGlzLnNob3dfd2Vla2VuZHMpICYmXG4gICAgICBnZW5lcmF0ZURheVJhbmdlKFxuICAgICAgICBzdGFydERheSwgLy8gVE9ETzogd2VpcmQganVzdCB0byBnZXQgc2hvd193ZWVrZW5kcyBwYXNzZWQgaW5cbiAgICAgICAgX3RoaXMuc2hvd19hc193ZWVrXG4gICAgICAgICAgPyB0aW1lRGF5Lm9mZnNldChzdGFydERheSwgdG9vU21hbGxGb3JXZWVrID8gZGF0ZXNUb1Nob3cgLSAxIDogNilcbiAgICAgICAgICA6IHRpbWVEYXkub2Zmc2V0KHN0YXJ0RGF5LCBkYXRlc1RvU2hvdyAtIDEpLFxuICAgICAgKVxuICAgICk7XG4gIH0pKCk7XG5cbiAgJDogc3RhcnREYXkgPVxuICAgIF90aGlzLnNob3dfYXNfd2VlayAmJiAhdG9vU21hbGxGb3JXZWVrXG4gICAgICA/IHRpbWVXZWVrLmZsb29yKF90aGlzLnN0YXJ0X2RhdGUpXG4gICAgICA6IHRpbWVEYXkuZmxvb3IoX3RoaXMuc3RhcnRfZGF0ZSk7XG5cbiAgJDogZW5kRGF5ID0gZGF5UmFuZ2VbZGF5UmFuZ2UubGVuZ3RoIC0gMV07XG5cbiAgbGV0IG1heEJvb2tBaGVhZE9mZnNldDogc3RyaW5nO1xuICBsZXQgbWluQm9va0FoZWFkT2Zmc2V0OiBzdHJpbmc7XG5cbiAgJDogbWF4Qm9va0FoZWFkT2Zmc2V0ID0gdGltZURheVxuICAgIC5vZmZzZXQobmV3IERhdGUoKSwgX3RoaXMubWF4X2Jvb2tfYWhlYWRfZGF5cylcbiAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG5cbiAgJDogbWluQm9va0FoZWFkT2Zmc2V0ID0gdGltZURheVxuICAgIC5vZmZzZXQobmV3IERhdGUoKSwgX3RoaXMubWluX2Jvb2tfYWhlYWRfZGF5cylcbiAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG5cbiAgbGV0IHRpY2tzOiBEYXRlW10gPSBbXTtcblxuICBjb25zdCBtaW5pbXVtVGlja0hlaWdodCA9IDMwOyAvLyBtaW5pbXVtIHBpeGVscyBiZXR3ZWVuIHRpY2tzLCB2ZXJ0aWNhbGx5XG4gIGNvbnN0IHNsb3RTaXplcyA9IFsxNSwgMzAsIDYwLCAxODAsIDM2MF07IC8vIHdlIG9ubHkgd2FudCB0byBzaG93IHRpY2tzIGluIGludGVydmFscyBvZiAxNSBtaW5zLCAzMCBtaW5zLCA2MCBtaW5zLCAzIGhvdXJzLCBvciA2IGhvdXJzLlxuXG4gICQ6IHRpY2tzID0gZ2VuZXJhdGVUaWNrcyhcbiAgICBjbGllbnRIZWlnaHQsXG4gICAgKGRheXNbMF0gPz8ge30pLnNsb3RzPy5tYXAoKHNsb3Q6IFRpbWVTbG90KSA9PiBzbG90LnN0YXJ0X3RpbWUpLFxuICApO1xuXG4gIC8vIFdlIGRvbid0IHdhbnQgdG8gc2hvdyBhbGwgOTYgMTUtbWludXRlIGludGVydmFscyB1bmxlc3MgdGhlIHVzZXIgaGFzIGEgcmVhbCB0YWxsIHNjcmVlbi5cbiAgLy8gU28gbGV0J3MgYmUgc21hcnQgYWJvdXQgaXQgYW5kIGZpbHRlciBvbiBtb2RpZmljYXRpb24gb2Ygc3RhcnRfdGltZSwgZW5kX3RpbWUsIHNsb3Rfc2l6ZSwgb3IgY2xpZW50SGVpZ2h0XG4gIC8vIGdlbmVyYXRlVGlja3MoKSBpcyBhIHJlY3Vyc2l2ZSBmdW5jIHRoYXQgcmV0cmllcyBpZiBhIG1pbmltdW1UaWNrSGVpZ2h0IHRocmVzaG9sZCBpcyBub3QgbWV0XG4gIC8vIENhbGN1bGF0aW9uIGdvYWwgb2YgPCA1bXMgLS0gY29uc29sZS50aW1lcnMga2VwdCBpbiBwbGFjZSBmb3IgZnV0dXJlIGRldmVsb3BtZW50IHRlc3RpbmcuXG4gIGNvbnN0IGdlbmVyYXRlVGlja3MgPSAoXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgdGlja3M6IERhdGVbXSxcbiAgICBpbnRlcnZhbENvdW50ZXI6IG51bWJlciA9IDAsXG4gICk6IERhdGVbXSA9PiB7XG4gICAgaWYgKGhlaWdodCA9PT0gdW5kZWZpbmVkIHx8IHRpY2tzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCB0aWNrSXRlcnMgPSBzbG90U2l6ZXNbaW50ZXJ2YWxDb3VudGVyXTtcblxuICAgIC8vIHRlcm5hcnkgaGVyZSBiZWNhdXNlIHRpbWVNaW51dGUuZXZlcnkoMTIwKSBkb2VzbnQgd29yaywgYnV0IHRpbWVIb3VyLmV2ZXJ5KDIpIGRvZXMuXG4gICAgbGV0IHRpbWVJbnRlcnZhbCA9XG4gICAgICB0aWNrSXRlcnMgPiA2MFxuICAgICAgICA/IHRpbWVIb3VyLmV2ZXJ5KHRpY2tJdGVycyAvIDYwKVxuICAgICAgICA6IHRpbWVNaW51dGUuZXZlcnkodGlja0l0ZXJzKTtcblxuICAgIHRpY2tzID0gc2NhbGVUaW1lKClcbiAgICAgIC5kb21haW4odGlja3MpXG4gICAgICAudGlja3ModGltZUludGVydmFsIGFzIFRpbWVJbnRlcnZhbCk7XG5cbiAgICBjb25zdCBhdmVyYWdlVGlja0hlaWdodCA9IGhlaWdodCAvIHRpY2tzLmxlbmd0aDtcblxuICAgIGlmIChcbiAgICAgIHRpY2tJdGVycyA8IF90aGlzLnNsb3Rfc2l6ZSB8fCAvLyBkb250IHNob3cgMTUtbWluIHRpY2tzIGlmIHNsb3Qgc2l6ZSBpcyBob3VybHlcbiAgICAgIChhdmVyYWdlVGlja0hlaWdodCA8IG1pbmltdW1UaWNrSGVpZ2h0ICYmIC8vIG1ha2Ugc3VyZSB0aWNrcydyZSBhdCBsZWFzdCB5ZWEtcGl4ZWxzIHRhbGxcbiAgICAgICAgaW50ZXJ2YWxDb3VudGVyIDwgc2xvdFNpemVzLmxlbmd0aCkgLy8gZG9uJ3QgdHJ5IHRvIGtlZXAgZ29pbmcgaWYgeW91dmUgcmVhY2hlZCBldmVyeSA2IGhvdXJzLiBTdWJkaXZpZGluZyBhIGRheSBpbnRvIGZld2VyIHRoYW4gNCBwYXJ0cyBkb2Vzbid0IHlpZWxkIGEgbmljZSByZXN1bHQuXG4gICAgKSB7XG4gICAgICByZXR1cm4gZ2VuZXJhdGVUaWNrcyhoZWlnaHQsIHRpY2tzLCBpbnRlcnZhbENvdW50ZXIgKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH1cbiAgfTtcblxuICAvLyBDb25zZWN1dGl2ZSBzYW1lLWF2YWlsYWJpbGl0eSBwZXJpb2RzIG9mIHRpbWUsIGZyb20gZWFybGllc3Qgc3RhcnRfdGltZSB0byBsYXRlc3QgZW5kX3RpbWUuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRXBvY2hzKFxuICAgIHNsb3RzOiBTZWxlY3RhYmxlU2xvdFtdLFxuICAgIHBhcnRpYWxCb29rYWJsZVJhdGlvOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IGVwb2NoU2NhbGUgPSBzY2FsZVRpbWUoKS5kb21haW4oW1xuICAgICAgc2xvdHNbMF0uc3RhcnRfdGltZSxcbiAgICAgIHNsb3RzW3Nsb3RzLmxlbmd0aCAtIDFdLmVuZF90aW1lLFxuICAgIF0pO1xuICAgIHJldHVybiBzbG90c1xuICAgICAgLnJlZHVjZSgoZXBvY2hMaXN0LCBzbG90KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZFcG9jaCA9IGVwb2NoTGlzdFtlcG9jaExpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIEVkZ2UgY2FzZSBub3RlOiBhdmFpbGFibGVfY2FsZW5kYXJzIGlzIGRvaW5nIGEgc3RyaW5naWZpZWQgYXJyYXkgY29tcGFyZSxcbiAgICAgICAgLy8gd2hpY2ggbWVhbnMgaWYgdGhleSdyZSBkaWZmZXJlbnRseSBvcmRlcmVkIGJ1dCBvdGhlcndpc2UgdGVoIHNhbWUsIHRoaXMgd2lsbCBmYWlsLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJldkVwb2NoICYmXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldkVwb2NoWzBdLmF2YWlsYWJsZV9jYWxlbmRhcnMpID09PVxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2xvdC5hdmFpbGFibGVfY2FsZW5kYXJzKSAmJlxuICAgICAgICAgIHByZXZFcG9jaFswXS5hdmFpbGFiaWxpdHkgPT09IHNsb3QuYXZhaWxhYmlsaXR5XG4gICAgICAgICkge1xuICAgICAgICAgIHByZXZFcG9jaC5wdXNoKHNsb3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVwb2NoTGlzdC5wdXNoKFtzbG90XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVwb2NoTGlzdDtcbiAgICAgIH0sIFtdIGFzIFNlbGVjdGFibGVTbG90W11bXSlcbiAgICAgIC5tYXAoKGVwb2NoKSA9PiB7XG4gICAgICAgIGxldCBzdGF0dXMgPSBBdmFpbGFiaWxpdHlTdGF0dXMuRlJFRTtcblxuICAgICAgICBjb25zdCBudW1GcmVlQ2FsZW5kYXJzID0gZXBvY2hbMF0uYXZhaWxhYmxlX2NhbGVuZGFycy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZld2VyQ2FsZW5kYXJzVGhhblJhdGlvID1cbiAgICAgICAgICBudW1GcmVlQ2FsZW5kYXJzICE9PSBhbGxDYWxlbmRhcnMubGVuZ3RoICYmXG4gICAgICAgICAgbnVtRnJlZUNhbGVuZGFycyA8IGFsbENhbGVuZGFycy5sZW5ndGggKiBwYXJ0aWFsQm9va2FibGVSYXRpbztcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVtRnJlZUNhbGVuZGFycyA9PT0gMCB8fFxuICAgICAgICAgIGZld2VyQ2FsZW5kYXJzVGhhblJhdGlvIHx8XG4gICAgICAgICAgKF90aGlzLnJlcXVpcmVkX3BhcnRpY2lwYW50cy5sZW5ndGggJiZcbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgZXZlcnkgcGFydGljaXBhbnRzIGlzIGluY2x1ZGVkIGluIHRoZSBhdmFpbGFibGUgY2FsZW5kYXJcbiAgICAgICAgICAgICFhcnJheUNvbnRhaW5zQXJyYXkoXG4gICAgICAgICAgICAgIHJlcXVpcmVkUGFydGljaXBhbnRzLFxuICAgICAgICAgICAgICBlcG9jaFswXS5hdmFpbGFibGVfY2FsZW5kYXJzLFxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGVwb2NoWzBdLmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLkNMT1NFRCkge1xuICAgICAgICAgICAgc3RhdHVzID0gQXZhaWxhYmlsaXR5U3RhdHVzLkNMT1NFRDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0gQXZhaWxhYmlsaXR5U3RhdHVzLkJVU1k7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIG51bUZyZWVDYWxlbmRhcnMgPiAwICYmXG4gICAgICAgICAgbnVtRnJlZUNhbGVuZGFycyA8IGFsbENhbGVuZGFycy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgc3RhdHVzID0gQXZhaWxhYmlsaXR5U3RhdHVzLlBBUlRJQUw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXJ0X3RpbWU6IGVwb2NoWzBdLnN0YXJ0X3RpbWUsXG4gICAgICAgICAgb2Zmc2V0OiBlcG9jaFNjYWxlKGVwb2NoWzBdLnN0YXJ0X3RpbWUpICogMTAwLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBoZWlnaHQ6XG4gICAgICAgICAgICAoZXBvY2hTY2FsZShlcG9jaFtlcG9jaC5sZW5ndGggLSAxXS5lbmRfdGltZSkgLVxuICAgICAgICAgICAgICBlcG9jaFNjYWxlKGVwb2NoWzBdLnN0YXJ0X3RpbWUpKSAqXG4gICAgICAgICAgICAxMDAsXG4gICAgICAgICAgZW5kX3RpbWU6IGVwb2NoW2Vwb2NoLmxlbmd0aCAtIDFdLmVuZF90aW1lLFxuICAgICAgICAgIHNsb3RzOiBlcG9jaC5sZW5ndGgsXG4gICAgICAgICAgYXZhaWxhYmxlX2NhbGVuZGFyczogZXBvY2hbMF0uYXZhaWxhYmxlX2NhbGVuZGFycyxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVEYXlSYW5nZShcbiAgICBzdGFydERheTogRGF0ZSxcbiAgICBlbmREYXk6IERhdGUsXG4gICAgcmV2ZXJzZT86IGJvb2xlYW4sXG4gICk6IERhdGVbXSB7XG4gICAgbGV0IHJhbmdlID0gc2NhbGVUaW1lKClcbiAgICAgIC5kb21haW4oW3N0YXJ0RGF5LCBlbmREYXldKVxuICAgICAgLnRpY2tzKHRpbWVEYXkpXG4gICAgICAuZmlsdGVyKCh0aW1lc3RhbXA6IERhdGUpID0+IHtcbiAgICAgICAgaWYgKF90aGlzLnNob3dfd2Vla2VuZHMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGltZXN0YW1wLmdldERheSgpICE9PSA2ICYmIHRpbWVzdGFtcC5nZXREYXkoKSAhPT0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgaWYgKCFfdGhpcy5zaG93X2FzX3dlZWsgJiYgIV90aGlzLnNob3dfd2Vla2VuZHMpIHtcbiAgICAgIGlmIChyYW5nZS5sZW5ndGggPCBkYXRlc1RvU2hvdykge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgIHJldHVybiBnZW5lcmF0ZURheVJhbmdlKHRpbWVEYXkub2Zmc2V0KHN0YXJ0RGF5LCAtMSksIGVuZERheSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlRGF5UmFuZ2Uoc3RhcnREYXksIHRpbWVEYXkub2Zmc2V0KGVuZERheSwgMSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja092ZXJib29rZWQoc2xvdHM6IFNlbGVjdGFibGVTbG90W10pIHtcbiAgICBhbGxDYWxlbmRhcnMuZm9yRWFjaCgoY2FsZW5kYXIpID0+IHtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZVNsb3RzRm9yQ2FsZW5kYXIgPSBzbG90cy5maWx0ZXIoKHNsb3QpID0+XG4gICAgICAgIHNsb3QuYXZhaWxhYmxlX2NhbGVuZGFycy5pbmNsdWRlcyhjYWxlbmRhci5lbWFpbEFkZHJlc3MpLFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgc2xvdHMubGVuZ3RoIC0gYXZhaWxhYmxlU2xvdHNGb3JDYWxlbmRhci5sZW5ndGggPlxuICAgICAgICAoX3RoaXMub3ZlcmJvb2tlZF90aHJlc2hvbGQgKiBzbG90cy5sZW5ndGgpIC8gMTAwXG4gICAgICApIHtcbiAgICAgICAgYXZhaWxhYmxlU2xvdHNGb3JDYWxlbmRhci5mb3JFYWNoKChzbG90KSA9PiB7XG4gICAgICAgICAgc2xvdC5hdmFpbGFibGVfY2FsZW5kYXJzID0gc2xvdC5hdmFpbGFibGVfY2FsZW5kYXJzLmZpbHRlcihcbiAgICAgICAgICAgIChjYWwpID0+IGNhbCAhPT0gY2FsZW5kYXIuZW1haWxBZGRyZXNzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFzbG90LmF2YWlsYWJsZV9jYWxlbmRhcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBoYXMgbm8gY2FsZW5kYXJzIGF2YWlsYWJsZSwgaXQncyBidXN5XG4gICAgICAgICAgICBzbG90LmF2YWlsYWJpbGl0eSA9IEF2YWlsYWJpbGl0eVN0YXR1cy5CVVNZO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBzbG90LmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLkZSRUUgJiZcbiAgICAgICAgICAgIHNsb3QuYXZhaWxhYmxlX2NhbGVuZGFycy5sZW5ndGggIT09IGFsbENhbGVuZGFycy5sZW5ndGhcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IHdhcyBwcmV2aW91c2x5IGZyZWUsIGJ1dCBub3cgbGFja3MgYSBjYWxlbmRhciwgaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgUGFydGlhbC5cbiAgICAgICAgICAgIHNsb3QuYXZhaWxhYmlsaXR5ID0gQXZhaWxhYmlsaXR5U3RhdHVzLlBBUlRJQUw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzbG90cztcbiAgfVxuXG4gIGxldCBkYXlzOiBEYXlbXTtcbiAgJDogZGF5cyA9IGRheVJhbmdlLm1hcCgodGltZXN0YW1wOiBEYXRlKSA9PiB7XG4gICAgY29uc3Qgc2xvdHMgPSBjaGVja092ZXJib29rZWQoXG4gICAgICBnZW5lcmF0ZURheVNsb3RzKFxuICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgIGFsbENhbGVuZGFycyxcbiAgICAgICAgcmVxdWlyZWRQYXJ0aWNpcGFudHMsXG4gICAgICAgIGNvbnNlY3V0aXZlT3B0aW9ucyxcbiAgICAgICAgY29uc2VjdXRpdmVQYXJ0aWNpcGFudHMsXG4gICAgICAgIF90aGlzLFxuICAgICAgKSxcbiAgICApOyAvLyBUT0RPOiBpbmNsdWRlIG90aGVyIHBvdGVudGlhbCBwb3N0LWFsbC1zbG90cy1lc3RhYmxpc2hlZCBjaGVja3MsIGxpa2Ugb3ZlcmJvb2tlZCwgaW4gYSBzaW5nbGUgc2Vjb25kYXJ5IHJ1biBoZXJlLlxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVwb2NoczogZ2VuZXJhdGVFcG9jaHMoc2xvdHMsIF90aGlzLnBhcnRpYWxfYm9va2FibGVfcmF0aW8pLFxuICAgICAgc2xvdHMsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgfTtcbiAgfSk7XG4gIC8vI2VuZHJlZ2lvbiBkYXRhIGdlbmVyYXRpb25cblxuICAvLyAjcmVnaW9uIHRpbWVTbG90IHNlbGVjdGlvblxuICBsZXQgc2xvdFNlbGVjdGlvbjogU2VsZWN0YWJsZVNsb3RbXSA9IFtdO1xuICBsZXQgc29ydGVkU2xvdHM6IFNlbGVjdGFibGVTbG90W10gPSBbXTtcbiAgJDogc2xvdFNlbGVjdGlvbiA9IChkYXlzID8/IFtdKVxuICAgIC5tYXAoKGRheSkgPT5cbiAgICAgIGRheS5zbG90cy5maWx0ZXIoXG4gICAgICAgIChzbG90KSA9PiBzbG90LnNlbGVjdGlvblN0YXR1cyA9PT0gU2VsZWN0aW9uU3RhdHVzLlNFTEVDVEVELFxuICAgICAgKSxcbiAgICApXG4gICAgLmZsYXQoKTtcblxuICAkOiBzb3J0ZWRTbG90cyA9IHNsb3RTZWxlY3Rpb25cbiAgICAuc29ydCgoYSwgYikgPT4gYS5zdGFydF90aW1lLmdldFRpbWUoKSAtIGIuc3RhcnRfdGltZS5nZXRUaW1lKCkpXG4gICAgLnJlZHVjZSgoc2xvdExpc3QsIHNsb3QpID0+IHtcbiAgICAgIGNvbnN0IHByZXZTbG90ID0gc2xvdExpc3Rbc2xvdExpc3QubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoXG4gICAgICAgIHByZXZTbG90ICYmXG4gICAgICAgIHNsb3Quc3RhcnRfdGltZS5nZXRUaW1lKCkgPT09IHByZXZTbG90LmVuZF90aW1lLmdldFRpbWUoKVxuICAgICAgKSB7XG4gICAgICAgIHByZXZTbG90LmVuZF90aW1lID0gc2xvdC5lbmRfdGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsb3RMaXN0LnB1c2goeyAuLi5zbG90IH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsb3RMaXN0O1xuICAgIH0sIFtdIGFzIFNlbGVjdGFibGVTbG90W10pO1xuXG4gIGxldCBsYXN0RGlzcGF0Y2hlZFNsb3RzOiBTZWxlY3RhYmxlU2xvdFtdO1xuICAkOiB7XG4gICAgLy8gT25seSBkaXNwYXRjaCBpZiB0aGVyZSdzIGEgZGlmZlxuICAgIGlmIChKU09OLnN0cmluZ2lmeShzb3J0ZWRTbG90cykgIT09IEpTT04uc3RyaW5naWZ5KGxhc3REaXNwYXRjaGVkU2xvdHMpKSB7XG4gICAgICBsZXQgZGlzcGF0Y2hhYmxlU2xvdHMgPSBzb3J0ZWRTbG90cztcbiAgICAgIGlmIChzb3J0ZWRTbG90cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkQ29uc2VjdXRpdmVFdmVudEJsb2NrLmxlbmd0aCkge1xuICAgICAgICAgIGRpc3BhdGNoYWJsZVNsb3RzID0gc2VsZWN0ZWRDb25zZWN1dGl2ZUV2ZW50QmxvY2subWFwKChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuYXZhaWxhYmxlX2NhbGVuZGFycyA9IGV2ZW50LmVtYWlsczsgLy8gc2xvdC5hdmFpbGFibGVfY2FsZW5kYXJzIGlzIGEgbGl0dGxlIGNvbnZvbHV0ZWQgd2l0aCBmcmVlQ2FsZW5kYXJzIGFib3ZlLiBUT0RPOiByZWZhY3RvciBmcmVlQ2FsZW5kYXJzIGluIGdlbmVyYXRlRGF5U2xvdHMoKVxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc29ydGVkU2xvdHNbMF0sIC4uLmV2ZW50IH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlzcGF0Y2hhYmxlU2xvdHMgPSBkaXNwYXRjaGFibGVTbG90cy5tYXAoKHNsb3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLl90aGlzLmV2ZW50c1swXSwgLi4uc2xvdCB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkaXNwYXRjaEV2ZW50KFwidGltZVNsb3RDaG9zZW5cIiwge1xuICAgICAgICB0aW1lU2xvdHM6IGRpc3BhdGNoYWJsZVNsb3RzLm1hcCgoc2xvdCkgPT4gT2JqZWN0LmFzc2lnbih7fSwgc2xvdCkpLFxuICAgICAgfSk7XG4gICAgICBsYXN0RGlzcGF0Y2hlZFNsb3RzID0gc29ydGVkU2xvdHM7XG4gICAgfVxuICB9XG4gIC8vICNlbmRyZWdpb24gdGltZVNsb3Qgc2VsZWN0aW9uXG5cbiAgbGV0IGNvbnNlY3V0aXZlUGFydGljaXBhbnRzOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgc2luZ2xlRXZlbnRQYXJ0aWNpcGFudHM6IHN0cmluZ1tdID0gW107XG5cbiAgJDogaWYgKF90aGlzLmV2ZW50cz8ubGVuZ3RoICYmIF90aGlzLmV2ZW50cz8ubGVuZ3RoID4gMSkge1xuICAgIGNvbnNlY3V0aXZlUGFydGljaXBhbnRzID0gX3RoaXMuZXZlbnRzPy5mbGF0TWFwKChlKSA9PiBlLnBhcnRpY2lwYW50RW1haWxzKTtcbiAgICBzaW5nbGVFdmVudFBhcnRpY2lwYW50cyA9IFtdO1xuICAgIG5ld0NhbGVuZGFyVGltZXNsb3RzRm9yR2l2ZW5FbWFpbHMgPSBbXTtcbiAgfSBlbHNlIGlmIChfdGhpcy5ldmVudHM/Lmxlbmd0aCA9PT0gMSkge1xuICAgIHNpbmdsZUV2ZW50UGFydGljaXBhbnRzID0gX3RoaXMuZXZlbnRzPy5mbGF0TWFwKChlKSA9PiBlLnBhcnRpY2lwYW50RW1haWxzKTtcbiAgICBjb25zZWN1dGl2ZVBhcnRpY2lwYW50cyA9IFtdO1xuICAgIGRpc3BhdGNoRXZlbnQoXCJldmVudE9wdGlvbnNSZWFkeVwiLCB7XG4gICAgICBzbG90czogW10sXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdmFpbGFiaWxpdHlRdWVyeShcbiAgICBlbWFpbEFkZHJlc3NlcyA9IHNpbmdsZUV2ZW50UGFydGljaXBhbnRzLFxuICAgIGFjY2Vzc1Rva2VuID0gYWNjZXNzX3Rva2VuLFxuICApOiBBdmFpbGFiaWxpdHlRdWVyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgZW1haWxzOiBlbWFpbEFkZHJlc3NlcyxcbiAgICAgICAgZnJlZV9idXN5OiBbXSxcbiAgICAgICAgZHVyYXRpb25fbWludXRlczogMTUsIC8vIG1pbnVtdW0gYWxsb3dlZCBkdXJhdGlvbi9pbnRlcnZhbFxuICAgICAgICBpbnRlcnZhbF9taW51dGVzOiAxNSxcbiAgICAgICAgc3RhcnRfdGltZTpcbiAgICAgICAgICB0aW1lSG91cihcbiAgICAgICAgICAgIG5ldyBEYXRlKG5ldyBEYXRlKHN0YXJ0RGF5KS5zZXRIb3VycyhfdGhpcy5zdGFydF9ob3VyKSksXG4gICAgICAgICAgKS5nZXRUaW1lKCkgLyAxMDAwLFxuICAgICAgICBlbmRfdGltZTpcbiAgICAgICAgICB0aW1lSG91cihcbiAgICAgICAgICAgIG5ldyBEYXRlKG5ldyBEYXRlKGVuZERheSkuc2V0SG91cnMoX3RoaXMuZW5kX2hvdXIpKSxcbiAgICAgICAgICApLmdldFRpbWUoKSAvIDEwMDAsXG4gICAgICAgIHJvdW5kX3JvYmluOiBcIm1heC1hdmFpbGFiaWxpdHlcIixcbiAgICAgIH0sXG4gICAgICBjb21wb25lbnRfaWQ6IGlkLFxuICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICB9O1xuICB9XG5cbiAgbGV0IG5ld0NhbGVuZGFyVGltZXNsb3RzRm9yR2l2ZW5FbWFpbHM6IGFueVtdID0gW107XG5cbiAgJDogKGFzeW5jICgpID0+IHtcbiAgICBpZiAoX3RoaXMuYXZhaWxhYmlsaXR5KSB7XG4gICAgICAvLyBOZWVkIHRvIHdhaXQgYSB0aWNrIGhlcmUgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gbWFwVGltZXNsb3RzVG9DYWxlbmRhcnMoX3RoaXMuYXZhaWxhYmlsaXR5KSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGlkICYmXG4gICAgICAoKEFycmF5LmlzQXJyYXkoc2luZ2xlRXZlbnRQYXJ0aWNpcGFudHMpICYmXG4gICAgICAgIHNpbmdsZUV2ZW50UGFydGljaXBhbnRzLmxlbmd0aCA+IDApIHx8XG4gICAgICAgIChfdGhpcy5ib29raW5nX3VzZXJfZW1haWwgJiYgX3RoaXMuYm9va2luZ191c2VyX3Rva2VuKSkgJiZcbiAgICAgIF90aGlzLmV2ZW50cz8ubGVuZ3RoID09PSAxXG4gICAgKSB7XG4gICAgICBhd2FpdCBnZXRBdmFpbGFiaWxpdHkoKTtcbiAgICB9XG4gIH0pKCk7XG5cbiAgLy8gSWYgMiBzbG90cyBidW1wIHVwIHRvIGVhY2ggb3RoZXIgY29uc2lkZXIgdGhlbSBhIHNpbmdsZSBncm91cCBvZiB0aW1lXG4gIGZ1bmN0aW9uIGdyb3VwQ29uc2VjdXRpdmVUaW1lc2xvdHMoc2xvdHM6IFByZURhdGVkVGltZVNsb3RbXSA9IFtdKSB7XG4gICAgcmV0dXJuIHNsb3RzLnJlZHVjZSgoZ3JvdXBzOiBQcmVEYXRlZFRpbWVTbG90W10sIHNsb3QpID0+IHtcbiAgICAgIGNvbnN0IHByZXZTbG90ID0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChwcmV2U2xvdCAmJiBwcmV2U2xvdC5lbmRfdGltZSA9PT0gc2xvdC5zdGFydF90aW1lKSB7XG4gICAgICAgIHByZXZTbG90LmVuZF90aW1lID0gc2xvdC5lbmRfdGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3Vwcy5wdXNoKHsgLi4uc2xvdCB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBncm91cHM7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgbGV0IHJlcXVpcmVkUGFydGljaXBhbnRzOiBzdHJpbmdbXSA9IFtdO1xuICAkOiByZXF1aXJlZFBhcnRpY2lwYW50cyA9IFtcbiAgICAuLi5uZXcgU2V0KFsuLi5fdGhpcy5yZXF1aXJlZF9wYXJ0aWNpcGFudHMsIGJvb2tpbmdfdXNlcl9lbWFpbF0pLFxuICBdO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldEF2YWlsYWJpbGl0eShmb3JjZVJlbG9hZCA9IGZhbHNlKSB7XG4gICAgbG9hZGluZyA9IHRydWU7XG5cbiAgICBjb25zdCBjYWxlbmRhcnNUb0ZldGNoOiB7IGVtYWlsOiBzdHJpbmc7IHRva2VuPzogc3RyaW5nIH1bXSA9XG4gICAgICBzaW5nbGVFdmVudFBhcnRpY2lwYW50cy5tYXAoKGVtYWlsQWRkcmVzcykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVtYWlsOiBlbWFpbEFkZHJlc3MsXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIC8vIElmIHRoZSBib29raW5nIHVzZXIgYW5kIGFjY2VzcyB0b2tlbiBhcmUgcGFzc2VkIGluLCBmZXRjaCB0aGVpciBjYWxlbmRhcnMgYXMgd2VsbC5cbiAgICAvLyBUT0RPOiBkb250IGluY2x1ZGUgdGhlbSBpbiB0aGUgbWFpbiBsaXN0LCBhcyB0aGV5IHNob3VsZG4ndCBjb250cmlidXRlIHRvIHBhcnRpYWwgc2xvdCBhdmFpbGFiaWxpdHkuXG4gICAgLy8gVE9ETzogdXNlIGJvb2tpbmdfdXNlcl90b2tlbiBpbnN0ZWFkIG9mIGFjY2Vzc190b2tlbiBmb3IgYm9va2luZ191c2VyX2VtYWlsIGluIGNhbGVuZGFyc1RvRmV0Y2hcbiAgICBpZiAoX3RoaXMuYm9va2luZ191c2VyX2VtYWlsICYmIF90aGlzLmJvb2tpbmdfdXNlcl90b2tlbikge1xuICAgICAgY2FsZW5kYXJzVG9GZXRjaC5wdXNoKHtcbiAgICAgICAgZW1haWw6IF90aGlzLmJvb2tpbmdfdXNlcl9lbWFpbCxcbiAgICAgICAgdG9rZW46IF90aGlzLmJvb2tpbmdfdXNlcl90b2tlbixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGNhbGVuZGFyc1RvRmV0Y2gpICYmIGNhbGVuZGFyc1RvRmV0Y2gubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmV0Y2hlZENhbGVuZGFycyA9IGF3YWl0ICRBdmFpbGFiaWxpdHlTdG9yZVtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIC4uLmdldEF2YWlsYWJpbGl0eVF1ZXJ5KFxuICAgICAgICAgICAgY2FsZW5kYXJzVG9GZXRjaC5tYXAoKHgpID0+IHguZW1haWwpLFxuICAgICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICksXG4gICAgICAgICAgZm9yY2VSZWxvYWQsXG4gICAgICAgIH0pXG4gICAgICBdO1xuXG4gICAgICBsb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIEEgdXNlciBjYW4gbG9hZCBzZXZlcmFsIHF1ZXJpZXMgaW4gcXVpY2sgc3VjY2Vzc2lvbiwgYW5kIHRoZWlyIHZhcmlhYmxlIGxhdGVuY3kgY2FuIGxlYWQgdG8gcmFjZSBjb25kaXRpb25zLlxuICAgICAgLy8gVGhpcyBjb25kaXRpb24gY2hlY2tzIHRvIHNlZSBpZiB0aGUgcmV0dXJuZWQgc2NoZWR1bGUncyBkYXRlIGFuZCB0aGUgY29tcG9uZW50IGFjdGl2ZSBkYXRlIGFyZSB0aGUgc2FtZS5cbiAgICAgIC8vIElmIG5vdCwgY2lyY3VpdCBicmVhay5cbiAgICAgIGlmIChcbiAgICAgICAgdGltZURheShcbiAgICAgICAgICBuZXcgRGF0ZShnZXRBdmFpbGFiaWxpdHlRdWVyeSgpLmJvZHkuc3RhcnRfdGltZSAqIDEwMDApLFxuICAgICAgICApLmdldFRpbWUoKSAhPT1cbiAgICAgICAgdGltZURheShcbiAgICAgICAgICBuZXcgRGF0ZShmZXRjaGVkQ2FsZW5kYXJzLnRpbWVfc2xvdHNbMF0/LnN0YXJ0X3RpbWUgKiAxMDAwKSxcbiAgICAgICAgKS5nZXRUaW1lKClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMuYXZhaWxhYmlsaXR5KSB7XG4gICAgICAgIG1hcFRpbWVzbG90c1RvQ2FsZW5kYXJzKGZldGNoZWRDYWxlbmRhcnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3Q2FsZW5kYXJUaW1lc2xvdHNGb3JHaXZlbkVtYWlscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXBUaW1lc2xvdHNUb0NhbGVuZGFycyhjYWxlbmRhckxpc3Q6IEF2YWlsYWJpbGl0eVJlc3BvbnNlKSB7XG4gICAgY29uc3QgZnJlZUJ1c3lDYWxlbmRhcnM6IGFueSA9IFtdO1xuXG4gICAgY29uc3QgdGltZVNsb3RNYXA6IFJlY29yZDxzdHJpbmcsIFByZURhdGVkVGltZVNsb3RbXT4gPSB7fTtcblxuICAgIGZvciAoY29uc3QgdXNlciBvZiBjYWxlbmRhckxpc3Q/Lm9yZGVyKSB7XG4gICAgICB0aW1lU2xvdE1hcFt1c2VyXSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc2xvdCBvZiBjYWxlbmRhckxpc3QudGltZV9zbG90cykge1xuICAgICAgc2xvdC5lbWFpbHMuZm9yRWFjaCgoZSkgPT4gdGltZVNsb3RNYXBbZV0ucHVzaChzbG90KSk7XG4gICAgfVxuXG4gICAgY2FsZW5kYXJMaXN0Py5vcmRlci5mb3JFYWNoKCh1c2VyOiBhbnkpID0+IHtcbiAgICAgIGZyZWVCdXN5Q2FsZW5kYXJzLnB1c2goe1xuICAgICAgICBlbWFpbEFkZHJlc3M6IHVzZXIsXG4gICAgICAgIGF2YWlsYWJpbGl0eTogQXZhaWxhYmlsaXR5U3RhdHVzLkZSRUUsXG4gICAgICAgIHRpbWVzbG90czogZ3JvdXBDb25zZWN1dGl2ZVRpbWVzbG90cyh0aW1lU2xvdE1hcFt1c2VyXSkubWFwKFxuICAgICAgICAgIChzbG90OiBQcmVEYXRlZFRpbWVTbG90KSA9PiAoe1xuICAgICAgICAgICAgc3RhcnRfdGltZTogbmV3IERhdGUoc2xvdC5zdGFydF90aW1lICogMTAwMCksXG4gICAgICAgICAgICBlbmRfdGltZTogbmV3IERhdGUoc2xvdC5lbmRfdGltZSAqIDEwMDApLFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbmV3Q2FsZW5kYXJUaW1lc2xvdHNGb3JHaXZlbkVtYWlscyA9IFsuLi5mcmVlQnVzeUNhbGVuZGFyc107XG4gIH1cblxuICAvLyBGaWd1cmUgb3V0IGlmIGEgZ2l2ZW4gVGltZVNsb3QgaXMgdGhlIGZpcnN0IG9uZSBpbiBhIHBlbmRpbmcsIG9yIHNlbGVjdGVkLCBibG9jay5cbiAgZnVuY3Rpb24gZ2V0QmxvY2tUaW1lcyhzbG90OiBTZWxlY3RhYmxlU2xvdCwgZGF5OiBEYXkpIHtcbiAgICBjb25zdCB3cmFwcGluZ1NvcnRlZFNsb3QgPSBzb3J0ZWRTbG90cy5maW5kKFxuICAgICAgKGJsb2NrKSA9PiBibG9jay5zdGFydF90aW1lID09PSBzbG90LnN0YXJ0X3RpbWUsXG4gICAgKTtcblxuICAgIGNvbnN0IHByZWNlZGluZ1Nsb3Q6IFNlbGVjdGFibGVTbG90ID1cbiAgICAgIGRheS5zbG90c1tkYXkuc2xvdHMuaW5kZXhPZihzbG90KSAtIDFdO1xuXG4gICAgLy8gQSBzbG90IGlzIGZpcnN0IGluIGEgUGVuZGluZyBibG9jayBpZjpcbiAgICAvLyBpdCdzIHBlbmRpbmdcbiAgICAvLyBhbmQgaXQncyBub3QgYnVzeVxuICAgIC8vIGFuZCBlaXRoZXI6XG4gICAgLy8gdGhlIHNsb3QgaW1tZWRpYXRlbHkgYmVmb3JlIGl0IGlzbid0IHBlbmRpbmdcbiAgICAvLyBPUlxuICAgIC8vIHRoZSBzbG90IGltbWVkaWF0ZWx5IGJlZm9yZSBpdCBpcyBidXN5XG4gICAgY29uc3QgcHJlY2VkaW5nU2xvdElzVW5hdmFpbGFibGUgPSBwcmVjZWRpbmdTbG90XG4gICAgICA/ICFpc0F2YWlsYWJsZShwcmVjZWRpbmdTbG90KVxuICAgICAgOiBmYWxzZTtcblxuICAgIGlmIChcbiAgICAgIHNsb3Quc2VsZWN0aW9uUGVuZGluZyAmJlxuICAgICAgaXNBdmFpbGFibGUoc2xvdCkgJiZcbiAgICAgICghcHJlY2VkaW5nU2xvdD8uc2VsZWN0aW9uUGVuZGluZyB8fCBwcmVjZWRpbmdTbG90SXNVbmF2YWlsYWJsZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHBlbmRpbmdFbmRUaW1lID1cbiAgICAgICAgZGF5LnNsb3RzLmZpbmQoKGRheVNsb3QpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGF5U2xvdC5zdGFydF90aW1lID4gc2xvdC5zdGFydF90aW1lICYmXG4gICAgICAgICAgICAoIWRheVNsb3Quc2VsZWN0aW9uUGVuZGluZyB8fCAhaXNBdmFpbGFibGUoZGF5U2xvdCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk/LnN0YXJ0X3RpbWUgfHwgZGF5LnNsb3RzW2RheS5zbG90cy5sZW5ndGggLSAxXS5lbmRfdGltZTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGdldENvbmRlbnNlZFRpbWVTdHJpbmcoc2xvdC5zdGFydF90aW1lKS5yZXBsYWNlKFxuICAgICAgICBcIiBcIixcbiAgICAgICAgXCJcIixcbiAgICAgICk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gZ2V0Q29uZGVuc2VkVGltZVN0cmluZyhwZW5kaW5nRW5kVGltZSkucmVwbGFjZShcIiBcIiwgXCJcIik7XG4gICAgICByZXR1cm4gYCR7c3RhcnRUaW1lfSAtICR7ZW5kVGltZX1gO1xuICAgICAgLy8gT3RoZXJ3aXNlLCBpdCdzIGZpcnN0IGluIGEgc2VsZWN0ZWQgYmxvY2sgaWYgaXRzIHN0YXJ0X3RpbWUgbWF0Y2hlcyBhIHNvcnRlZFNsb3QncyBzdGFydF90aW1lXG4gICAgfSBlbHNlIGlmICh3cmFwcGluZ1NvcnRlZFNsb3QpIHtcbiAgICAgIGxldCBzdGFydFRpbWUgPSBnZXRDb25kZW5zZWRUaW1lU3RyaW5nKHdyYXBwaW5nU29ydGVkU2xvdC5zdGFydF90aW1lKTtcbiAgICAgIGxldCBlbmRUaW1lID0gZ2V0Q29uZGVuc2VkVGltZVN0cmluZyh3cmFwcGluZ1NvcnRlZFNsb3QuZW5kX3RpbWUpO1xuICAgICAgcmV0dXJuIGAke3N0YXJ0VGltZS5yZXBsYWNlKFwiIFwiLCBcIlwiKX0gLSAke2VuZFRpbWUucmVwbGFjZShcIiBcIiwgXCJcIil9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9XG5cbiAgJDogYWxsQ2FsZW5kYXJzID0gW1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIG1lcmdpbmcgdGhlc2UgMiBpbnRvIGp1c3QgY2FsZW5kYXJzXG4gICAgLi4ubmV3Q2FsZW5kYXJUaW1lc2xvdHNGb3JHaXZlbkVtYWlscyxcbiAgICAuLi5jb25zZWN1dGl2ZVBhcnRpY2lwYW50cy5tYXAoKGVtYWlsKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbWFpbEFkZHJlc3M6IGVtYWlsLFxuICAgICAgICBhdmFpbGFiaWxpdHk6IEF2YWlsYWJpbGl0eVN0YXR1cy5GUkVFLFxuICAgICAgICB0aW1lc2xvdHM6IFtdLFxuICAgICAgfTtcbiAgICB9KSxcbiAgXTtcblxuICAvLyAjcmVnaW9uIERhdGUgQ2hhbmdlXG4gIGZ1bmN0aW9uIGdvVG9OZXh0RGF0ZSgpIHtcbiAgICBpZiAoX3RoaXMuc2hvd19hc193ZWVrICYmICF0b29TbWFsbEZvcldlZWspIHtcbiAgICAgIF90aGlzLnN0YXJ0X2RhdGUgPSB0aW1lV2Vlay5vZmZzZXQoZW5kRGF5LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuc3RhcnRfZGF0ZSA9IHRpbWVEYXkub2Zmc2V0KGVuZERheSwgMSk7XG4gICAgfVxuICAgIC8vIE9uIGRhdGUgY2hhbmdlLCBkaXNwYXRjaCBhbiBlbXB0eSBsaXN0IHRvIGxldCBwYXJlbnQgYXBwIHRyaWdnZXIgYSBsb2FkaW5nIHN0YXRlXG4gICAgZGlzcGF0Y2hFdmVudChcImV2ZW50T3B0aW9uc1JlYWR5XCIsIHtcbiAgICAgIHNsb3RzOiBbXSxcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnb1RvUHJldmlvdXNEYXRlKCkge1xuICAgIGlmIChfdGhpcy5zaG93X2FzX3dlZWsgJiYgIXRvb1NtYWxsRm9yV2Vlaykge1xuICAgICAgX3RoaXMuc3RhcnRfZGF0ZSA9IHRpbWVXZWVrLm9mZnNldChzdGFydERheSwgLTEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYW4ndCBkbyBzb21ldGhpbmcgYXMgc2ltcGxlIGFzIGBzdGFydF9kYXRlID0gdGltZURheS5vZmZzZXQoc3RhcnREYXksIC1kYXRlc1RvU2hvdylgIGhlcmU7XG4gICAgICAvLyBicm9rZW4gY2FzZTogIXNob3dfd2Vla2VuZHMsIHN0YXJ0X2RhdGUgPSBhIG1vbmRheSwgZGF0ZXNUb1Nob3cgPSAzOyBnbyBiYWNrd2FyZHMuIFlvdSdsbCBnZXQgZnJpLW1vbi10dWVzLCByYXRoZXIgdGhhbiB3ZWQtdGh1LWZyaS5cbiAgICAgIC8vIEluc3RlYWQsIHdlIGdlbmVyYXRlRGF5UmFuZ2UoKSB3aXRoIHJldmVyc2U9dHJ1ZSB0byB0YWtlIGFkdmFuY2Ugb2YgcmVjdXJzaXZlIG5vbi13ZWVrZW5kIHJhbmdlLW1ha2luZy5cbiAgICAgIGxldCBwcmV2aW91c1JhbmdlID0gZ2VuZXJhdGVEYXlSYW5nZShcbiAgICAgICAgdGltZURheS5vZmZzZXQoc3RhcnREYXksIC1kYXRlc1RvU2hvdyksXG4gICAgICAgIHRpbWVEYXkub2Zmc2V0KGVuZERheSwgLWRhdGVzVG9TaG93KSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICk7XG4gICAgICBfdGhpcy5zdGFydF9kYXRlID0gcHJldmlvdXNSYW5nZVswXTtcbiAgICB9XG4gICAgLy8gT24gZGF0ZSBjaGFuZ2UsIGRpc3BhdGNoIGFuIGVtcHR5IGxpc3QgdG8gbGV0IHBhcmVudCBhcHAgdHJpZ2dlciBhIGxvYWRpbmcgc3RhdGVcbiAgICBkaXNwYXRjaEV2ZW50KFwiZXZlbnRPcHRpb25zUmVhZHlcIiwge1xuICAgICAgc2xvdHM6IFtdLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gVHJhY2sgYW5kIGRpc3BhdGNoIGFjdGl2ZSBkYXRlcyB3aGVuZXZlciB0aGV5IGNoYW5nZVxuICBsZXQgY2Fub25pY2FsRGF0ZXM6IERhdGVbXSA9IFtdO1xuICAkOiBpZiAoXG4gICAgSlNPTi5zdHJpbmdpZnkoY2Fub25pY2FsRGF0ZXMpICE9PVxuICAgIEpTT04uc3RyaW5naWZ5KGRheXMubWFwKChkYXkpID0+IGRheS50aW1lc3RhbXApKVxuICApIHtcbiAgICBjYW5vbmljYWxEYXRlcyA9IGRheXMubWFwKChkYXkpID0+IGRheS50aW1lc3RhbXApO1xuICAgIGRpc3BhdGNoRXZlbnQoXCJkYXRlQ2hhbmdlXCIsIHtcbiAgICAgIGRhdGVzOiBjYW5vbmljYWxEYXRlcyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vICNlbmRyZWdpb24gRGF0ZSBDaGFuZ2VcblxuICAvLyNyZWdpb24gc2xvdCBzZWxlY3Rpb25cbiAgLy8gQ2xpY2sgYWN0aW9uIGZvciB1bi1kcmFnZ2FibGUgc2xvdC1saXN0IGJ1dHRvbnMgKGxpc3QgdmlldylcbiAgZnVuY3Rpb24gdG9nZ2xlU2xvdChzbG90OiBTZWxlY3RhYmxlU2xvdCkge1xuICAgIGlmIChzbG90LnNlbGVjdGlvblN0YXR1cyA9PT0gU2VsZWN0aW9uU3RhdHVzLlNFTEVDVEVEKSB7XG4gICAgICBldmVudF90b19zZWxlY3QgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudF90b19zZWxlY3QgPSBpbnNwZWN0Q29uc2VjdXRpdmVCbG9jayhzbG90KTtcbiAgICB9XG5cbiAgICAvLyBEZXNlbGVjdCBhbnkgb3RoZXJzXG4gICAgZGF5c1xuICAgICAgLmZsYXRNYXAoKGQpID0+IGQuc2xvdHMpXG4gICAgICAuZm9yRWFjaCgoc2xvdCkgPT4ge1xuICAgICAgICBzbG90LnNlbGVjdGlvblBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgc2xvdC5zZWxlY3Rpb25TdGF0dXMgPSBTZWxlY3Rpb25TdGF0dXMuVU5TRUxFQ1RFRDtcbiAgICAgIH0pO1xuXG4gICAgZGF5cyA9IFsuLi5kYXlzXTtcbiAgICBldmVudF90b19ob3ZlciA9IG51bGw7XG4gIH1cbiAgLy8jZW5kcmVnaW9uIGRyYWdnaW5nXG5cbiAgLy8jcmVnaW9uIHNsb3QgaW50ZXJhY3Rpb24gaGFuZGxlcnNcbiAgZnVuY3Rpb24gaGFuZGxlU2xvdEludGVyYWN0aW9uU3RhcnQoc2xvdDogVGltZVNsb3QpIHtcbiAgICBpZiAoc2xvdCkge1xuICAgICAgLy8gRGVzZWxlY3QgYW55IG90aGVyc1xuICAgICAgZGF5c1xuICAgICAgICAuZmxhdE1hcCgoZCkgPT4gZC5zbG90cylcbiAgICAgICAgLmZvckVhY2goKHNsb3QpID0+IHtcbiAgICAgICAgICBzbG90LnNlbGVjdGlvblBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzbG90LnNlbGVjdGlvblN0YXR1cyA9IFNlbGVjdGlvblN0YXR1cy5VTlNFTEVDVEVEO1xuICAgICAgICB9KTtcblxuICAgICAgaWYgKGV2ZW50X3RvX3NlbGVjdCA9PT0gaW5zcGVjdENvbnNlY3V0aXZlQmxvY2soc2xvdCkpIHtcbiAgICAgICAgZXZlbnRfdG9fc2VsZWN0ID0gbnVsbDtcbiAgICAgICAgZGF5cyA9IFsuLi5kYXlzXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50X3RvX3NlbGVjdCA9IGluc3BlY3RDb25zZWN1dGl2ZUJsb2NrKHNsb3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNsb3RIb3Zlcihob3ZlcmVkU2xvdDogVGltZVNsb3QpIHtcbiAgICBpZiAoaG92ZXJlZFNsb3QpIHtcbiAgICAgIGV2ZW50X3RvX2hvdmVyID0gaW5zcGVjdENvbnNlY3V0aXZlQmxvY2soaG92ZXJlZFNsb3QpO1xuICAgIH1cbiAgfVxuXG4gIC8vI2VuZHJlZ2lvbiBzbG90IGludGVyYWN0aW9uIGhhbmRsZXJzXG5cbiAgLy8gI3JlZ2lvbiBlcnJvclxuICAkOiBpZiAoaWQgJiYgY29uc2VjdXRpdmVQYXJ0aWNpcGFudHMubGVuZ3RoICYmIF90aGlzLmNhcGFjaXR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGhhbmRsZUVycm9yKGlkLCB7XG4gICAgICAgIG5hbWU6IFwiSW5jb21wYXRpYmxlUHJvcGVydGllc1wiLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiU2V0dGluZyBgY2FwYWNpdHlgIGN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdoZW4gZmV0Y2hpbmcgYXZhaWxhYmlsaXR5IGRpcmVjdGx5IGZyb20gTnlsYXMuIFBsZWFzZSBwYXNzIGBjYWxlbmRhcnNgIGRhdGEgZGlyZWN0bHkgdG8gdXNlIGBjYXBhY2l0eWAuXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKF90aGlzLmNhcGFjaXR5ICYmIF90aGlzLmNhcGFjaXR5IDwgMSkge1xuICAgIHRyeSB7XG4gICAgICBoYW5kbGVFcnJvcihpZCwge1xuICAgICAgICBuYW1lOiBcIkluY29tcGF0aWJsZVByb3BlcnRpZXNcIixcbiAgICAgICAgbWVzc2FnZTogXCJgY2FwYWNpdHlgIG11c3QgYmUgYW4gaW50ZWdlciBvZiAxIG9yIG1vcmVcIixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbiAgLy8gI2VuZHJlZ2lvbiBlcnJvclxuXG4gIGZ1bmN0aW9uIHN0b3JlUmVmKFxuICAgIG5vZGU6IEhUTUxFbGVtZW50LFxuICAgIHBhcmFtczogeyBkYXRlS2V5OiBzdHJpbmc7IHNsb3RJbmRleDogbnVtYmVyOyBzdGFydFRpbWU6IHN0cmluZyB9LFxuICApIHtcbiAgICBpZiAodHlwZW9mIHNsb3RSZWZbcGFyYW1zLmRhdGVLZXldID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBkYXlPcmRlciA9IGRheU9yZGVyLmNvbmNhdChwYXJhbXMuZGF0ZUtleSkuc29ydCgpO1xuICAgICAgc2xvdFJlZltwYXJhbXMuZGF0ZUtleV0gPSBbXTtcbiAgICB9XG5cbiAgICBzbG90UmVmW3BhcmFtcy5kYXRlS2V5XVtwYXJhbXMuc2xvdEluZGV4XSA9IG5vZGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgbm9kZSB0aGF0IHdhcyBkZXN0cm95ZWQgaW4gaGFzaG1hcFxuICAgICAgICBjb25zdCBlbGVtSW5kZXggPSBzbG90UmVmW3BhcmFtcy5kYXRlS2V5XS5pbmRleE9mKG5vZGUpO1xuXG4gICAgICAgIC8vIGNsZWFuIHVwIHNsb3RSZWYgaGFzaG1hcFxuICAgICAgICBpZiAoZWxlbUluZGV4ID49IDApIHtcbiAgICAgICAgICBzbG90UmVmW3BhcmFtcy5kYXRlS2V5XS5zcGxpY2UoZWxlbUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2xvdFJlZltwYXJhbXMuZGF0ZUtleV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZGF5T3JkZXIgPSBkYXlPcmRlci5maWx0ZXIoKGRheSkgPT4gZGF5ICE9PSBwYXJhbXMuZGF0ZUtleSk7XG4gICAgICAgICAgZGVsZXRlIHNsb3RSZWZbcGFyYW1zLmRhdGVLZXldO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyNyZWdpb24gY29sb3Vyc1xuICAvLyBTaG93IHBhcnRpYWwgYXZhaWxhYmlsaXR5IGFzIGEgZ3JhZGllbnQsIHJhdGhlciB0aGFuIGFzIGNhdGVnb3JpY2FsbHkgXCJwYXJ0aWFsXCJcbiAgJDogcGFydGlhbFNjYWxlID0gc2NhbGVMaW5lYXI8c3RyaW5nPigpXG4gICAgLmRvbWFpbihbMCwgYWxsQ2FsZW5kYXJzLmxlbmd0aCAvIDIsIGFsbENhbGVuZGFycy5sZW5ndGhdKVxuICAgIC5yYW5nZShbX3RoaXMuYnVzeV9jb2xvciwgX3RoaXMucGFydGlhbF9jb2xvciwgX3RoaXMuZnJlZV9jb2xvcl0pO1xuICAvLyNlbmRyZWdpb24gY29sb3Vyc1xuXG4gIC8vI3JlZ2lvbiBDb25zZWN1dGl2ZSBFdmVudHNcbiAgLy8gSWYgbWFuaWZlc3QuZXZlbnRzLmxlbmd0aCA+IDEsIGZldGNoIGNvbnNlY3V0aXZlIGV2ZW50cyBhbmQgZW1pdCB0aGVtIGZvciA8bnlsYXMtYm9va2luZz4gb3IgcGFyZW50IGFwcCB0byBwaWNrIHVwLlxuICBsZXQgY29uc2VjdXRpdmVPcHRpb25zOiBDb25zZWN1dGl2ZUV2ZW50W11bXSA9IFtdO1xuICBsZXQgZGFpbHlDb25zZWN1dGl2ZU9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIENvbnNlY3V0aXZlRXZlbnRbXVtdPiA9IHt9O1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGJ1aWxkQ29uc2VjdXRpdmVPcHRpb25zKCkge1xuICAgIC8vIHRoZSBhdmFpbGFiaWxpdHkvY29uc2VjdXRpdmUgZW5kcG9pbnQgZWFnZXJseSByZXR1cm5zIG9wZW4gdGltZXNsb3RzO1xuICAgIC8vIGVzdGFibGlzaCBvcGVuIGhvdXJzIHNvIHRoZSB1c2VyIGlzbid0IG92ZXJidXJkZW5lZCB3aXRoIHRoZSBob3JyaWJsZSBmcmVlZG9tIG9mIGNob2ljZS5cbiAgICBsZXQgb3BlbkhvdXJzOiBPcGVuSG91cnNbXSA9IFtdO1xuICAgIGlmIChfdGhpcy5vcGVuX2hvdXJzLmxlbmd0aCkge1xuICAgICAgLy8gVE9ETzogY29udmVyc2lvbiBmcm9tIGNvbXBvbmVudCBvcGVuIGhvdXJzIGZvcm1hdCB0byBOeWxhcyBldmVudHMgb3BlbiBob3VycyBmb3JtYXRcbiAgICAgIC8vIG9wZW5Ib3VycyA9IF90aGlzLm9wZW5faG91cnM7XG5cbiAgICAgIG9wZW5Ib3VycyA9IGJ1aWxkT3BlbkhvdXJzKF90aGlzLm9wZW5faG91cnMsIF90aGlzLmV2ZW50cyk7XG4gICAgfSBlbHNlIGlmIChfdGhpcy5zdGFydF9ob3VyICYmIF90aGlzLmVuZF9ob3VyKSB7XG4gICAgICAvLyBXZSBjYW4gYnVpbGQgYW4gb3BlbiBob3VycyBhcnJheSBpbiB0aGUgTnlsYXMgZm9ybWF0IGZyb20gYXNzdW1wdGlvbnMgZ2l2ZW4gc3RhcnRfaG91ciBhbmQgZW5kX2hvdXJcbiAgICAgIG9wZW5Ib3VycyA9IGNvbnZlcnRIb3VyQXNzdW1wdGlvbnNUb09wZW5Ib3VycyhcbiAgICAgICAgX3RoaXMuc3RhcnRfaG91cixcbiAgICAgICAgX3RoaXMuZW5kX2hvdXIsXG4gICAgICAgIF90aGlzLmV2ZW50cyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29uc2VjdXRpdmVTbG90c1F1ZXJ5S2V5ID0gYXdhaXQgY3JlYXRlQ29uc2VjdXRpdmVRdWVyeUtleShcbiAgICAgIF90aGlzLmV2ZW50cyxcbiAgICAgIGRheVJhbmdlLFxuICAgICAgX3RoaXMuZW5kX2hvdXIsXG4gICAgICBvcGVuSG91cnMsXG4gICAgKTtcblxuICAgIGlmIChcbiAgICAgIGNvbnNlY3V0aXZlU2xvdHNRdWVyeUtleT8uc3RhcnRfdGltZSA8IGNvbnNlY3V0aXZlU2xvdHNRdWVyeUtleT8uZW5kX3RpbWVcbiAgICApIHtcbiAgICAgIGNvbnNlY3V0aXZlT3B0aW9ucyA9IGF3YWl0ICRDb25zZWN1dGl2ZUF2YWlsYWJpbGl0eVN0b3JlW1xuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYm9keTogY29uc2VjdXRpdmVTbG90c1F1ZXJ5S2V5LFxuICAgICAgICAgIGNvbXBvbmVudF9pZDogaWQsXG4gICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICB9KVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc2VjdXRpdmVPcHRpb25zID0gW107XG4gICAgfVxuXG4gICAgLy8gZW1pdCB0aGUgYXdhaXRlZCBldmVudHMgbGlzdFxuICAgIGRpc3BhdGNoRXZlbnQoXCJldmVudE9wdGlvbnNSZWFkeVwiLCB7XG4gICAgICBzbG90czogY29uc2VjdXRpdmVPcHRpb25zLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGREYWlseUNvbnNlY3V0aXZlT3B0aW9ucygpIHtcbiAgICBkYWlseUNvbnNlY3V0aXZlT3B0aW9ucyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBvcHRpb24gb2YgY29uc2VjdXRpdmVPcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvblswXT8uc3RhcnRfdGltZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF5ID0gbmV3IERhdGUoXG4gICAgICAgIG5ldyBEYXRlKG9wdGlvblswXS5zdGFydF90aW1lKS5zZXRIb3VycygwLCAwLCAwLCAwKSxcbiAgICAgICkuZ2V0VGltZSgpO1xuICAgICAgaWYgKGRhaWx5Q29uc2VjdXRpdmVPcHRpb25zW2RheV0pIHtcbiAgICAgICAgZGFpbHlDb25zZWN1dGl2ZU9wdGlvbnNbZGF5XS5wdXNoKG9wdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYWlseUNvbnNlY3V0aXZlT3B0aW9uc1tkYXldID0gW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29uc2VjdXRpdmVRdWVyeUtleShcbiAgICBldmVudHM6IEV2ZW50RGVmaW5pdGlvbltdLFxuICAgIGRheVJhbmdlOiBEYXRlW10sXG4gICAgZW5kSG91cjogbnVtYmVyLFxuICAgIG9wZW5Ib3VyczogT3BlbkhvdXJzW10sXG4gICkge1xuICAgIGlmIChldmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZW5kRGF5ID0gZGF5UmFuZ2VbZGF5UmFuZ2UubGVuZ3RoIC0gMV07XG5cbiAgICBjb25zdCBlbWFpbHNMaXN0ID0gZXZlbnRzLnJlZHVjZShcbiAgICAgIChlbWFpbHM6IHN0cmluZ1tdW10sIGV2ZW50OiBFdmVudERlZmluaXRpb24pID0+IHtcbiAgICAgICAgZW1haWxzLnB1c2goZXZlbnQucGFydGljaXBhbnRFbWFpbHMpO1xuICAgICAgICByZXR1cm4gZW1haWxzO1xuICAgICAgfSxcbiAgICAgIFtdLFxuICAgICk7XG4gICAgLy8gUGljayB0aGUgZHVyYXRpb25fbWludXRlcyBmcm9tIHRoZSBmaXJzdCBibG9jayBzbG90XG4gICAgLy8gVE9ETzogTmVlZCB0byBiZSB1cGRhdGVkIHdoZW4gQVBJIGNhbiBoYW5kbGUgZGlmZmVyZW50IHNsb3Qgc2l6ZSBwZXIgbWVldGluZ1xuICAgIGNvbnN0IGR1cmF0aW9uX21pbnV0ZXMgPSBldmVudHNbMF0uc2xvdF9zaXplO1xuICAgIGNvbnN0IGV2ZW50RGV0YWlscyA9IHtcbiAgICAgIGR1cmF0aW9uX21pbnV0ZXMsXG4gICAgICBpbnRlcnZhbF9taW51dGVzOiBfdGhpcy5zbG90X3NpemUsXG4gICAgICBzdGFydF90aW1lOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICBlbmRfdGltZTpcbiAgICAgICAgdGltZUhvdXIobmV3IERhdGUobmV3IERhdGUoZW5kRGF5KS5zZXRIb3VycyhlbmRIb3VyKSkpLmdldFRpbWUoKSAvIDEwMDAsXG4gICAgICBmcmVlX2J1c3k6IDxhbnlbXT5bXSxcbiAgICAgIG9wZW5faG91cnM6IG9wZW5Ib3VycyxcbiAgICAgIGVtYWlsczogZW1haWxzTGlzdCxcbiAgICAgIGV2ZW50cyxcbiAgICAgIHJvdW5kX3JvYmluOiBcIm1heC1mYWlybmVzc1wiLFxuICAgIH07XG4gICAgcmV0dXJuIGV2ZW50RGV0YWlscztcbiAgfVxuXG4gIC8vIFJlYWN0IHRvIGhvdmVyZWQgZXZlbnRzOyByZXNwb25kIGJ5IGhpZ2hsaWdodGluZyBzbG90c1xuICAkOiBpZiAoZXZlbnRfdG9faG92ZXIpIHtcbiAgICBkYXlzXG4gICAgICAuZmxhdE1hcCgoZGF5KSA9PiBkYXkuc2xvdHMpXG4gICAgICAuZm9yRWFjaCgoc2xvdCkgPT4ge1xuICAgICAgICBzbG90LnNlbGVjdGlvblBlbmRpbmcgPVxuICAgICAgICAgIHNsb3Quc3RhcnRfdGltZSA+PSBldmVudF90b19ob3ZlclswXS5zdGFydF90aW1lICYmXG4gICAgICAgICAgc2xvdC5lbmRfdGltZSA8PSBldmVudF90b19ob3ZlcltldmVudF90b19ob3Zlci5sZW5ndGggLSAxXS5lbmRfdGltZTtcbiAgICAgIH0pO1xuICAgIGRheXMgPSBbLi4uZGF5c107XG4gIH1cblxuICBsZXQgc2VsZWN0ZWRDb25zZWN1dGl2ZUV2ZW50QmxvY2s6IENvbnNlY3V0aXZlRXZlbnRbXSA9IFtdO1xuXG4gICQ6IGlmIChldmVudF90b19zZWxlY3QpIHtcbiAgICBzZWxlY3RlZENvbnNlY3V0aXZlRXZlbnRCbG9jayA9IGV2ZW50X3RvX3NlbGVjdDtcbiAgICBkYXlzXG4gICAgICAuZmxhdE1hcCgoZCkgPT4gZC5zbG90cylcbiAgICAgIC5maWx0ZXIoKHNsb3QpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBldmVudF90b19zZWxlY3QgJiZcbiAgICAgICAgICBzbG90LnN0YXJ0X3RpbWUgPj0gZXZlbnRfdG9fc2VsZWN0WzBdLnN0YXJ0X3RpbWUgJiZcbiAgICAgICAgICBzbG90LmVuZF90aW1lIDw9IGV2ZW50X3RvX3NlbGVjdFtldmVudF90b19zZWxlY3QubGVuZ3RoIC0gMV0uZW5kX3RpbWVcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuZm9yRWFjaCgoc2xvdCkgPT4ge1xuICAgICAgICBzbG90LnNlbGVjdGlvblBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgc2xvdC5zZWxlY3Rpb25TdGF0dXMgPSBTZWxlY3Rpb25TdGF0dXMuU0VMRUNURUQ7XG4gICAgICB9KTtcbiAgICBkYXlzID0gWy4uLmRheXNdO1xuICB9XG5cbiAgLy8gRXhwYW5kIGhvdmVyZWQgLyBjbGlja2VkIHRpbWUgc2xvdHMgdG8gc2hvdyB0aGUgZnVsbCBjb25zZWN1dGl2ZSBldmVudCBzcGFuXG4gIGZ1bmN0aW9uIGluc3BlY3RDb25zZWN1dGl2ZUJsb2NrKHNsb3Q6IFRpbWVTbG90KSB7XG4gICAgaWYgKCFzbG90LmZhbGxzV2l0aGluQWxsb3dlZFRpbWVSYW5nZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgZGF5ID0gbmV3IERhdGUoXG4gICAgICBuZXcgRGF0ZShzbG90LnN0YXJ0X3RpbWUpLnNldEhvdXJzKDAsIDAsIDAsIDApLFxuICAgICkuZ2V0VGltZSgpO1xuXG4gICAgY29uc3QgY29uc2VjdXRpdmVCbG9ja3MgPVxuICAgICAgZGFpbHlDb25zZWN1dGl2ZU9wdGlvbnNbZGF5XT8uZmlsdGVyKChibG9jaykgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHNsb3Quc3RhcnRfdGltZSA+PSBibG9ja1swXS5zdGFydF90aW1lICYmXG4gICAgICAgICAgc2xvdC5lbmRfdGltZSA8PSBibG9ja1tibG9jay5sZW5ndGggLSAxXS5lbmRfdGltZVxuICAgICAgICApO1xuICAgICAgfSkgPz8gW107XG5cbiAgICAvLyBVc2UgbGFzdCBibG9jayBzbyB0aGF0IGNvbnNlY3V0aXZlIGJsb2NrcyBhbHdheXMgZmxvdyBkb3dud2FyZHNcbiAgICAvLyBTb3J0aW5nIGlzbid0IG5lZWRlZCBzaW5jZSBBUEkgcmVzcG9uZHMgd2l0aCBvcHRpb25zIHNvcnRlZCBieSBzdGFydF9kYXRlXG4gICAgcmV0dXJuIGNvbnNlY3V0aXZlQmxvY2tzW2NvbnNlY3V0aXZlQmxvY2tzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgLy8gQ29uc2VjdXRpdmUgRXZlbnRzIHByZXNlbnQgYSBjaGFsbGVuZ2UgZm9yIExpc3QgVmlldzsgd2hlcmUgd2UgdHlwaWNhbGx5IHNob3cgYSBzbG90IGZvciBldmVyeSBzbG90X3NpemUsXG4gIC8vIGEgdXNlciBjYW4gb25seSBib29rIHNldmVyYWwgaW4gYSByb3cuIFdlIHNob3VsZCwgdGhlcmVmb3JlLCBvbmx5IHNob3cgdGhvc2Ugc2xvdHMgdGhhdCBleGlzdCB3aXRoaW4gYSBjb25zZWN1dGl2ZSBzZXJpZXNcbiAgJDogbGlzdFZpZXdPcHRpb25zID0gKGRheTogRGF5KTogU2VsZWN0YWJsZVNsb3RbXSA9PiB7XG4gICAgcmV0dXJuIGRheS5zbG90cy5maWx0ZXIoKHNsb3QpID0+IGluc3BlY3RDb25zZWN1dGl2ZUJsb2NrKHNsb3QpKTtcbiAgfTtcblxuICAvLyNlbmRyZWdpb24gQ29uc2VjdXRpdmUgRXZlbnRzXG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCI+XG4gIEBpbXBvcnQgXCIuL3N0eWxlcy9hdmFpbGFiaWxpdHkuc2Nzc1wiO1xuPC9zdHlsZT5cblxueyNpZiBtYW5pZmVzdCAmJiBtYW5pZmVzdC5lcnJvcn1cbiAgPG55bGFzLWVycm9yIHtpZH0gLz5cbns6ZWxzZX1cbiAgPG1haW5cbiAgICBiaW5kOnRoaXM9e21haW59XG4gICAgYmluZDpjbGllbnRIZWlnaHRcbiAgICBjbGFzczp0aWNrZWQ9e190aGlzLnNob3dfdGlja3MgJiYgX3RoaXMudmlld19hcyA9PT0gXCJzY2hlZHVsZVwifVxuICAgIGNsYXNzOnRpbWV6b25lPXtfdGhpcy50aW1lem9uZX1cbiAgICBjbGFzczphbGxvd19ib29raW5nPXtfdGhpcy5hbGxvd19ib29raW5nfVxuICAgIGNsYXNzOmhpZGUtaGVhZGVyPXshX3RoaXMuc2hvd19oZWFkZXJ9XG4gICAgb246bW91c2VsZWF2ZT17KCkgPT4gKGV2ZW50X3RvX2hvdmVyID0gbnVsbCl9XG4gICAgc3R5bGU9XCJcbiAgICAtLWJ1c3ktY29sb3ItbGlnaHRlbmVkOiB7bGlnaHRlbkhleENvbG91cihfdGhpcy5idXN5X2NvbG9yLCA5MCl9O1xuICAgIC0tY2xvc2VkLWNvbG9yLWxpZ2h0ZW5lZDoge2xpZ2h0ZW5IZXhDb2xvdXIoX3RoaXMuY2xvc2VkX2NvbG9yLCA5MCl9O1xuICAgIC0tc2VsZWN0ZWQtY29sb3ItbGlnaHRlbmVkOiB7bGlnaHRlbkhleENvbG91cihfdGhpcy5zZWxlY3RlZF9jb2xvciwgNjApfTtcbiAgICAtLWZyZWUtY29sb3I6IHtfdGhpcy5mcmVlX2NvbG9yfTsgLS1idXN5LWNvbG9yOiB7X3RoaXMuYnVzeV9jb2xvcn07XG4gICAgLS1jbG9zZWQtY29sb3I6IHtfdGhpcy5jbG9zZWRfY29sb3J9OyAtLXBhcnRpYWwtY29sb3I6IHtfdGhpcy5wYXJ0aWFsX2NvbG9yfTtcbiAgICAtLXNlbGVjdGVkLWNvbG9yOiB7X3RoaXMuc2VsZWN0ZWRfY29sb3J9O1xuICAgIC0tdW5hdmFpbGFibGUtY29sb3I6IHtfdGhpcy51bmF2YWlsYWJsZV9jb2xvcn1cIj5cbiAgICA8aGVhZGVyIGNsYXNzOmRhdGVkPXtfdGhpcy5hbGxvd19kYXRlX2NoYW5nZX0+XG4gICAgICA8aDIgY2xhc3M9XCJtb250aFwiPntzaG93RGF0ZVJhbmdlKGRheXMpfTwvaDI+XG4gICAgICB7I2lmIF90aGlzLmFsbG93X2RhdGVfY2hhbmdlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhbmdlLWRhdGVzXCI+XG4gICAgICAgICAgeyNpZiAhZGF5T3JkZXIuaW5jbHVkZXMobWluQm9va0FoZWFkT2Zmc2V0KX1cbiAgICAgICAgICAgIDxidXR0b24gb246Y2xpY2s9e2dvVG9QcmV2aW91c0RhdGV9IGFyaWEtbGFiZWw9XCJQcmV2aW91cyBkYXRlXCI+XG4gICAgICAgICAgICAgIDxCYWNrSWNvbiBzdHlsZT1cImhlaWdodDozMnB4O3dpZHRoOjMycHg7XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgIDxzcGFuIC8+XG4gICAgICAgICAgey9pZn1cblxuICAgICAgICAgIHsjaWYgIWRheU9yZGVyLmluY2x1ZGVzKG1heEJvb2tBaGVhZE9mZnNldCl9XG4gICAgICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtnb1RvTmV4dERhdGV9IGFyaWEtbGFiZWw9XCJOZXh0IGRhdGVcIj5cbiAgICAgICAgICAgICAgPE5leHRJY29uIHN0eWxlPVwiaGVpZ2h0OjMycHg7d2lkdGg6MzJweDtcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgPHNwYW4gLz5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvaWZ9XG4gICAgICA8ZGl2IGNsYXNzPVwibGVnZW5kXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibm90LWF2YWlsYWJsZVwiPk5vdCBhdmFpbGFibGU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwicGFydGlhbGx5LWF2YWlsYWJsZVwiPlBhcnRpYWxseSBhdmFpbGFibGU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYXZhaWxhYmxlXCI+QXZhaWxhYmxlPC9zcGFuPlxuICAgICAgICB7I2lmIF90aGlzLmJ1c3lfY29sb3IgIT09IF90aGlzLmNsb3NlZF9jb2xvcn1cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNsb3NlZFwiPkNsb3NlZDwvc3Bhbj5cbiAgICAgICAgey9pZn1cbiAgICAgIDwvZGl2PlxuICAgIDwvaGVhZGVyPlxuICAgIHsjaWYgX3RoaXMuc2hvd190aWNrcyAmJiBfdGhpcy52aWV3X2FzID09PSBcInNjaGVkdWxlXCJ9XG4gICAgICB7I2lmIF90aGlzLnRpbWV6b25lfVxuICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXpvbmUtdGlja3NcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRpbWV6b25lXCI+XG4gICAgICAgICAgICB7c2V0VGltZVpvbmVPZmZzZXQodGlja3NbMF0sIF90aGlzLnRpbWV6b25lKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzPVwidGlja3NcIj5cbiAgICAgICAgICAgIHsjZWFjaCB0aWNrcyBhcyB0aWNrfVxuICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0aWNrXCI+XG4gICAgICAgICAgICAgICAge2Zvcm1hdFRpbWVTbG90KHRpY2ssIF90aGlzLnRpbWV6b25lKX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvaWZ9XG4gICAgICA8dWwgY2xhc3M9XCJ0aWNrc1wiIGJpbmQ6dGhpcz17dGlja0NvbnRhaW5lcn0+XG4gICAgICAgIHsjZWFjaCB0aWNrcyBhcyB0aWNrfVxuICAgICAgICAgIDxsaSBjbGFzcz1cInRpY2tcIj5cbiAgICAgICAgICAgIHtnZXRUaW1lU3RyaW5nKHRpY2spfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIHsvZWFjaH1cbiAgICAgIDwvdWw+XG4gICAgey9pZn1cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cImRheXNcIlxuICAgICAgY2xhc3M6c2NoZWR1bGU9e190aGlzLnZpZXdfYXMgPT09IFwic2NoZWR1bGVcIn1cbiAgICAgIGNsYXNzOmxpc3Q9e190aGlzLnZpZXdfYXMgPT09IFwibGlzdFwifVxuICAgICAgY2xhc3M6bG9hZGluZ1xuICAgICAgY2xhc3M6dGltZXpvbmU9e190aGlzLnRpbWV6b25lfVxuICAgICAgY2xhc3M6ZXJyb3I9e2hhc0Vycm9yfVxuICAgICAgYmluZDp0aGlzPXtkYXlDb250YWluZXJ9XG4gICAgICBiaW5kOmNsaWVudFdpZHRoPXtkYXlDb250YWluZXJXaWR0aH0+XG4gICAgICB7I2VhY2ggZGF5cyBhcyBkYXksIGRheUluZGV4IChkYXkudGltZXN0YW1wLnRvSVNPU3RyaW5nKCkpfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJkYXlcIlxuICAgICAgICAgIGRhdGEtdGltZXN0YW1wPXtkYXkudGltZXN0YW1wLnRvSVNPU3RyaW5nKCl9XG4gICAgICAgICAgYmluZDp0aGlzPXtkYXlSZWZbZGF5SW5kZXhdfT5cbiAgICAgICAgICA8aGVhZGVyPlxuICAgICAgICAgICAgPGgyPlxuICAgICAgICAgICAgICB7I2lmIF90aGlzLmRhdGVfZm9ybWF0ID09PSBcImRhdGVcIiB8fCBfdGhpcy5kYXRlX2Zvcm1hdCA9PT0gXCJmdWxsXCJ9XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXRlXCI+XG4gICAgICAgICAgICAgICAgICB7bmV3IERhdGUoZGF5LnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoXCJkZWZhdWx0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgeyNpZiBfdGhpcy5kYXRlX2Zvcm1hdCA9PT0gXCJ3ZWVrZGF5XCIgfHwgX3RoaXMuZGF0ZV9mb3JtYXQgPT09IFwiZnVsbFwifVxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAge25ldyBEYXRlKGRheS50aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKFwiZGVmYXVsdFwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXk6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAgeyNpZiBfdGhpcy52aWV3X2FzID09PSBcInNjaGVkdWxlXCJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXBvY2hzXCI+XG4gICAgICAgICAgICAgIHsjZWFjaCBkYXkuZXBvY2hzIGFzIGVwb2NofVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZXBvY2gge2Vwb2NoLnN0YXR1c31cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9XCJoZWlnaHQ6IHtlcG9jaC5oZWlnaHR9JTsgdG9wOiB7ZXBvY2gub2Zmc2V0fSU7XCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtYXZhaWxhYmxlLWNhbGVuZGFycz17ZXBvY2guYXZhaWxhYmxlX2NhbGVuZGFycy50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAgZGF0YS1zdGFydC10aW1lPXtuZXcgRGF0ZShlcG9jaC5zdGFydF90aW1lKS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgZGF0YS1lbmQtdGltZT17bmV3IERhdGUoZXBvY2guZW5kX3RpbWUpLnRvTG9jYWxlU3RyaW5nKCl9PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlubmVyXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB7cGFydGlhbFNjYWxlKFxuICAgICAgICAgICAgICAgICAgICAgIGVwb2NoLmF2YWlsYWJsZV9jYWxlbmRhcnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICApfVwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsb3RzXCI+XG4gICAgICAgICAgICAgIHsjZWFjaCBkYXkuc2xvdHMgYXMgc2xvdCwgc2xvdEluZGV4IChzbG90LnN0YXJ0X3RpbWUudG9JU09TdHJpbmcoKSl9XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGF0YS1hdmFpbGFibGUtY2FsZW5kYXJzPXtzbG90LmF2YWlsYWJsZV9jYWxlbmRhcnMudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ7bmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgIHNsb3Quc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICAgICkudG9Mb2NhbGVTdHJpbmcoKX0gdG8ge25ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICBzbG90LmVuZF90aW1lLFxuICAgICAgICAgICAgICAgICAgKS50b0xvY2FsZVN0cmluZygpfTsgRnJlZSBjYWxlbmRhcnM6IHtzbG90LmF2YWlsYWJsZV9jYWxlbmRhcnMudG9TdHJpbmcoKX1cIlxuICAgICAgICAgICAgICAgICAgdXNlOnN0b3JlUmVmPXt7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVLZXk6IGRheS50aW1lc3RhbXAudG9Mb2NhbGVEYXRlU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNsb3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZShzbG90LnN0YXJ0X3RpbWUpLnRvTG9jYWxlU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzbG90IHtzbG90LnNlbGVjdGlvblN0YXR1c30ge3Nsb3QuYXZhaWxhYmlsaXR5fVwiXG4gICAgICAgICAgICAgICAgICBjbGFzczpwZW5kaW5nPXtldmVudF90b19ob3ZlciAmJiBzbG90LnNlbGVjdGlvblBlbmRpbmd9XG4gICAgICAgICAgICAgICAgICBkYXRhLXN0YXJ0LXRpbWU9e25ldyBEYXRlKHNsb3Quc3RhcnRfdGltZSkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtZW5kLXRpbWU9e25ldyBEYXRlKHNsb3QuZW5kX3RpbWUpLnRvTG9jYWxlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICBjbGFzczpvdXRzaWRlLW9mLXRpbWUtcmFuZ2U9eyFzbG90LmZhbGxzV2l0aGluQWxsb3dlZFRpbWVSYW5nZX1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtzbG90LmZhbGxzV2l0aGluQWxsb3dlZFRpbWVSYW5nZVxuICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiBgWW91IG1heSBvbmx5IHNlbGVjdCB0aW1lc2xvdHMgaW4gdGhlIGZ1dHVyZSwgYmV0d2VlbiAke21pbkJvb2tBaGVhZE9mZnNldH0gYW5kICR7bWF4Qm9va0FoZWFkT2Zmc2V0fWB9XG4gICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTbG90SW50ZXJhY3Rpb25TdGFydChzbG90KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbjptb3VzZWVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNsb3RIb3ZlcihzbG90KTtcbiAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgeyNpZiBzbG90LnNlbGVjdGlvblN0YXR1cyA9PT0gU2VsZWN0aW9uU3RhdHVzLlNFTEVDVEVEIHx8IChldmVudF90b19ob3ZlciAmJiBnZXRCbG9ja1RpbWVzKHNsb3QsIGRheSkpfVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNlbGVjdGVkLWhlYWRpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgID57Z2V0QmxvY2tUaW1lcyhzbG90LCBkYXkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHs6ZWxzZSBpZiBfdGhpcy52aWV3X2FzID09PSBcImxpc3RcIn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LWxpc3RcIj5cbiAgICAgICAgICAgICAgeyNlYWNoIGxpc3RWaWV3T3B0aW9ucyhkYXkpIGFzIHNsb3R9XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGF0YS1hdmFpbGFibGUtY2FsZW5kYXJzPXtzbG90LmF2YWlsYWJsZV9jYWxlbmRhcnMudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ7Z2V0VGltZVN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoc2xvdC5zdGFydF90aW1lKSxcbiAgICAgICAgICAgICAgICAgICl9IHRvIHtnZXRUaW1lU3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShzbG90LmVuZF90aW1lKSxcbiAgICAgICAgICAgICAgICAgICl9OyBGcmVlIGNhbGVuZGFyczoge3Nsb3QuYXZhaWxhYmxlX2NhbGVuZGFycy50b1N0cmluZygpfVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInNsb3Qge3Nsb3Quc2VsZWN0aW9uU3RhdHVzfSB7c2xvdC5hdmFpbGFiaWxpdHl9XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzOnBlbmRpbmc9e3Nsb3Quc2VsZWN0aW9uUGVuZGluZ31cbiAgICAgICAgICAgICAgICAgIGRhdGEtc3RhcnQtdGltZT17bmV3IERhdGUoc2xvdC5zdGFydF90aW1lKS50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgZGF0YS1lbmQtdGltZT17bmV3IERhdGUoc2xvdC5lbmRfdGltZSkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB0b2dnbGVTbG90KHNsb3QpfT5cbiAgICAgICAgICAgICAgICAgIHtnZXRUaW1lU3RyaW5nKG5ldyBEYXRlKHNsb3Quc3RhcnRfdGltZSkpfVxuICAgICAgICAgICAgICAgICAgeyNpZiBzbG90LmF2YWlsYWJpbGl0eSA9PT0gQXZhaWxhYmlsaXR5U3RhdHVzLlBBUlRJQUx9XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGFydGlhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICh7c2xvdC5hdmFpbGFibGVfY2FsZW5kYXJzLmxlbmd0aH0gb2Yge2FsbENhbGVuZGFycy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlKVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvZWFjaH1cbiAgICA8L2Rpdj5cbiAgICB7I2lmIGhhc0Vycm9yfVxuICAgICAgPG55bGFzLW1lc3NhZ2UtZXJyb3IgLz5cbiAgICB7L2lmfVxuICA8L21haW4+XG57L2lmfVxuIiwiPHN2ZWx0ZTpvcHRpb25zIHRhZz1cIm55bGFzLWJvb2tpbmdcIiAvPlxuXG48c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBFcnJvclN0b3JlLCBNYW5pZmVzdFN0b3JlLCBzZW5kTWVzc2FnZSB9IGZyb20gXCJAY29tbW9uc1wiO1xuICBpbXBvcnQgeyBjcmVhdGVFdmVudCB9IGZyb20gXCJAY29tbW9ucy9jb25uZWN0aW9ucy9ldmVudHNcIjtcbiAgaW1wb3J0IHsgZ2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSBcInN2ZWx0ZS9pbnRlcm5hbFwiO1xuICBpbXBvcnQge1xuICAgIGJ1aWxkSW50ZXJuYWxQcm9wcyxcbiAgICBnZXRFdmVudERpc3BhdGNoZXIsXG4gIH0gZnJvbSBcIkBjb21tb25zL21ldGhvZHMvY29tcG9uZW50XCI7XG5cbiAgaW1wb3J0IHsgRGVmYXVsdEN1c3RvbUZpZWxkcyB9IGZyb20gXCJAY29tbW9ucy9jb25zdGFudHMvY3VzdG9tLWZpZWxkc1wiO1xuICBpbXBvcnQgdHlwZSB7XG4gICAgTWFuaWZlc3QsXG4gICAgQ3VzdG9tRmllbGQsXG4gICAgQ29uc2VjdXRpdmVFdmVudCxcbiAgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQm9va2luZ1wiO1xuICBpbXBvcnQgdHlwZSB7IEJvb2thYmxlU2xvdCB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9BdmFpbGFiaWxpdHlcIjtcbiAgaW1wb3J0IHR5cGUgeyBFdmVudFF1ZXJ5LCBUaW1lc3BhbkV2ZW50IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0V2ZW50c1wiO1xuICBpbXBvcnQgeyBOb3RpZmljYXRpb25Nb2RlIH0gZnJvbSBcIkBjb21tb25zL2VudW1zL0Jvb2tpbmdcIjtcbiAgaW1wb3J0IHsgb25Nb3VudCwgdGljayB9IGZyb20gXCJzdmVsdGVcIjtcblxuICAvLyAjcmVnaW9uIHByb3BzXG4gIGV4cG9ydCBsZXQgaWQ6IHN0cmluZyA9IFwiXCI7XG4gIGV4cG9ydCBsZXQgYWNjZXNzX3Rva2VuOiBzdHJpbmcgPSBcIlwiO1xuXG4gIGV4cG9ydCBsZXQgYm9va2luZ19sYWJlbDogc3RyaW5nO1xuICBleHBvcnQgbGV0IGN1c3RvbV9maWVsZHM6IEN1c3RvbUZpZWxkW107XG4gIGV4cG9ydCBsZXQgZXZlbnRfdGl0bGU6IHN0cmluZztcbiAgZXhwb3J0IGxldCBldmVudF9kZXNjcmlwdGlvbjogc3RyaW5nO1xuICBleHBvcnQgbGV0IGV2ZW50X2xvY2F0aW9uOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgZXZlbnRfY29uZmVyZW5jaW5nOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgc2xvdHNfdG9fYm9vazogQm9va2FibGVTbG90W107XG4gIGV4cG9ydCBsZXQgbm90aWZpY2F0aW9uX21vZGU6IE5vdGlmaWNhdGlvbk1vZGU7XG4gIGV4cG9ydCBsZXQgbm90aWZpY2F0aW9uX21lc3NhZ2U6IHN0cmluZztcbiAgZXhwb3J0IGxldCBub3RpZmljYXRpb25fc3ViamVjdDogc3RyaW5nO1xuICBleHBvcnQgbGV0IHJlY3VycmVuY2U6IFwibm9uZVwiIHwgXCJyZXF1aXJlZFwiIHwgXCJvcHRpb25hbFwiO1xuICBleHBvcnQgbGV0IHJlY3VycmVuY2VfY2FkZW5jZTogKFxuICAgIHwgXCJub25lXCJcbiAgICB8IFwiZGFpbHlcIlxuICAgIHwgXCJ3ZWVrZGF5c1wiXG4gICAgfCBcIndlZWtseVwiXG4gICAgfCBcImJpd2Vla2x5XCJcbiAgICB8IFwibW9udGhseVwiXG4gIClbXTtcbiAgZXhwb3J0IGxldCByZWN1cnJlbmNlX2V4cGlyeTogRGF0ZSB8IHN0cmluZyB8IG51bGw7XG4gIGV4cG9ydCBsZXQgZXZlbnRfb3B0aW9uczogYW55W107IC8vIFRPRE86IHR5cGVcbiAgLy8gI2VuZHJlZ2lvbiBwcm9wc1xuXG4gIC8vI3JlZ2lvbiBtb3VudCBhbmQgcHJvcCBpbml0aWFsaXphdGlvblxuICBjb25zdCBkaXNwYXRjaEV2ZW50ID0gZ2V0RXZlbnREaXNwYXRjaGVyKGdldF9jdXJyZW50X2NvbXBvbmVudCgpKTtcblxuICAkOiBpZiAoT2JqZWN0LmtleXMoJEVycm9yU3RvcmUpLmxlbmd0aCkge1xuICAgIGRpc3BhdGNoRXZlbnQoXCJvbkVycm9yXCIsICRFcnJvclN0b3JlKTtcbiAgfVxuXG4gIGNvbnN0IGRlZmF1bHRWYWx1ZU1hcDogUGFydGlhbDxNYW5pZmVzdD4gPSB7XG4gICAgYm9va2luZ19sYWJlbDogXCJTY2hlZHVsZSB0aW1lIHNsb3RzXCIsXG4gICAgY3VzdG9tX2ZpZWxkczogRGVmYXVsdEN1c3RvbUZpZWxkcyxcbiAgICBldmVudF90aXRsZTogXCJNZWV0aW5nXCIsXG4gICAgZXZlbnRfZGVzY3JpcHRpb246IFwiXCIsXG4gICAgZXZlbnRfY29uZmVyZW5jaW5nOiBcIlwiLFxuICAgIGV2ZW50X2xvY2F0aW9uOiBcIlwiLFxuICAgIHNsb3RzX3RvX2Jvb2s6IFtdLFxuICAgIG5vdGlmaWNhdGlvbl9tb2RlOiBOb3RpZmljYXRpb25Nb2RlLlNIT1dfTUVTU0FHRSxcbiAgICBub3RpZmljYXRpb25fbWVzc2FnZTogXCJUaGFuayB5b3UgZm9yIHNjaGVkdWxpbmchXCIsXG4gICAgbm90aWZpY2F0aW9uX3N1YmplY3Q6IFwiSW52aXRhdGlvblwiLFxuICAgIHJlY3VycmVuY2U6IFwibm9uZVwiLFxuICAgIHJlY3VycmVuY2VfY2FkZW5jZTogW1wibm9uZVwiXSxcbiAgICBldmVudF9vcHRpb25zOiBbXSxcbiAgfTtcblxuICBsZXQgX3RoaXM6IE1hbmlmZXN0ID0gPE1hbmlmZXN0PmJ1aWxkSW50ZXJuYWxQcm9wcyh7fSwge30sIGRlZmF1bHRWYWx1ZU1hcCk7XG4gIGxldCBtYW5pZmVzdDogUGFydGlhbDxNYW5pZmVzdD4gPSB7fTtcblxuICBvbk1vdW50KGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCB0aWNrKCk7XG4gICAgY29uc3Qgc3RvcmVLZXkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBjb21wb25lbnRfaWQ6IGlkLFxuICAgICAgYWNjZXNzX3Rva2VuLFxuICAgIH0pO1xuICAgIG1hbmlmZXN0ID0gKGF3YWl0ICRNYW5pZmVzdFN0b3JlW3N0b3JlS2V5XSkgfHwge307XG5cbiAgICBfdGhpcyA9IGJ1aWxkSW50ZXJuYWxQcm9wcygkJHByb3BzLCBtYW5pZmVzdCwgZGVmYXVsdFZhbHVlTWFwKSBhcyBNYW5pZmVzdDtcbiAgfSk7XG5cbiAgbGV0IHByZXZpb3VzUHJvcHMgPSAkJHByb3BzO1xuICAkOiB7XG4gICAgaWYgKEpTT04uc3RyaW5naWZ5KHByZXZpb3VzUHJvcHMpICE9PSBKU09OLnN0cmluZ2lmeSgkJHByb3BzKSkge1xuICAgICAgX3RoaXMgPSBidWlsZEludGVybmFsUHJvcHMoXG4gICAgICAgICQkcHJvcHMsXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBkZWZhdWx0VmFsdWVNYXAsXG4gICAgICApIGFzIE1hbmlmZXN0O1xuICAgICAgcHJldmlvdXNQcm9wcyA9ICQkcHJvcHM7XG4gICAgfVxuICB9XG4gIC8vICNlbmRyZWdpb24gbW91bnQgYW5kIHByb3AgaW5pdGlhbGl6YXRpb25cblxuICBsZXQgc2hvd1N1Y2Nlc3NOb3RpZmljYXRpb24gPSBmYWxzZTtcblxuICAkOiBzbG90c1RvQm9vayA9IF90aGlzLnNsb3RzX3RvX2Jvb2subWFwKChzbG90KSA9PiB7XG4gICAgaWYgKCFzbG90LnJlY3VycmVuY2VfY2FkZW5jZSkge1xuICAgICAgaWYgKF90aGlzLnJlY3VycmVuY2UgPT09IFwicmVxdWlyZWRcIikge1xuICAgICAgICBzbG90LnJlY3VycmVuY2VfY2FkZW5jZSA9IF90aGlzLnJlY3VycmVuY2VfY2FkZW5jZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsb3QucmVjdXJyZW5jZV9jYWRlbmNlID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc2xvdC5leHBpcnlTZWxlY3Rpb24pIHtcbiAgICAgIHNsb3QuZXhwaXJ5U2VsZWN0aW9uID0gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiBzbG90O1xuICB9KTtcbiAgJDogaWYgKHNsb3RzVG9Cb29rLmxlbmd0aCkge1xuICAgIHNob3dTdWNjZXNzTm90aWZpY2F0aW9uID0gZmFsc2U7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBib29rVGltZVNsb3RzKGV2ZW50czogQm9va2FibGVTbG90W10pIHtcbiAgICBjb25zdCBib29raW5ncyA9IGV2ZW50cy5tYXAoYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwb3N0YWJsZUV2ZW50OiBQYXJ0aWFsPFRpbWVzcGFuRXZlbnQ+ID0ge1xuICAgICAgICB0aXRsZTogZXZlbnQuZXZlbnRfdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5ldmVudF9kZXNjcmlwdGlvbixcbiAgICAgICAgbG9jYXRpb246IGV2ZW50LmV2ZW50X2xvY2F0aW9uLFxuICAgICAgICBjb25mZXJlbmNpbmc6IGV2ZW50LmV2ZW50X2NvbmZlcmVuY2luZ1xuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBwcm92aWRlcjogXCJab29tIE1lZXRpbmdcIiwgLy8gVE9ETzogbWFrZSB0aGlzIGR5bmFtaWNcbiAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgIHVybDogZXZlbnQuZXZlbnRfY29uZmVyZW5jaW5nLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IEFycmF5LmZyb20oXG4gICAgICAgICAgbmV3IFNldChbXG4gICAgICAgICAgICAuLi5ldmVudC5hdmFpbGFibGVfY2FsZW5kYXJzLFxuICAgICAgICAgICAgLi4uKGV2ZW50LnBhcnRpY2lwYW50RW1haWxzID8/IFtdKSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgKS5tYXAoKGVtYWlsKSA9PiAoeyBlbWFpbCB9KSksXG4gICAgICAgIGNhbGVuZGFyX2lkOiBldmVudC5jYWxlbmRhcl9pZCxcbiAgICAgICAgd2hlbjoge1xuICAgICAgICAgIHN0YXJ0X3RpbWU6IGV2ZW50LnN0YXJ0X3RpbWUuZ2V0VGltZSgpIC8gMTAwMCxcbiAgICAgICAgICBlbmRfdGltZTogZXZlbnQuZW5kX3RpbWUuZ2V0VGltZSgpIC8gMTAwMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChjdXN0b21GaWVsZFJlc3BvbnNlc1tcIkVtYWlsIEFkZHJlc3NcIl0pIHtcbiAgICAgICAgcG9zdGFibGVFdmVudC5wYXJ0aWNpcGFudHM/LnB1c2goe1xuICAgICAgICAgIGVtYWlsOiBjdXN0b21GaWVsZFJlc3BvbnNlc1tcIkVtYWlsIEFkZHJlc3NcIl0sXG4gICAgICAgICAgbmFtZTogY3VzdG9tRmllbGRSZXNwb25zZXNbXCJZb3VyIE5hbWVcIl0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoY3VzdG9tRmllbGRSZXNwb25zZXMpLmxlbmd0aCkge1xuICAgICAgICBwb3N0YWJsZUV2ZW50Lm1ldGFkYXRhID0gY3VzdG9tRmllbGRSZXNwb25zZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5yZWN1cnJlbmNlX2NhZGVuY2UgJiYgZXZlbnQucmVjdXJyZW5jZV9jYWRlbmNlICE9PSBcIm5vbmVcIikge1xuICAgICAgICBsZXQgcnJ1bGU6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIGlmIChldmVudC5yZWN1cnJlbmNlX2NhZGVuY2UgPT09IFwiZGFpbHlcIikge1xuICAgICAgICAgIHJydWxlID0gXCJSUlVMRTpGUkVRPURBSUxZXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQucmVjdXJyZW5jZV9jYWRlbmNlID09PSBcIndlZWtkYXlzXCIpIHtcbiAgICAgICAgICBycnVsZSA9IFwiUlJVTEU6RlJFUT1EQUlMWTtCWURBWT1NTyxUVSxXRSxUSCxGUlwiO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnJlY3VycmVuY2VfY2FkZW5jZSA9PT0gXCJ3ZWVrbHlcIikge1xuICAgICAgICAgIHJydWxlID0gXCJSUlVMRTpGUkVRPVdFRUtMWVwiO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnJlY3VycmVuY2VfY2FkZW5jZSA9PT0gXCJiaXdlZWtseVwiKSB7XG4gICAgICAgICAgcnJ1bGUgPSBcIlJSVUxFOkZSRVE9V0VFS0xZO0lOVEVSVkFMPTJcIjtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5yZWN1cnJlbmNlX2NhZGVuY2UgPT09IFwibW9udGhseVwiKSB7XG4gICAgICAgICAgcnJ1bGUgPSBcIlJSVUxFOkZSRVE9TU9OVEhMWVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgZGF0ZSBpbnB1dCB0byBEYXRlIHR5cGVcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC5yZWN1cnJlbmNlX2V4cGlyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGV2ZW50LnJlY3VycmVuY2VfZXhwaXJ5ID0gbmV3IERhdGUoZXZlbnQucmVjdXJyZW5jZV9leHBpcnkgYXMgc3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHBpcnkgPSBfdGhpcy5yZWN1cnJlbmNlX2V4cGlyeSB8fCBldmVudC5yZWN1cnJlbmNlX2V4cGlyeTtcbiAgICAgICAgY29uc3QgZXhwaXJ5SW50ID0gTnVtYmVyLnBhcnNlSW50KDxzdHJpbmc+ZXhwaXJ5KTtcblxuICAgICAgICBpZiAoIWlzTmFOKGV4cGlyeUludCkpIHtcbiAgICAgICAgICBycnVsZSArPSBgO0NPVU5UPSR7ZXhwaXJ5SW50fWA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhwaXJ5IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgIHJydWxlICs9IGA7VU5USUw9JHtleHBpcnlcbiAgICAgICAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDE5KSAvLyBSZW1vdmUgTVMgZnJvbSB0aW1lIHN0cmluZ1xuICAgICAgICAgICAgLnJlcGxhY2UoL1teMC05XS9nLCBcIlwiKX1aYDtcbiAgICAgICAgfVxuICAgICAgICBwb3N0YWJsZUV2ZW50LnJlY3VycmVuY2UgPSB7XG4gICAgICAgICAgcnJ1bGU6IFtycnVsZV0sXG4gICAgICAgICAgdGltZXpvbmU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVFdmVudChcbiAgICAgICAgcG9zdGFibGVFdmVudCBhcyBUaW1lc3BhbkV2ZW50LFxuICAgICAgICB7XG4gICAgICAgICAgY29tcG9uZW50X2lkOiBpZCxcbiAgICAgICAgICBhY2Nlc3NfdG9rZW4sXG4gICAgICAgIH0gYXMgRXZlbnRRdWVyeSxcbiAgICAgICk7XG4gICAgfSk7XG4gICAgY29uc3QgZXZlbnRCb29raW5ncyA9IGF3YWl0IFByb21pc2UuYWxsKGJvb2tpbmdzKTtcblxuICAgIGRpc3BhdGNoRXZlbnQoXCJib29rZWRFdmVudHNcIiwge30pO1xuXG4gICAgaWYgKF90aGlzLm5vdGlmaWNhdGlvbl9tb2RlID09PSBOb3RpZmljYXRpb25Nb2RlLlNFTkRfTUVTU0FHRSkge1xuICAgICAgZXZlbnRCb29raW5ncy5tYXAoKGV2ZW50LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50UGFydGljaXBhbnRzID0gZXZlbnQucGFydGljaXBhbnRzPy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBlbWFpbCwgbmFtZSB9ID0gcGFydGljaXBhbnQ7XG4gICAgICAgICAgY29uc3QgdG86IHsgZW1haWw6IHN0cmluZzsgbmFtZT86IHN0cmluZyB9ID0geyBlbWFpbCB9O1xuICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICB0by5uYW1lID0gbmFtZTtcbiAgICAgICAgICB9IC8vIE9ubHkgYXNzaWduIG5hbWUgaWYgbm90IG51bGwsIGVsc2Ugd2UgZ2V0IGVycm9yXG4gICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGV2ZW50UGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2UoaWQsIHtcbiAgICAgICAgICAgIHRvOiBldmVudFBhcnRpY2lwYW50cyxcbiAgICAgICAgICAgIGJvZHk6IGAke190aGlzLm5vdGlmaWNhdGlvbl9tZXNzYWdlfWAsXG4gICAgICAgICAgICBzdWJqZWN0OiBgJHtfdGhpcy5ub3RpZmljYXRpb25fc3ViamVjdH1gLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLm5vdGlmaWNhdGlvbl9tb2RlID09PSBOb3RpZmljYXRpb25Nb2RlLlNIT1dfTUVTU0FHRSkge1xuICAgICAgc2hvd1N1Y2Nlc3NOb3RpZmljYXRpb24gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vICNyZWdpb24gY3VzdG9tIGZpZWxkc1xuICBsZXQgY3VzdG9tRmllbGRSZXNwb25zZXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTsgLy8gaWRlYWxseSBcImFueVwiIHdvdWxkIGJlIFwic3RyaW5nIHwgYm9vbGVhblwiLCBidXQgdGV4dCBpbnB1dHMgY2FzdCB0byBtYW55IHR5cGVzXG4gICQ6IGlmIChcbiAgICAhX3RoaXMuY3VzdG9tX2ZpZWxkcy5maW5kKChmaWVsZCkgPT5cbiAgICAgIGN1c3RvbUZpZWxkUmVzcG9uc2VzLmhhc093blByb3BlcnR5KGZpZWxkLnRpdGxlKSxcbiAgICApXG4gICkge1xuICAgIGN1c3RvbUZpZWxkUmVzcG9uc2VzID0gX3RoaXMuY3VzdG9tX2ZpZWxkcy5yZWR1Y2UoKHJlc3BvbnNlcywgZmllbGQpID0+IHtcbiAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlcywgW2ZpZWxkLnRpdGxlXTogXCJcIiB9O1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gICQ6IHJlcXVpcmVkRmllbGRzRmlsbGVkID0gX3RoaXMuY3VzdG9tX2ZpZWxkc1xuICAgIC5maWx0ZXIoKGZpZWxkKSA9PiBmaWVsZC5yZXF1aXJlZClcbiAgICAuZXZlcnkoXG4gICAgICAoZmllbGQpID0+XG4gICAgICAgIGN1c3RvbUZpZWxkUmVzcG9uc2VzW2ZpZWxkLnRpdGxlXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGN1c3RvbUZpZWxkUmVzcG9uc2VzW2ZpZWxkLnRpdGxlXSAhPT0gXCJcIixcbiAgICApO1xuICAvLyAjZW5kcmVnaW9uIGN1c3RvbSBmaWVsZHNcblxuICAvLyNyZWdpb24gRXZlbnQgT3B0aW9uc1xuICAvLyBJbnRlcmZhY2UgaGFuZGxpbmcgZm9yIHdoZW4geW91J3ZlIGdvdCBtdWx0aXBsZSBldmVudHMgdG8gc2VsZWN0IGZyb20sIGxpa2UgQ29uc2VjdXRpdmUgRXZlbnQgb3B0aW9uc1xuXG4gIGZ1bmN0aW9uIGhvdmVyT3B0aW9uKGV2ZW50OiBDb25zZWN1dGl2ZUV2ZW50W10pIHtcbiAgICBkaXNwYXRjaEV2ZW50KFwiaG92ZXJPcHRpb25DaGFuZ2VcIiwge1xuICAgICAgZXZlbnQsXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYmx1ck9wdGlvbigpIHtcbiAgICBkaXNwYXRjaEV2ZW50KFwiaG92ZXJPcHRpb25DaGFuZ2VcIiwge1xuICAgICAgZXZlbnQ6IG51bGwsXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc2VsZWN0T3B0aW9uKGV2ZW50OiBDb25zZWN1dGl2ZUV2ZW50W10pIHtcbiAgICBkaXNwYXRjaEV2ZW50KFwiZXZlbnRPcHRpb25TZWxlY3RlZFwiLCB7XG4gICAgICBldmVudCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vI2VuZHJlZ2lvbiBFdmVudCBPcHRpb25zXG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCI+XG4gIEBpbXBvcnQgXCIuL3N0eWxlcy9ib29raW5nLnNjc3NcIjtcbjwvc3R5bGU+XG5cbjxueWxhcy1lcnJvciB7aWR9IC8+XG48bWFpbj5cbiAgPHNlY3Rpb24gY2xhc3M9XCJib29rZXJcIj5cbiAgICB7I2lmIHNsb3RzVG9Cb29rLmxlbmd0aH1cbiAgICAgIDxoMj5Zb3VyIEFwcG9pbnRtZW50IEJvb2tpbmdzPC9oMj5cbiAgICAgIDxwPkRvIHlvdSB3YW50IHRvIGJvb2sgdGhlIGZvbGxvd2luZz88L3A+XG4gICAgICA8dWwgY2xhc3M9XCJ0aW1lc2xvdHNcIj5cbiAgICAgICAgeyNlYWNoIHNsb3RzVG9Cb29rIGFzIHRpbWVTbG90fVxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAge3RpbWVTbG90LmV2ZW50X3RpdGxlIHx8IF90aGlzLmV2ZW50X3RpdGxlfToge3RpbWVTbG90LmV2ZW50X2Rlc2NyaXB0aW9uIHx8XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRfZGVzY3JpcHRpb259XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aW1lXCJcbiAgICAgICAgICAgICAgPnt0aW1lU2xvdC5zdGFydF90aW1lLnRvTG9jYWxlVGltZVN0cmluZyhbXSwge1xuICAgICAgICAgICAgICAgIHRpbWVTdHlsZTogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLVxuICAgICAgICAgICAgICB7dGltZVNsb3QuZW5kX3RpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICAgICAgICAgICAgdGltZVN0eWxlOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgIH0pfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZVwiXG4gICAgICAgICAgICAgID57dGltZVNsb3Quc3RhcnRfdGltZS50b0xvY2FsZURhdGVTdHJpbmcoXCJkZWZhdWx0XCIsIHtcbiAgICAgICAgICAgICAgICBkYXRlU3R5bGU6IFwiZnVsbFwiLFxuICAgICAgICAgICAgICB9KX08L3NwYW4+XG4gICAgICAgICAgICB7I2lmIF90aGlzLnJlY3VycmVuY2UgIT09IFwibm9uZVwifVxuICAgICAgICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgICAgICAgIHsjaWYgX3RoaXMucmVjdXJyZW5jZSA9PT0gXCJvcHRpb25hbFwifVxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5Ib3cgb2Z0ZW4gc2hvdWxkIHRoaXMgZXZlbnQgcmVwZWF0Pzwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhZGVuY2VzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmNoZWNrZWQ9e3RpbWVTbG90LnJlY3VycmVuY2VfY2FkZW5jZSA9PT0gXCJub25lXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXt0aW1lU2xvdC5yZWN1cnJlbmNlX2NhZGVuY2V9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+bmV2ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBfdGhpcy5yZWN1cnJlbmNlX2NhZGVuY2UgYXMgY2FkZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmNoZWNrZWQ9e3RpbWVTbG90LnJlY3VycmVuY2VfY2FkZW5jZSA9PT0gY2FkZW5jZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NhZGVuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e3RpbWVTbG90LnJlY3VycmVuY2VfY2FkZW5jZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntjYWRlbmNlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7OmVsc2UgaWYgX3RoaXMucmVjdXJyZW5jZSA9PT0gXCJyZXF1aXJlZFwifVxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5SZXBlYXRpbmcge3RpbWVTbG90LnJlY3VycmVuY2VfY2FkZW5jZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIHsjaWYgdGltZVNsb3QucmVjdXJyZW5jZV9jYWRlbmNlICE9PSBcIm5vbmVcIiAmJiAhX3RoaXMucmVjdXJyZW5jZV9leHBpcnl9XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPkVuZHM8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHBpcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzOmNoZWNrZWQ9e3RpbWVTbG90LmV4cGlyeVNlbGVjdGlvbiA9PT0gXCJub25lXCJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXt0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+bmV2ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzczpjaGVja2VkPXt0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb24gPT09IFwiYWZ0ZXJcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJhZnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXt0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+QWZ0ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiB0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb24gPT09IFwiYWZ0ZXJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFmdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXt0aW1lU2xvdC5yZWN1cnJlbmNlX2V4cGlyeX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPm9jY3VycmVuY2VzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzczpjaGVja2VkPXt0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb24gPT09IFwib25cIn0+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXt0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+T248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgeyNpZiB0aW1lU2xvdC5leHBpcnlTZWxlY3Rpb24gPT09IFwib25cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj17dGltZVNsb3Quc3RhcnRfdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygwLCAxMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e3RpbWVTbG90LnJlY3VycmVuY2VfZXhwaXJ5fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgey9lYWNofVxuICAgICAgPC91bD5cbiAgICAgIHsjaWYgX3RoaXMuY3VzdG9tX2ZpZWxkcy5sZW5ndGh9XG4gICAgICAgIDxkaXYgaWQ9XCJjdXN0b20tZmllbGRzXCI+XG4gICAgICAgICAgeyNlYWNoIF90aGlzLmN1c3RvbV9maWVsZHMgYXMgZmllbGR9XG4gICAgICAgICAgICB7I2lmIGZpZWxkLnR5cGUgPT09IFwiZW1haWxcIn1cbiAgICAgICAgICAgICAgPGxhYmVsIGRhdGEtcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfT5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPntmaWVsZC50aXRsZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICA8IS0tIFRPRE86IHNlZSBpZiB3ZSBjYW4gbWFrZSB0eXBlPVwidGV4dFwiIGR5bmFtaWMgZm9yIGVtYWlsIGNhc2UuIFN2ZWx0ZSBkb2VzbnQgY2FyZSBmb3IgaXQgYXMgaXMuIC0tPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2N1c3RvbUZpZWxkUmVzcG9uc2VzW2ZpZWxkLnRpdGxlXX0gLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgPGxhYmVsIGRhdGEtcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfT5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPntmaWVsZC50aXRsZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2N1c3RvbUZpZWxkUmVzcG9uc2VzW2ZpZWxkLnRpdGxlXX0gLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgey9lYWNofVxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvaWZ9XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGRpc2FibGVkPXshcmVxdWlyZWRGaWVsZHNGaWxsZWR9XG4gICAgICAgIHRpdGxlPXshcmVxdWlyZWRGaWVsZHNGaWxsZWRcbiAgICAgICAgICA/IFwiUGxlYXNlIGNvbXBsZXRlIGFsbCByZXF1aXJlZCBmaWVsZHNcIlxuICAgICAgICAgIDogdW5kZWZpbmVkfVxuICAgICAgICBjbGFzcz1cImJvb2tcIlxuICAgICAgICBvbjpjbGljaz17KCkgPT4gYm9va1RpbWVTbG90cyhzbG90c1RvQm9vayl9XG4gICAgICAgID57X3RoaXMuYm9va2luZ19sYWJlbH08L2J1dHRvbj5cbiAgICB7OmVsc2UgaWYgX3RoaXMuZXZlbnRfb3B0aW9ucy5sZW5ndGh9XG4gICAgICA8aDI+U2VsZWN0IGFuIG9wdGlvbjwvaDI+XG4gICAgICA8dWwgY2xhc3M9XCJ0aW1lc2xvdHMgdGltZXNsb3Qtb3B0aW9uc1wiPlxuICAgICAgICB7I2VhY2ggX3RoaXMuZXZlbnRfb3B0aW9ucyBhcyBvcHRpb259XG4gICAgICAgICAgPGxpXG4gICAgICAgICAgICBhcmlhLXJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb246bW91c2VlbnRlcj17KCkgPT4gaG92ZXJPcHRpb24ob3B0aW9uKX1cbiAgICAgICAgICAgIG9uOm1vdXNlbGVhdmU9eygpID0+IGJsdXJPcHRpb24oKX1cbiAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBzZWxlY3RPcHRpb24ob3B0aW9uKX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRpbWVcIlxuICAgICAgICAgICAgICA+e29wdGlvblswXS5zdGFydF90aW1lLnRvTG9jYWxlU3RyaW5nKFtdLCB7XG4gICAgICAgICAgICAgICAgZGF0ZVN0eWxlOiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIHRpbWVTdHlsZTogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLVxuICAgICAgICAgICAgICB7b3B0aW9uW29wdGlvbi5sZW5ndGggLSAxXS5lbmRfdGltZS50b0xvY2FsZVN0cmluZyhbXSwge1xuICAgICAgICAgICAgICAgIGRhdGVTdHlsZTogXCJtZWRpdW1cIixcbiAgICAgICAgICAgICAgICB0aW1lU3R5bGU6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgfSl9PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1ldmVudHNcIj5cbiAgICAgICAgICAgICAgeyNlYWNoIG9wdGlvbiBhcyBzdWJldmVudCwgaXRlcn1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1Yi1ldmVudFwiPlxuICAgICAgICAgICAgICAgICAgPGg0PlxuICAgICAgICAgICAgICAgICAgICB7c3ViZXZlbnQuZXZlbnRfdGl0bGV9OlxuICAgICAgICAgICAgICAgICAgICB7c3ViZXZlbnQuZXZlbnRfZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAge3N1YmV2ZW50LnN0YXJ0X3RpbWUudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVTdHlsZTogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICAgICAgfSl9IC0ge3N1YmV2ZW50LmVuZF90aW1lLnRvTG9jYWxlVGltZVN0cmluZyhbXSwge1xuICAgICAgICAgICAgICAgICAgICB0aW1lU3R5bGU6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgd2l0aCB7c3ViZXZlbnQuZW1haWxzLmpvaW4oXCIsIFwiKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIHsvZWFjaH1cbiAgICAgIDwvdWw+XG4gICAgezplbHNlfVxuICAgICAgPHA+XG4gICAgICAgIFNlbGVjdCB0aW1lc2xvdHMgdG8gdmlldyBldmVudCBpbmZvcm1hdGlvbiAoWW91J2xsIGJlIGFibGUgdG8gcmV2aWV3XG4gICAgICAgIGJlZm9yZSB5b3UgYm9vaylcbiAgICAgIDwvcD5cbiAgICB7L2lmfVxuICAgIHsjaWYgc2hvd1N1Y2Nlc3NOb3RpZmljYXRpb259XG4gICAgICA8cD57X3RoaXMubm90aWZpY2F0aW9uX21lc3NhZ2V9PC9wPlxuICAgIHsvaWZ9XG4gIDwvc2VjdGlvbj5cbjwvbWFpbj5cbiIsIjxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjEzXCIgdmlld0JveD1cIjAgMCAxOCAxM1wiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuPHBhdGggZD1cIk0yLjAzMDMzIDcuMDUwNzFDMS43Mzc0NCA2Ljc1NzgyIDEuMjYyNTYgNi43NTc4MiAwLjk2OTY3IDcuMDUwNzFDMC42NzY3NzcgNy4zNDM2IDAuNjc2Nzc3IDcuODE4NDggMC45Njk2NyA4LjExMTM3TDUuNDY5NjcgMTIuNjExNEM1Ljc2MjU2IDEyLjkwNDMgNi4yMzc0NCAxMi45MDQzIDYuNTMwMzMgMTIuNjExNEwxNy41MzAzIDEuNjExMzdDMTcuODIzMiAxLjMxODQ4IDE3LjgyMzIgMC44NDM2MDMgMTcuNTMwMyAwLjU1MDcwOUMxNy4yMzc0IDAuMjU3ODE2IDE2Ljc2MjYgMC4yNTc4MTYgMTYuNDY5NyAwLjU1MDcwOUw2IDExLjAyMDRMMi4wMzAzMyA3LjA1MDcxWlwiIGZpbGw9XCIjMTYxNzE3XCIvPlxuPC9zdmc+XG4iLCI8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjxzdmdcbiAgd2lkdGg9XCI0XCJcbiAgaGVpZ2h0PVwiMTRcIlxuICB2aWV3Qm94PVwiMCAwIDQgMTRcIlxuICBmaWxsPVwibm9uZVwiXG4gIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuPlxuICA8cGF0aFxuICAgIGQ9XCJNMiAzLjVDMS4wMzM1IDMuNSAwLjI1IDIuNzE2NSAwLjI1IDEuNzVDMC4yNSAwLjc4MzUwMiAxLjAzMzUgLTEuMTg3NDJlLTA3IDIgLTcuNjQ5NDllLTA4QzIuOTY2NSAtMy40MjQ3OWUtMDggMy43NSAwLjc4MzUwMiAzLjc1IDEuNzVDMy43NSAyLjcxNjUgMi45NjY1IDMuNSAyIDMuNVpNMiAxNEMxLjAzMzUgMTQgMC4yNDk5OTkgMTMuMjE2NSAwLjI0OTk5OSAxMi4yNUMwLjI1IDExLjI4MzUgMS4wMzM1IDEwLjUgMiAxMC41QzIuOTY2NSAxMC41IDMuNzUgMTEuMjgzNSAzLjc1IDEyLjI1QzMuNzUgMTMuMjE2NSAyLjk2NjUgMTQgMiAxNFpNMC4yNSA3QzAuMjUgNy45NjY1IDEuMDMzNSA4Ljc1IDIgOC43NUMyLjk2NjUgOC43NSAzLjc1IDcuOTY2NSAzLjc1IDdDMy43NSA2LjAzMzUgMi45NjY1IDUuMjUgMiA1LjI1QzEuMDMzNSA1LjI1IDAuMjUgNi4wMzM1IDAuMjUgN1pcIlxuICAgIGZpbGw9XCIjNjM2NjcxXCJcbiAgLz5cbjwvc3ZnPlxuPHN2Z1xuICB3aWR0aD1cIjRcIlxuICBoZWlnaHQ9XCIxNFwiXG4gIHZpZXdCb3g9XCIwIDAgNCAxNFwiXG4gIGZpbGw9XCJub25lXCJcbiAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDJweDtcIlxuPlxuICA8cGF0aFxuICAgIGQ9XCJNMiAzLjVDMS4wMzM1IDMuNSAwLjI1IDIuNzE2NSAwLjI1IDEuNzVDMC4yNSAwLjc4MzUwMiAxLjAzMzUgLTEuMTg3NDJlLTA3IDIgLTcuNjQ5NDllLTA4QzIuOTY2NSAtMy40MjQ3OWUtMDggMy43NSAwLjc4MzUwMiAzLjc1IDEuNzVDMy43NSAyLjcxNjUgMi45NjY1IDMuNSAyIDMuNVpNMiAxNEMxLjAzMzUgMTQgMC4yNDk5OTkgMTMuMjE2NSAwLjI0OTk5OSAxMi4yNUMwLjI1IDExLjI4MzUgMS4wMzM1IDEwLjUgMiAxMC41QzIuOTY2NSAxMC41IDMuNzUgMTEuMjgzNSAzLjc1IDEyLjI1QzMuNzUgMTMuMjE2NSAyLjk2NjUgMTQgMiAxNFpNMC4yNSA3QzAuMjUgNy45NjY1IDEuMDMzNSA4Ljc1IDIgOC43NUMyLjk2NjUgOC43NSAzLjc1IDcuOTY2NSAzLjc1IDdDMy43NSA2LjAzMzUgMi45NjY1IDUuMjUgMiA1LjI1QzEuMDMzNSA1LjI1IDAuMjUgNi4wMzM1IDAuMjUgN1pcIlxuICAgIGZpbGw9XCIjNjM2NjcxXCJcbiAgLz5cbjwvc3ZnPlxuIiwiPHN2ZyB3aWR0aD1cIjEzXCIgaGVpZ2h0PVwiMTNcIiB2aWV3Qm94PVwiMCAwIDEzIDEzXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG48cGF0aCBkPVwiTTExLjY1NjkgMS40MjQyQzEyLjQzNzkgMi4yMDUyNCAxMi40Mzc5IDMuNDcxNTcgMTEuNjU2OSA0LjI1MjYyTDQuMjcwMzkgMTEuNjM5MUMzLjk1IDExLjk1OTUgMy41NDg1NSAxMi4xODY4IDMuMTA4OTcgMTIuMjk2N0wwLjgxNzk2NiAxMi44Njk0QzAuNDUxNzc2IDEyLjk2MSAwLjEyMDA4IDEyLjYyOTMgMC4yMTE2MjcgMTIuMjYzMUwwLjc4NDM3NyA5Ljk3MjA4QzAuODk0MjcyIDkuNTMyNSAxLjEyMTU3IDkuMTMxMDUgMS40NDE5NyA4LjgxMDY2TDguODI4NDMgMS40MjQyQzkuNjA5NDggMC42NDMxNDcgMTAuODc1OCAwLjY0MzE0NyAxMS42NTY5IDEuNDI0MlpNOC4xMjEyNCAzLjU0NTQxTDIuMTQ5MDcgOS41MTc3NkMxLjk1NjgzIDkuNzEgMS44MjA0NiA5Ljk1MDg3IDEuNzU0NTIgMTAuMjE0NkwxLjM4Mzg4IDExLjY5NzJMMi44NjY0MyAxMS4zMjY1QzMuMTMwMTggMTEuMjYwNiAzLjM3MTA1IDExLjEyNDIgMy41NjMyOSAxMC45MzJMOS41MzUyNCA0Ljk1OTQxTDguMTIxMjQgMy41NDU0MVpNOS41MzU1MyAyLjEzMTNMOC44MjgyNCAyLjgzODQxTDEwLjI0MjIgNC4yNTI0MUwxMC45NDk3IDMuNTQ1NTJDMTEuMzQwMyAzLjE1NDk5IDExLjM0MDMgMi41MjE4MyAxMC45NDk3IDIuMTMxM0MxMC41NTkyIDEuNzQwNzggOS45MjYwNiAxLjc0MDc4IDkuNTM1NTMgMi4xMzEzWlwiIGZpbGw9XCIjMDAyREI0XCIvPlxuPC9zdmc+XG4iLCI8c3ZnIHdpZHRoPVwiMTFcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMTEgMTJcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbjxwYXRoIGQ9XCJNNiAxLjA4MTA1QzYgMC44MDQ5MTIgNS43NzYxNCAwLjU4MTA1NSA1LjUgMC41ODEwNTVDNS4yMjM4NiAwLjU4MTA1NSA1IDAuODA0OTEyIDUgMS4wODEwNVY1LjU4MTA1SDAuNUMwLjIyMzg1OCA1LjU4MTA1IDAgNS44MDQ5MSAwIDYuMDgxMDVDMCA2LjM1NzIgMC4yMjM4NTggNi41ODEwNSAwLjUgNi41ODEwNUg1VjExLjA4MTFDNSAxMS4zNTcyIDUuMjIzODYgMTEuNTgxMSA1LjUgMTEuNTgxMUM1Ljc3NjE0IDExLjU4MTEgNiAxMS4zNTcyIDYgMTEuMDgxMVY2LjU4MTA1SDEwLjVDMTAuNzc2MSA2LjU4MTA1IDExIDYuMzU3MiAxMSA2LjA4MTA1QzExIDUuODA0OTEgMTAuNzc2MSA1LjU4MTA1IDEwLjUgNS41ODEwNUg2VjEuMDgxMDVaXCIgZmlsbD1cIiMwMDJEQjRcIi8+XG48L3N2Zz5cbiIsIjxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEzXCIgdmlld0JveD1cIjAgMCAxMiAxM1wiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuPHBhdGggZD1cIk00LjUgNS4wODEwNUw0LjUgOS4wODEwNUM0LjUgOS4zNTcyIDQuNzIzODYgOS41ODEwNSA1IDkuNTgxMDVDNS4yNzYxNCA5LjU4MTA1IDUuNSA5LjM1NzIgNS41IDkuMDgxMDVMNS41IDUuMDgxMDVDNS41IDQuODA0OTEgNS4yNzYxNCA0LjU4MTA1IDUgNC41ODEwNUM0LjcyMzg2IDQuNTgxMDUgNC41IDQuODA0OTEgNC41IDUuMDgxMDVaTTcgNC41ODEwNUM3LjI3NjE0IDQuNTgxMDUgNy41IDQuODA0OTEgNy41IDUuMDgxMDVWOS4wODEwNUM3LjUgOS4zNTcyIDcuMjc2MTQgOS41ODEwNSA3IDkuNTgxMDVDNi43MjM4NiA5LjU4MTA1IDYuNSA5LjM1NzIgNi41IDkuMDgxMDVWNS4wODEwNUM2LjUgNC44MDQ5MSA2LjcyMzg2IDQuNTgxMDUgNyA0LjU4MTA1Wk04IDIuMDgxMDVIMTFDMTEuMjc2MSAyLjA4MTA1IDExLjUgMi4zMDQ5MSAxMS41IDIuNTgxMDVDMTEuNSAyLjg1NzIgMTEuMjc2MSAzLjA4MTA1IDExIDMuMDgxMDVIMTAuNDQ3NUw5LjY5NDYyIDkuODU3MTNDOS41NTM5NCAxMS4xMjMyIDguNDgzNzggMTIuMDgxMSA3LjIwOTkxIDEyLjA4MTFINC43OTAwOEMzLjUxNjIxIDEyLjA4MTEgMi40NDYwNSAxMS4xMjMyIDIuMzA1MzcgOS44NTcxM0wxLjU1MjQ3IDMuMDgxMDVIMUMwLjcyMzg1OCAzLjA4MTA1IDAuNSAyLjg1NzIgMC41IDIuNTgxMDVDMC41IDIuMzA0OTEgMC43MjM4NTggMi4wODEwNSAxIDIuMDgxMDVINEM0IDAuOTc2NDg1IDQuODk1NDMgMC4wODEwNTQ3IDYgMC4wODEwNTQ3QzcuMTA0NTcgMC4wODEwNTQ3IDggMC45NzY0ODUgOCAyLjA4MTA1Wk02IDEuMDgxMDVDNS40NDc3MiAxLjA4MTA1IDUgMS41Mjg3NyA1IDIuMDgxMDVIN0M3IDEuNTI4NzcgNi41NTIyOSAxLjA4MTA1IDYgMS4wODEwNVpNMi41NTg2MyAzLjA4MTA1TDMuMjk5MjUgOS43NDY3QzMuMzgzNjYgMTAuNTA2NCA0LjAyNTc1IDExLjA4MTEgNC43OTAwOCAxMS4wODExSDcuMjA5OTFDNy45NzQyMyAxMS4wODExIDguNjE2MzMgMTAuNTA2NCA4LjcwMDczIDkuNzQ2N0w5LjQ0MTM2IDMuMDgxMDVIMi41NTg2M1pcIiBmaWxsPVwiI0VFMzI0OFwiLz5cbjwvc3ZnPlxuIiwiPHN2ZWx0ZTpvcHRpb25zIHRhZz1cIm55bGFzLXNjaGVkdWxlLWVkaXRvci1kcmFnLWl0ZW0tcGxhY2Vob2xkZXJcIiBpbW11dGFibGUgLz5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IERyYWdJY29uIGZyb20gXCIuLi9hc3NldHMvZHJhZy1pY29uLnN2Z1wiO1xuXG4gIGV4cG9ydCBsZXQgbGVmdCA9IDA7XG4gIGV4cG9ydCBsZXQgdG9wID0gMDtcbiAgZXhwb3J0IGxldCBoZWlnaHQgPSAwO1xuICBleHBvcnQgbGV0IHdpZHRoID0gMDtcbiAgZXhwb3J0IGxldCB2aXNpYmxlOiBib29sZWFuO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxuICBAaW1wb3J0IFwiLi4vc3R5bGVzL2RyYWctaXRlbS1wbGFjZWhvbGRlci5zY3NzXCI7XG48L3N0eWxlPlxuXG48ZGl2XG4gIGNsYXNzPVwiZHJhZy1wcmV2aWV3XCJcbiAgc3R5bGU9XCJ0b3A6IHt0b3B9cHg7IGxlZnQ6IHtsZWZ0fXB4OyBoZWlnaHQ6IHtoZWlnaHR9cHg7IHdpZHRoOiB7d2lkdGh9cHg7IHZpc2liaWxpdHk6IHt2aXNpYmxlXG4gICAgPyAndmlzaWJsZSdcbiAgICA6ICdoaWRkZW4nfVwiXG4+XG4gIDxkaXYgY2xhc3M9XCJkcmFnLXByZXZpZXctY2VsbFwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJkcmFnXCI+XG4gICAgICA8RHJhZ0ljb24gLz5cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDxzbG90IC8+XG48L2Rpdj5cbiIsIjxzdmVsdGU6b3B0aW9ucyB0YWc9XCJueWxhcy1zY2hlZHVsZS1lZGl0b3Itc2VjdGlvblwiIC8+XG5cbjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGV4cG9ydCBsZXQgcHJvcG5hbWUgPSBcImJhclwiO1xuICBleHBvcnQgbGV0IHNlY3Rpb25fdGl0bGU6IHN0cmluZztcbiAgZXhwb3J0IGxldCBleHBhbmRlZCA9IGZhbHNlO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxuICBAaW1wb3J0IFwiLi4vLi4vLi4vdGhlbWluZy9yZXNldC5zY3NzXCI7XG4gIEBpbXBvcnQgXCIuLi8uLi8uLi90aGVtaW5nL3ZhcmlhYmxlcy5zY3NzXCI7XG5cbiAgZGV0YWlscyB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBib3gtc2hhZG93OiAwcHggMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgbWF4LXdpZHRoOiA2NDBweDtcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMnJlbSk7XG5cbiAgICBzdW1tYXJ5IHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMTZweDtcbiAgICAgIGdhcDogMC41cmVtO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuXG4gICAgICAuZXhwYW5kLWljb24ge1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlWSgtMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJltvcGVuXSB7XG4gICAgICBzdW1tYXJ5IHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgICAuZXhwYW5kLWljb24ge1xuICAgICAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuPC9zdHlsZT5cblxuPHNlY3Rpb24gY2xhc3M9e3NlY3Rpb25fdGl0bGV9PlxuICA8ZGV0YWlscyBvcGVuPXtleHBhbmRlZH0+XG4gICAgPHN1bW1hcnk+XG4gICAgICA8c2xvdCBuYW1lPVwidGl0bGVcIiAvPlxuICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9leHBhbmQuc3ZnXCIgY2xhc3M9XCJleHBhbmQtaWNvblwiIGFsdD1cImV4cGFuZFwiIC8+XG4gICAgICA8c2xvdCBuYW1lPVwiaW50cm9cIiAvPlxuICAgIDwvc3VtbWFyeT5cbiAgICA8c2xvdCBuYW1lPVwiY29udGVudHNcIiAvPlxuICAgIDxzbG90IG5hbWU9XCJmb290ZXJcIiAvPlxuICA8L2RldGFpbHM+XG5cbiAgPHAgY2xhc3M9XCJpbnRyb1wiPjxzbG90IG5hbWU9XCJpbnRyb1wiIC8+PC9wPlxuPC9zZWN0aW9uPlxuIiwiLyoqXG4gKiBHaXZlbiBhbiBvYmplY3Qgd2hlcmUga2V5IGlzIGFuIGlkIGFuZCB2YWx1ZSBpcyBpdHMgRE9NIEVsZW1lbnQsIHJldHVybiBhIGxpc3Qgb2YgRE9NIFJlY3RzXG4gKiBAcGFyYW0gcmVmc1xuICogQHJldHVybnMgbGlzdCBvZiBET00gUmVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvbVJlY3RzKHJlZnM6IFJlY29yZDxzdHJpbmcsIEhUTUxFbGVtZW50Pik6IERPTVJlY3RbXSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKHJlZnMpLnJlZHVjZTxET01SZWN0W10+KChhbGxQb3NpdGlvbnMsIG5vZGUpID0+IHtcbiAgICBjb25zdCBkb21SZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gYWxsUG9zaXRpb25zLmNvbmNhdChbZG9tUmVjdF0pO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBwYXJlbnQgbm9kZSBhbmQgYSBzZWxlY3RvciwgcmV0dXJuIERPTVJlY3QgZm9yIHBhcmVudCBhbmQgYWxsIGNoaWxkcmVuIHRhcmdldHRlZCBieSBzZWxlY3RvclxuICogQHBhcmFtIG5vZGVcbiAqIEBwYXJhbSBjaGlsZFNlbGVjdG9yXG4gKiBAcmV0dXJucyBwYXJlbnQgRE9NUmVjdCBhbmQgY2hpbGRyZW4gRE9NUmVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvbVJlY3RzRnJvbVBhcmVudEFuZENoaWxkcmVuKFxuICBub2RlOiBFbGVtZW50LFxuICBjaGlsZFNlbGVjdG9yOiBzdHJpbmcsXG4pOiB7IHBhcmVudFJlY3Q6IERPTVJlY3Q7IGNoaWxkUmVjdHM6IERPTVJlY3RbXSB9IHtcbiAgY29uc3QgcGFyZW50UmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNoaWxkUmVjdHMgPSBbLi4ubm9kZS5xdWVyeVNlbGVjdG9yQWxsKGNoaWxkU2VsZWN0b3IpXS5tYXAoKGNoaWxkKSA9PlxuICAgIGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICApO1xuICByZXR1cm4geyBwYXJlbnRSZWN0LCBjaGlsZFJlY3RzIH07XG59XG4iLCI8c3ZlbHRlOm9wdGlvbnMgdGFnPVwibnlsYXMtc2NoZWR1bGUtZWRpdG9yXCIgLz5cblxuPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgRGVmYXVsdEN1c3RvbUZpZWxkcyB9IGZyb20gXCJAY29tbW9ucy9jb25zdGFudHMvY3VzdG9tLWZpZWxkc1wiO1xuICBpbXBvcnQgeyBOb3RpZmljYXRpb25Nb2RlIH0gZnJvbSBcIkBjb21tb25zL2VudW1zL0Jvb2tpbmdcIjtcbiAgaW1wb3J0IHBhcnNlU3RyaW5nVG9BcnJheSwge1xuICAgIGJ1aWxkSW50ZXJuYWxQcm9wcyxcbiAgfSBmcm9tIFwiQGNvbW1vbnMvbWV0aG9kcy9jb21wb25lbnRcIjtcbiAgaW1wb3J0IHsgd2Vla2RheXMgfSBmcm9tIFwiQGNvbW1vbnMvbWV0aG9kcy9kYXRldGltZVwiO1xuICBpbXBvcnQgdHlwZSB7IEF2YWlsYWJpbGl0eVJ1bGUsIFRpbWVTbG90IH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL0F2YWlsYWJpbGl0eVwiO1xuXG4gIGltcG9ydCB0eXBlIHtcbiAgICBNYW5pZmVzdCxcbiAgICBFdmVudERlZmluaXRpb24sXG4gICAgU2VjdGlvbnMsXG4gIH0gZnJvbSBcIkBjb21tb25zL3R5cGVzL1NjaGVkdWxlRWRpdG9yXCI7XG4gIGltcG9ydCB7IFNlY3Rpb25OYW1lcyB9IGZyb20gXCJAY29tbW9ucy90eXBlcy9TY2hlZHVsZUVkaXRvclwiO1xuXG4gIGltcG9ydCB0eXBlIHsgQ3VzdG9tRmllbGQgfSBmcm9tIFwiQGNvbW1vbnMvdHlwZXMvQm9va2luZ1wiO1xuICBpbXBvcnQgeyBvbkRlc3Ryb3ksIG9uTW91bnQsIHRpY2sgfSBmcm9tIFwic3ZlbHRlXCI7XG4gIGltcG9ydCB0aW1lem9uZXMgZnJvbSBcInRpbWV6b25lcy1saXN0XCI7XG4gIGltcG9ydCB7IEVycm9yU3RvcmUsIE1hbmlmZXN0U3RvcmUgfSBmcm9tIFwiQGNvbW1vbnNcIjtcbiAgaW1wb3J0IHsgZ2V0RXZlbnREaXNwYXRjaGVyIH0gZnJvbSBcIkBjb21tb25zL21ldGhvZHMvY29tcG9uZW50XCI7XG4gIGltcG9ydCB7IHNhdmVNYW5pZmVzdCB9IGZyb20gXCJAY29tbW9ucy9jb25uZWN0aW9ucy9tYW5pZmVzdFwiO1xuICBpbXBvcnQgXCIuLi8uLi9hdmFpbGFiaWxpdHkvc3JjL0F2YWlsYWJpbGl0eS5zdmVsdGVcIjtcbiAgaW1wb3J0IFwiLi4vLi4vYm9va2luZy9zcmMvQm9va2luZy5zdmVsdGVcIjtcbiAgaW1wb3J0IENoZWNrbWFya0ljb24gZnJvbSBcIi4vYXNzZXRzL2NoZWNrbWFyay1pY29uLnN2Z1wiO1xuICBpbXBvcnQgRHJhZ0ljb24gZnJvbSBcIi4vYXNzZXRzL2RyYWctaWNvbi5zdmdcIjtcbiAgaW1wb3J0IFBlbmNpbEljb24gZnJvbSBcIi4vYXNzZXRzL3BlbmNpbC1pY29uLnN2Z1wiO1xuICBpbXBvcnQgUGx1c0ljb24gZnJvbSBcIi4vYXNzZXRzL3BsdXMtaWNvbi5zdmdcIjtcbiAgaW1wb3J0IFRyYXNoSWNvbiBmcm9tIFwiLi9hc3NldHMvdHJhc2gtaWNvbi5zdmdcIjtcbiAgaW1wb3J0IFwiLi9jb21wb25lbnRzL0RyYWdJdGVtUGxhY2Vob2xkZXIuc3ZlbHRlXCI7XG4gIGltcG9ydCBcIi4vY29tcG9uZW50cy9FZGl0b3JTZWN0aW9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBnZXREb21SZWN0cywgZ2V0RG9tUmVjdHNGcm9tUGFyZW50QW5kQ2hpbGRyZW4gfSBmcm9tIFwiLi9tZXRob2RzL2RvbVwiO1xuICBpbXBvcnQgeyBnZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tIFwic3ZlbHRlL2ludGVybmFsXCI7XG5cbiAgZXhwb3J0IGxldCBpZDogc3RyaW5nID0gXCJcIjtcbiAgZXhwb3J0IGxldCBhY2Nlc3NfdG9rZW46IHN0cmluZyA9IFwiXCI7XG5cbiAgZXhwb3J0IGxldCBhbGxvd19ib29raW5nOiBib29sZWFuO1xuICBleHBvcnQgbGV0IGF0dGVuZGVlc190b19zaG93OiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgY2FwYWNpdHk6IG51bWJlciB8IG51bGw7XG4gIGV4cG9ydCBsZXQgY3VzdG9tX2ZpZWxkczogQ3VzdG9tRmllbGRbXTtcbiAgZXhwb3J0IGxldCBkYXRlc190b19zaG93OiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgZW5kX2hvdXI6IG51bWJlcjtcbiAgZXhwb3J0IGxldCBtYW5kYXRlX3RvcF9vZl9ob3VyOiBib29sZWFuO1xuICBleHBvcnQgbGV0IG1heF9ib29rX2FoZWFkX2RheXM6IG51bWJlcjtcbiAgZXhwb3J0IGxldCBtaW5fYm9va19haGVhZF9kYXlzOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgbm90aWZpY2F0aW9uX21lc3NhZ2U6IHN0cmluZztcbiAgZXhwb3J0IGxldCBub3RpZmljYXRpb25fbW9kZTogTm90aWZpY2F0aW9uTW9kZTtcbiAgZXhwb3J0IGxldCBub3RpZmljYXRpb25fc3ViamVjdDogc3RyaW5nO1xuICBleHBvcnQgbGV0IG9wZW5faG91cnM6IEF2YWlsYWJpbGl0eVJ1bGVbXTtcbiAgZXhwb3J0IGxldCBwYXJ0aWFsX2Jvb2thYmxlX3JhdGlvOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgcmVjdXJyZW5jZTogXCJub25lXCIgfCBcInJlcXVpcmVkXCIgfCBcIm9wdGlvbmFsXCI7XG4gIGV4cG9ydCBsZXQgcmVjdXJyZW5jZV9jYWRlbmNlOiAoXG4gICAgfCBcIm5vbmVcIlxuICAgIHwgXCJkYWlseVwiXG4gICAgfCBcIndlZWtkYXlzXCJcbiAgICB8IFwid2Vla2x5XCJcbiAgICB8IFwiYml3ZWVrbHlcIlxuICAgIHwgXCJtb250aGx5XCJcbiAgKVtdO1xuICBleHBvcnQgbGV0IHNob3dfYXNfd2VlazogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCBzaG93X3ByZXZpZXc6IGJvb2xlYW47XG4gIGV4cG9ydCBsZXQgc2hvd190aWNrczogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCBzaG93X3dlZWtlbmRzOiBib29sZWFuO1xuICBleHBvcnQgbGV0IHN0YXJ0X2RhdGU6IERhdGU7XG4gIGV4cG9ydCBsZXQgc3RhcnRfaG91cjogbnVtYmVyO1xuICBleHBvcnQgbGV0IHZpZXdfYXM6IFwic2NoZWR1bGVcIiB8IFwibGlzdFwiO1xuICBleHBvcnQgbGV0IHNjcmVlbl9ib29raW5nczogYm9vbGVhbjtcbiAgZXhwb3J0IGxldCB0aW1lem9uZTogc3RyaW5nO1xuICBleHBvcnQgbGV0IGV2ZW50czogRXZlbnREZWZpbml0aW9uW107XG4gIGV4cG9ydCBsZXQgc2VjdGlvbnM6IFBhcnRpYWw8U2VjdGlvbnM+O1xuXG4gIGNvbnN0IGRpc3BhdGNoRXZlbnQgPSBnZXRFdmVudERpc3BhdGNoZXIoZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkpO1xuICAkOiBkaXNwYXRjaEV2ZW50KFwibWFuaWZlc3RMb2FkZWRcIiwgbWFuaWZlc3QpO1xuXG4gICQ6IGlmIChPYmplY3Qua2V5cygkRXJyb3JTdG9yZSkubGVuZ3RoKSB7XG4gICAgZGlzcGF0Y2hFdmVudChcIm9uRXJyb3JcIiwgJEVycm9yU3RvcmUpO1xuICB9XG5cbiAgY29uc3QgZXZlbnRUZW1wbGF0ZTogRXZlbnREZWZpbml0aW9uID0ge1xuICAgIGV2ZW50X3RpdGxlOiBcIlwiLFxuICAgIGV2ZW50X2Rlc2NyaXB0aW9uOiBcIlwiLFxuICAgIHNsb3Rfc2l6ZTogMTUsXG4gICAgZXZlbnRfbG9jYXRpb246IFwiXCIsXG4gICAgZXZlbnRfY29uZmVyZW5jaW5nOiBcIlwiLFxuICAgIHBhcnRpY2lwYW50RW1haWxzOiBbXSxcbiAgICBob3N0X3J1bGVzOiB7XG4gICAgICBtZXRob2Q6IFwiYWxsXCIsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBkZWZhdWx0VmFsdWVNYXA6IFBhcnRpYWw8TWFuaWZlc3Q+ID0ge1xuICAgIGFsbG93X2Jvb2tpbmc6IGZhbHNlLFxuICAgIGF0dGVuZGVlc190b19zaG93OiA1LFxuICAgIGNhcGFjaXR5OiBudWxsLFxuICAgIGN1c3RvbV9maWVsZHM6IERlZmF1bHRDdXN0b21GaWVsZHMsXG4gICAgZGF0ZXNfdG9fc2hvdzogMSxcbiAgICBlbmRfaG91cjogMTcsXG4gICAgbWFuZGF0ZV90b3Bfb2ZfaG91cjogZmFsc2UsXG4gICAgbWF4X2Jvb2tfYWhlYWRfZGF5czogMzAsXG4gICAgbWluX2Jvb2tfYWhlYWRfZGF5czogMCxcbiAgICBub3RpZmljYXRpb25fbWVzc2FnZTogXCJUaGFuayB5b3UgZm9yIHNjaGVkdWxpbmchXCIsXG4gICAgbm90aWZpY2F0aW9uX21vZGU6IE5vdGlmaWNhdGlvbk1vZGUuU0hPV19NRVNTQUdFLFxuICAgIG5vdGlmaWNhdGlvbl9zdWJqZWN0OiBcIkludml0YXRpb25cIixcbiAgICBvcGVuX2hvdXJzOiBbXSxcbiAgICBwYXJ0aWFsX2Jvb2thYmxlX3JhdGlvOiAwLjAxLFxuICAgIHJlY3VycmVuY2VfY2FkZW5jZTogW1wibm9uZVwiXSxcbiAgICByZWN1cnJlbmNlOiBcIm5vbmVcIixcbiAgICBzaG93X2FzX3dlZWs6IGZhbHNlLFxuICAgIHNob3dfdGlja3M6IHRydWUsXG4gICAgc2hvd193ZWVrZW5kczogdHJ1ZSxcbiAgICBzdGFydF9kYXRlOiBuZXcgRGF0ZSgpLFxuICAgIHN0YXJ0X2hvdXI6IDksXG4gICAgdmlld19hczogXCJzY2hlZHVsZVwiLFxuICAgIHNjcmVlbl9ib29raW5nczogZmFsc2UsXG4gICAgdGltZXpvbmU6IFwiXCIsXG4gICAgZXZlbnRzOiBbeyAuLi5ldmVudFRlbXBsYXRlIH1dLFxuICAgIHNlY3Rpb25zOiB7fSxcbiAgfTtcblxuICBsZXQgbWFpbjogSFRNTEVsZW1lbnQ7XG5cbiAgLy8jcmVnaW9uIG1vdW50IGFuZCBwcm9wIGluaXRpYWxpemF0aW9uXG4gIGxldCBfdGhpcyA9IDxNYW5pZmVzdD5idWlsZEludGVybmFsUHJvcHMoe30sIHt9LCBkZWZhdWx0VmFsdWVNYXApO1xuICBsZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgbGV0IG1hbmlmZXN0OiBQYXJ0aWFsPE1hbmlmZXN0PiA9IHt9O1xuXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHRpY2soKTtcbiAgICBjb25zdCBzdG9yZUtleSA9IEpTT04uc3RyaW5naWZ5KHsgY29tcG9uZW50X2lkOiBpZCwgYWNjZXNzX3Rva2VuIH0pO1xuICAgIG1hbmlmZXN0ID0gKGF3YWl0ICRNYW5pZmVzdFN0b3JlW3N0b3JlS2V5XSkgfHwge307XG5cbiAgICBfdGhpcyA9IGJ1aWxkSW50ZXJuYWxQcm9wcygkJHByb3BzLCBtYW5pZmVzdCwgZGVmYXVsdFZhbHVlTWFwKSBhcyBNYW5pZmVzdDtcbiAgICB0cmFuc2Zvcm1Qcm9wZXJ0eVZhbHVlcygpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBzZWN0aW9uc1xuICAgIGVzdGFibGlzaFNlY3Rpb25zKCk7XG5cbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAvLyBTZXR1cCB0ZW1wb3JhcnkgaWRzIGZvciBjdXN0b20gZmllbGRzIGZvciBkcmFnIHJlb3JkZXIgZnVuY3Rpb25hbGl0eVxuICAgIF90aGlzLmN1c3RvbV9maWVsZHMgPSBfdGhpcy5jdXN0b21fZmllbGRzLm1hcCgoZmllbGQsIGkpID0+IHtcbiAgICAgIGN1c3RvbUZpZWxkSWRPcmRlciA9IGN1c3RvbUZpZWxkSWRPcmRlci5jb25jYXQoU3RyaW5nKGkpKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZmllbGQsXG4gICAgICAgIGlkOiBTdHJpbmcoaSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcblxuICBvbkRlc3Ryb3koKCkgPT4ge1xuICAgIG1haW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVDdXN0b21GaWVsZERyYWdNb3ZlKTtcbiAgICBtYWluLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZUN1c3RvbUZpZWxkRHJhZ1JlbGVhc2UpO1xuXG4gICAgaWYgKHJvd1Jlc2l6ZU9ic2VydmVyKSB7XG4gICAgICByb3dSZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcblxuICAkOiBpZiAobWFpbikge1xuICAgIG1haW4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlQ3VzdG9tRmllbGREcmFnUmVsZWFzZSk7XG4gICAgbWFpbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZUN1c3RvbUZpZWxkRHJhZ01vdmUpO1xuICB9XG5cbiAgbGV0IHByZXZpb3VzUHJvcHMgPSAkJHByb3BzO1xuICAkOiB7XG4gICAgaWYgKEpTT04uc3RyaW5naWZ5KHByZXZpb3VzUHJvcHMpICE9PSBKU09OLnN0cmluZ2lmeSgkJHByb3BzKSkge1xuICAgICAgX3RoaXMgPSBidWlsZEludGVybmFsUHJvcHMoXG4gICAgICAgICQkcHJvcHMsXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBkZWZhdWx0VmFsdWVNYXAsXG4gICAgICApIGFzIE1hbmlmZXN0O1xuICAgICAgdHJhbnNmb3JtUHJvcGVydHlWYWx1ZXMoKTtcbiAgICAgIHByZXZpb3VzUHJvcHMgPSAkJHByb3BzO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb3BlcnRpZXMgcmVxdWlyaW5nIGZ1cnRoZXIgbWFuaXB1bGF0aW9uOlxuICBsZXQgc3RhcnREYXRlOiBzdHJpbmcgfCBudWxsID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1DQVwiKTtcbiAgbGV0IGN1c3RvbVN0YXJ0RGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybVByb3BlcnR5VmFsdWVzKCkge1xuICAgIHN0YXJ0RGF0ZSA9IF90aGlzLnN0YXJ0X2RhdGU/LnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLUNBXCIpIGFzIHN0cmluZztcbiAgICBjdXN0b21TdGFydERhdGUgPSBfdGhpcy5zdGFydF9kYXRlID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG5cbiAgJDoge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICBfdGhpcy5zdGFydF9kYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgbmV3IERhdGUoc3RhcnREYXRlKS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgbmV3IERhdGUoc3RhcnREYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpICogLTYwMDAwLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc3RhcnRfZGF0ZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vICNlbmRyZWdpb24gbW91bnQgYW5kIHByb3AgaW5pdGlhbGl6YXRpb25cblxuICBmdW5jdGlvbiBzYXZlUHJvcGVydGllcygpIHtcbiAgICBjb25zdCBjbGVhbmVkUHJvcHMgPSB7XG4gICAgICAuLi5fdGhpcyxcbiAgICAgIGN1c3RvbV9maWVsZHM6IF90aGlzLmN1c3RvbV9maWVsZHMubWFwKChmaWVsZCkgPT4ge1xuICAgICAgICBkZWxldGUgZmllbGQuaWQ7IC8vIHVzZWQgb25seSBmb3IgZHJhZyByZW9yZGVyIGludGVyYWN0aW9uc1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgc2F2ZU1hbmlmZXN0KGlkLCBjbGVhbmVkUHJvcHMsIGFjY2Vzc190b2tlbik7XG4gIH1cblxuICAvLyAjcmVnaW9uIHVucGVyc2lzdGVkIHZhcmlhYmxlc1xuICBmdW5jdGlvbiBhdmFpbGFiaWxpdHlDaG9zZW4oZXZlbnQ6IGFueSkge1xuICAgIF90aGlzLm9wZW5faG91cnMgPSBldmVudC5kZXRhaWwudGltZVNsb3RzLm1hcCgoc2xvdDogVGltZVNsb3QpID0+IHtcbiAgICAgIGNvbnN0IHsgc3RhcnRfdGltZSwgZW5kX3RpbWUgfSA9IHNsb3Q7XG4gICAgICBjb25zdCBvcGVuVGltZTogYW55ID0ge1xuICAgICAgICBzdGFydEhvdXI6IHN0YXJ0X3RpbWUuZ2V0SG91cnMoKSxcbiAgICAgICAgc3RhcnRNaW51dGU6IHN0YXJ0X3RpbWUuZ2V0TWludXRlcygpLFxuICAgICAgICBlbmRIb3VyOiBlbmRfdGltZS5nZXRIb3VycygpLFxuICAgICAgICBlbmRNaW51dGU6IGVuZF90aW1lLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgdGltZVpvbmU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChfdGhpcy5zaG93X2FzX3dlZWsgfHwgX3RoaXMuc2hvd193ZWVrZW5kcykge1xuICAgICAgICBvcGVuVGltZS5zdGFydFdlZWtkYXkgPSBzdGFydF90aW1lLmdldERheSgpO1xuICAgICAgICBvcGVuVGltZS5lbmRXZWVrZGF5ID0gZW5kX3RpbWUuZ2V0RGF5KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3BlblRpbWU7XG4gICAgfSk7XG4gIH1cblxuICAvLyBuaWNlRGF0ZTogc2hvd3MgZGF0ZSBydWxlcyBpbiBhIG5pY2Ugc3RyaW5nIGZvcm1hdDsgc2VsZWN0aXZlbHkgaW5jbHVkZXMgd2Vla2RheSBpZiBfdGhpcy5zaG93X2FzX3dlZWsgLyAgX3RoaXMuc2hvd193ZWVrZW5kcyBhcmUgc2V0XG4gIGZ1bmN0aW9uIG5pY2VEYXRlKGJsb2NrOiBBdmFpbGFiaWxpdHlSdWxlKSB7XG4gICAgY29uc3Qgc3RhcnRNb21lbnQgPSBuZXcgRGF0ZShcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGJsb2NrLnN0YXJ0SG91cixcbiAgICAgIGJsb2NrLnN0YXJ0TWludXRlLFxuICAgICkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7XG4gICAgICBob3VyOiBcIm51bWVyaWNcIixcbiAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgICBob3VyMTI6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBlbmRNb21lbnQgPSBuZXcgRGF0ZShcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGJsb2NrLmVuZEhvdXIsXG4gICAgICBibG9jay5lbmRNaW51dGUsXG4gICAgKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtcbiAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICAgIGhvdXIxMjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmICgoX3RoaXMuc2hvd19hc193ZWVrIHx8IF90aGlzLnNob3dfd2Vla2VuZHMpICYmIGJsb2NrLnN0YXJ0V2Vla2RheSkge1xuICAgICAgY29uc3Qgd2Vla2RheSA9IHdlZWtkYXlzW2Jsb2NrLnN0YXJ0V2Vla2RheV07XG4gICAgICByZXR1cm4gYCR7d2Vla2RheX06ICR7c3RhcnRNb21lbnR9IC0gJHtlbmRNb21lbnR9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAke3N0YXJ0TW9tZW50fSAtICR7ZW5kTW9tZW50fWA7XG4gICAgfVxuICB9XG4gIC8vICNlbmRyZWdpb24gdW5wZXJzaXN0ZWQgdmFyaWFibGVzXG5cbiAgbGV0IHdpZHRoID0gXCI2NDBweFwiO1xuICBsZXQgZ3V0dGVyV2lkdGggPSAzNTtcbiAgJDogd2lkdGggPSBzaG93UHJldmlldyA/IFwiNjQwcHhcIiA6IFwiMTAwJVwiO1xuICBsZXQgYWRqdXN0aW5nUHJldmlld1BhbmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBmdW5jdGlvbiBhZGp1c3RDb2x1bW5zKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoYWRqdXN0aW5nUHJldmlld1BhbmUpIHtcbiAgICAgIHdpZHRoID0gYCR7ZS5jbGllbnRYIC0gZ3V0dGVyV2lkdGh9cHhgO1xuICAgIH1cbiAgfVxuXG4gIGxldCBkZWJvdW5jZWRJbnB1dFRpbWVyOiBudW1iZXI7XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VFbWFpbElucHV0KGU6IEV2ZW50LCBldmVudDogRXZlbnREZWZpbml0aW9uKSB7XG4gICAgY29uc3QgZW1haWxTdHJpbmcgPSAoZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCk/LnZhbHVlO1xuICAgIGNsZWFyVGltZW91dChkZWJvdW5jZWRJbnB1dFRpbWVyKTtcbiAgICBkZWJvdW5jZWRJbnB1dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBldmVudC5wYXJ0aWNpcGFudEVtYWlscyA9IHBhcnNlU3RyaW5nVG9BcnJheShlbWFpbFN0cmluZyk7XG4gICAgICBfdGhpcy5ldmVudHMgPSBbLi4uX3RoaXMuZXZlbnRzXTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIGxldCBzbG90c190b19ib29rOiBUaW1lU2xvdDtcbiAgbGV0IG1haW5FbGVtZW50V2lkdGg6IG51bWJlcjtcbiAgJDogc2hvd1ByZXZpZXcgPSBtYWluRWxlbWVudFdpZHRoID4gNjAwO1xuXG4gIC8vI3JlZ2lvbiBjdXN0b20gZmllbGRzXG4gIGNvbnN0IGVtcHR5Q3VzdG9tRmllbGQ6IEN1c3RvbUZpZWxkID0ge1xuICAgIHRpdGxlOiBcIlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICBpZDogXCJcIixcbiAgfTtcbiAgY29uc3QgY3VzdG9tRmllbGRLZXlzOiAoa2V5b2YgQ3VzdG9tRmllbGQpW10gPSBbXCJ0aXRsZVwiLCBcInR5cGVcIiwgXCJyZXF1aXJlZFwiXTtcblxuICBsZXQgbmV3Q3VzdG9tRmllbGQ6IEN1c3RvbUZpZWxkID0geyAuLi5lbXB0eUN1c3RvbUZpZWxkIH07XG4gIGxldCBlZGl0YWJsZUN1c3RvbUZpZWxkOiBDdXN0b21GaWVsZCA9IHsgLi4uZW1wdHlDdXN0b21GaWVsZCB9O1xuXG4gIGxldCBjdXJyZW50bHlFZGl0ZWRGaWVsZDogc3RyaW5nID0gbnVsbDtcbiAgbGV0IGlzQWRkaW5nQ3VzdG9tRmllbGQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiByZW1vdmVDdXN0b21GaWVsZChmaWVsZDogQ3VzdG9tRmllbGQpIHtcbiAgICBfdGhpcy5jdXN0b21fZmllbGRzID0gX3RoaXMuY3VzdG9tX2ZpZWxkcy5maWx0ZXIoXG4gICAgICAoY3VzdG9tRmllbGQ6IEN1c3RvbUZpZWxkKSA9PiBjdXN0b21GaWVsZCAhPT0gZmllbGQsXG4gICAgKTtcbiAgICBjdXJyZW50bHlFZGl0ZWRGaWVsZCA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBhZGROZXdGaWVsZCgpIHtcbiAgICBjb25zdCBmaWVsZFdpdGhJZCA9IHtcbiAgICAgIC4uLm5ld0N1c3RvbUZpZWxkLFxuICAgICAgaWQ6IFN0cmluZyhfdGhpcy5jdXN0b21fZmllbGRzLmxlbmd0aCksXG4gICAgfTtcbiAgICBfdGhpcy5jdXN0b21fZmllbGRzID0gWy4uLl90aGlzLmN1c3RvbV9maWVsZHMsIGZpZWxkV2l0aElkXTtcblxuICAgIG5ld0N1c3RvbUZpZWxkID0geyAuLi5lbXB0eUN1c3RvbUZpZWxkIH07XG5cbiAgICBjdXN0b21GaWVsZERvbVJlY3RzID0gZ2V0RG9tUmVjdHMoY3VzdG9tRmllbGRSZWZzKTtcbiAgICBpc0FkZGluZ0N1c3RvbUZpZWxkID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBlZGl0Q3VzdG9tRmllbGQoZmllbGQ6IEN1c3RvbUZpZWxkKSB7XG4gICAgZWRpdGFibGVDdXN0b21GaWVsZCA9IHtcbiAgICAgIC4uLmVtcHR5Q3VzdG9tRmllbGQsXG4gICAgICAuLi5maWVsZCxcbiAgICB9O1xuICAgIGN1cnJlbnRseUVkaXRlZEZpZWxkID0gZmllbGQuaWQ7XG4gIH1cblxuICBsZXQgZHJhZ2dlZEZpZWxkOiBDdXN0b21GaWVsZCB8IG51bGwgPSBudWxsO1xuICBsZXQgZHJhZ2dlZEZpZWxkSW5kZXg6IG51bWJlcjtcbiAgbGV0IHRhYmxlcm93UmVjdDogRE9NUmVjdDtcbiAgbGV0IHRhYmxlY2VsbFJlY3Q6IERPTVJlY3RbXSA9IFtdOyAvLyBUbyByZXBsaWNhdGUgY2VsbCBkaW1lbnNpb25zIG9uIGRyYWctcGxhY2Vob2xkZXJcbiAgbGV0IGN1c3RvbUZpZWxkUmVmczogUmVjb3JkPHN0cmluZywgSFRNTEVsZW1lbnQ+ID0ge307IC8vIHN0b3JlIHRoZSByZWZzIHRvIGRvbSBub2RlcyBvbmNlIHNvIHdlIGNhbiByZWNhbGN1bGF0ZSBzaXplcyBvbiB0aGUgZmx5XG4gIGxldCBjdXN0b21GaWVsZERvbVJlY3RzOiBET01SZWN0W10gPSBbXTtcbiAgbGV0IGN1c3RvbUZpZWxkSWRPcmRlcjogc3RyaW5nW10gPSBbXTtcbiAgbGV0IG1heERyYWdUb3A6IG51bWJlcjtcbiAgbGV0IG1heERyYWdCb3R0b206IG51bWJlcjtcbiAgbGV0IGRyYWdCZWdpbnMgPSBmYWxzZTtcbiAgbGV0IGRyYWdQbGFjZWhvbGRlciA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMCxcbiAgfTtcbiAgbGV0IHJvd1Jlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlcjtcblxuICBmdW5jdGlvbiBoYW5kbGVDdXN0b21GaWVsZERyYWcoXG4gICAgZXZlbnQ6IE1vdXNlRXZlbnQsXG4gICAgZmllbGRQcm9wZXJ0aWVzOiBDdXN0b21GaWVsZCxcbiAgICBmaWVsZEluZGV4OiBudW1iZXIsXG4gICkge1xuICAgIGlmICghZHJhZ0JlZ2lucykge1xuICAgICAgY3VzdG9tRmllbGREb21SZWN0cyA9IGdldERvbVJlY3RzKGN1c3RvbUZpZWxkUmVmcyk7XG4gICAgICBkcmFnQmVnaW5zID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkcmFnZ2VkRmllbGRJbmRleCA9IGZpZWxkSW5kZXg7XG4gICAgZHJhZ2dlZEZpZWxkID0gZmllbGRQcm9wZXJ0aWVzO1xuXG4gICAgc2V0RHJhZ1Jvd1Bvc2l0aW9uKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUN1c3RvbUZpZWxkRHJhZ1JlbGVhc2UoKSB7XG4gICAgZHJhZ2dlZEZpZWxkID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN3YXBEcmFnZ2VkV2l0aEhvdmVyZWQoaG92ZXJlZEZpZWxkSW5kZXg6IG51bWJlcikge1xuICAgIGxldCB1cGRhdGVkRmllbGRPcmRlciA9IFsuLi5fdGhpcy5jdXN0b21fZmllbGRzXTtcblxuICAgIC8vIFN3YXAgdGhlIGN1cnJlbnQgaG92ZXJlZCBmaWVsZCB3aXRoIHRoZSBkcmFnZ2VkIGZpZWxkXG4gICAgbGV0IHRlbXAgPSB1cGRhdGVkRmllbGRPcmRlcltob3ZlcmVkRmllbGRJbmRleF07XG4gICAgdXBkYXRlZEZpZWxkT3JkZXJbaG92ZXJlZEZpZWxkSW5kZXhdID0gdXBkYXRlZEZpZWxkT3JkZXJbZHJhZ2dlZEZpZWxkSW5kZXhdO1xuICAgIHVwZGF0ZWRGaWVsZE9yZGVyW2RyYWdnZWRGaWVsZEluZGV4XSA9IHRlbXA7XG5cbiAgICAvLyB1cGRhdGUgY3VzdG9tIGZpZWxkcyB0byByZWZsZWN0IHRoZSBkcmFnIG9yZGVyXG4gICAgX3RoaXMuY3VzdG9tX2ZpZWxkcyA9IHVwZGF0ZWRGaWVsZE9yZGVyO1xuICAgIGN1c3RvbUZpZWxkSWRPcmRlciA9IDxzdHJpbmdbXT51cGRhdGVkRmllbGRPcmRlci5tYXAoKGZpZWxkKSA9PiBmaWVsZC5pZCk7XG5cbiAgICAvLyBjdXJyZW50IGRyYWdnZWQgaW5kZXggaXMgbm93IHdoYXQgd2FzIGhvdmVyZWRcbiAgICBkcmFnZ2VkRmllbGRJbmRleCA9IHVwZGF0ZWRGaWVsZE9yZGVyLmZpbmRJbmRleChcbiAgICAgIChjdXN0b21GaWVsZCkgPT4gY3VzdG9tRmllbGQuaWQgPT09IGRyYWdnZWRGaWVsZD8uaWQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHBvc2l0aW9uIGZvciB0aGUgZHJhZyBwcmV2aWV3IHJvd1xuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGNvbnN0IHNldERyYWdSb3dQb3NpdGlvbiA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHJvd0hlaWdodE9mZnNldCA9IHRhYmxlcm93UmVjdC5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IGRyYWdSb3dQb3NpdGlvbiA9IGV2ZW50LnBhZ2VZO1xuXG4gICAgLy8gc3RpY2sgdGhlIGRyYWcgcHJldmlldyBpZiBjdXJzb3IgaXMgYmV5b25kIG1heCB0b3AgYW5kIG1heCBib3R0b21cbiAgICBsZXQgcHJldmlld1RvcFBvc2l0aW9uOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoZHJhZ1Jvd1Bvc2l0aW9uIDw9IG1heERyYWdUb3ApIHtcbiAgICAgIHByZXZpZXdUb3BQb3NpdGlvbiA9IG1heERyYWdUb3AgLSByb3dIZWlnaHRPZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChkcmFnUm93UG9zaXRpb24gPj0gbWF4RHJhZ0JvdHRvbSkge1xuICAgICAgcHJldmlld1RvcFBvc2l0aW9uID0gbWF4RHJhZ0JvdHRvbSAtIHJvd0hlaWdodE9mZnNldDtcbiAgICB9XG5cbiAgICAvLyBzZXQgaW5pdGlhbCBwb3NpdGlvbiBvZiBkcmFnIHByZXZpZXdcbiAgICBkcmFnUGxhY2Vob2xkZXIgPSB7XG4gICAgICBsZWZ0OiB0YWJsZXJvd1JlY3QueCxcbiAgICAgIHRvcDogcHJldmlld1RvcFBvc2l0aW9uID8/IGRyYWdSb3dQb3NpdGlvbiAtIHJvd0hlaWdodE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gICQ6IGlmIChjdXN0b21GaWVsZERvbVJlY3RzKSB7XG4gICAgLy8gU2V0IG1heCB0b3AgYW5kIGJvdHRvbSBmb3IgZHJhZ1xuICAgIGlmIChjdXN0b21GaWVsZERvbVJlY3RzWzBdKSB7XG4gICAgICBtYXhEcmFnVG9wID1cbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArXG4gICAgICAgIGN1c3RvbUZpZWxkRG9tUmVjdHNbMF0udG9wICtcbiAgICAgICAgdGFibGVyb3dSZWN0LmhlaWdodCAvIDI7XG4gICAgfVxuICAgIGlmIChjdXN0b21GaWVsZERvbVJlY3RzW2N1c3RvbUZpZWxkRG9tUmVjdHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgIG1heERyYWdCb3R0b20gPVxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICtcbiAgICAgICAgY3VzdG9tRmllbGREb21SZWN0c1tjdXN0b21GaWVsZERvbVJlY3RzLmxlbmd0aCAtIDFdLnRvcCArXG4gICAgICAgIHRhYmxlcm93UmVjdC5oZWlnaHQgLyAyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUN1c3RvbUZpZWxkRHJhZ01vdmUoZTogTW91c2VFdmVudCkge1xuICAgIGlmIChkcmFnZ2VkRmllbGQpIHtcbiAgICAgIHNldERyYWdSb3dQb3NpdGlvbihlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9yZVJlZihub2RlOiBIVE1MRWxlbWVudCwgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSkge1xuICAgIGN1c3RvbUZpZWxkUmVmc1twYXJhbXMuaWRdID0gbm9kZTtcblxuICAgIGlmICghdGFibGVyb3dSZWN0KSB7XG4gICAgICBjb25zdCB7IHBhcmVudFJlY3QsIGNoaWxkUmVjdHMgfSA9IGdldERvbVJlY3RzRnJvbVBhcmVudEFuZENoaWxkcmVuKFxuICAgICAgICBub2RlLFxuICAgICAgICBcInRkXCIsXG4gICAgICApO1xuICAgICAgdGFibGVyb3dSZWN0ID0gcGFyZW50UmVjdDtcbiAgICAgIHRhYmxlY2VsbFJlY3QgPSBjaGlsZFJlY3RzO1xuXG4gICAgICAvLyBXYXRjaGVzIHJvdyBlbGVtZW50IGlmIGl0IGNoYW5nZXMgc2l6ZVxuICAgICAgcm93UmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKFtvYnNlcnZlckVudHJ5XSkgPT4ge1xuICAgICAgICBjb25zdCB7IHBhcmVudFJlY3QsIGNoaWxkUmVjdHMgfSA9IGdldERvbVJlY3RzRnJvbVBhcmVudEFuZENoaWxkcmVuKFxuICAgICAgICAgIG9ic2VydmVyRW50cnkudGFyZ2V0LFxuICAgICAgICAgIFwidGRcIixcbiAgICAgICAgKTtcbiAgICAgICAgdGFibGVyb3dSZWN0ID0gcGFyZW50UmVjdDtcbiAgICAgICAgdGFibGVjZWxsUmVjdCA9IGNoaWxkUmVjdHM7XG5cbiAgICAgICAgZHJhZ0JlZ2lucyA9IGZhbHNlOyAvLyByZXNldCBvbiBuZXh0IHN0YXJ0IG9mIGRyYWdcbiAgICAgIH0pO1xuXG4gICAgICByb3dSZXNpemVPYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkZXN0cm95KCkge1xuICAgICAgICAvLyBjbGVhbiB1cCBjdXN0b21GaWVsZElkT3JkZXIgaGFzaG1hcFxuICAgICAgICBkZWxldGUgY3VzdG9tRmllbGRSZWZzW3BhcmFtcy5pZF07XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyNlbmRyZWdpb24gY3VzdG9tIGZpZWxkc1xuXG4gIC8vI3JlZ2lvbiBjb25zZWN1dGl2ZSBldmVudHNcblxuICBmdW5jdGlvbiBhZGRDb25zZWN1dGl2ZUV2ZW50KCkge1xuICAgIF90aGlzLmV2ZW50cyA9IFsuLi5fdGhpcy5ldmVudHMsIHsgLi4uZXZlbnRUZW1wbGF0ZSB9XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNvbnNlY3V0aXZlRXZlbnQoZXZlbnQ6IEV2ZW50RGVmaW5pdGlvbikge1xuICAgIF90aGlzLmV2ZW50cyA9IF90aGlzLmV2ZW50cy5maWx0ZXIoKGUpID0+IGUgIT09IGV2ZW50KTtcbiAgfVxuXG4gIC8vI2VuZHJlZ2lvbiBjb25zZWN1dGl2ZSBldmVudHNcblxuICAvLyNyZWdpb24gaW5pdGlhbGl6ZSBzZWN0aW9uc1xuXG4gIGZ1bmN0aW9uIGVzdGFibGlzaFNlY3Rpb25zKCkge1xuICAgIGlmICghT2JqZWN0LmVudHJpZXMoX3RoaXMuc2VjdGlvbnMpLmxlbmd0aCkge1xuICAgICAgT2JqZWN0LnZhbHVlcyhTZWN0aW9uTmFtZXMpLmZvckVhY2goKG5hbWUsIGl0ZXIpID0+IHtcbiAgICAgICAgX3RoaXMuc2VjdGlvbnNbbmFtZV0gPSB7XG4gICAgICAgICAgZXhwYW5kZWQ6IGl0ZXIgPT09IDAsXG4gICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LnZhbHVlcyhTZWN0aW9uTmFtZXMpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgLy8gSWYgYSBzZWN0aW9uIGRvZXNudCBhcHBlYXIgaW4gdGhlIHBhc3NlZCBwcm9wZXJ0eSxcbiAgICAgICAgLy8gbm9ybWFsaXplIGl0IHdpdGggdW5lZGl0YWJsZSBwcm9wZXJ0aWVzIGhlcmUgdG8gcHJlc2VydmUgZXhwZWN0ZWQgZm9ybWF0XG4gICAgICAgIGlmICghX3RoaXMuc2VjdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgICBfdGhpcy5zZWN0aW9uc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZSBzZWN0aW9uIGlzIHBhc3NlZCBpbiBidXQgbGFja3MgYW4gXCJlZGl0YWJsZVwiIHByb3BlcnR5LCBhc3N1bWUgcG9zaXRpdmUgaW50ZW50LlxuICAgICAgICAgIGlmICghT2JqZWN0LmtleXMoX3RoaXMuc2VjdGlvbnNbbmFtZV0pLmluY2x1ZGVzKFwiZWRpdGFibGVcIikpIHtcbiAgICAgICAgICAgIF90aGlzLnNlY3Rpb25zW25hbWVdLmVkaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyNlbmRyZWdpb24gaW5pdGlhbGl6ZSBzZWN0aW9uc1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxuICBAaW1wb3J0IFwiLi9zdHlsZXMvc2NoZWR1bGUtZWRpdG9yLnNjc3NcIjtcbjwvc3R5bGU+XG5cbnsjaWYgbWFuaWZlc3QgJiYgbWFuaWZlc3QuZXJyb3J9XG4gIDxueWxhcy1kb21haW4tZXJyb3Ige2lkfSAvPlxuezplbHNlIGlmIGluaXRpYWxpemVkfVxuICA8bWFpblxuICAgIHN0eWxlPVwiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiB7d2lkdGh9IDVweCBhdXRvXCJcbiAgICBvbjptb3VzZW1vdmU9e2FkanVzdENvbHVtbnN9XG4gICAgb246bW91c2V1cD17KCkgPT4gKGFkanVzdGluZ1ByZXZpZXdQYW5lID0gZmFsc2UpfVxuICAgIGJpbmQ6Y2xpZW50V2lkdGg9e21haW5FbGVtZW50V2lkdGh9XG4gICAgYmluZDp0aGlzPXttYWlufT5cbiAgICA8ZGl2IGNsYXNzPVwic2V0dGluZ3NcIj5cbiAgICAgIHsjaWYgX3RoaXMuc2VjdGlvbnNbU2VjdGlvbk5hbWVzLkJBU0lDX0RFVEFJTFNdLmVkaXRhYmxlfVxuICAgICAgICA8bnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb25cbiAgICAgICAgICBzZWN0aW9uX3RpdGxlPXtTZWN0aW9uTmFtZXMuQkFTSUNfREVUQUlMU31cbiAgICAgICAgICBleHBhbmRlZD17X3RoaXMuc2VjdGlvbnNbU2VjdGlvbk5hbWVzLkJBU0lDX0RFVEFJTFNdLmV4cGFuZGVkfT5cbiAgICAgICAgICA8aDEgc2xvdD1cInRpdGxlXCI+RXZlbnQgRGV0YWlsczwvaDE+XG4gICAgICAgICAgPHAgc2xvdD1cImludHJvXCIgY2xhc3M9XCJpbnRyb1wiPlxuICAgICAgICAgICAgRWRpdCB0aGUgZGV0YWlscyBmb3IgeW91ciBtZWV0aW5nLiBZb3UgY2FuIGFkZCBjb25zZWN1dGl2ZSBtZWV0aW5nc1xuICAgICAgICAgICAgdG8gYWxsb3cgdXNlcnMgdG8gYm9vayBiYWNrLXRvLWJhY2sgZXZlbnRzLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IHNsb3Q9XCJjb250ZW50c1wiIGNsYXNzPVwiY29udGVudHMgYmFzaWMtZGV0YWlsc1wiPlxuICAgICAgICAgICAgeyNlYWNoIF90aGlzLmV2ZW50cyBhcyBldmVudCwgaXRlcn1cbiAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIHsjaWYgX3RoaXMuZXZlbnRzLmxlbmd0aCA+IDF9XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmVtb3ZlLWV2ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHJlbW92ZUNvbnNlY3V0aXZlRXZlbnQoZXZlbnQpfT5cbiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlIHRoaXMgZXZlbnRcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FdmVudCBUaXRsZSE8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGJpbmQ6dmFsdWU9e2V2ZW50LmV2ZW50X3RpdGxlfSAvPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FdmVudCBEZXNjcmlwdGlvbjwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYmluZDp2YWx1ZT17ZXZlbnQuZXZlbnRfZGVzY3JpcHRpb259IC8+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICA8c3Ryb25nPkV2ZW50IExvY2F0aW9uPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBiaW5kOnZhbHVlPXtldmVudC5ldmVudF9sb2NhdGlvbn0gLz5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+Q29uZmVyZW5jaW5nIExpbmsgKFpvb20sIFRlYW1zLCBvciBNZWV0IFVSTCk8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidXJsXCIgYmluZDp2YWx1ZT17ZXZlbnQuZXZlbnRfY29uZmVyZW5jaW5nfSAvPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiByb2xlPVwicmFkaW9ncm91cFwiIGFyaWEtbGFiZWxsZWRieT1cInNsb3Rfc2l6ZVwiPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cInNsb3Rfc2l6ZVwiPk1lZXRpbmcgTGVuZ3RoPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9ezE1fVxuICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e2V2ZW50LnNsb3Rfc2l6ZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+MTUgbWludXRlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9ezMwfVxuICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e2V2ZW50LnNsb3Rfc2l6ZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+MzAgbWludXRlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9ezYwfVxuICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e2V2ZW50LnNsb3Rfc2l6ZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+NjAgbWludXRlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7I2lmIGl0ZXIgIT09IDAgJiYgZXZlbnQuc2xvdF9zaXplICE9PSBfdGhpcy5ldmVudHNbMF0uc2xvdF9zaXplfVxuICAgICAgICAgICAgICAgICAgICA8IS0tIFRlbXBvcmFyeSEgTnlsYXMnIENvbnNlY3V0aXZlIEF2YWlsYWJpaWx0eSBBUEkgZG9lcyBub3Qgc3VwcG9ydCB2YXJpYW50IHRpbWUgbGVuZ3RocyBiZXR3ZWVuIG1lZXRpbmdzIC0tPlxuICAgICAgICAgICAgICAgICAgICA8IS0tIGh0dHBzOi8vYXBwLnNob3J0Y3V0LmNvbS9ueWxhcy9zdG9yeS83NDUxNC9jb25zZWN1dGl2ZS1hdmFpbGFiaWxpdHktYWxsb3ctdG8tc3BlY2lmeS1kdXJhdGlvbi1taW51dGVzLXBlci1tZWV0aW5nIC0tPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIndhcm5pbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICBOb3RlOiBkaWZmZXJlbnQgbWVldGluZyBsZW5ndGhzIGluIGEgY29uZWN1dGl2ZSBjaGFpbiBhcmVcbiAgICAgICAgICAgICAgICAgICAgICBub3QgY3VycmVudGx5IHN1cHBvcnRlZDsgYWxsIG1lZXRpbmdzIGluIHRoaXMgY2hhaW4gd2lsbFxuICAgICAgICAgICAgICAgICAgICAgIGZhbGwgYmFjayB0byB7X3RoaXMuZXZlbnRzWzBdLnNsb3Rfc2l6ZX0gbWludXRlcy5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cInBhcnRpY2lwYW50c1wiPlxuICAgICAgICAgICAgICAgICAgICBFbWFpbCBJZHMgdG8gaW5jbHVkZSBmb3Igc2NoZWR1bGluZ1xuICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXJ0aWNpcGFudHNcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uOmlucHV0PXsoZSkgPT4gZGVib3VuY2VFbWFpbElucHV0KGUsIGV2ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZXZlbnQucGFydGljaXBhbnRFbWFpbHN9IC8+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb290ZXIgc2xvdD1cImZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC1ldmVudFwiIG9uOmNsaWNrPXthZGRDb25zZWN1dGl2ZUV2ZW50fVxuICAgICAgICAgICAgICA+QWRkIGEgZm9sbG93LXVwIGV2ZW50PC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtzYXZlUHJvcGVydGllc30+U2F2ZSBFZGl0b3IgT3B0aW9uczwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICA8L255bGFzLXNjaGVkdWxlLWVkaXRvci1zZWN0aW9uPlxuICAgICAgey9pZn1cblxuICAgICAgeyNpZiBfdGhpcy5zZWN0aW9uc1tTZWN0aW9uTmFtZXMuVElNRV9EQVRFX0RFVEFJTFNdLmVkaXRhYmxlfVxuICAgICAgICA8bnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb25cbiAgICAgICAgICBzZWN0aW9uX3RpdGxlPXtTZWN0aW9uTmFtZXMuVElNRV9EQVRFX0RFVEFJTFN9XG4gICAgICAgICAgZXhwYW5kZWQ9e190aGlzLnNlY3Rpb25zW1NlY3Rpb25OYW1lcy5USU1FX0RBVEVfREVUQUlMU10uZXhwYW5kZWR9PlxuICAgICAgICAgIDxoMSBzbG90PVwidGl0bGVcIj5EYXRlL1RpbWUgRGV0YWlsczwvaDE+XG4gICAgICAgICAgPGRpdiBzbG90PVwiY29udGVudHNcIiBjbGFzcz1cImNvbnRlbnRzXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5TdGFydCBIb3VyPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAgICAgbWF4PXsyNH1cbiAgICAgICAgICAgICAgICAgIHN0ZXA9ezF9XG4gICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtfdGhpcy5zdGFydF9ob3VyfSAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICB7X3RoaXMuc3RhcnRfaG91cn06MDBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+RW5kIEhvdXI8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgICAgICAgICBtYXg9ezI0fVxuICAgICAgICAgICAgICAgICAgc3RlcD17MX1cbiAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e190aGlzLmVuZF9ob3VyfSAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICB7X3RoaXMuZW5kX2hvdXJ9OjAwXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgPHN0cm9uZz5TdGFydCBEYXRlPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cImN1c3RvbV9zdGFydF9kYXRlXCJcbiAgICAgICAgICAgICAgICAgIGJpbmQ6Y2hlY2tlZD17Y3VzdG9tU3RhcnREYXRlfVxuICAgICAgICAgICAgICAgICAgb246Y2hhbmdlPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VzdG9tU3RhcnREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1DQVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICBTaG93IGEgc3BlY2lmaWMgZGF0ZVxuICAgICAgICAgICAgICA8L3N0cm9uZz5cblxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17c3RhcnREYXRlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY3VzdG9tU3RhcnREYXRlfSAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgPHN0cm9uZz5UaW1lIFpvbmU8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNlbGVjdCBiaW5kOnZhbHVlPXtfdGhpcy50aW1lem9uZX0+XG4gICAgICAgICAgICAgICAgeyNlYWNoIHRpbWV6b25lcy5kZWZhdWx0IGFzIHRpbWV6b25lfVxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17dGltZXpvbmUudHpDb2RlfT57dGltZXpvbmUubmFtZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPkRheXMgdG8gc2hvdzwvc3Ryb25nPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgIG1pbj17MX1cbiAgICAgICAgICAgICAgICAgIG1heD17N31cbiAgICAgICAgICAgICAgICAgIHN0ZXA9ezF9XG4gICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtfdGhpcy5kYXRlc190b19zaG93fSAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICB7X3RoaXMuZGF0ZXNfdG9fc2hvd31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiByb2xlPVwiY2hlY2tib3hcIiBhcmlhLWxhYmVsbGVkYnk9XCJzaG93X2FzX3dlZWtcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cInNob3dfYXNfd2Vla1wiPlNob3cgYXMgd2Vlazwvc3Ryb25nPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInNob3dfYXNfd2Vla1wiXG4gICAgICAgICAgICAgICAgICBiaW5kOmNoZWNrZWQ9e190aGlzLnNob3dfYXNfd2Vla30gLz5cbiAgICAgICAgICAgICAgICBTaG93IHdob2xlIHdlZWtcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiByb2xlPVwiY2hlY2tib3hcIiBhcmlhLWxhYmVsbGVkYnk9XCJzaG93X3dlZWtlbmRzXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmcgaWQ9XCJzaG93X3dlZWtlbmRzXCI+U2hvdyB3ZWVrZW5kczwvc3Ryb25nPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInNob3dfd2Vla2VuZHNcIlxuICAgICAgICAgICAgICAgICAgYmluZDpjaGVja2VkPXtfdGhpcy5zaG93X3dlZWtlbmRzfSAvPlxuICAgICAgICAgICAgICAgIEtlZXAgd2Vla2VuZHMgb25cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF2YWlsYWJsZS1ob3Vyc1wiPlxuICAgICAgICAgICAgICA8c3Ryb25nPkF2YWlsYWJsZSBIb3Vyczwvc3Ryb25nPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICBEcmFnIG92ZXIgdGhlIGhvdXJzIHdhbnQgdG8gYmUgYXZhaWxibGUgZm9yIGJvb2tpbmcuIEFsbCBvdGhlclxuICAgICAgICAgICAgICAgIGhvdXJzIHdpbGwgYWx3YXlzIHNob3cgdXAgYXMgXCJidXN5XCIgdG8geW91ciB1c2Vycy5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJjaGVja2JveFwiIGFyaWEtbGFiZWxsZWRieT1cInNob3dfYXNfd2Vla1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiX3RoaXMuc2hvd19hc193ZWVrXCJcbiAgICAgICAgICAgICAgICAgICAgYmluZDpjaGVja2VkPXtfdGhpcy5zaG93X2FzX3dlZWt9IC8+XG4gICAgICAgICAgICAgICAgICBDdXN0b21pemUgZWFjaCB3ZWVrZGF5XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgcm9sZT1cImNoZWNrYm94XCIgYXJpYS1sYWJlbGxlZGJ5PVwic2hvd19hc193ZWVrXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCIgX3RoaXMuc2hvd193ZWVrZW5kc1wiXG4gICAgICAgICAgICAgICAgICAgIGJpbmQ6Y2hlY2tlZD17X3RoaXMuc2hvd193ZWVrZW5kc30gLz5cbiAgICAgICAgICAgICAgICAgIEFsbG93IGJvb2tpbmcgb24gd2Vla2VuZHNcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF2YWlsYWJpbGl0eS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8bnlsYXMtYXZhaWxhYmlsaXR5XG4gICAgICAgICAgICAgICAgICBhbGxvd19ib29raW5nPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgc2hvd19hc193ZWVrPXtfdGhpcy5zaG93X2FzX3dlZWsgfHwgX3RoaXMuc2hvd193ZWVrZW5kc31cbiAgICAgICAgICAgICAgICAgIHNob3dfd2Vla2VuZHM9e190aGlzLnNob3dfd2Vla2VuZHN9XG4gICAgICAgICAgICAgICAgICBzdGFydF9ob3VyPXtfdGhpcy5zdGFydF9ob3VyfVxuICAgICAgICAgICAgICAgICAgZW5kX2hvdXI9e190aGlzLmVuZF9ob3VyfVxuICAgICAgICAgICAgICAgICAgYWxsb3dfZGF0ZV9jaGFuZ2U9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgcGFydGlhbF9ib29rYWJsZV9yYXRpbz1cIjBcIlxuICAgICAgICAgICAgICAgICAgc2hvd19oZWFkZXI9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgZGF0ZV9mb3JtYXQ9e190aGlzLnNob3dfYXNfd2VlayB8fCBfdGhpcy5zaG93X3dlZWtlbmRzXG4gICAgICAgICAgICAgICAgICAgID8gXCJ3ZWVrZGF5XCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIn1cbiAgICAgICAgICAgICAgICAgIGJ1c3lfY29sb3I9XCIjMDAwXCJcbiAgICAgICAgICAgICAgICAgIGNsb3NlZF9jb2xvcj1cIiM5OTlcIlxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfY29sb3I9XCIjMDk1XCJcbiAgICAgICAgICAgICAgICAgIHNsb3Rfc2l6ZT1cIjE1XCJcbiAgICAgICAgICAgICAgICAgIG9uOnRpbWVTbG90Q2hvc2VuPXthdmFpbGFiaWxpdHlDaG9zZW59IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJhdmFpbGFiaWxpdHlcIj5cbiAgICAgICAgICAgICAgICB7I2VhY2ggX3RoaXMub3Blbl9ob3VycyB8fCBbXSBhcyBhdmFpbGFiaWxpdHl9XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtuaWNlRGF0ZShhdmFpbGFiaWxpdHkpfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb290ZXIgc2xvdD1cImZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbjpjbGljaz17c2F2ZVByb3BlcnRpZXN9PlNhdmUgRWRpdG9yIE9wdGlvbnM8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgPC9ueWxhcy1zY2hlZHVsZS1lZGl0b3Itc2VjdGlvbj5cbiAgICAgIHsvaWZ9XG5cbiAgICAgIHsjaWYgX3RoaXMuc2VjdGlvbnNbU2VjdGlvbk5hbWVzLlNUWUxFX0RFVEFJTFNdLmVkaXRhYmxlfVxuICAgICAgICA8bnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb25cbiAgICAgICAgICBzZWN0aW9uX3RpdGxlPXtTZWN0aW9uTmFtZXMuU1RZTEVfREVUQUlMU31cbiAgICAgICAgICBleHBhbmRlZD17X3RoaXMuc2VjdGlvbnNbU2VjdGlvbk5hbWVzLlNUWUxFX0RFVEFJTFNdLmV4cGFuZGVkfT5cbiAgICAgICAgICA8aDEgc2xvdD1cInRpdGxlXCI+U3R5bGUgRGV0YWlsczwvaDE+XG4gICAgICAgICAgPGRpdiBzbG90PVwiY29udGVudHNcIiBjbGFzcz1cImNvbnRlbnRzXCI+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJjaGVja2JveFwiIGFyaWEtbGFiZWxsZWRieT1cInNob3dfdGlja3NcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cInNob3dfdGlja3NcIj5TaG93IHRpY2tzPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwic2hvd190aWNrc1wiXG4gICAgICAgICAgICAgICAgICBiaW5kOmNoZWNrZWQ9e190aGlzLnNob3dfdGlja3N9IC8+XG4gICAgICAgICAgICAgICAgU2hvdyB0aWNrIG1hcmtzIG9uIGxlZnQgc2lkZVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJyYWRpb2dyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwidmlld19hc1wiPlxuICAgICAgICAgICAgICA8c3Ryb25nIGlkPVwidmlld19hc1wiPlZpZXcgYXMgYSBTY2hlZHVsZSwgb3IgYXMgYSBMaXN0Pzwvc3Ryb25nPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInZpZXdfYXNcIlxuICAgICAgICAgICAgICAgICAgYmluZDpncm91cD17X3RoaXMudmlld19hc31cbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwic2NoZWR1bGVcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPlNjaGVkdWxlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInZpZXdfYXNcIlxuICAgICAgICAgICAgICAgICAgYmluZDpncm91cD17X3RoaXMudmlld19hc31cbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwibGlzdFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+TGlzdDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICA8c3Ryb25nPkF0dGVuZGVlcyB0byBzaG93PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIG1pbj17MX1cbiAgICAgICAgICAgICAgICBtYXg9ezIwfVxuICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e190aGlzLmF0dGVuZGVlc190b19zaG93fSAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9vdGVyIHNsb3Q9XCJmb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gb246Y2xpY2s9e3NhdmVQcm9wZXJ0aWVzfT5TYXZlIEVkaXRvciBPcHRpb25zPC9idXR0b24+XG4gICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIDwvbnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb24+XG4gICAgICB7L2lmfVxuXG4gICAgICB7I2lmIF90aGlzLnNlY3Rpb25zW1NlY3Rpb25OYW1lcy5CT09LSU5HX0RFVEFJTFNdLmVkaXRhYmxlfVxuICAgICAgICA8bnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb25cbiAgICAgICAgICBzZWN0aW9uX3RpdGxlPXtTZWN0aW9uTmFtZXMuQk9PS0lOR19ERVRBSUxTfVxuICAgICAgICAgIGV4cGFuZGVkPXtfdGhpcy5zZWN0aW9uc1tTZWN0aW9uTmFtZXMuQk9PS0lOR19ERVRBSUxTXS5leHBhbmRlZH0+XG4gICAgICAgICAgPGgxIHNsb3Q9XCJ0aXRsZVwiPkJvb2tpbmcgRGV0YWlsczwvaDE+XG4gICAgICAgICAgPGRpdiBzbG90PVwiY29udGVudHNcIiBjbGFzcz1cImNvbnRlbnRzXCI+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJjaGVja2JveFwiIGFyaWEtbGFiZWxsZWRieT1cImFsbG93X2Jvb2tpbmdcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cImFsbG93X2Jvb2tpbmdcIj5BbGxvdyBib29raW5nPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiYWxsb3dfYm9va2luZ1wiXG4gICAgICAgICAgICAgICAgICBiaW5kOmNoZWNrZWQ9e190aGlzLmFsbG93X2Jvb2tpbmd9IC8+XG4gICAgICAgICAgICAgICAgQWxsb3cgYm9va2luZ3MgdG8gYmUgbWFkZVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJjaGVja2JveFwiIGFyaWEtbGFiZWxsZWRieT1cInNjcmVlbl9ib29raW5nc1wiPlxuICAgICAgICAgICAgICA8c3Ryb25nIGlkPVwic2NyZWVuX2Jvb2tpbmdzXCI+XG4gICAgICAgICAgICAgICAgU2NoZWR1bGluZyBvbiB0aGlzIGNhbGVuZGFyIHJlcXVpcmVzIG1hbnVhbCBjb25maXJtYXRpb25cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwic2NyZWVuX2Jvb2tpbmdzXCJcbiAgICAgICAgICAgICAgICAgIGJpbmQ6Y2hlY2tlZD17X3RoaXMuc2NyZWVuX2Jvb2tpbmdzfSAvPlxuICAgICAgICAgICAgICAgIExldCB0aGUgbWVldGluZyBob3N0IHNjcmVlbiBib29raW5ncyBiZWZvcmUgdGhleSdyZSBtYWRlIG9mZmljaWFsXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgPHN0cm9uZz5QYXJ0aWNpcGFudCBUaHJlc2hvbGQgLyBQYXJ0aWFsIGJvb2thYmxlIHJhdGlvPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAgIG1heD17MX1cbiAgICAgICAgICAgICAgICBzdGVwPXswLjAxfVxuICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e190aGlzLnBhcnRpYWxfYm9va2FibGVfcmF0aW99IC8+XG4gICAgICAgICAgICAgIHtNYXRoLmZsb29yKF90aGlzLnBhcnRpYWxfYm9va2FibGVfcmF0aW8gKiAxMDApfSVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJyYWRpb2dyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwicmVjdXJyZW5jZVwiPlxuICAgICAgICAgICAgICA8c3Ryb25nIGlkPVwicmVjdXJyZW5jZVwiPlxuICAgICAgICAgICAgICAgIEFsbG93LCBEaXNhbGxvdywgb3IgTWFuZGF0ZSBldmVudHMgdG8gcmVwZWF0P1xuICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZWN1cnJlbmNlXCJcbiAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e190aGlzLnJlY3VycmVuY2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cIm5vbmVcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPkRvbid0IFJlcGVhdCBFdmVudHM8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicmVjdXJyZW5jZVwiXG4gICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXtfdGhpcy5yZWN1cnJlbmNlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJvcHRpb25hbFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+VXNlcnMgTWF5IFJlcGVhdCBFdmVudHM8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicmVjdXJyZW5jZVwiXG4gICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXtfdGhpcy5yZWN1cnJlbmNlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJyZXF1aXJlZFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+RXZlbnRzIEFsd2F5cyBSZXBlYXQ8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgPHN0cm9uZz5DYXBhY2l0eTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj17MX0gYmluZDp2YWx1ZT17X3RoaXMuY2FwYWNpdHl9IC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiByb2xlPVwiY2hlY2tib3hcIiBhcmlhLWxhYmVsbGVkYnk9XCJhbGxvd19ib29raW5nXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+VG9wIG9mIHRoZSBIb3VyIEV2ZW50czwvc3Ryb25nPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm1hbmRhdGVfdG9wX29mX2hvdXJcIlxuICAgICAgICAgICAgICAgICAgYmluZDpjaGVja2VkPXtfdGhpcy5tYW5kYXRlX3RvcF9vZl9ob3VyfSAvPlxuICAgICAgICAgICAgICAgIE9ubHkgYWxsb3cgZXZlbnRzIHRvIGJlIGJvb2tlZCBhdCB0aGUgVG9wIG9mIHRoZSBIb3VyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsjaWYgX3RoaXMucmVjdXJyZW5jZSA9PT0gXCJyZXF1aXJlZFwiIHx8IF90aGlzLnJlY3VycmVuY2UgPT09IFwib3B0aW9uYWxcIn1cbiAgICAgICAgICAgICAgPGRpdiByb2xlPVwicmFkaW9ncm91cFwiIGFyaWEtbGFiZWxsZWRieT1cInJlY3VycmVuY2VfY2FkZW5jZVwiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmcgaWQ9XCJyZWN1cnJlbmNlX2NhZGVuY2VcIj5cbiAgICAgICAgICAgICAgICAgIEhvdyBvZnRlbiBzaG91bGQgZXZlbnRzIHJlcGVhdHsjaWYgX3RoaXMucmVjdXJyZW5jZSA9PT0gXCJvcHRpb25hbFwifSxcbiAgICAgICAgICAgICAgICAgICAgaWYgYSB1c2VyIGNob29zZXMgdG8gZG8gc297L2lmfT9cbiAgICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cInJlY3VycmVuY2VfY2FkZW5jZVwiXG4gICAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e190aGlzLnJlY3VycmVuY2VfY2FkZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJkYWlseVwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5EYWlseTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwicmVjdXJyZW5jZV9jYWRlbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgYmluZDpncm91cD17X3RoaXMucmVjdXJyZW5jZV9jYWRlbmNlfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIndlZWtkYXlzXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkRhaWx5LCBvbmx5IG9uIHdlZWtkYXlzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZWN1cnJlbmNlX2NhZGVuY2VcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXtfdGhpcy5yZWN1cnJlbmNlX2NhZGVuY2V9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVwid2Vla2x5XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPldlZWtseTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwicmVjdXJyZW5jZV9jYWRlbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgYmluZDpncm91cD17X3RoaXMucmVjdXJyZW5jZV9jYWRlbmNlfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cImJpd2Vla2x5XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkJpd2Vla2x5PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZWN1cnJlbmNlX2NhZGVuY2VcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOmdyb3VwPXtfdGhpcy5yZWN1cnJlbmNlX2NhZGVuY2V9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVwibW9udGhseVwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5Nb250aGx5PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9vdGVyIHNsb3Q9XCJmb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gb246Y2xpY2s9e3NhdmVQcm9wZXJ0aWVzfT5TYXZlIEVkaXRvciBPcHRpb25zPC9idXR0b24+XG4gICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIDwvbnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb24+XG4gICAgICB7L2lmfVxuXG4gICAgICB7I2lmIF90aGlzLnNlY3Rpb25zW1NlY3Rpb25OYW1lcy5DVVNUT01fRklFTERTXS5lZGl0YWJsZX1cbiAgICAgICAgPG55bGFzLXNjaGVkdWxlLWVkaXRvci1zZWN0aW9uXG4gICAgICAgICAgc2VjdGlvbl90aXRsZT17U2VjdGlvbk5hbWVzLkNVU1RPTV9GSUVMRFN9XG4gICAgICAgICAgZXhwYW5kZWQ9e190aGlzLnNlY3Rpb25zW1NlY3Rpb25OYW1lcy5DVVNUT01fRklFTERTXS5leHBhbmRlZH0+XG4gICAgICAgICAgPGgxIHNsb3Q9XCJ0aXRsZVwiPkN1c3RvbSBGaWVsZHM8L2gxPlxuICAgICAgICAgIDxwIHNsb3Q9XCJpbnRyb1wiIGNsYXNzPVwiaW50cm9cIj5cbiAgICAgICAgICAgIFVzZXJzIHdpbGwgZmlsbCBvdXQgdGhlc2UgZmllbGRzIHdoZW4gYm9va2luZyBhbiBldmVudCB3aXRoIHlvdXJcbiAgICAgICAgICAgIHRlYW0uIEJ5IGRlZmF1bHQsIHRoZXknbGwgYmUgYXNrZWQgZm9yIHRoZWlyIG5hbWUgYW5kIGVtYWlsIGFkZHJlc3MuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgc2xvdD1cImNvbnRlbnRzXCIgY2xhc3M9XCJjb250ZW50c1wiPlxuICAgICAgICAgICAgeyNpZiBfdGhpcy5jdXN0b21fZmllbGRzfVxuICAgICAgICAgICAgICA8dGFibGUgY2VsbHNwYWNpbmc9XCIwXCIgY2VsbHBhZGRpbmc9XCIwXCI+XG4gICAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgICAgPHRoIC8+XG4gICAgICAgICAgICAgICAgICA8dGg+VGl0bGUgYW5kIGRlc2NyaXB0aW9uPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD5UeXBlPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD5SZXF1aXJlZDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGggLz5cbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgIHsjZWFjaCBfdGhpcy5jdXN0b21fZmllbGRzIGFzIGZpZWxkLCBpIChmaWVsZC5pZCl9XG4gICAgICAgICAgICAgICAgICAgIDx0clxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOmRpc2FibGVkPXtjdXJyZW50bHlFZGl0ZWRGaWVsZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBZGRpbmdDdXN0b21GaWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczpkcmFnLWFjdGl2ZT17ZmllbGQuaWQgPT09IGRyYWdnZWRGaWVsZD8uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgb246bW91c2VlbnRlcj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdnZWRGaWVsZCAmJiBpICE9PSBkcmFnZ2VkRmllbGRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FwRHJhZ2dlZFdpdGhIb3ZlcmVkKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgdXNlOnN0b3JlUmVmPXt7IGlkOiBmaWVsZC5pZCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJjdGFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkcmFnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246bW91c2Vkb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDdXN0b21GaWVsZERyYWcoZXZlbnQsIGZpZWxkLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Itb25seVwiPlJlb3JkZXIgY3VzdG9tIGZpZWxkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJhZ0ljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczptdWx0aS1saW5lPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPXtcInRpdGxlLWFuZC1kZXNjcmlwdGlvblwifT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntmaWVsZC50aXRsZSA/PyBcIuKAlFwifTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZmllbGQuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57ZmllbGQuZGVzY3JpcHRpb259PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInR5cGVcIj57ZmllbGQudHlwZSA/PyBcIuKAlFwifTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja21hcmtJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImVkaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRWRpdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBlZGl0Q3VzdG9tRmllbGQoZmllbGQpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFBlbmNpbEljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RWRpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgY3VycmVudGx5RWRpdGVkRmllbGQgPT09IGZpZWxkLmlkfVxuICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cImVkaXQtY3VzdG9tLWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5FZGl0IGZpZWxkPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiByZW1vdmVDdXN0b21GaWVsZChmaWVsZCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoSWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGVsZXRlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5UaXRsZSAqPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiVGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtlZGl0YWJsZUN1c3RvbUZpZWxkLnRpdGxlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PkRlc2NyaXB0aW9uPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtlZGl0YWJsZUN1c3RvbUZpZWxkLmRlc2NyaXB0aW9ufSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzZWxlY3RcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+VHlwZSAqPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2VkaXRhYmxlQ3VzdG9tRmllbGQudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIklucHV0IFR5cGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHRcIj5UZXh0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjaGVja2JveFwiPkNoZWNrYm94PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVxdWlyZWQgZmllbGQ/XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDpjaGVja2VkPXtlZGl0YWJsZUN1c3RvbUZpZWxkLnJlcXVpcmVkfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+UmVxdWlyZWQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhbmNlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlFZGl0ZWRGaWVsZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlQ3VzdG9tRmllbGQgPSB7IC4uLmVtcHR5Q3VzdG9tRmllbGQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2FuY2VsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzYXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtlZGl0YWJsZUN1c3RvbUZpZWxkLnRpdGxlPy5sZW5ndGggPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgfHwgIWVkaXRhYmxlQ3VzdG9tRmllbGQudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseUVkaXRlZEZpZWxkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSB7IC4uLmVkaXRhYmxlQ3VzdG9tRmllbGQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGVDdXN0b21GaWVsZCA9IHsgLi4uZW1wdHlDdXN0b21GaWVsZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5TYXZlIGNoYW5nZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZGQtY3VzdG9tLWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgeyNpZiAhaXNBZGRpbmdDdXN0b21GaWVsZH1cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZCBhIGN1c3RvbSBmaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoaXNBZGRpbmdDdXN0b21GaWVsZCA9IHRydWUpfT5cbiAgICAgICAgICAgICAgICAgICAgPFBsdXNJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkFkZCBhIGN1c3RvbSBmaWVsZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0LWN1c3RvbS1maWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgzPkFkZCBhIGN1c3RvbSBmaWVsZDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlRpdGxlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiVGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdDdXN0b21GaWVsZC50aXRsZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5EZXNjcmlwdGlvbjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17bmV3Q3VzdG9tRmllbGQuZGVzY3JpcHRpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInNlbGVjdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5UeXBlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e25ld0N1c3RvbUZpZWxkLnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbnB1dCBUeXBlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0XCI+VGV4dDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY2hlY2tib3hcIj5DaGVja2JveDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJlcXVpcmVkIEZpZWxkP1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6Y2hlY2tlZD17bmV3Q3VzdG9tRmllbGQucmVxdWlyZWR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5SZXF1aXJlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2FuY2VsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0N1c3RvbUZpZWxkID0geyAuLi5lbXB0eUN1c3RvbUZpZWxkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWRkaW5nQ3VzdG9tRmllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2FuY2VsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2F2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bmV3Q3VzdG9tRmllbGQudGl0bGU/Lmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAhbmV3Q3VzdG9tRmllbGQudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBhZGROZXdGaWVsZCgpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFkZCBmaWVsZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvb3RlciBzbG90PVwiZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIG9uOmNsaWNrPXtzYXZlUHJvcGVydGllc30+U2F2ZSBFZGl0b3IgT3B0aW9uczwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICA8L255bGFzLXNjaGVkdWxlLWVkaXRvci1zZWN0aW9uPlxuICAgICAgey9pZn1cblxuICAgICAgeyNpZiBfdGhpcy5zZWN0aW9uc1tTZWN0aW9uTmFtZXMuTk9USUZJQ0FUSU9OX0RFVEFJTFNdLmVkaXRhYmxlfVxuICAgICAgICA8bnlsYXMtc2NoZWR1bGUtZWRpdG9yLXNlY3Rpb25cbiAgICAgICAgICBzZWN0aW9uX3RpdGxlPXtTZWN0aW9uTmFtZXMuTk9USUZJQ0FUSU9OX0RFVEFJTFN9XG4gICAgICAgICAgZXhwYW5kZWQ9e190aGlzLnNlY3Rpb25zW1NlY3Rpb25OYW1lcy5OT1RJRklDQVRJT05fREVUQUlMU10uZXhwYW5kZWR9PlxuICAgICAgICAgIDxoMSBzbG90PVwidGl0bGVcIj5Ob3RpZmljYXRpb24gRGV0YWlsczwvaDE+XG4gICAgICAgICAgPGRpdiBzbG90PVwiY29udGVudHNcIiBjbGFzcz1cImNvbnRlbnRzXCI+XG4gICAgICAgICAgICA8ZGl2IHJvbGU9XCJyYWRpb2dyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwibm90aWZpY2F0aW9uX21vZGVcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZyBpZD1cIm5vdGlmaWNhdGlvbl9tb2RlXCJcbiAgICAgICAgICAgICAgICA+SG93IHdvdWxkIHlvdSBsaWtlIHRvIG5vdGlmeSB0aGUgY3VzdG9tZXIgb24gZXZlbnQgY3JlYXRpb24/PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwibm90aWZpY2F0aW9uX21vZGVcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e05vdGlmaWNhdGlvbk1vZGUuU0hPV19NRVNTQUdFfVxuICAgICAgICAgICAgICAgICAgYmluZDpncm91cD17X3RoaXMubm90aWZpY2F0aW9uX21vZGV9IC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+U2hvdyBNZXNzYWdlIG9uIFVJPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cIm5vdGlmaWNhdGlvbl9tb2RlXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtOb3RpZmljYXRpb25Nb2RlLlNFTkRfTUVTU0FHRX1cbiAgICAgICAgICAgICAgICAgIGJpbmQ6Z3JvdXA9e190aGlzLm5vdGlmaWNhdGlvbl9tb2RlfSAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPlNlbmQgbWVzc2FnZSB2aWEgZW1haWw8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgPHN0cm9uZz5Ob3RpZmljYXRpb24gbWVzc2FnZTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBiaW5kOnZhbHVlPXtfdGhpcy5ub3RpZmljYXRpb25fbWVzc2FnZX0gLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgIDxzdHJvbmc+Tm90aWZpY2F0aW9uIFN1YmplY3Q8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYmluZDp2YWx1ZT17X3RoaXMubm90aWZpY2F0aW9uX3N1YmplY3R9IC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb290ZXIgc2xvdD1cImZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbjpjbGljaz17c2F2ZVByb3BlcnRpZXN9PlNhdmUgRWRpdG9yIE9wdGlvbnM8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgPC9ueWxhcy1zY2hlZHVsZS1lZGl0b3Itc2VjdGlvbj5cbiAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG4gICAgeyNpZiBzaG93UHJldmlld31cbiAgICAgIDxzcGFuIGNsYXNzPVwiZ3V0dGVyXCIgb246bW91c2Vkb3duPXsoKSA9PiAoYWRqdXN0aW5nUHJldmlld1BhbmUgPSB0cnVlKX0gLz5cbiAgICAgIDxhc2lkZSBpZD1cInByZXZpZXdcIj5cbiAgICAgICAgPGgxPlByZXZpZXc8L2gxPlxuICAgICAgICA8bnlsYXMtYXZhaWxhYmlsaXR5XG4gICAgICAgICAgey4uLl90aGlzfVxuICAgICAgICAgIHsuLi5fdGhpcy5ldmVudHNbMF19XG4gICAgICAgICAgY2FwYWNpdHk9e251bGx9XG4gICAgICAgICAgb246dGltZVNsb3RDaG9zZW49eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgc2xvdHNfdG9fYm9vayA9IGV2ZW50LmRldGFpbC50aW1lU2xvdHM7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBjYWxlbmRhcnM9eyFfdGhpcy5ldmVudHNbMF0/LnBhcnRpY2lwYW50RW1haWxzXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBhdmFpbGFiaWxpdHk6IFwiYnVzeVwiLFxuICAgICAgICAgICAgICAgICAgdGltZXNsb3RzOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdfVxuICAgICAgICAgIHtpZH0gLz5cbiAgICAgICAgPG55bGFzLWJvb2tpbmdcbiAgICAgICAgICB7c2xvdHNfdG9fYm9va31cbiAgICAgICAgICB7Li4uX3RoaXN9XG4gICAgICAgICAgY2FwYWNpdHk9e251bGx9XG4gICAgICAgICAgY2FsZW5kYXJzPXshX3RoaXMuZXZlbnRzWzBdPy5wYXJ0aWNpcGFudEVtYWlsc1xuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5OiBcImJ1c3lcIixcbiAgICAgICAgICAgICAgICAgIHRpbWVzbG90czogW10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXX1cbiAgICAgICAgICB7aWR9IC8+XG4gICAgICA8L2FzaWRlPlxuICAgIHsvaWZ9XG5cbiAgICB7I2lmIHRhYmxlcm93UmVjdCAmJiB0YWJsZWNlbGxSZWN0Lmxlbmd0aH1cbiAgICAgIDxueWxhcy1zY2hlZHVsZS1lZGl0b3ItZHJhZy1pdGVtLXBsYWNlaG9sZGVyXG4gICAgICAgIGxlZnQ9e2RyYWdQbGFjZWhvbGRlci5sZWZ0fVxuICAgICAgICB0b3A9e2RyYWdQbGFjZWhvbGRlci50b3B9XG4gICAgICAgIGhlaWdodD17dGFibGVyb3dSZWN0LmhlaWdodH1cbiAgICAgICAgd2lkdGg9e3RhYmxlcm93UmVjdC53aWR0aH1cbiAgICAgICAgdmlzaWJsZT17ISFkcmFnZ2VkRmllbGR9PlxuICAgICAgICB7I2VhY2ggY3VzdG9tRmllbGRLZXlzIGFzIGtleSwgaX1cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImRyYWctcHJldmlldy1jZWxsXCJcbiAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IHt0YWJsZWNlbGxSZWN0W2ldLndpZHRofXB4OyBoZWlnaHQ6IHt0YWJsZWNlbGxSZWN0W2ldXG4gICAgICAgICAgICAgIC5oZWlnaHR9cHg7XCI+XG4gICAgICAgICAgICB7KGRyYWdnZWRGaWVsZCAmJiBkcmFnZ2VkRmllbGRba2V5XSkgfHwgXCLigJRcIn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgey9lYWNofVxuICAgICAgPC9ueWxhcy1zY2hlZHVsZS1lZGl0b3ItZHJhZy1pdGVtLXBsYWNlaG9sZGVyPlxuICAgIHsvaWZ9XG4gIDwvbWFpbj5cbnsvaWZ9XG4iXSwibmFtZXMiOlsidGhpcyIsImluaXRpYWxpemUiLCJfX3NwcmVhZFByb3BzIiwiX19zcHJlYWRWYWx1ZXMiLCJJQU5BWm9uZSIsIkRhdGVUaW1lIiwiaW50ZXJ2YWwiLCJudW1iZXIiLCJ3ZWVrIiwicmdiIiwibGluZWFyIiwiY29sb3JSZ2IiLCJ2YWx1ZSIsImRhdGUiLCJjb25zdGFudCIsImJpc2VjdCIsImludGVycG9sYXRlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImlkZW50aXR5IiwibG9jYWxlIiwiZm9ybWF0TG9jYWxlIiwiZGF5IiwidGltZU1vbmRheSIsInRpbWVEYXkiLCJ0aW1lWWVhciIsInRpbWVTdW5kYXkiLCJ0aW1lVGh1cnNkYXkiLCJ0aW1lTW9udGgiLCJ0aW1lV2VlayIsInRpbWVIb3VyIiwidGltZU1pbnV0ZSIsInRpbWVTZWNvbmQiLCJzY2FsZVRpbWUiLCJ0aW1lem9uZXMiXSwibWFwcGluZ3MiOiJ3bkJBQWEsSUFBaUIsT0FBTyxlQUFlLE9BQU8sS0FDekQsT0FBTyxnQkFFVCxPQUFPLGVBQWUsT0FBUyxDQUFDLEtBQWlCLElBQVMsSUFDcEQsZ0JBQWUsSUFBSSxTQUdoQixJQUFlLEVBQU0sR0FBRyxJQ1BqQyxhQUFnQixFQUVoQixZQUFnQixFQUFLLEVBQUssQ0FFdEIsU0FBVyxLQUFLLEdBQ1osRUFBSSxHQUFLLEVBQUksR0FDakIsTUFBTyxHQVVYLFlBQWEsRUFBSSxDQUNiLE1BQU8sS0FFWCxhQUF3QixDQUNwQixNQUFPLFFBQU8sT0FBTyxNQUV6QixZQUFpQixFQUFLLENBQ2xCLEVBQUksUUFBUSxJQUVoQixZQUFxQixFQUFPLENBQ3hCLE1BQU8sT0FBTyxJQUFVLFdBRTVCLFlBQXdCLEVBQUcsRUFBRyxDQUMxQixNQUFPLElBQUssRUFBSSxHQUFLLEVBQUksSUFBTSxHQUFPLEdBQUssTUFBTyxJQUFNLFVBQWEsTUFBTyxJQUFN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RUFBSSxTQUFTLEVBQUUsR0FBSSxJQUFLLElBQU0sRUFBSSxHQUFLLEdBQ3JGLElBQU0sRUFBSSxHQUFJLElBQUssR0FBSyxFQUFJLEdBQVEsR0FBSyxFQUFJLElBQVEsR0FBSyxFQUFJLEdBQVEsRUFBSSxJQUFTLEdBQUksS0FBUSxFQUFNLEVBQUksR0FBTSxHQUMvRyxJQUFNLEVBQUksR0FBSyxHQUFLLEdBQUssSUFBTSxHQUFLLEdBQUssSUFBTSxHQUFLLEVBQUksSUFBTyxHQUFJLEtBQVEsS0FDM0UsSUFBTSxFQUFJLEdBQU0sR0FBSyxHQUFLLEdBQVEsR0FBSyxFQUFJLElBQVEsR0FBSyxFQUFJLEdBQVEsR0FBSyxFQUFJLElBQVEsR0FBSyxFQUFJLEdBQVEsRUFBSSxJQUFVLElBQUksS0FBUSxFQUFNLEVBQUksSUFBUSxLQUNsSixNQUNDLEdBQUksR0FBYSxLQUFLLElBQVcsR0FBSSxJQUFJLEVBQUUsR0FBSSxFQUFFLEdBQUksRUFBRSxHQUFJLEdBQzNELEdBQUksR0FBYSxLQUFLLElBQVcsR0FBSSxJQUFJLEVBQUUsR0FBSyxJQUFNLElBQUssRUFBRSxHQUFLLElBQU0sSUFBSyxFQUFFLEdBQUssSUFBTSxJQUFLLEdBQy9GLEdBQUksR0FBYyxLQUFLLElBQVcsR0FBSyxFQUFFLEdBQUksRUFBRSxHQUFJLEVBQUUsR0FBSSxFQUFFLElBQzNELEdBQUksR0FBYyxLQUFLLElBQVcsR0FBSyxFQUFFLEdBQUssSUFBTSxJQUFLLEVBQUUsR0FBSyxJQUFNLElBQUssRUFBRSxHQUFLLElBQU0sSUFBSyxFQUFFLElBQy9GLEdBQUksR0FBYSxLQUFLLElBQVcsR0FBSyxFQUFFLEdBQUksRUFBRSxHQUFLLElBQUssRUFBRSxHQUFLLElBQUssR0FDcEUsR0FBSSxHQUFjLEtBQUssSUFBVyxHQUFLLEVBQUUsR0FBSSxFQUFFLEdBQUssSUFBSyxFQUFFLEdBQUssSUFBSyxFQUFFLElBQ3hFLEdBQU0sZUFBZSxHQUFVLEdBQUssR0FBTSxJQUMxQyxJQUFXLGNBQWdCLEdBQUksSUFBSSxJQUFLLElBQUssSUFB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
